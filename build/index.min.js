/**
   * @license
   * author: BAI TIANLIANG
   * ghostban.js v3.0.0-alpha.153
   * Released under the MIT license.
   */
var ghostban=function(t){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},n(t,e)};function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var o=function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},o.apply(this,arguments)};function i(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function u(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))}function s(t,e){var n=e.length;if(n>=2){var r=e.slice(0,n/2),o=e.slice(n/2,n);return function(t,e,n){var r=[],o=e.length,i=n.length;for(;o>0&&i>0;)t(e[0],n[0])<=0?(r.push(e.shift()),o--):(r.push(n.shift()),i--);o>0?r.push.apply(r,u([],a(e),!1)):r.push.apply(r,u([],a(n),!1));return r}(t,s(t,r),s(t,o))}return e.slice()}"function"==typeof SuppressedError&&SuppressedError;var l=function(){function t(t,e){this.children=[],this.config=t,this.model=e}return t.prototype.isRoot=function(){return void 0===this.parent},t.prototype.hasChildren=function(){return this.children.length>0},t.prototype.addChild=function(t){return c(this,t)},t.prototype.addChildAtIndex=function(t,e){if(this.config.modelComparatorFn)throw new Error("Cannot add child at index when using a comparator function.");var n=this.config.childrenPropertyName||"children";this.model[n]||(this.model[n]=[]);var r=this.model[n];if(e<0||e>this.children.length)throw new Error("Invalid index.");return t.parent=this,r.splice(e,0,t.model),this.children.splice(e,0,t),t},t.prototype.getPath=function(){for(var t=[],e=this;e;)t.unshift(e),e=e.parent;return t},t.prototype.getIndex=function(){return this.isRoot()?0:this.parent.children.indexOf(this)},t.prototype.setIndex=function(t){if(this.config.modelComparatorFn)throw new Error("Cannot set node index when using a comparator function.");if(this.isRoot()){if(0===t)return this;throw new Error("Invalid index.")}if(!this.parent)throw new Error("Node has no parent.");var e=this.parent.children,n=this.parent.model[this.config.childrenPropertyName||"children"],r=e.indexOf(this);if(t<0||t>=e.length)throw new Error("Invalid index.");return e.splice(t,0,e.splice(r,1)[0]),n.splice(t,0,n.splice(r,1)[0]),this},t.prototype.walk=function(t){var e=function(n){var r,o;if(!1===t(n))return!1;try{for(var a=i(n.children),u=a.next();!u.done;u=a.next()){var s=u.value;if(!1===e(s))return!1}}catch(t){r={error:t}}finally{try{u&&!u.done&&(o=a.return)&&o.call(a)}finally{if(r)throw r.error}}return!0};e(this)},t.prototype.first=function(t){var e;return this.walk((function(n){if(t(n))return e=n,!1})),e},t.prototype.all=function(t){var e=[];return this.walk((function(n){t(n)&&e.push(n)})),e},t.prototype.drop=function(){if(this.parent){var t=this.parent.children.indexOf(this);if(t>=0){this.parent.children.splice(t,1);var e=this.config.childrenPropertyName||"children";this.parent.model[e].splice(t,1)}this.parent=void 0}return this},t}();function c(t,e){var n=t.config.childrenPropertyName||"children";t.model[n]||(t.model[n]=[]);var r=t.model[n];if(e.parent=t,t.config.modelComparatorFn){var o=function(t,e,n){var r,o=e.length;for(r=0;r<o&&!(t(e[r],n)>0);r++);return r}(t.config.modelComparatorFn,r,e.model);r.splice(o,0,e.model),t.children.splice(o,0,e)}else r.push(e.model),t.children.push(e);return e}var f=function(){function t(t){void 0===t&&(t={}),this.config={childrenPropertyName:t.childrenPropertyName||"children",modelComparatorFn:t.modelComparatorFn}}return t.prototype.parse=function(t){var e,n;if("object"!=typeof t||null===t)throw new TypeError("Model must be of type object.");var r=new l(this.config,t),o=this.config.childrenPropertyName,a=t[o];if(Array.isArray(a)){this.config.modelComparatorFn&&(t[o]=s(this.config.modelComparatorFn,a));try{for(var u=i(t[o]),f=u.next();!f.done;f=u.next()){var h=f.value;c(r,this.parse(h))}}catch(t){e={error:t}}finally{try{f&&!f.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}}return r},t}(),h="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},p={exports:{}};!function(t,n){(function(){var r,o="Expected a function",i="__lodash_hash_undefined__",a="__lodash_placeholder__",u=16,s=32,l=64,c=128,f=256,p=1/0,d=9007199254740991,v=NaN,g=4294967295,m=[["ary",c],["bind",1],["bindKey",2],["curry",8],["curryRight",u],["flip",512],["partial",s],["partialRight",l],["rearg",f]],y="[object Arguments]",_="[object Array]",b="[object Boolean]",w="[object Date]",C="[object Error]",P="[object Function]",k="[object GeneratorFunction]",T="[object Map]",x="[object Number]",A="[object Object]",M="[object Promise]",S="[object RegExp]",N="[object Set]",R="[object String]",D="[object Symbol]",O="[object WeakMap]",B="[object ArrayBuffer]",E="[object DataView]",W="[object Float32Array]",I="[object Float64Array]",L="[object Int8Array]",j="[object Int16Array]",F="[object Int32Array]",z="[object Uint8Array]",K="[object Uint8ClampedArray]",G="[object Uint16Array]",U="[object Uint32Array]",V=/\b__p \+= '';/g,H=/\b(__p \+=) '' \+/g,q=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Y=/&(?:amp|lt|gt|quot|#39);/g,$=/[&<>"']/g,Z=RegExp(Y.source),J=RegExp($.source),X=/<%-([\s\S]+?)%>/g,Q=/<%([\s\S]+?)%>/g,tt=/<%=([\s\S]+?)%>/g,et=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nt=/^\w*$/,rt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ot=/[\\^$.*+?()[\]{}|]/g,it=RegExp(ot.source),at=/^\s+/,ut=/\s/,st=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,lt=/\{\n\/\* \[wrapped with (.+)\] \*/,ct=/,? & /,ft=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ht=/[()=,{}\[\]\/\s]/,pt=/\\(\\)?/g,dt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,vt=/\w*$/,gt=/^[-+]0x[0-9a-f]+$/i,mt=/^0b[01]+$/i,yt=/^\[object .+?Constructor\]$/,_t=/^0o[0-7]+$/i,bt=/^(?:0|[1-9]\d*)$/,wt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ct=/($^)/,Pt=/['\n\r\u2028\u2029\\]/g,kt="\\ud800-\\udfff",Tt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",xt="\\u2700-\\u27bf",At="a-z\\xdf-\\xf6\\xf8-\\xff",Mt="A-Z\\xc0-\\xd6\\xd8-\\xde",St="\\ufe0e\\ufe0f",Nt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Rt="['’]",Dt="["+kt+"]",Ot="["+Nt+"]",Bt="["+Tt+"]",Et="\\d+",Wt="["+xt+"]",It="["+At+"]",Lt="[^"+kt+Nt+Et+xt+At+Mt+"]",jt="\\ud83c[\\udffb-\\udfff]",Ft="[^"+kt+"]",zt="(?:\\ud83c[\\udde6-\\uddff]){2}",Kt="[\\ud800-\\udbff][\\udc00-\\udfff]",Gt="["+Mt+"]",Ut="\\u200d",Vt="(?:"+It+"|"+Lt+")",Ht="(?:"+Gt+"|"+Lt+")",qt="(?:['’](?:d|ll|m|re|s|t|ve))?",Yt="(?:['’](?:D|LL|M|RE|S|T|VE))?",$t="(?:"+Bt+"|"+jt+")"+"?",Zt="["+St+"]?",Jt=Zt+$t+("(?:"+Ut+"(?:"+[Ft,zt,Kt].join("|")+")"+Zt+$t+")*"),Xt="(?:"+[Wt,zt,Kt].join("|")+")"+Jt,Qt="(?:"+[Ft+Bt+"?",Bt,zt,Kt,Dt].join("|")+")",te=RegExp(Rt,"g"),ee=RegExp(Bt,"g"),ne=RegExp(jt+"(?="+jt+")|"+Qt+Jt,"g"),re=RegExp([Gt+"?"+It+"+"+qt+"(?="+[Ot,Gt,"$"].join("|")+")",Ht+"+"+Yt+"(?="+[Ot,Gt+Vt,"$"].join("|")+")",Gt+"?"+Vt+"+"+qt,Gt+"+"+Yt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Et,Xt].join("|"),"g"),oe=RegExp("["+Ut+kt+Tt+St+"]"),ie=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ae=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ue=-1,se={};se[W]=se[I]=se[L]=se[j]=se[F]=se[z]=se[K]=se[G]=se[U]=!0,se[y]=se[_]=se[B]=se[b]=se[E]=se[w]=se[C]=se[P]=se[T]=se[x]=se[A]=se[S]=se[N]=se[R]=se[O]=!1;var le={};le[y]=le[_]=le[B]=le[E]=le[b]=le[w]=le[W]=le[I]=le[L]=le[j]=le[F]=le[T]=le[x]=le[A]=le[S]=le[N]=le[R]=le[D]=le[z]=le[K]=le[G]=le[U]=!0,le[C]=le[P]=le[O]=!1;var ce={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},fe=parseFloat,he=parseInt,pe="object"==e(h)&&h&&h.Object===Object&&h,de="object"==("undefined"==typeof self?"undefined":e(self))&&self&&self.Object===Object&&self,ve=pe||de||Function("return this")(),ge=n&&!n.nodeType&&n,me=ge&&t&&!t.nodeType&&t,ye=me&&me.exports===ge,_e=ye&&pe.process,be=function(){try{var t=me&&me.require&&me.require("util").types;return t||_e&&_e.binding&&_e.binding("util")}catch(t){}}(),we=be&&be.isArrayBuffer,Ce=be&&be.isDate,Pe=be&&be.isMap,ke=be&&be.isRegExp,Te=be&&be.isSet,xe=be&&be.isTypedArray;function Ae(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Me(t,e,n,r){for(var o=-1,i=null==t?0:t.length;++o<i;){var a=t[o];e(r,a,n(a),t)}return r}function Se(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function Ne(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Re(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function De(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i}function Oe(t,e){return!!(null==t?0:t.length)&&Ge(t,e,0)>-1}function Be(t,e,n){for(var r=-1,o=null==t?0:t.length;++r<o;)if(n(e,t[r]))return!0;return!1}function Ee(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}function We(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}function Ie(t,e,n,r){var o=-1,i=null==t?0:t.length;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}function Le(t,e,n,r){var o=null==t?0:t.length;for(r&&o&&(n=t[--o]);o--;)n=e(n,t[o],o,t);return n}function je(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Fe=qe("length");function ze(t,e,n){var r;return n(t,(function(t,n,o){if(e(t,n,o))return r=n,!1})),r}function Ke(t,e,n,r){for(var o=t.length,i=n+(r?1:-1);r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}function Ge(t,e,n){return e==e?function(t,e,n){var r=n-1,o=t.length;for(;++r<o;)if(t[r]===e)return r;return-1}(t,e,n):Ke(t,Ve,n)}function Ue(t,e,n,r){for(var o=n-1,i=t.length;++o<i;)if(r(t[o],e))return o;return-1}function Ve(t){return t!=t}function He(t,e){var n=null==t?0:t.length;return n?Ze(t,e)/n:v}function qe(t){return function(e){return null==e?r:e[t]}}function Ye(t){return function(e){return null==t?r:t[e]}}function $e(t,e,n,r,o){return o(t,(function(t,o,i){n=r?(r=!1,t):e(n,t,o,i)})),n}function Ze(t,e){for(var n,o=-1,i=t.length;++o<i;){var a=e(t[o]);a!==r&&(n=n===r?a:n+a)}return n}function Je(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function Xe(t){return t?t.slice(0,gn(t)+1).replace(at,""):t}function Qe(t){return function(e){return t(e)}}function tn(t,e){return Ee(e,(function(e){return t[e]}))}function en(t,e){return t.has(e)}function nn(t,e){for(var n=-1,r=t.length;++n<r&&Ge(e,t[n],0)>-1;);return n}function rn(t,e){for(var n=t.length;n--&&Ge(e,t[n],0)>-1;);return n}var on=Ye({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),an=Ye({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function un(t){return"\\"+ce[t]}function sn(t){return oe.test(t)}function ln(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function cn(t,e){return function(n){return t(e(n))}}function fn(t,e){for(var n=-1,r=t.length,o=0,i=[];++n<r;){var u=t[n];u!==e&&u!==a||(t[n]=a,i[o++]=n)}return i}function hn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function pn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function dn(t){return sn(t)?function(t){var e=ne.lastIndex=0;for(;ne.test(t);)++e;return e}(t):Fe(t)}function vn(t){return sn(t)?function(t){return t.match(ne)||[]}(t):function(t){return t.split("")}(t)}function gn(t){for(var e=t.length;e--&&ut.test(t.charAt(e)););return e}var mn=Ye({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var yn=function t(n){var h,ut=(n=null==n?ve:yn.defaults(ve.Object(),n,yn.pick(ve,ae))).Array,kt=n.Date,Tt=n.Error,xt=n.Function,At=n.Math,Mt=n.Object,St=n.RegExp,Nt=n.String,Rt=n.TypeError,Dt=ut.prototype,Ot=xt.prototype,Bt=Mt.prototype,Et=n["__core-js_shared__"],Wt=Ot.toString,It=Bt.hasOwnProperty,Lt=0,jt=(h=/[^.]+$/.exec(Et&&Et.keys&&Et.keys.IE_PROTO||""))?"Symbol(src)_1."+h:"",Ft=Bt.toString,zt=Wt.call(Mt),Kt=ve._,Gt=St("^"+Wt.call(It).replace(ot,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ut=ye?n.Buffer:r,Vt=n.Symbol,Ht=n.Uint8Array,qt=Ut?Ut.allocUnsafe:r,Yt=cn(Mt.getPrototypeOf,Mt),$t=Mt.create,Zt=Bt.propertyIsEnumerable,Jt=Dt.splice,Xt=Vt?Vt.isConcatSpreadable:r,Qt=Vt?Vt.iterator:r,ne=Vt?Vt.toStringTag:r,oe=function(){try{var t=di(Mt,"defineProperty");return t({},"",{}),t}catch(t){}}(),ce=n.clearTimeout!==ve.clearTimeout&&n.clearTimeout,pe=kt&&kt.now!==ve.Date.now&&kt.now,de=n.setTimeout!==ve.setTimeout&&n.setTimeout,ge=At.ceil,me=At.floor,_e=Mt.getOwnPropertySymbols,be=Ut?Ut.isBuffer:r,Fe=n.isFinite,Ye=Dt.join,_n=cn(Mt.keys,Mt),bn=At.max,wn=At.min,Cn=kt.now,Pn=n.parseInt,kn=At.random,Tn=Dt.reverse,xn=di(n,"DataView"),An=di(n,"Map"),Mn=di(n,"Promise"),Sn=di(n,"Set"),Nn=di(n,"WeakMap"),Rn=di(Mt,"create"),Dn=Nn&&new Nn,On={},Bn=Fi(xn),En=Fi(An),Wn=Fi(Mn),In=Fi(Sn),Ln=Fi(Nn),jn=Vt?Vt.prototype:r,Fn=jn?jn.valueOf:r,zn=jn?jn.toString:r;function Kn(t){if(ru(t)&&!Ha(t)&&!(t instanceof Hn)){if(t instanceof Vn)return t;if(It.call(t,"__wrapped__"))return zi(t)}return new Vn(t)}var Gn=function(){function t(){}return function(e){if(!nu(e))return{};if($t)return $t(e);t.prototype=e;var n=new t;return t.prototype=r,n}}();function Un(){}function Vn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=r}function Hn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function qn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Yn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function $n(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Zn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new $n;++e<n;)this.add(t[e])}function Jn(t){var e=this.__data__=new Yn(t);this.size=e.size}function Xn(t,e){var n=Ha(t),r=!n&&Va(t),o=!n&&!r&&Za(t),i=!n&&!r&&!o&&fu(t),a=n||r||o||i,u=a?Je(t.length,Nt):[],s=u.length;for(var l in t)!e&&!It.call(t,l)||a&&("length"==l||o&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||wi(l,s))||u.push(l);return u}function Qn(t){var e=t.length;return e?t[Zr(0,e-1)]:r}function tr(t,e){return Ii(Do(t),lr(e,0,t.length))}function er(t){return Ii(Do(t))}function nr(t,e,n){(n!==r&&!Ka(t[e],n)||n===r&&!(e in t))&&ur(t,e,n)}function rr(t,e,n){var o=t[e];It.call(t,e)&&Ka(o,n)&&(n!==r||e in t)||ur(t,e,n)}function or(t,e){for(var n=t.length;n--;)if(Ka(t[n][0],e))return n;return-1}function ir(t,e,n,r){return dr(t,(function(t,o,i){e(r,t,n(t),i)})),r}function ar(t,e){return t&&Oo(e,Ou(e),t)}function ur(t,e,n){"__proto__"==e&&oe?oe(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function sr(t,e){for(var n=-1,o=e.length,i=ut(o),a=null==t;++n<o;)i[n]=a?r:Mu(t,e[n]);return i}function lr(t,e,n){return t==t&&(n!==r&&(t=t<=n?t:n),e!==r&&(t=t>=e?t:e)),t}function cr(t,e,n,o,i,a){var u,s=1&e,l=2&e,c=4&e;if(n&&(u=i?n(t,o,i,a):n(t)),u!==r)return u;if(!nu(t))return t;var f=Ha(t);if(f){if(u=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&It.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!s)return Do(t,u)}else{var h=mi(t),p=h==P||h==k;if(Za(t))return xo(t,s);if(h==A||h==y||p&&!i){if(u=l||p?{}:_i(t),!s)return l?function(t,e){return Oo(t,gi(t),e)}(t,function(t,e){return t&&Oo(e,Bu(e),t)}(u,t)):function(t,e){return Oo(t,vi(t),e)}(t,ar(u,t))}else{if(!le[h])return i?t:{};u=function(t,e,n){var r=t.constructor;switch(e){case B:return Ao(t);case b:case w:return new r(+t);case E:return function(t,e){var n=e?Ao(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case W:case I:case L:case j:case F:case z:case K:case G:case U:return Mo(t,n);case T:return new r;case x:case R:return new r(t);case S:return function(t){var e=new t.constructor(t.source,vt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case N:return new r;case D:return o=t,Fn?Mt(Fn.call(o)):{}}var o}(t,h,s)}}a||(a=new Jn);var d=a.get(t);if(d)return d;a.set(t,u),su(t)?t.forEach((function(r){u.add(cr(r,e,n,r,t,a))})):ou(t)&&t.forEach((function(r,o){u.set(o,cr(r,e,n,o,t,a))}));var v=f?r:(c?l?ui:ai:l?Bu:Ou)(t);return Se(v||t,(function(r,o){v&&(r=t[o=r]),rr(u,o,cr(r,e,n,o,t,a))})),u}function fr(t,e,n){var o=n.length;if(null==t)return!o;for(t=Mt(t);o--;){var i=n[o],a=e[i],u=t[i];if(u===r&&!(i in t)||!a(u))return!1}return!0}function hr(t,e,n){if("function"!=typeof t)throw new Rt(o);return Oi((function(){t.apply(r,n)}),e)}function pr(t,e,n,r){var o=-1,i=Oe,a=!0,u=t.length,s=[],l=e.length;if(!u)return s;n&&(e=Ee(e,Qe(n))),r?(i=Be,a=!1):e.length>=200&&(i=en,a=!1,e=new Zn(e));t:for(;++o<u;){var c=t[o],f=null==n?c:n(c);if(c=r||0!==c?c:0,a&&f==f){for(var h=l;h--;)if(e[h]===f)continue t;s.push(c)}else i(e,f,r)||s.push(c)}return s}Kn.templateSettings={escape:X,evaluate:Q,interpolate:tt,variable:"",imports:{_:Kn}},Kn.prototype=Un.prototype,Kn.prototype.constructor=Kn,Vn.prototype=Gn(Un.prototype),Vn.prototype.constructor=Vn,Hn.prototype=Gn(Un.prototype),Hn.prototype.constructor=Hn,qn.prototype.clear=function(){this.__data__=Rn?Rn(null):{},this.size=0},qn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},qn.prototype.get=function(t){var e=this.__data__;if(Rn){var n=e[t];return n===i?r:n}return It.call(e,t)?e[t]:r},qn.prototype.has=function(t){var e=this.__data__;return Rn?e[t]!==r:It.call(e,t)},qn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Rn&&e===r?i:e,this},Yn.prototype.clear=function(){this.__data__=[],this.size=0},Yn.prototype.delete=function(t){var e=this.__data__,n=or(e,t);return!(n<0)&&(n==e.length-1?e.pop():Jt.call(e,n,1),--this.size,!0)},Yn.prototype.get=function(t){var e=this.__data__,n=or(e,t);return n<0?r:e[n][1]},Yn.prototype.has=function(t){return or(this.__data__,t)>-1},Yn.prototype.set=function(t,e){var n=this.__data__,r=or(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},$n.prototype.clear=function(){this.size=0,this.__data__={hash:new qn,map:new(An||Yn),string:new qn}},$n.prototype.delete=function(t){var e=hi(this,t).delete(t);return this.size-=e?1:0,e},$n.prototype.get=function(t){return hi(this,t).get(t)},$n.prototype.has=function(t){return hi(this,t).has(t)},$n.prototype.set=function(t,e){var n=hi(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Zn.prototype.add=Zn.prototype.push=function(t){return this.__data__.set(t,i),this},Zn.prototype.has=function(t){return this.__data__.has(t)},Jn.prototype.clear=function(){this.__data__=new Yn,this.size=0},Jn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Jn.prototype.get=function(t){return this.__data__.get(t)},Jn.prototype.has=function(t){return this.__data__.has(t)},Jn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Yn){var r=n.__data__;if(!An||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new $n(r)}return n.set(t,e),this.size=n.size,this};var dr=Wo(Cr),vr=Wo(Pr,!0);function gr(t,e){var n=!0;return dr(t,(function(t,r,o){return n=!!e(t,r,o)})),n}function mr(t,e,n){for(var o=-1,i=t.length;++o<i;){var a=t[o],u=e(a);if(null!=u&&(s===r?u==u&&!cu(u):n(u,s)))var s=u,l=a}return l}function yr(t,e){var n=[];return dr(t,(function(t,r,o){e(t,r,o)&&n.push(t)})),n}function _r(t,e,n,r,o){var i=-1,a=t.length;for(n||(n=bi),o||(o=[]);++i<a;){var u=t[i];e>0&&n(u)?e>1?_r(u,e-1,n,r,o):We(o,u):r||(o[o.length]=u)}return o}var br=Io(),wr=Io(!0);function Cr(t,e){return t&&br(t,e,Ou)}function Pr(t,e){return t&&wr(t,e,Ou)}function kr(t,e){return De(e,(function(e){return Qa(t[e])}))}function Tr(t,e){for(var n=0,o=(e=Co(e,t)).length;null!=t&&n<o;)t=t[ji(e[n++])];return n&&n==o?t:r}function xr(t,e,n){var r=e(t);return Ha(t)?r:We(r,n(t))}function Ar(t){return null==t?t===r?"[object Undefined]":"[object Null]":ne&&ne in Mt(t)?function(t){var e=It.call(t,ne),n=t[ne];try{t[ne]=r;var o=!0}catch(t){}var i=Ft.call(t);o&&(e?t[ne]=n:delete t[ne]);return i}(t):function(t){return Ft.call(t)}(t)}function Mr(t,e){return t>e}function Sr(t,e){return null!=t&&It.call(t,e)}function Nr(t,e){return null!=t&&e in Mt(t)}function Rr(t,e,n){for(var o=n?Be:Oe,i=t[0].length,a=t.length,u=a,s=ut(a),l=1/0,c=[];u--;){var f=t[u];u&&e&&(f=Ee(f,Qe(e))),l=wn(f.length,l),s[u]=!n&&(e||i>=120&&f.length>=120)?new Zn(u&&f):r}f=t[0];var h=-1,p=s[0];t:for(;++h<i&&c.length<l;){var d=f[h],v=e?e(d):d;if(d=n||0!==d?d:0,!(p?en(p,v):o(c,v,n))){for(u=a;--u;){var g=s[u];if(!(g?en(g,v):o(t[u],v,n)))continue t}p&&p.push(v),c.push(d)}}return c}function Dr(t,e,n){var o=null==(t=Ni(t,e=Co(e,t)))?t:t[ji(Xi(e))];return null==o?r:Ae(o,t,n)}function Or(t){return ru(t)&&Ar(t)==y}function Br(t,e,n,o,i){return t===e||(null==t||null==e||!ru(t)&&!ru(e)?t!=t&&e!=e:function(t,e,n,o,i,a){var u=Ha(t),s=Ha(e),l=u?_:mi(t),c=s?_:mi(e),f=(l=l==y?A:l)==A,h=(c=c==y?A:c)==A,p=l==c;if(p&&Za(t)){if(!Za(e))return!1;u=!0,f=!1}if(p&&!f)return a||(a=new Jn),u||fu(t)?oi(t,e,n,o,i,a):function(t,e,n,r,o,i,a){switch(n){case E:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case B:return!(t.byteLength!=e.byteLength||!i(new Ht(t),new Ht(e)));case b:case w:case x:return Ka(+t,+e);case C:return t.name==e.name&&t.message==e.message;case S:case R:return t==e+"";case T:var u=ln;case N:var s=1&r;if(u||(u=hn),t.size!=e.size&&!s)return!1;var l=a.get(t);if(l)return l==e;r|=2,a.set(t,e);var c=oi(u(t),u(e),r,o,i,a);return a.delete(t),c;case D:if(Fn)return Fn.call(t)==Fn.call(e)}return!1}(t,e,l,n,o,i,a);if(!(1&n)){var d=f&&It.call(t,"__wrapped__"),v=h&&It.call(e,"__wrapped__");if(d||v){var g=d?t.value():t,m=v?e.value():e;return a||(a=new Jn),i(g,m,n,o,a)}}if(!p)return!1;return a||(a=new Jn),function(t,e,n,o,i,a){var u=1&n,s=ai(t),l=s.length,c=ai(e),f=c.length;if(l!=f&&!u)return!1;var h=l;for(;h--;){var p=s[h];if(!(u?p in e:It.call(e,p)))return!1}var d=a.get(t),v=a.get(e);if(d&&v)return d==e&&v==t;var g=!0;a.set(t,e),a.set(e,t);var m=u;for(;++h<l;){var y=t[p=s[h]],_=e[p];if(o)var b=u?o(_,y,p,e,t,a):o(y,_,p,t,e,a);if(!(b===r?y===_||i(y,_,n,o,a):b)){g=!1;break}m||(m="constructor"==p)}if(g&&!m){var w=t.constructor,C=e.constructor;w==C||!("constructor"in t)||!("constructor"in e)||"function"==typeof w&&w instanceof w&&"function"==typeof C&&C instanceof C||(g=!1)}return a.delete(t),a.delete(e),g}(t,e,n,o,i,a)}(t,e,n,o,Br,i))}function Er(t,e,n,o){var i=n.length,a=i,u=!o;if(null==t)return!a;for(t=Mt(t);i--;){var s=n[i];if(u&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){var l=(s=n[i])[0],c=t[l],f=s[1];if(u&&s[2]){if(c===r&&!(l in t))return!1}else{var h=new Jn;if(o)var p=o(c,f,l,t,e,h);if(!(p===r?Br(f,c,3,o,h):p))return!1}}return!0}function Wr(t){return!(!nu(t)||(e=t,jt&&jt in e))&&(Qa(t)?Gt:yt).test(Fi(t));var e}function Ir(t){return"function"==typeof t?t:null==t?is:"object"==e(t)?Ha(t)?Gr(t[0],t[1]):Kr(t):ds(t)}function Lr(t){if(!xi(t))return _n(t);var e=[];for(var n in Mt(t))It.call(t,n)&&"constructor"!=n&&e.push(n);return e}function jr(t){if(!nu(t))return function(t){var e=[];if(null!=t)for(var n in Mt(t))e.push(n);return e}(t);var e=xi(t),n=[];for(var r in t)("constructor"!=r||!e&&It.call(t,r))&&n.push(r);return n}function Fr(t,e){return t<e}function zr(t,e){var n=-1,r=Ya(t)?ut(t.length):[];return dr(t,(function(t,o,i){r[++n]=e(t,o,i)})),r}function Kr(t){var e=pi(t);return 1==e.length&&e[0][2]?Mi(e[0][0],e[0][1]):function(n){return n===t||Er(n,t,e)}}function Gr(t,e){return Pi(t)&&Ai(e)?Mi(ji(t),e):function(n){var o=Mu(n,t);return o===r&&o===e?Su(n,t):Br(e,o,3)}}function Ur(t,e,n,o,i){t!==e&&br(e,(function(a,u){if(i||(i=new Jn),nu(a))!function(t,e,n,o,i,a,u){var s=Ri(t,n),l=Ri(e,n),c=u.get(l);if(c)return void nr(t,n,c);var f=a?a(s,l,n+"",t,e,u):r,h=f===r;if(h){var p=Ha(l),d=!p&&Za(l),v=!p&&!d&&fu(l);f=l,p||d||v?Ha(s)?f=s:$a(s)?f=Do(s):d?(h=!1,f=xo(l,!0)):v?(h=!1,f=Mo(l,!0)):f=[]:au(l)||Va(l)?(f=s,Va(s)?f=_u(s):nu(s)&&!Qa(s)||(f=_i(l))):h=!1}h&&(u.set(l,f),i(f,l,o,a,u),u.delete(l));nr(t,n,f)}(t,e,u,n,Ur,o,i);else{var s=o?o(Ri(t,u),a,u+"",t,e,i):r;s===r&&(s=a),nr(t,u,s)}}),Bu)}function Vr(t,e){var n=t.length;if(n)return wi(e+=e<0?n:0,n)?t[e]:r}function Hr(t,e,n){e=e.length?Ee(e,(function(t){return Ha(t)?function(e){return Tr(e,1===t.length?t[0]:t)}:t})):[is];var r=-1;e=Ee(e,Qe(fi()));var o=zr(t,(function(t,n,o){var i=Ee(e,(function(e){return e(t)}));return{criteria:i,index:++r,value:t}}));return function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(o,(function(t,e){return function(t,e,n){var r=-1,o=t.criteria,i=e.criteria,a=o.length,u=n.length;for(;++r<a;){var s=So(o[r],i[r]);if(s)return r>=u?s:s*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)}))}function qr(t,e,n){for(var r=-1,o=e.length,i={};++r<o;){var a=e[r],u=Tr(t,a);n(u,a)&&eo(i,Co(a,t),u)}return i}function Yr(t,e,n,r){var o=r?Ue:Ge,i=-1,a=e.length,u=t;for(t===e&&(e=Do(e)),n&&(u=Ee(t,Qe(n)));++i<a;)for(var s=0,l=e[i],c=n?n(l):l;(s=o(u,c,s,r))>-1;)u!==t&&Jt.call(u,s,1),Jt.call(t,s,1);return t}function $r(t,e){for(var n=t?e.length:0,r=n-1;n--;){var o=e[n];if(n==r||o!==i){var i=o;wi(o)?Jt.call(t,o,1):po(t,o)}}return t}function Zr(t,e){return t+me(kn()*(e-t+1))}function Jr(t,e){var n="";if(!t||e<1||e>d)return n;do{e%2&&(n+=t),(e=me(e/2))&&(t+=t)}while(e);return n}function Xr(t,e){return Bi(Si(t,e,is),t+"")}function Qr(t){return Qn(Ku(t))}function to(t,e){var n=Ku(t);return Ii(n,lr(e,0,n.length))}function eo(t,e,n,o){if(!nu(t))return t;for(var i=-1,a=(e=Co(e,t)).length,u=a-1,s=t;null!=s&&++i<a;){var l=ji(e[i]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return t;if(i!=u){var f=s[l];(c=o?o(f,l,s):r)===r&&(c=nu(f)?f:wi(e[i+1])?[]:{})}rr(s,l,c),s=s[l]}return t}var no=Dn?function(t,e){return Dn.set(t,e),t}:is,ro=oe?function(t,e){return oe(t,"toString",{configurable:!0,enumerable:!1,value:ns(e),writable:!0})}:is;function oo(t){return Ii(Ku(t))}function io(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var i=ut(o);++r<o;)i[r]=t[r+e];return i}function ao(t,e){var n;return dr(t,(function(t,r,o){return!(n=e(t,r,o))})),!!n}function uo(t,e,n){var r=0,o=null==t?r:t.length;if("number"==typeof e&&e==e&&o<=2147483647){for(;r<o;){var i=r+o>>>1,a=t[i];null!==a&&!cu(a)&&(n?a<=e:a<e)?r=i+1:o=i}return o}return so(t,e,is,n)}function so(t,e,n,o){var i=0,a=null==t?0:t.length;if(0===a)return 0;for(var u=(e=n(e))!=e,s=null===e,l=cu(e),c=e===r;i<a;){var f=me((i+a)/2),h=n(t[f]),p=h!==r,d=null===h,v=h==h,g=cu(h);if(u)var m=o||v;else m=c?v&&(o||p):s?v&&p&&(o||!d):l?v&&p&&!d&&(o||!g):!d&&!g&&(o?h<=e:h<e);m?i=f+1:a=f}return wn(a,4294967294)}function lo(t,e){for(var n=-1,r=t.length,o=0,i=[];++n<r;){var a=t[n],u=e?e(a):a;if(!n||!Ka(u,s)){var s=u;i[o++]=0===a?0:a}}return i}function co(t){return"number"==typeof t?t:cu(t)?v:+t}function fo(t){if("string"==typeof t)return t;if(Ha(t))return Ee(t,fo)+"";if(cu(t))return zn?zn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function ho(t,e,n){var r=-1,o=Oe,i=t.length,a=!0,u=[],s=u;if(n)a=!1,o=Be;else if(i>=200){var l=e?null:Xo(t);if(l)return hn(l);a=!1,o=en,s=new Zn}else s=e?[]:u;t:for(;++r<i;){var c=t[r],f=e?e(c):c;if(c=n||0!==c?c:0,a&&f==f){for(var h=s.length;h--;)if(s[h]===f)continue t;e&&s.push(f),u.push(c)}else o(s,f,n)||(s!==u&&s.push(f),u.push(c))}return u}function po(t,e){return null==(t=Ni(t,e=Co(e,t)))||delete t[ji(Xi(e))]}function vo(t,e,n,r){return eo(t,e,n(Tr(t,e)),r)}function go(t,e,n,r){for(var o=t.length,i=r?o:-1;(r?i--:++i<o)&&e(t[i],i,t););return n?io(t,r?0:i,r?i+1:o):io(t,r?i+1:0,r?o:i)}function mo(t,e){var n=t;return n instanceof Hn&&(n=n.value()),Ie(e,(function(t,e){return e.func.apply(e.thisArg,We([t],e.args))}),n)}function yo(t,e,n){var r=t.length;if(r<2)return r?ho(t[0]):[];for(var o=-1,i=ut(r);++o<r;)for(var a=t[o],u=-1;++u<r;)u!=o&&(i[o]=pr(i[o]||a,t[u],e,n));return ho(_r(i,1),e,n)}function _o(t,e,n){for(var o=-1,i=t.length,a=e.length,u={};++o<i;){var s=o<a?e[o]:r;n(u,t[o],s)}return u}function bo(t){return $a(t)?t:[]}function wo(t){return"function"==typeof t?t:is}function Co(t,e){return Ha(t)?t:Pi(t,e)?[t]:Li(bu(t))}var Po=Xr;function ko(t,e,n){var o=t.length;return n=n===r?o:n,!e&&n>=o?t:io(t,e,n)}var To=ce||function(t){return ve.clearTimeout(t)};function xo(t,e){if(e)return t.slice();var n=t.length,r=qt?qt(n):new t.constructor(n);return t.copy(r),r}function Ao(t){var e=new t.constructor(t.byteLength);return new Ht(e).set(new Ht(t)),e}function Mo(t,e){var n=e?Ao(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function So(t,e){if(t!==e){var n=t!==r,o=null===t,i=t==t,a=cu(t),u=e!==r,s=null===e,l=e==e,c=cu(e);if(!s&&!c&&!a&&t>e||a&&u&&l&&!s&&!c||o&&u&&l||!n&&l||!i)return 1;if(!o&&!a&&!c&&t<e||c&&n&&i&&!o&&!a||s&&n&&i||!u&&i||!l)return-1}return 0}function No(t,e,n,r){for(var o=-1,i=t.length,a=n.length,u=-1,s=e.length,l=bn(i-a,0),c=ut(s+l),f=!r;++u<s;)c[u]=e[u];for(;++o<a;)(f||o<i)&&(c[n[o]]=t[o]);for(;l--;)c[u++]=t[o++];return c}function Ro(t,e,n,r){for(var o=-1,i=t.length,a=-1,u=n.length,s=-1,l=e.length,c=bn(i-u,0),f=ut(c+l),h=!r;++o<c;)f[o]=t[o];for(var p=o;++s<l;)f[p+s]=e[s];for(;++a<u;)(h||o<i)&&(f[p+n[a]]=t[o++]);return f}function Do(t,e){var n=-1,r=t.length;for(e||(e=ut(r));++n<r;)e[n]=t[n];return e}function Oo(t,e,n,o){var i=!n;n||(n={});for(var a=-1,u=e.length;++a<u;){var s=e[a],l=o?o(n[s],t[s],s,n,t):r;l===r&&(l=t[s]),i?ur(n,s,l):rr(n,s,l)}return n}function Bo(t,e){return function(n,r){var o=Ha(n)?Me:ir,i=e?e():{};return o(n,t,fi(r,2),i)}}function Eo(t){return Xr((function(e,n){var o=-1,i=n.length,a=i>1?n[i-1]:r,u=i>2?n[2]:r;for(a=t.length>3&&"function"==typeof a?(i--,a):r,u&&Ci(n[0],n[1],u)&&(a=i<3?r:a,i=1),e=Mt(e);++o<i;){var s=n[o];s&&t(e,s,o,a)}return e}))}function Wo(t,e){return function(n,r){if(null==n)return n;if(!Ya(n))return t(n,r);for(var o=n.length,i=e?o:-1,a=Mt(n);(e?i--:++i<o)&&!1!==r(a[i],i,a););return n}}function Io(t){return function(e,n,r){for(var o=-1,i=Mt(e),a=r(e),u=a.length;u--;){var s=a[t?u:++o];if(!1===n(i[s],s,i))break}return e}}function Lo(t){return function(e){var n=sn(e=bu(e))?vn(e):r,o=n?n[0]:e.charAt(0),i=n?ko(n,1).join(""):e.slice(1);return o[t]()+i}}function jo(t){return function(e){return Ie(Qu(Vu(e).replace(te,"")),t,"")}}function Fo(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Gn(t.prototype),r=t.apply(n,e);return nu(r)?r:n}}function zo(t){return function(e,n,o){var i=Mt(e);if(!Ya(e)){var a=fi(n,3);e=Ou(e),n=function(t){return a(i[t],t,i)}}var u=t(e,n,o);return u>-1?i[a?e[u]:u]:r}}function Ko(t){return ii((function(e){var n=e.length,i=n,a=Vn.prototype.thru;for(t&&e.reverse();i--;){var u=e[i];if("function"!=typeof u)throw new Rt(o);if(a&&!s&&"wrapper"==li(u))var s=new Vn([],!0)}for(i=s?i:n;++i<n;){var l=li(u=e[i]),c="wrapper"==l?si(u):r;s=c&&ki(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?s[li(c[0])].apply(s,c[3]):1==u.length&&ki(u)?s[l]():s.thru(u)}return function(){var t=arguments,r=t[0];if(s&&1==t.length&&Ha(r))return s.plant(r).value();for(var o=0,i=n?e[o].apply(this,t):r;++o<n;)i=e[o].call(this,i);return i}}))}function Go(t,e,n,o,i,a,u,s,l,f){var h=e&c,p=1&e,d=2&e,v=24&e,g=512&e,m=d?r:Fo(t);return function c(){for(var y=arguments.length,_=ut(y),b=y;b--;)_[b]=arguments[b];if(v)var w=ci(c),C=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}(_,w);if(o&&(_=No(_,o,i,v)),a&&(_=Ro(_,a,u,v)),y-=C,v&&y<f){var P=fn(_,w);return Zo(t,e,Go,c.placeholder,n,_,P,s,l,f-y)}var k=p?n:this,T=d?k[t]:t;return y=_.length,s?_=function(t,e){var n=t.length,o=wn(e.length,n),i=Do(t);for(;o--;){var a=e[o];t[o]=wi(a,n)?i[a]:r}return t}(_,s):g&&y>1&&_.reverse(),h&&l<y&&(_.length=l),this&&this!==ve&&this instanceof c&&(T=m||Fo(T)),T.apply(k,_)}}function Uo(t,e){return function(n,r){return function(t,e,n,r){return Cr(t,(function(t,o,i){e(r,n(t),o,i)})),r}(n,t,e(r),{})}}function Vo(t,e){return function(n,o){var i;if(n===r&&o===r)return e;if(n!==r&&(i=n),o!==r){if(i===r)return o;"string"==typeof n||"string"==typeof o?(n=fo(n),o=fo(o)):(n=co(n),o=co(o)),i=t(n,o)}return i}}function Ho(t){return ii((function(e){return e=Ee(e,Qe(fi())),Xr((function(n){var r=this;return t(e,(function(t){return Ae(t,r,n)}))}))}))}function qo(t,e){var n=(e=e===r?" ":fo(e)).length;if(n<2)return n?Jr(e,t):e;var o=Jr(e,ge(t/dn(e)));return sn(e)?ko(vn(o),0,t).join(""):o.slice(0,t)}function Yo(t){return function(e,n,o){return o&&"number"!=typeof o&&Ci(e,n,o)&&(n=o=r),e=vu(e),n===r?(n=e,e=0):n=vu(n),function(t,e,n,r){for(var o=-1,i=bn(ge((e-t)/(n||1)),0),a=ut(i);i--;)a[r?i:++o]=t,t+=n;return a}(e,n,o=o===r?e<n?1:-1:vu(o),t)}}function $o(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=yu(e),n=yu(n)),t(e,n)}}function Zo(t,e,n,o,i,a,u,c,f,h){var p=8&e;e|=p?s:l,4&(e&=~(p?l:s))||(e&=-4);var d=[t,e,i,p?a:r,p?u:r,p?r:a,p?r:u,c,f,h],v=n.apply(r,d);return ki(t)&&Di(v,d),v.placeholder=o,Ei(v,t,e)}function Jo(t){var e=At[t];return function(t,n){if(t=yu(t),(n=null==n?0:wn(gu(n),292))&&Fe(t)){var r=(bu(t)+"e").split("e");return+((r=(bu(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Xo=Sn&&1/hn(new Sn([,-0]))[1]==p?function(t){return new Sn(t)}:cs;function Qo(t){return function(e){var n=mi(e);return n==T?ln(e):n==N?pn(e):function(t,e){return Ee(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function ti(t,e,n,i,h,p,d,v){var g=2&e;if(!g&&"function"!=typeof t)throw new Rt(o);var m=i?i.length:0;if(m||(e&=-97,i=h=r),d=d===r?d:bn(gu(d),0),v=v===r?v:gu(v),m-=h?h.length:0,e&l){var y=i,_=h;i=h=r}var b=g?r:si(t),w=[t,e,n,i,h,y,_,p,d,v];if(b&&function(t,e){var n=t[1],r=e[1],o=n|r,i=o<131,u=r==c&&8==n||r==c&&n==f&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!i&&!u)return t;1&r&&(t[2]=e[2],o|=1&n?0:4);var s=e[3];if(s){var l=t[3];t[3]=l?No(l,s,e[4]):s,t[4]=l?fn(t[3],a):e[4]}(s=e[5])&&(l=t[5],t[5]=l?Ro(l,s,e[6]):s,t[6]=l?fn(t[5],a):e[6]);(s=e[7])&&(t[7]=s);r&c&&(t[8]=null==t[8]?e[8]:wn(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=o}(w,b),t=w[0],e=w[1],n=w[2],i=w[3],h=w[4],!(v=w[9]=w[9]===r?g?0:t.length:bn(w[9]-m,0))&&24&e&&(e&=-25),e&&1!=e)C=8==e||e==u?function(t,e,n){var o=Fo(t);return function i(){for(var a=arguments.length,u=ut(a),s=a,l=ci(i);s--;)u[s]=arguments[s];var c=a<3&&u[0]!==l&&u[a-1]!==l?[]:fn(u,l);return(a-=c.length)<n?Zo(t,e,Go,i.placeholder,r,u,c,r,r,n-a):Ae(this&&this!==ve&&this instanceof i?o:t,this,u)}}(t,e,v):e!=s&&33!=e||h.length?Go.apply(r,w):function(t,e,n,r){var o=1&e,i=Fo(t);return function e(){for(var a=-1,u=arguments.length,s=-1,l=r.length,c=ut(l+u),f=this&&this!==ve&&this instanceof e?i:t;++s<l;)c[s]=r[s];for(;u--;)c[s++]=arguments[++a];return Ae(f,o?n:this,c)}}(t,e,n,i);else var C=function(t,e,n){var r=1&e,o=Fo(t);return function e(){return(this&&this!==ve&&this instanceof e?o:t).apply(r?n:this,arguments)}}(t,e,n);return Ei((b?no:Di)(C,w),t,e)}function ei(t,e,n,o){return t===r||Ka(t,Bt[n])&&!It.call(o,n)?e:t}function ni(t,e,n,o,i,a){return nu(t)&&nu(e)&&(a.set(e,t),Ur(t,e,r,ni,a),a.delete(e)),t}function ri(t){return au(t)?r:t}function oi(t,e,n,o,i,a){var u=1&n,s=t.length,l=e.length;if(s!=l&&!(u&&l>s))return!1;var c=a.get(t),f=a.get(e);if(c&&f)return c==e&&f==t;var h=-1,p=!0,d=2&n?new Zn:r;for(a.set(t,e),a.set(e,t);++h<s;){var v=t[h],g=e[h];if(o)var m=u?o(g,v,h,e,t,a):o(v,g,h,t,e,a);if(m!==r){if(m)continue;p=!1;break}if(d){if(!je(e,(function(t,e){if(!en(d,e)&&(v===t||i(v,t,n,o,a)))return d.push(e)}))){p=!1;break}}else if(v!==g&&!i(v,g,n,o,a)){p=!1;break}}return a.delete(t),a.delete(e),p}function ii(t){return Bi(Si(t,r,qi),t+"")}function ai(t){return xr(t,Ou,vi)}function ui(t){return xr(t,Bu,gi)}var si=Dn?function(t){return Dn.get(t)}:cs;function li(t){for(var e=t.name+"",n=On[e],r=It.call(On,e)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==t)return o.name}return e}function ci(t){return(It.call(Kn,"placeholder")?Kn:t).placeholder}function fi(){var t=Kn.iteratee||as;return t=t===as?Ir:t,arguments.length?t(arguments[0],arguments[1]):t}function hi(t,n){var r,o,i=t.__data__;return("string"==(o=e(r=n))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==r:null===r)?i["string"==typeof n?"string":"hash"]:i.map}function pi(t){for(var e=Ou(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,Ai(o)]}return e}function di(t,e){var n=function(t,e){return null==t?r:t[e]}(t,e);return Wr(n)?n:r}var vi=_e?function(t){return null==t?[]:(t=Mt(t),De(_e(t),(function(e){return Zt.call(t,e)})))}:ms,gi=_e?function(t){for(var e=[];t;)We(e,vi(t)),t=Yt(t);return e}:ms,mi=Ar;function yi(t,e,n){for(var r=-1,o=(e=Co(e,t)).length,i=!1;++r<o;){var a=ji(e[r]);if(!(i=null!=t&&n(t,a)))break;t=t[a]}return i||++r!=o?i:!!(o=null==t?0:t.length)&&eu(o)&&wi(a,o)&&(Ha(t)||Va(t))}function _i(t){return"function"!=typeof t.constructor||xi(t)?{}:Gn(Yt(t))}function bi(t){return Ha(t)||Va(t)||!!(Xt&&t&&t[Xt])}function wi(t,n){var r=e(t);return!!(n=null==n?d:n)&&("number"==r||"symbol"!=r&&bt.test(t))&&t>-1&&t%1==0&&t<n}function Ci(t,n,r){if(!nu(r))return!1;var o=e(n);return!!("number"==o?Ya(r)&&wi(n,r.length):"string"==o&&n in r)&&Ka(r[n],t)}function Pi(t,n){if(Ha(t))return!1;var r=e(t);return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!cu(t))||(nt.test(t)||!et.test(t)||null!=n&&t in Mt(n))}function ki(t){var e=li(t),n=Kn[e];if("function"!=typeof n||!(e in Hn.prototype))return!1;if(t===n)return!0;var r=si(n);return!!r&&t===r[0]}(xn&&mi(new xn(new ArrayBuffer(1)))!=E||An&&mi(new An)!=T||Mn&&mi(Mn.resolve())!=M||Sn&&mi(new Sn)!=N||Nn&&mi(new Nn)!=O)&&(mi=function(t){var e=Ar(t),n=e==A?t.constructor:r,o=n?Fi(n):"";if(o)switch(o){case Bn:return E;case En:return T;case Wn:return M;case In:return N;case Ln:return O}return e});var Ti=Et?Qa:ys;function xi(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Bt)}function Ai(t){return t==t&&!nu(t)}function Mi(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==r||t in Mt(n)))}}function Si(t,e,n){return e=bn(e===r?t.length-1:e,0),function(){for(var r=arguments,o=-1,i=bn(r.length-e,0),a=ut(i);++o<i;)a[o]=r[e+o];o=-1;for(var u=ut(e+1);++o<e;)u[o]=r[o];return u[e]=n(a),Ae(t,this,u)}}function Ni(t,e){return e.length<2?t:Tr(t,io(e,0,-1))}function Ri(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Di=Wi(no),Oi=de||function(t,e){return ve.setTimeout(t,e)},Bi=Wi(ro);function Ei(t,e,n){var r=e+"";return Bi(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(st,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return Se(m,(function(n){var r="_."+n[0];e&n[1]&&!Oe(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(lt);return e?e[1].split(ct):[]}(r),n)))}function Wi(t){var e=0,n=0;return function(){var o=Cn(),i=16-(o-n);if(n=o,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(r,arguments)}}function Ii(t,e){var n=-1,o=t.length,i=o-1;for(e=e===r?o:e;++n<e;){var a=Zr(n,i),u=t[a];t[a]=t[n],t[n]=u}return t.length=e,t}var Li=function(t){var e=Wa(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(rt,(function(t,n,r,o){e.push(r?o.replace(pt,"$1"):n||t)})),e}));function ji(t){if("string"==typeof t||cu(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Fi(t){if(null!=t){try{return Wt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function zi(t){if(t instanceof Hn)return t.clone();var e=new Vn(t.__wrapped__,t.__chain__);return e.__actions__=Do(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Ki=Xr((function(t,e){return $a(t)?pr(t,_r(e,1,$a,!0)):[]})),Gi=Xr((function(t,e){var n=Xi(e);return $a(n)&&(n=r),$a(t)?pr(t,_r(e,1,$a,!0),fi(n,2)):[]})),Ui=Xr((function(t,e){var n=Xi(e);return $a(n)&&(n=r),$a(t)?pr(t,_r(e,1,$a,!0),r,n):[]}));function Vi(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=null==n?0:gu(n);return o<0&&(o=bn(r+o,0)),Ke(t,fi(e,3),o)}function Hi(t,e,n){var o=null==t?0:t.length;if(!o)return-1;var i=o-1;return n!==r&&(i=gu(n),i=n<0?bn(o+i,0):wn(i,o-1)),Ke(t,fi(e,3),i,!0)}function qi(t){return(null==t?0:t.length)?_r(t,1):[]}function Yi(t){return t&&t.length?t[0]:r}var $i=Xr((function(t){var e=Ee(t,bo);return e.length&&e[0]===t[0]?Rr(e):[]})),Zi=Xr((function(t){var e=Xi(t),n=Ee(t,bo);return e===Xi(n)?e=r:n.pop(),n.length&&n[0]===t[0]?Rr(n,fi(e,2)):[]})),Ji=Xr((function(t){var e=Xi(t),n=Ee(t,bo);return(e="function"==typeof e?e:r)&&n.pop(),n.length&&n[0]===t[0]?Rr(n,r,e):[]}));function Xi(t){var e=null==t?0:t.length;return e?t[e-1]:r}var Qi=Xr(ta);function ta(t,e){return t&&t.length&&e&&e.length?Yr(t,e):t}var ea=ii((function(t,e){var n=null==t?0:t.length,r=sr(t,e);return $r(t,Ee(e,(function(t){return wi(t,n)?+t:t})).sort(So)),r}));function na(t){return null==t?t:Tn.call(t)}var ra=Xr((function(t){return ho(_r(t,1,$a,!0))})),oa=Xr((function(t){var e=Xi(t);return $a(e)&&(e=r),ho(_r(t,1,$a,!0),fi(e,2))})),ia=Xr((function(t){var e=Xi(t);return e="function"==typeof e?e:r,ho(_r(t,1,$a,!0),r,e)}));function aa(t){if(!t||!t.length)return[];var e=0;return t=De(t,(function(t){if($a(t))return e=bn(t.length,e),!0})),Je(e,(function(e){return Ee(t,qe(e))}))}function ua(t,e){if(!t||!t.length)return[];var n=aa(t);return null==e?n:Ee(n,(function(t){return Ae(e,r,t)}))}var sa=Xr((function(t,e){return $a(t)?pr(t,e):[]})),la=Xr((function(t){return yo(De(t,$a))})),ca=Xr((function(t){var e=Xi(t);return $a(e)&&(e=r),yo(De(t,$a),fi(e,2))})),fa=Xr((function(t){var e=Xi(t);return e="function"==typeof e?e:r,yo(De(t,$a),r,e)})),ha=Xr(aa);var pa=Xr((function(t){var e=t.length,n=e>1?t[e-1]:r;return n="function"==typeof n?(t.pop(),n):r,ua(t,n)}));function da(t){var e=Kn(t);return e.__chain__=!0,e}function va(t,e){return e(t)}var ga=ii((function(t){var e=t.length,n=e?t[0]:0,o=this.__wrapped__,i=function(e){return sr(e,t)};return!(e>1||this.__actions__.length)&&o instanceof Hn&&wi(n)?((o=o.slice(n,+n+(e?1:0))).__actions__.push({func:va,args:[i],thisArg:r}),new Vn(o,this.__chain__).thru((function(t){return e&&!t.length&&t.push(r),t}))):this.thru(i)}));var ma=Bo((function(t,e,n){It.call(t,n)?++t[n]:ur(t,n,1)}));var ya=zo(Vi),_a=zo(Hi);function ba(t,e){return(Ha(t)?Se:dr)(t,fi(e,3))}function wa(t,e){return(Ha(t)?Ne:vr)(t,fi(e,3))}var Ca=Bo((function(t,e,n){It.call(t,n)?t[n].push(e):ur(t,n,[e])}));var Pa=Xr((function(t,e,n){var r=-1,o="function"==typeof e,i=Ya(t)?ut(t.length):[];return dr(t,(function(t){i[++r]=o?Ae(e,t,n):Dr(t,e,n)})),i})),ka=Bo((function(t,e,n){ur(t,n,e)}));function Ta(t,e){return(Ha(t)?Ee:zr)(t,fi(e,3))}var xa=Bo((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var Aa=Xr((function(t,e){if(null==t)return[];var n=e.length;return n>1&&Ci(t,e[0],e[1])?e=[]:n>2&&Ci(e[0],e[1],e[2])&&(e=[e[0]]),Hr(t,_r(e,1),[])})),Ma=pe||function(){return ve.Date.now()};function Sa(t,e,n){return e=n?r:e,e=t&&null==e?t.length:e,ti(t,c,r,r,r,r,e)}function Na(t,e){var n;if("function"!=typeof e)throw new Rt(o);return t=gu(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=r),n}}var Ra=Xr((function(t,e,n){var r=1;if(n.length){var o=fn(n,ci(Ra));r|=s}return ti(t,r,e,n,o)})),Da=Xr((function(t,e,n){var r=3;if(n.length){var o=fn(n,ci(Da));r|=s}return ti(e,r,t,n,o)}));function Oa(t,e,n){var i,a,u,s,l,c,f=0,h=!1,p=!1,d=!0;if("function"!=typeof t)throw new Rt(o);function v(e){var n=i,o=a;return i=a=r,f=e,s=t.apply(o,n)}function g(t){var n=t-c;return c===r||n>=e||n<0||p&&t-f>=u}function m(){var t=Ma();if(g(t))return y(t);l=Oi(m,function(t){var n=e-(t-c);return p?wn(n,u-(t-f)):n}(t))}function y(t){return l=r,d&&i?v(t):(i=a=r,s)}function _(){var t=Ma(),n=g(t);if(i=arguments,a=this,c=t,n){if(l===r)return function(t){return f=t,l=Oi(m,e),h?v(t):s}(c);if(p)return To(l),l=Oi(m,e),v(c)}return l===r&&(l=Oi(m,e)),s}return e=yu(e)||0,nu(n)&&(h=!!n.leading,u=(p="maxWait"in n)?bn(yu(n.maxWait)||0,e):u,d="trailing"in n?!!n.trailing:d),_.cancel=function(){l!==r&&To(l),f=0,i=c=a=l=r},_.flush=function(){return l===r?s:y(Ma())},_}var Ba=Xr((function(t,e){return hr(t,1,e)})),Ea=Xr((function(t,e,n){return hr(t,yu(e)||0,n)}));function Wa(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Rt(o);var n=function n(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(Wa.Cache||$n),n}function Ia(t){if("function"!=typeof t)throw new Rt(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Wa.Cache=$n;var La=Po((function(t,e){var n=(e=1==e.length&&Ha(e[0])?Ee(e[0],Qe(fi())):Ee(_r(e,1),Qe(fi()))).length;return Xr((function(r){for(var o=-1,i=wn(r.length,n);++o<i;)r[o]=e[o].call(this,r[o]);return Ae(t,this,r)}))})),ja=Xr((function(t,e){var n=fn(e,ci(ja));return ti(t,s,r,e,n)})),Fa=Xr((function(t,e){var n=fn(e,ci(Fa));return ti(t,l,r,e,n)})),za=ii((function(t,e){return ti(t,f,r,r,r,e)}));function Ka(t,e){return t===e||t!=t&&e!=e}var Ga=$o(Mr),Ua=$o((function(t,e){return t>=e})),Va=Or(function(){return arguments}())?Or:function(t){return ru(t)&&It.call(t,"callee")&&!Zt.call(t,"callee")},Ha=ut.isArray,qa=we?Qe(we):function(t){return ru(t)&&Ar(t)==B};function Ya(t){return null!=t&&eu(t.length)&&!Qa(t)}function $a(t){return ru(t)&&Ya(t)}var Za=be||ys,Ja=Ce?Qe(Ce):function(t){return ru(t)&&Ar(t)==w};function Xa(t){if(!ru(t))return!1;var e=Ar(t);return e==C||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!au(t)}function Qa(t){if(!nu(t))return!1;var e=Ar(t);return e==P||e==k||"[object AsyncFunction]"==e||"[object Proxy]"==e}function tu(t){return"number"==typeof t&&t==gu(t)}function eu(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=d}function nu(t){var n=e(t);return null!=t&&("object"==n||"function"==n)}function ru(t){return null!=t&&"object"==e(t)}var ou=Pe?Qe(Pe):function(t){return ru(t)&&mi(t)==T};function iu(t){return"number"==typeof t||ru(t)&&Ar(t)==x}function au(t){if(!ru(t)||Ar(t)!=A)return!1;var e=Yt(t);if(null===e)return!0;var n=It.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Wt.call(n)==zt}var uu=ke?Qe(ke):function(t){return ru(t)&&Ar(t)==S};var su=Te?Qe(Te):function(t){return ru(t)&&mi(t)==N};function lu(t){return"string"==typeof t||!Ha(t)&&ru(t)&&Ar(t)==R}function cu(t){return"symbol"==e(t)||ru(t)&&Ar(t)==D}var fu=xe?Qe(xe):function(t){return ru(t)&&eu(t.length)&&!!se[Ar(t)]};var hu=$o(Fr),pu=$o((function(t,e){return t<=e}));function du(t){if(!t)return[];if(Ya(t))return lu(t)?vn(t):Do(t);if(Qt&&t[Qt])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Qt]());var e=mi(t);return(e==T?ln:e==N?hn:Ku)(t)}function vu(t){return t?(t=yu(t))===p||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function gu(t){var e=vu(t),n=e%1;return e==e?n?e-n:e:0}function mu(t){return t?lr(gu(t),0,g):0}function yu(t){if("number"==typeof t)return t;if(cu(t))return v;if(nu(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=nu(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Xe(t);var n=mt.test(t);return n||_t.test(t)?he(t.slice(2),n?2:8):gt.test(t)?v:+t}function _u(t){return Oo(t,Bu(t))}function bu(t){return null==t?"":fo(t)}var wu=Eo((function(t,e){if(xi(e)||Ya(e))Oo(e,Ou(e),t);else for(var n in e)It.call(e,n)&&rr(t,n,e[n])})),Cu=Eo((function(t,e){Oo(e,Bu(e),t)})),Pu=Eo((function(t,e,n,r){Oo(e,Bu(e),t,r)})),ku=Eo((function(t,e,n,r){Oo(e,Ou(e),t,r)})),Tu=ii(sr);var xu=Xr((function(t,e){t=Mt(t);var n=-1,o=e.length,i=o>2?e[2]:r;for(i&&Ci(e[0],e[1],i)&&(o=1);++n<o;)for(var a=e[n],u=Bu(a),s=-1,l=u.length;++s<l;){var c=u[s],f=t[c];(f===r||Ka(f,Bt[c])&&!It.call(t,c))&&(t[c]=a[c])}return t})),Au=Xr((function(t){return t.push(r,ni),Ae(Wu,r,t)}));function Mu(t,e,n){var o=null==t?r:Tr(t,e);return o===r?n:o}function Su(t,e){return null!=t&&yi(t,e,Nr)}var Nu=Uo((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Ft.call(e)),t[e]=n}),ns(is)),Ru=Uo((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Ft.call(e)),It.call(t,e)?t[e].push(n):t[e]=[n]}),fi),Du=Xr(Dr);function Ou(t){return Ya(t)?Xn(t):Lr(t)}function Bu(t){return Ya(t)?Xn(t,!0):jr(t)}var Eu=Eo((function(t,e,n){Ur(t,e,n)})),Wu=Eo((function(t,e,n,r){Ur(t,e,n,r)})),Iu=ii((function(t,e){var n={};if(null==t)return n;var r=!1;e=Ee(e,(function(e){return e=Co(e,t),r||(r=e.length>1),e})),Oo(t,ui(t),n),r&&(n=cr(n,7,ri));for(var o=e.length;o--;)po(n,e[o]);return n}));var Lu=ii((function(t,e){return null==t?{}:function(t,e){return qr(t,e,(function(e,n){return Su(t,n)}))}(t,e)}));function ju(t,e){if(null==t)return{};var n=Ee(ui(t),(function(t){return[t]}));return e=fi(e),qr(t,n,(function(t,n){return e(t,n[0])}))}var Fu=Qo(Ou),zu=Qo(Bu);function Ku(t){return null==t?[]:tn(t,Ou(t))}var Gu=jo((function(t,e,n){return e=e.toLowerCase(),t+(n?Uu(e):e)}));function Uu(t){return Xu(bu(t).toLowerCase())}function Vu(t){return(t=bu(t))&&t.replace(wt,on).replace(ee,"")}var Hu=jo((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),qu=jo((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Yu=Lo("toLowerCase");var $u=jo((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var Zu=jo((function(t,e,n){return t+(n?" ":"")+Xu(e)}));var Ju=jo((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Xu=Lo("toUpperCase");function Qu(t,e,n){return t=bu(t),(e=n?r:e)===r?function(t){return ie.test(t)}(t)?function(t){return t.match(re)||[]}(t):function(t){return t.match(ft)||[]}(t):t.match(e)||[]}var ts=Xr((function(t,e){try{return Ae(t,r,e)}catch(t){return Xa(t)?t:new Tt(t)}})),es=ii((function(t,e){return Se(e,(function(e){e=ji(e),ur(t,e,Ra(t[e],t))})),t}));function ns(t){return function(){return t}}var rs=Ko(),os=Ko(!0);function is(t){return t}function as(t){return Ir("function"==typeof t?t:cr(t,1))}var us=Xr((function(t,e){return function(n){return Dr(n,t,e)}})),ss=Xr((function(t,e){return function(n){return Dr(t,n,e)}}));function ls(t,e,n){var r=Ou(e),o=kr(e,r);null!=n||nu(e)&&(o.length||!r.length)||(n=e,e=t,t=this,o=kr(e,Ou(e)));var i=!(nu(n)&&"chain"in n&&!n.chain),a=Qa(t);return Se(o,(function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(i||e){var n=t(this.__wrapped__);return(n.__actions__=Do(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,We([this.value()],arguments))})})),t}function cs(){}var fs=Ho(Ee),hs=Ho(Re),ps=Ho(je);function ds(t){return Pi(t)?qe(ji(t)):function(t){return function(e){return Tr(e,t)}}(t)}var vs=Yo(),gs=Yo(!0);function ms(){return[]}function ys(){return!1}var _s=Vo((function(t,e){return t+e}),0),bs=Jo("ceil"),ws=Vo((function(t,e){return t/e}),1),Cs=Jo("floor");var Ps,ks=Vo((function(t,e){return t*e}),1),Ts=Jo("round"),xs=Vo((function(t,e){return t-e}),0);return Kn.after=function(t,e){if("function"!=typeof e)throw new Rt(o);return t=gu(t),function(){if(--t<1)return e.apply(this,arguments)}},Kn.ary=Sa,Kn.assign=wu,Kn.assignIn=Cu,Kn.assignInWith=Pu,Kn.assignWith=ku,Kn.at=Tu,Kn.before=Na,Kn.bind=Ra,Kn.bindAll=es,Kn.bindKey=Da,Kn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ha(t)?t:[t]},Kn.chain=da,Kn.chunk=function(t,e,n){e=(n?Ci(t,e,n):e===r)?1:bn(gu(e),0);var o=null==t?0:t.length;if(!o||e<1)return[];for(var i=0,a=0,u=ut(ge(o/e));i<o;)u[a++]=io(t,i,i+=e);return u},Kn.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,o=[];++e<n;){var i=t[e];i&&(o[r++]=i)}return o},Kn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=ut(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return We(Ha(n)?Do(n):[n],_r(e,1))},Kn.cond=function(t){var e=null==t?0:t.length,n=fi();return t=e?Ee(t,(function(t){if("function"!=typeof t[1])throw new Rt(o);return[n(t[0]),t[1]]})):[],Xr((function(n){for(var r=-1;++r<e;){var o=t[r];if(Ae(o[0],this,n))return Ae(o[1],this,n)}}))},Kn.conforms=function(t){return function(t){var e=Ou(t);return function(n){return fr(n,t,e)}}(cr(t,1))},Kn.constant=ns,Kn.countBy=ma,Kn.create=function(t,e){var n=Gn(t);return null==e?n:ar(n,e)},Kn.curry=function t(e,n,o){var i=ti(e,8,r,r,r,r,r,n=o?r:n);return i.placeholder=t.placeholder,i},Kn.curryRight=function t(e,n,o){var i=ti(e,u,r,r,r,r,r,n=o?r:n);return i.placeholder=t.placeholder,i},Kn.debounce=Oa,Kn.defaults=xu,Kn.defaultsDeep=Au,Kn.defer=Ba,Kn.delay=Ea,Kn.difference=Ki,Kn.differenceBy=Gi,Kn.differenceWith=Ui,Kn.drop=function(t,e,n){var o=null==t?0:t.length;return o?io(t,(e=n||e===r?1:gu(e))<0?0:e,o):[]},Kn.dropRight=function(t,e,n){var o=null==t?0:t.length;return o?io(t,0,(e=o-(e=n||e===r?1:gu(e)))<0?0:e):[]},Kn.dropRightWhile=function(t,e){return t&&t.length?go(t,fi(e,3),!0,!0):[]},Kn.dropWhile=function(t,e){return t&&t.length?go(t,fi(e,3),!0):[]},Kn.fill=function(t,e,n,o){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Ci(t,e,n)&&(n=0,o=i),function(t,e,n,o){var i=t.length;for((n=gu(n))<0&&(n=-n>i?0:i+n),(o=o===r||o>i?i:gu(o))<0&&(o+=i),o=n>o?0:mu(o);n<o;)t[n++]=e;return t}(t,e,n,o)):[]},Kn.filter=function(t,e){return(Ha(t)?De:yr)(t,fi(e,3))},Kn.flatMap=function(t,e){return _r(Ta(t,e),1)},Kn.flatMapDeep=function(t,e){return _r(Ta(t,e),p)},Kn.flatMapDepth=function(t,e,n){return n=n===r?1:gu(n),_r(Ta(t,e),n)},Kn.flatten=qi,Kn.flattenDeep=function(t){return(null==t?0:t.length)?_r(t,p):[]},Kn.flattenDepth=function(t,e){return(null==t?0:t.length)?_r(t,e=e===r?1:gu(e)):[]},Kn.flip=function(t){return ti(t,512)},Kn.flow=rs,Kn.flowRight=os,Kn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var o=t[e];r[o[0]]=o[1]}return r},Kn.functions=function(t){return null==t?[]:kr(t,Ou(t))},Kn.functionsIn=function(t){return null==t?[]:kr(t,Bu(t))},Kn.groupBy=Ca,Kn.initial=function(t){return(null==t?0:t.length)?io(t,0,-1):[]},Kn.intersection=$i,Kn.intersectionBy=Zi,Kn.intersectionWith=Ji,Kn.invert=Nu,Kn.invertBy=Ru,Kn.invokeMap=Pa,Kn.iteratee=as,Kn.keyBy=ka,Kn.keys=Ou,Kn.keysIn=Bu,Kn.map=Ta,Kn.mapKeys=function(t,e){var n={};return e=fi(e,3),Cr(t,(function(t,r,o){ur(n,e(t,r,o),t)})),n},Kn.mapValues=function(t,e){var n={};return e=fi(e,3),Cr(t,(function(t,r,o){ur(n,r,e(t,r,o))})),n},Kn.matches=function(t){return Kr(cr(t,1))},Kn.matchesProperty=function(t,e){return Gr(t,cr(e,1))},Kn.memoize=Wa,Kn.merge=Eu,Kn.mergeWith=Wu,Kn.method=us,Kn.methodOf=ss,Kn.mixin=ls,Kn.negate=Ia,Kn.nthArg=function(t){return t=gu(t),Xr((function(e){return Vr(e,t)}))},Kn.omit=Iu,Kn.omitBy=function(t,e){return ju(t,Ia(fi(e)))},Kn.once=function(t){return Na(2,t)},Kn.orderBy=function(t,e,n,o){return null==t?[]:(Ha(e)||(e=null==e?[]:[e]),Ha(n=o?r:n)||(n=null==n?[]:[n]),Hr(t,e,n))},Kn.over=fs,Kn.overArgs=La,Kn.overEvery=hs,Kn.overSome=ps,Kn.partial=ja,Kn.partialRight=Fa,Kn.partition=xa,Kn.pick=Lu,Kn.pickBy=ju,Kn.property=ds,Kn.propertyOf=function(t){return function(e){return null==t?r:Tr(t,e)}},Kn.pull=Qi,Kn.pullAll=ta,Kn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Yr(t,e,fi(n,2)):t},Kn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Yr(t,e,r,n):t},Kn.pullAt=ea,Kn.range=vs,Kn.rangeRight=gs,Kn.rearg=za,Kn.reject=function(t,e){return(Ha(t)?De:yr)(t,Ia(fi(e,3)))},Kn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,o=[],i=t.length;for(e=fi(e,3);++r<i;){var a=t[r];e(a,r,t)&&(n.push(a),o.push(r))}return $r(t,o),n},Kn.rest=function(t,e){if("function"!=typeof t)throw new Rt(o);return Xr(t,e=e===r?e:gu(e))},Kn.reverse=na,Kn.sampleSize=function(t,e,n){return e=(n?Ci(t,e,n):e===r)?1:gu(e),(Ha(t)?tr:to)(t,e)},Kn.set=function(t,e,n){return null==t?t:eo(t,e,n)},Kn.setWith=function(t,e,n,o){return o="function"==typeof o?o:r,null==t?t:eo(t,e,n,o)},Kn.shuffle=function(t){return(Ha(t)?er:oo)(t)},Kn.slice=function(t,e,n){var o=null==t?0:t.length;return o?(n&&"number"!=typeof n&&Ci(t,e,n)?(e=0,n=o):(e=null==e?0:gu(e),n=n===r?o:gu(n)),io(t,e,n)):[]},Kn.sortBy=Aa,Kn.sortedUniq=function(t){return t&&t.length?lo(t):[]},Kn.sortedUniqBy=function(t,e){return t&&t.length?lo(t,fi(e,2)):[]},Kn.split=function(t,e,n){return n&&"number"!=typeof n&&Ci(t,e,n)&&(e=n=r),(n=n===r?g:n>>>0)?(t=bu(t))&&("string"==typeof e||null!=e&&!uu(e))&&!(e=fo(e))&&sn(t)?ko(vn(t),0,n):t.split(e,n):[]},Kn.spread=function(t,e){if("function"!=typeof t)throw new Rt(o);return e=null==e?0:bn(gu(e),0),Xr((function(n){var r=n[e],o=ko(n,0,e);return r&&We(o,r),Ae(t,this,o)}))},Kn.tail=function(t){var e=null==t?0:t.length;return e?io(t,1,e):[]},Kn.take=function(t,e,n){return t&&t.length?io(t,0,(e=n||e===r?1:gu(e))<0?0:e):[]},Kn.takeRight=function(t,e,n){var o=null==t?0:t.length;return o?io(t,(e=o-(e=n||e===r?1:gu(e)))<0?0:e,o):[]},Kn.takeRightWhile=function(t,e){return t&&t.length?go(t,fi(e,3),!1,!0):[]},Kn.takeWhile=function(t,e){return t&&t.length?go(t,fi(e,3)):[]},Kn.tap=function(t,e){return e(t),t},Kn.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new Rt(o);return nu(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Oa(t,e,{leading:r,maxWait:e,trailing:i})},Kn.thru=va,Kn.toArray=du,Kn.toPairs=Fu,Kn.toPairsIn=zu,Kn.toPath=function(t){return Ha(t)?Ee(t,ji):cu(t)?[t]:Do(Li(bu(t)))},Kn.toPlainObject=_u,Kn.transform=function(t,e,n){var r=Ha(t),o=r||Za(t)||fu(t);if(e=fi(e,4),null==n){var i=t&&t.constructor;n=o?r?new i:[]:nu(t)&&Qa(i)?Gn(Yt(t)):{}}return(o?Se:Cr)(t,(function(t,r,o){return e(n,t,r,o)})),n},Kn.unary=function(t){return Sa(t,1)},Kn.union=ra,Kn.unionBy=oa,Kn.unionWith=ia,Kn.uniq=function(t){return t&&t.length?ho(t):[]},Kn.uniqBy=function(t,e){return t&&t.length?ho(t,fi(e,2)):[]},Kn.uniqWith=function(t,e){return e="function"==typeof e?e:r,t&&t.length?ho(t,r,e):[]},Kn.unset=function(t,e){return null==t||po(t,e)},Kn.unzip=aa,Kn.unzipWith=ua,Kn.update=function(t,e,n){return null==t?t:vo(t,e,wo(n))},Kn.updateWith=function(t,e,n,o){return o="function"==typeof o?o:r,null==t?t:vo(t,e,wo(n),o)},Kn.values=Ku,Kn.valuesIn=function(t){return null==t?[]:tn(t,Bu(t))},Kn.without=sa,Kn.words=Qu,Kn.wrap=function(t,e){return ja(wo(e),t)},Kn.xor=la,Kn.xorBy=ca,Kn.xorWith=fa,Kn.zip=ha,Kn.zipObject=function(t,e){return _o(t||[],e||[],rr)},Kn.zipObjectDeep=function(t,e){return _o(t||[],e||[],eo)},Kn.zipWith=pa,Kn.entries=Fu,Kn.entriesIn=zu,Kn.extend=Cu,Kn.extendWith=Pu,ls(Kn,Kn),Kn.add=_s,Kn.attempt=ts,Kn.camelCase=Gu,Kn.capitalize=Uu,Kn.ceil=bs,Kn.clamp=function(t,e,n){return n===r&&(n=e,e=r),n!==r&&(n=(n=yu(n))==n?n:0),e!==r&&(e=(e=yu(e))==e?e:0),lr(yu(t),e,n)},Kn.clone=function(t){return cr(t,4)},Kn.cloneDeep=function(t){return cr(t,5)},Kn.cloneDeepWith=function(t,e){return cr(t,5,e="function"==typeof e?e:r)},Kn.cloneWith=function(t,e){return cr(t,4,e="function"==typeof e?e:r)},Kn.conformsTo=function(t,e){return null==e||fr(t,e,Ou(e))},Kn.deburr=Vu,Kn.defaultTo=function(t,e){return null==t||t!=t?e:t},Kn.divide=ws,Kn.endsWith=function(t,e,n){t=bu(t),e=fo(e);var o=t.length,i=n=n===r?o:lr(gu(n),0,o);return(n-=e.length)>=0&&t.slice(n,i)==e},Kn.eq=Ka,Kn.escape=function(t){return(t=bu(t))&&J.test(t)?t.replace($,an):t},Kn.escapeRegExp=function(t){return(t=bu(t))&&it.test(t)?t.replace(ot,"\\$&"):t},Kn.every=function(t,e,n){var o=Ha(t)?Re:gr;return n&&Ci(t,e,n)&&(e=r),o(t,fi(e,3))},Kn.find=ya,Kn.findIndex=Vi,Kn.findKey=function(t,e){return ze(t,fi(e,3),Cr)},Kn.findLast=_a,Kn.findLastIndex=Hi,Kn.findLastKey=function(t,e){return ze(t,fi(e,3),Pr)},Kn.floor=Cs,Kn.forEach=ba,Kn.forEachRight=wa,Kn.forIn=function(t,e){return null==t?t:br(t,fi(e,3),Bu)},Kn.forInRight=function(t,e){return null==t?t:wr(t,fi(e,3),Bu)},Kn.forOwn=function(t,e){return t&&Cr(t,fi(e,3))},Kn.forOwnRight=function(t,e){return t&&Pr(t,fi(e,3))},Kn.get=Mu,Kn.gt=Ga,Kn.gte=Ua,Kn.has=function(t,e){return null!=t&&yi(t,e,Sr)},Kn.hasIn=Su,Kn.head=Yi,Kn.identity=is,Kn.includes=function(t,e,n,r){t=Ya(t)?t:Ku(t),n=n&&!r?gu(n):0;var o=t.length;return n<0&&(n=bn(o+n,0)),lu(t)?n<=o&&t.indexOf(e,n)>-1:!!o&&Ge(t,e,n)>-1},Kn.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=null==n?0:gu(n);return o<0&&(o=bn(r+o,0)),Ge(t,e,o)},Kn.inRange=function(t,e,n){return e=vu(e),n===r?(n=e,e=0):n=vu(n),function(t,e,n){return t>=wn(e,n)&&t<bn(e,n)}(t=yu(t),e,n)},Kn.invoke=Du,Kn.isArguments=Va,Kn.isArray=Ha,Kn.isArrayBuffer=qa,Kn.isArrayLike=Ya,Kn.isArrayLikeObject=$a,Kn.isBoolean=function(t){return!0===t||!1===t||ru(t)&&Ar(t)==b},Kn.isBuffer=Za,Kn.isDate=Ja,Kn.isElement=function(t){return ru(t)&&1===t.nodeType&&!au(t)},Kn.isEmpty=function(t){if(null==t)return!0;if(Ya(t)&&(Ha(t)||"string"==typeof t||"function"==typeof t.splice||Za(t)||fu(t)||Va(t)))return!t.length;var e=mi(t);if(e==T||e==N)return!t.size;if(xi(t))return!Lr(t).length;for(var n in t)if(It.call(t,n))return!1;return!0},Kn.isEqual=function(t,e){return Br(t,e)},Kn.isEqualWith=function(t,e,n){var o=(n="function"==typeof n?n:r)?n(t,e):r;return o===r?Br(t,e,r,n):!!o},Kn.isError=Xa,Kn.isFinite=function(t){return"number"==typeof t&&Fe(t)},Kn.isFunction=Qa,Kn.isInteger=tu,Kn.isLength=eu,Kn.isMap=ou,Kn.isMatch=function(t,e){return t===e||Er(t,e,pi(e))},Kn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:r,Er(t,e,pi(e),n)},Kn.isNaN=function(t){return iu(t)&&t!=+t},Kn.isNative=function(t){if(Ti(t))throw new Tt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Wr(t)},Kn.isNil=function(t){return null==t},Kn.isNull=function(t){return null===t},Kn.isNumber=iu,Kn.isObject=nu,Kn.isObjectLike=ru,Kn.isPlainObject=au,Kn.isRegExp=uu,Kn.isSafeInteger=function(t){return tu(t)&&t>=-9007199254740991&&t<=d},Kn.isSet=su,Kn.isString=lu,Kn.isSymbol=cu,Kn.isTypedArray=fu,Kn.isUndefined=function(t){return t===r},Kn.isWeakMap=function(t){return ru(t)&&mi(t)==O},Kn.isWeakSet=function(t){return ru(t)&&"[object WeakSet]"==Ar(t)},Kn.join=function(t,e){return null==t?"":Ye.call(t,e)},Kn.kebabCase=Hu,Kn.last=Xi,Kn.lastIndexOf=function(t,e,n){var o=null==t?0:t.length;if(!o)return-1;var i=o;return n!==r&&(i=(i=gu(n))<0?bn(o+i,0):wn(i,o-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,i):Ke(t,Ve,i,!0)},Kn.lowerCase=qu,Kn.lowerFirst=Yu,Kn.lt=hu,Kn.lte=pu,Kn.max=function(t){return t&&t.length?mr(t,is,Mr):r},Kn.maxBy=function(t,e){return t&&t.length?mr(t,fi(e,2),Mr):r},Kn.mean=function(t){return He(t,is)},Kn.meanBy=function(t,e){return He(t,fi(e,2))},Kn.min=function(t){return t&&t.length?mr(t,is,Fr):r},Kn.minBy=function(t,e){return t&&t.length?mr(t,fi(e,2),Fr):r},Kn.stubArray=ms,Kn.stubFalse=ys,Kn.stubObject=function(){return{}},Kn.stubString=function(){return""},Kn.stubTrue=function(){return!0},Kn.multiply=ks,Kn.nth=function(t,e){return t&&t.length?Vr(t,gu(e)):r},Kn.noConflict=function(){return ve._===this&&(ve._=Kt),this},Kn.noop=cs,Kn.now=Ma,Kn.pad=function(t,e,n){t=bu(t);var r=(e=gu(e))?dn(t):0;if(!e||r>=e)return t;var o=(e-r)/2;return qo(me(o),n)+t+qo(ge(o),n)},Kn.padEnd=function(t,e,n){t=bu(t);var r=(e=gu(e))?dn(t):0;return e&&r<e?t+qo(e-r,n):t},Kn.padStart=function(t,e,n){t=bu(t);var r=(e=gu(e))?dn(t):0;return e&&r<e?qo(e-r,n)+t:t},Kn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),Pn(bu(t).replace(at,""),e||0)},Kn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&Ci(t,e,n)&&(e=n=r),n===r&&("boolean"==typeof e?(n=e,e=r):"boolean"==typeof t&&(n=t,t=r)),t===r&&e===r?(t=0,e=1):(t=vu(t),e===r?(e=t,t=0):e=vu(e)),t>e){var o=t;t=e,e=o}if(n||t%1||e%1){var i=kn();return wn(t+i*(e-t+fe("1e-"+((i+"").length-1))),e)}return Zr(t,e)},Kn.reduce=function(t,e,n){var r=Ha(t)?Ie:$e,o=arguments.length<3;return r(t,fi(e,4),n,o,dr)},Kn.reduceRight=function(t,e,n){var r=Ha(t)?Le:$e,o=arguments.length<3;return r(t,fi(e,4),n,o,vr)},Kn.repeat=function(t,e,n){return e=(n?Ci(t,e,n):e===r)?1:gu(e),Jr(bu(t),e)},Kn.replace=function(){var t=arguments,e=bu(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Kn.result=function(t,e,n){var o=-1,i=(e=Co(e,t)).length;for(i||(i=1,t=r);++o<i;){var a=null==t?r:t[ji(e[o])];a===r&&(o=i,a=n),t=Qa(a)?a.call(t):a}return t},Kn.round=Ts,Kn.runInContext=t,Kn.sample=function(t){return(Ha(t)?Qn:Qr)(t)},Kn.size=function(t){if(null==t)return 0;if(Ya(t))return lu(t)?dn(t):t.length;var e=mi(t);return e==T||e==N?t.size:Lr(t).length},Kn.snakeCase=$u,Kn.some=function(t,e,n){var o=Ha(t)?je:ao;return n&&Ci(t,e,n)&&(e=r),o(t,fi(e,3))},Kn.sortedIndex=function(t,e){return uo(t,e)},Kn.sortedIndexBy=function(t,e,n){return so(t,e,fi(n,2))},Kn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=uo(t,e);if(r<n&&Ka(t[r],e))return r}return-1},Kn.sortedLastIndex=function(t,e){return uo(t,e,!0)},Kn.sortedLastIndexBy=function(t,e,n){return so(t,e,fi(n,2),!0)},Kn.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=uo(t,e,!0)-1;if(Ka(t[n],e))return n}return-1},Kn.startCase=Zu,Kn.startsWith=function(t,e,n){return t=bu(t),n=null==n?0:lr(gu(n),0,t.length),e=fo(e),t.slice(n,n+e.length)==e},Kn.subtract=xs,Kn.sum=function(t){return t&&t.length?Ze(t,is):0},Kn.sumBy=function(t,e){return t&&t.length?Ze(t,fi(e,2)):0},Kn.template=function(t,e,n){var o=Kn.templateSettings;n&&Ci(t,e,n)&&(e=r),t=bu(t),e=Pu({},e,o,ei);var i,a,u=Pu({},e.imports,o.imports,ei),s=Ou(u),l=tn(u,s),c=0,f=e.interpolate||Ct,h="__p += '",p=St((e.escape||Ct).source+"|"+f.source+"|"+(f===tt?dt:Ct).source+"|"+(e.evaluate||Ct).source+"|$","g"),d="//# sourceURL="+(It.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ue+"]")+"\n";t.replace(p,(function(e,n,r,o,u,s){return r||(r=o),h+=t.slice(c,s).replace(Pt,un),n&&(i=!0,h+="' +\n__e("+n+") +\n'"),u&&(a=!0,h+="';\n"+u+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=s+e.length,e})),h+="';\n";var v=It.call(e,"variable")&&e.variable;if(v){if(ht.test(v))throw new Tt("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(a?h.replace(V,""):h).replace(H,"$1").replace(q,"$1;"),h="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=ts((function(){return xt(s,d+"return "+h).apply(r,l)}));if(g.source=h,Xa(g))throw g;return g},Kn.times=function(t,e){if((t=gu(t))<1||t>d)return[];var n=g,r=wn(t,g);e=fi(e),t-=g;for(var o=Je(r,e);++n<t;)e(n);return o},Kn.toFinite=vu,Kn.toInteger=gu,Kn.toLength=mu,Kn.toLower=function(t){return bu(t).toLowerCase()},Kn.toNumber=yu,Kn.toSafeInteger=function(t){return t?lr(gu(t),-9007199254740991,d):0===t?t:0},Kn.toString=bu,Kn.toUpper=function(t){return bu(t).toUpperCase()},Kn.trim=function(t,e,n){if((t=bu(t))&&(n||e===r))return Xe(t);if(!t||!(e=fo(e)))return t;var o=vn(t),i=vn(e);return ko(o,nn(o,i),rn(o,i)+1).join("")},Kn.trimEnd=function(t,e,n){if((t=bu(t))&&(n||e===r))return t.slice(0,gn(t)+1);if(!t||!(e=fo(e)))return t;var o=vn(t);return ko(o,0,rn(o,vn(e))+1).join("")},Kn.trimStart=function(t,e,n){if((t=bu(t))&&(n||e===r))return t.replace(at,"");if(!t||!(e=fo(e)))return t;var o=vn(t);return ko(o,nn(o,vn(e))).join("")},Kn.truncate=function(t,e){var n=30,o="...";if(nu(e)){var i="separator"in e?e.separator:i;n="length"in e?gu(e.length):n,o="omission"in e?fo(e.omission):o}var a=(t=bu(t)).length;if(sn(t)){var u=vn(t);a=u.length}if(n>=a)return t;var s=n-dn(o);if(s<1)return o;var l=u?ko(u,0,s).join(""):t.slice(0,s);if(i===r)return l+o;if(u&&(s+=l.length-s),uu(i)){if(t.slice(s).search(i)){var c,f=l;for(i.global||(i=St(i.source,bu(vt.exec(i))+"g")),i.lastIndex=0;c=i.exec(f);)var h=c.index;l=l.slice(0,h===r?s:h)}}else if(t.indexOf(fo(i),s)!=s){var p=l.lastIndexOf(i);p>-1&&(l=l.slice(0,p))}return l+o},Kn.unescape=function(t){return(t=bu(t))&&Z.test(t)?t.replace(Y,mn):t},Kn.uniqueId=function(t){var e=++Lt;return bu(t)+e},Kn.upperCase=Ju,Kn.upperFirst=Xu,Kn.each=ba,Kn.eachRight=wa,Kn.first=Yi,ls(Kn,(Ps={},Cr(Kn,(function(t,e){It.call(Kn.prototype,e)||(Ps[e]=t)})),Ps),{chain:!1}),Kn.VERSION="4.17.21",Se(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Kn[t].placeholder=Kn})),Se(["drop","take"],(function(t,e){Hn.prototype[t]=function(n){n=n===r?1:bn(gu(n),0);var o=this.__filtered__&&!e?new Hn(this):this.clone();return o.__filtered__?o.__takeCount__=wn(n,o.__takeCount__):o.__views__.push({size:wn(n,g),type:t+(o.__dir__<0?"Right":"")}),o},Hn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Se(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;Hn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:fi(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),Se(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Hn.prototype[t]=function(){return this[n](1).value()[0]}})),Se(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Hn.prototype[t]=function(){return this.__filtered__?new Hn(this):this[n](1)}})),Hn.prototype.compact=function(){return this.filter(is)},Hn.prototype.find=function(t){return this.filter(t).head()},Hn.prototype.findLast=function(t){return this.reverse().find(t)},Hn.prototype.invokeMap=Xr((function(t,e){return"function"==typeof t?new Hn(this):this.map((function(n){return Dr(n,t,e)}))})),Hn.prototype.reject=function(t){return this.filter(Ia(fi(t)))},Hn.prototype.slice=function(t,e){t=gu(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Hn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==r&&(n=(e=gu(e))<0?n.dropRight(-e):n.take(e-t)),n)},Hn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Hn.prototype.toArray=function(){return this.take(g)},Cr(Hn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),o=/^(?:head|last)$/.test(e),i=Kn[o?"take"+("last"==e?"Right":""):e],a=o||/^find/.test(e);i&&(Kn.prototype[e]=function(){var e=this.__wrapped__,u=o?[1]:arguments,s=e instanceof Hn,l=u[0],c=s||Ha(e),f=function(t){var e=i.apply(Kn,We([t],u));return o&&h?e[0]:e};c&&n&&"function"==typeof l&&1!=l.length&&(s=c=!1);var h=this.__chain__,p=!!this.__actions__.length,d=a&&!h,v=s&&!p;if(!a&&c){e=v?e:new Hn(this);var g=t.apply(e,u);return g.__actions__.push({func:va,args:[f],thisArg:r}),new Vn(g,h)}return d&&v?t.apply(this,u):(g=this.thru(f),d?o?g.value()[0]:g.value():g)})})),Se(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Dt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Kn.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var o=this.value();return e.apply(Ha(o)?o:[],t)}return this[n]((function(n){return e.apply(Ha(n)?n:[],t)}))}})),Cr(Hn.prototype,(function(t,e){var n=Kn[e];if(n){var r=n.name+"";It.call(On,r)||(On[r]=[]),On[r].push({name:e,func:n})}})),On[Go(r,2).name]=[{name:"wrapper",func:r}],Hn.prototype.clone=function(){var t=new Hn(this.__wrapped__);return t.__actions__=Do(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Do(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Do(this.__views__),t},Hn.prototype.reverse=function(){if(this.__filtered__){var t=new Hn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Hn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Ha(t),r=e<0,o=n?t.length:0,i=function(t,e,n){var r=-1,o=n.length;for(;++r<o;){var i=n[r],a=i.size;switch(i.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=wn(e,t+a);break;case"takeRight":t=bn(t,e-a)}}return{start:t,end:e}}(0,o,this.__views__),a=i.start,u=i.end,s=u-a,l=r?u:a-1,c=this.__iteratees__,f=c.length,h=0,p=wn(s,this.__takeCount__);if(!n||!r&&o==s&&p==s)return mo(t,this.__actions__);var d=[];t:for(;s--&&h<p;){for(var v=-1,g=t[l+=e];++v<f;){var m=c[v],y=m.iteratee,_=m.type,b=y(g);if(2==_)g=b;else if(!b){if(1==_)continue t;break t}}d[h++]=g}return d},Kn.prototype.at=ga,Kn.prototype.chain=function(){return da(this)},Kn.prototype.commit=function(){return new Vn(this.value(),this.__chain__)},Kn.prototype.next=function(){this.__values__===r&&(this.__values__=du(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?r:this.__values__[this.__index__++]}},Kn.prototype.plant=function(t){for(var e,n=this;n instanceof Un;){var o=zi(n);o.__index__=0,o.__values__=r,e?i.__wrapped__=o:e=o;var i=o;n=n.__wrapped__}return i.__wrapped__=t,e},Kn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Hn){var e=t;return this.__actions__.length&&(e=new Hn(this)),(e=e.reverse()).__actions__.push({func:va,args:[na],thisArg:r}),new Vn(e,this.__chain__)}return this.thru(na)},Kn.prototype.toJSON=Kn.prototype.valueOf=Kn.prototype.value=function(){return mo(this.__wrapped__,this.__actions__)},Kn.prototype.first=Kn.prototype.head,Qt&&(Kn.prototype[Qt]=function(){return this}),Kn}();me?((me.exports=yn)._=yn,ge._=yn):ve._=yn}).call(h)}(p,p.exports);var d=p.exports,v=require("spark-md5"),g=function(t,e){void 0===e&&(e=[]);var n="n";if(e.length>0&&(n+="".concat(e[0].token).concat(e[0].value)),t){var r=t.getPath();r.length>0&&(n=r.map((function(t){return t.model.id})).join("=>")+"=>".concat(n))}return v.hash(n).slice(0,6)};function m(t,e){void 0===e&&(e=["C","TM","GN","PC"]);for(var n,r=[],o=new RegExp("\\b(".concat(e.join("|"),")\\["),"g"),i=function(){var e=n.index,o=e+n[1].length+1,i=r.some((function(t){var n=a(t,2),r=n[0],o=n[1];return e>=r&&e<=o}));if(i)return"continue";for(var u=o,s=!1;u<t.length;){var l=t[u];if(s)s=!1;else if("\\"===l)s=!0;else if("]"===l)break;u++}u<t.length&&r.push([o,u])};null!==(n=o.exec(t));)i();return r}function y(t,e){for(var n=0,r=e.length-1;n<=r;){var o=n+r>>1,i=a(e[o],2),u=i[0],s=i[1];if(t<u)r=o-1;else{if(!(t>s))return!0;n=o+1}}return!1}var _,b,w,C,P,k,T,x,A,M,S=function(t){return d.filter(t,(function(e,n){return n===d.findLastIndex(t,(function(t){return e.token===t.token&&e.value===t.value}))}))},N=function(t){return t.model.moveProps.length>0},R=function(t){return t.model.setupProps.length>0},D=function(t,e){var n=t.getPath().filter((function(t){return N(t)})).length;return e&&(n+=e.getPath().filter((function(t){return N(t)})).length),n};t.ThemePropertyKey=void 0,(_=t.ThemePropertyKey||(t.ThemePropertyKey={})).PositiveNodeColor="positiveNodeColor",_.NegativeNodeColor="negativeNodeColor",_.NeutralNodeColor="neutralNodeColor",_.DefaultNodeColor="defaultNodeColor",_.WarningNodeColor="warningNodeColor",_.ShadowColor="shadowColor",_.BoardLineColor="boardLineColor",_.ActiveColor="activeColor",_.InactiveColor="inactiveColor",_.BoardBackgroundColor="boardBackgroundColor",_.FlatBlackColor="flatBlackColor",_.FlatBlackColorAlt="flatBlackColorAlt",_.FlatWhiteColor="flatWhiteColor",_.FlatWhiteColorAlt="flatWhiteColorAlt",_.BoardEdgeLineWidth="boardEdgeLineWidth",_.BoardLineWidth="boardLineWidth",_.BoardLineExtent="boardLineExtent",_.StarSize="starSize",_.MarkupLineWidth="markupLineWidth",_.HighlightColor="highlightColor",t.Ki=void 0,(b=t.Ki||(t.Ki={}))[b.Black=1]="Black",b[b.White=-1]="White",b[b.Empty=0]="Empty",t.Theme=void 0,(w=t.Theme||(t.Theme={})).BlackAndWhite="black_and_white",w.Flat="flat",w.Subdued="subdued",w.ShellStone="shell_stone",w.SlateAndShell="slate_and_shell",w.Walnut="walnut",w.Photorealistic="photorealistic",w.Dark="dark",w.Warm="warm",w.YunziMonkeyDark="yunzi_monkey_dark",w.HighContrast="high_contrast",t.AnalysisPointTheme=void 0,(C=t.AnalysisPointTheme||(t.AnalysisPointTheme={})).Default="default",C.Problem="problem",C.Scenario="scenario",t.Center=void 0,(P=t.Center||(t.Center={})).Left="l",P.Right="r",P.Top="t",P.Bottom="b",P.TopRight="tr",P.TopLeft="tl",P.BottomLeft="bl",P.BottomRight="br",P.Center="c",t.Effect=void 0,(k=t.Effect||(t.Effect={})).None="",k.Ban="ban",k.Dim="dim",k.Highlight="highlight",t.Markup=void 0,function(t){t.Current="cu",t.Circle="ci",t.CircleSolid="cis",t.Square="sq",t.SquareSolid="sqs",t.Triangle="tri",t.Cross="cr",t.GreenPlus="gplus",t.RedCross="rcross",t.YellowTriangle="ytri",t.Number="num",t.Letter="le",t.PositiveNode="pos",t.PositiveActiveNode="posa",t.PositiveDashedNode="posda",t.PositiveDottedNode="posdt",t.PositiveDashedActiveNode="posdaa",t.PositiveDottedActiveNode="posdta",t.NegativeNode="neg",t.NegativeActiveNode="nega",t.NegativeDashedNode="negda",t.NegativeDottedNode="negdt",t.NegativeDashedActiveNode="negdaa",t.NegativeDottedActiveNode="negdta",t.NeutralNode="neu",t.NeutralActiveNode="neua",t.NeutralDashedNode="neuda",t.NeutralDottedNode="neudt",t.NeutralDashedActiveNode="neudta",t.NeutralDottedActiveNode="neudaa",t.WarningNode="wa",t.WarningActiveNode="waa",t.WarningDashedNode="wada",t.WarningDottedNode="wadt",t.WarningDashedActiveNode="wadaa",t.WarningDottedActiveNode="wadta",t.DefaultNode="de",t.DefaultActiveNode="dea",t.DefaultDashedNode="deda",t.DefaultDottedNode="dedt",t.DefaultDashedActiveNode="dedaa",t.DefaultDottedActiveNode="dedta",t.Node="node",t.DashedNode="danode",t.DottedNode="dtnode",t.ActiveNode="anode",t.DashedActiveNode="danode",t.Highlight="hl",t.None=""}(t.Markup||(t.Markup={})),t.Cursor=void 0,(T=t.Cursor||(t.Cursor={})).None="",T.BlackStone="b",T.WhiteStone="w",T.Circle="c",T.Square="s",T.Triangle="tri",T.Cross="cr",T.Clear="cl",T.Text="t",t.ProblemAnswerType=void 0,(x=t.ProblemAnswerType||(t.ProblemAnswerType={})).Right="1",x.Wrong="2",x.Variant="3",t.PathDetectionStrategy=void 0,(A=t.PathDetectionStrategy||(t.PathDetectionStrategy={})).Post="post",A.Pre="pre",A.Both="both";var O="https://s.shaowq.com",B={positiveNodeColor:"#4d7c0f",negativeNodeColor:"#b91c1c",neutralNodeColor:"#a16207",defaultNodeColor:"#404040",warningNodeColor:"#ffdf20",shadowColor:"#555555",boardLineColor:"#000000",activeColor:"#000000",inactiveColor:"#666666",boardBackgroundColor:"#FFFFFF",flatBlackColor:"#000000",flatBlackColorAlt:"#000000",flatWhiteColor:"#FFFFFF",flatWhiteColorAlt:"#FFFFFF",boardEdgeLineWidth:2,boardLineWidth:1.2,boardLineExtent:.5,starSize:3,markupLineWidth:2,highlightColor:"#ffeb64",stoneRatio:.45},E=["A","B","C","D","E","F","G","H","J","K","L","M","N","O","P","Q","R","S","T"],W=[19,18,17,16,15,14,13,12,11,10,9,8,7,6,5,4,3,2,1],I=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s"],L={boardSize:19,padding:15,extent:2,interactive:!1,coordinate:!0,theme:t.Theme.Flat,background:!1,zoom:!1,showAnalysis:!1},j=((M={})[t.Theme.BlackAndWhite]={blacks:[],whites:[]},M[t.Theme.Subdued]={board:"".concat(O,"/assets/theme/subdued/board.png"),blacks:["".concat(O,"/assets/theme/subdued/black.png")],whites:["".concat(O,"/assets/theme/subdued/white.png")]},M[t.Theme.ShellStone]={board:"".concat(O,"/assets/theme/shell-stone/board.png"),blacks:["".concat(O,"/assets/theme/shell-stone/black.png")],whites:["".concat(O,"/assets/theme/shell-stone/white0.png"),"".concat(O,"/assets/theme/shell-stone/white1.png"),"".concat(O,"/assets/theme/shell-stone/white2.png"),"".concat(O,"/assets/theme/shell-stone/white3.png"),"".concat(O,"/assets/theme/shell-stone/white4.png")]},M[t.Theme.SlateAndShell]={board:"".concat(O,"/assets/theme/slate-and-shell/board.png"),blacks:["".concat(O,"/assets/theme/slate-and-shell/slate1.png"),"".concat(O,"/assets/theme/slate-and-shell/slate2.png"),"".concat(O,"/assets/theme/slate-and-shell/slate3.png"),"".concat(O,"/assets/theme/slate-and-shell/slate4.png"),"".concat(O,"/assets/theme/slate-and-shell/slate5.png")],whites:["".concat(O,"/assets/theme/slate-and-shell/shell1.png"),"".concat(O,"/assets/theme/slate-and-shell/shell2.png"),"".concat(O,"/assets/theme/slate-and-shell/shell3.png"),"".concat(O,"/assets/theme/slate-and-shell/shell4.png"),"".concat(O,"/assets/theme/slate-and-shell/shell5.png")]},M[t.Theme.Walnut]={board:"".concat(O,"/assets/theme/walnut/board.jpg"),blacks:["".concat(O,"/assets/theme/walnut/black.png")],whites:["".concat(O,"/assets/theme/walnut/white.png")]},M[t.Theme.Photorealistic]={board:"".concat(O,"/assets/theme/photorealistic/board.png"),blacks:["".concat(O,"/assets/theme/photorealistic/black.png")],whites:["".concat(O,"/assets/theme/photorealistic/white.png")]},M[t.Theme.Flat]={blacks:[],whites:[]},M[t.Theme.Warm]={blacks:[],whites:[]},M[t.Theme.Dark]={blacks:[],whites:[]},M[t.Theme.YunziMonkeyDark]={board:"".concat(O,"/assets/theme/ymd/yunzi-monkey-dark/YMD-Bo-V10_lessborder1920px.png"),blacks:["".concat(O,"/assets/theme/ymd/yunzi-monkey-dark/YMD-B-v14-338px.png")],whites:["".concat(O,"/assets/theme/ymd/yunzi-monkey-dark/YMD-W-v14-338px.png")],lowRes:{board:"".concat(O,"/assets/theme/ymd/yunzi-monkey-dark/YMD-Bo-V10_lessborder-960px.png"),blacks:["".concat(O,"/assets/theme/ymd/yunzi-monkey-dark/YMD-B-v14-135px.png")],whites:["".concat(O,"/assets/theme/ymd/yunzi-monkey-dark/YMD-W-v14-135px.png")]},microRes:{board:"".concat(O,"/assets/theme/ymd/YMD-Bo-V10_lessborder-960px.png"),blacks:["".concat(O,"/assets/theme/ymd/YMD-B_197to59px.png")],whites:["".concat(O,"/assets/theme/ymd/YMD-W_197to59px.png")]}},M[t.Theme.HighContrast]={blacks:[],whites:[]},M),F="rgba(136, 170, 60, 1)",z="rgba(206, 210, 83, 1)",K="rgba(242, 217, 60, 1)",G="rgba(236, 146, 73, 1)",U=["B","MN","W"],V=["AB","AE","AW"],H=["A","C","DM","GB","GW","HO","N","UC","V"],q=["BM","DO","IT"],Y=["AR","CR","LB","LN","MA","SL","SQ","TR"],$=["AP","CA","FF","GM","ST","SZ"],Z=["TE","KO","AN","BR","BT","CP","DT","EV","GN","GC","ON","OT","PB","PC","PW","RE","RO","RU","SO","TM","US","WR","WT"],J=["PI","PAI","NID","PAT"],X=["AB","AE","AW","MA","SL","SQ","TR"],Q=new RegExp(/([A-Z]*)\[([\s\S]*?)\]/),tt=new RegExp(/([A-Z]*)\[((?:[^\]\\]|\\.)*)\]/),et=function(){function t(t,e){this.type="-",this._value="",this._values=[],this.token=t,"string"==typeof e||e instanceof String?this.value=e:Array.isArray(e)&&(this.values=e)}return Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t,X.includes(this.token)?this._values=t.split(","):this._values=[t]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"values",{get:function(){return this._values},set:function(t){this._values=t,this._value=t.join(",")},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"".concat(this.token).concat(this._values.map((function(t){return"[".concat(t,"]")})).join(""))},t}(),nt=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.type="move",r}return r(e,t),e.from=function(t){var n=t.match(/([A-Z]*)\[([\s\S]*?)\]/);return n?new e(n[1],n[2]):new e("","")},Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t,X.includes(this.token)?this._values=t.split(","):this._values=[t]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"values",{get:function(){return this._values},set:function(t){this._values=t,this._value=t.join(",")},enumerable:!1,configurable:!0}),e}(et),rt=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.type="setup",r}return r(e,t),e.from=function(t){var n=t.match(Q),r="",o=u([],a(t.matchAll(/\[([\s\S]*?)\]/g)),!1).map((function(t){return t[1]}));return n&&(r=n[1]),new e(r,o)},Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t,X.includes(this.token)?this._values=t.split(","):this._values=[t]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"values",{get:function(){return this._values},set:function(t){this._values=t,this._value=t.join(",")},enumerable:!1,configurable:!0}),e}(et),ot=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.type="node-annotation",r}return r(e,t),e.from=function(t){var n=t.match(tt);return n?new e(n[1],n[2]):new e("","")},Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t,X.includes(this.token)?this._values=t.split(","):this._values=[t]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"values",{get:function(){return this._values},set:function(t){this._values=t,this._value=t.join(",")},enumerable:!1,configurable:!0}),e.prototype.escapeValue=function(t){return t.replace(/(?<!\\)\]/g,"\\]")},e.prototype.toString=function(){var t=this;return"".concat(this.token).concat(this._values.map((function(e){return"[".concat(t.escapeValue(e),"]")})).join(""))},e}(et),it=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.type="move-annotation",r}return r(e,t),e.from=function(t){var n=t.match(tt);return n?new e(n[1],n[2]):new e("","")},Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t,X.includes(this.token)?this._values=t.split(","):this._values=[t]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"values",{get:function(){return this._values},set:function(t){this._values=t,this._value=t.join(",")},enumerable:!1,configurable:!0}),e}(et),at=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(et),ut=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.type="markup",r}return r(e,t),e.from=function(t){var n=t.match(Q),r="",o=u([],a(t.matchAll(/\[([\s\S]*?)\]/g)),!1).map((function(t){return t[1]}));return n&&(r=n[1]),new e(r,o)},Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t,X.includes(this.token)?this._values=t.split(","):this._values=[t]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"values",{get:function(){return this._values},set:function(t){this._values=t,this._value=t.join(",")},enumerable:!1,configurable:!0}),e}(et),st=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.type="root",r}return r(e,t),e.from=function(t){var n=t.match(tt);return n?new e(n[1],n[2]):new e("","")},Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t,X.includes(this.token)?this._values=t.split(","):this._values=[t]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"values",{get:function(){return this._values},set:function(t){this._values=t,this._value=t.join(",")},enumerable:!1,configurable:!0}),e}(et),lt=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.type="game-info",r}return r(e,t),e.from=function(t){var n=t.match(tt);return n?new e(n[1],n[2]):new e("","")},Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t,X.includes(this.token)?this._values=t.split(","):this._values=[t]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"values",{get:function(){return this._values},set:function(t){this._values=t,this._value=t.join(",")},enumerable:!1,configurable:!0}),e}(et),ct=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.type="custom",r}return r(e,t),e.from=function(t){var n=t.match(tt);return n?new e(n[1],n[2]):new e("","")},Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t,X.includes(this.token)?this._values=t.split(","):this._values=[t]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"values",{get:function(){return this._values},set:function(t){this._values=t,this._value=t.join(",")},enumerable:!1,configurable:!0}),e}(et),ft=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.type="Timing",r}return r(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t,X.includes(this.token)?this._values=t.split(","):this._values=[t]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"values",{get:function(){return this._values},set:function(t){this._values=t,this._value=t.join(",")},enumerable:!1,configurable:!0}),e}(et),ht=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(et),pt=0,dt=[],vt=function(t){return[t.length,t.length>0?t[0].length:0]},gt=function(t,e,n,r){var o=vt(t);e>=0&&e<o[1]&&n>=0&&n<o[0]&&(t[e][n]!==r||dt.includes("".concat(e,",").concat(n))?0===t[e][n]&&(pt+=1):(dt.push("".concat(e,",").concat(n)),gt(t,e-1,n,r),gt(t,e+1,n,r),gt(t,e,n-1,r),gt(t,e,n+1,r)))},mt=function(t,e,n,r){var o=vt(t);return pt=0,dt=[],e<0||n<0||e>o[1]-1||n>o[0]-1||0===t[e][n]?{liberty:4,recursionPath:[]}:(gt(t,e,n,r),{liberty:pt,recursionPath:dt})},yt=function(t,e,n,r){var o=t,i=mt(t,e,n-1,r),a=i.liberty,u=i.recursionPath,s=mt(t,e,n+1,r),l=s.liberty,c=s.recursionPath,f=mt(t,e-1,n,r),h=f.liberty,p=f.recursionPath,d=mt(t,e+1,n,r),v=d.liberty,g=d.recursionPath;return 0===a&&u.forEach((function(t){var e=t.split(",");o[parseInt(e[0])][parseInt(e[1])]=0})),0===l&&c.forEach((function(t){var e=t.split(",");o[parseInt(e[0])][parseInt(e[1])]=0})),0===h&&p.forEach((function(t){var e=t.split(",");o[parseInt(e[0])][parseInt(e[1])]=0})),0===v&&g.forEach((function(t){var e=t.split(",");o[parseInt(e[0])][parseInt(e[1])]=0})),o},_t=function(t,e,n,r){var o=mt(t,e,n-1,r),i=o.liberty,a=o.recursionPath,u=mt(t,e,n+1,r),s=u.liberty,l=u.recursionPath,c=mt(t,e-1,n,r),f=c.liberty,h=c.recursionPath,p=mt(t,e+1,n,r),d=p.liberty,v=p.recursionPath;return 0===i&&a.length>0||(0===s&&l.length>0||(0===f&&h.length>0||0===d&&v.length>0))},bt=function(t,e,n,r,o){var i,a;if(e<0||n<0||e>=t.length||n>=(null!==(a=null===(i=t[0])||void 0===i?void 0:i.length)&&void 0!==a?a:0))return!1;if(0!==t[e][n])return!1;var u=function(t,e,n,r){var o=d.cloneDeep(t);return o[e][n]=r,yt(o,e,n,-r)}(t,e,n,r);if(o&&function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++){if(t[n].length!==e[n].length)return!1;for(var r=0;r<t[n].length;r++)if(t[n][r]!==e[n][r])return!1}return!0}(u,o))return!1;var s=d.cloneDeep(t);s[e][n]=r;var l=mt(s,e,n,r).liberty;return!!_t(s,e,n,-r)||!_t(s,e,n,r)&&0!==l},wt=function(){function t(t,e){void 0===e&&(e={ignorePropList:[],enableNodeMap:!1,enablePathMap:!1}),this.content=t,this.parseOptions=e,this.NEW_NODE=";",this.BRANCHING=["(",")"],this.PROPERTY=["[","]"],this.LIST_IDENTITIES=["AW","AB","AE","AR","CR","DD","LB","LN","MA","SL","SQ","TR","VW","TB","TW"],this.NODE_DELIMITERS=[this.NEW_NODE].concat(this.BRANCHING),this.tree=new f,this.root=null,this.node=null,this.currentNode=null,this.parentNode=null,this.nodeProps=new Map,this.nodeMap=new Map,this.pathMap=new Map,"string"==typeof t?this.parse(t):"object"==typeof t&&this.setRoot(t)}return t.prototype.setRoot=function(t){return this.root=t,this},t.prototype.toSgf=function(){return"(".concat(this.nodeToString(this.root),")")},t.prototype.toSgfWithoutAnalysis=function(){var t="(".concat(this.nodeToString(this.root),")");return d.replace(t,/](A\[.*?\])/g,"]")},t.prototype.parse=function(t){var e,n;if(t){var r=u(u(u(u(u(u(u(u([],a($),!1),a(U),!1),a(V),!1),a(Y),!1),a(H),!1),a(q),!1),a(Z),!1),a(J),!1),o=m(t,r).sort((function(t,e){return t[0]-e[0]})),s="",l=0;try{for(var c=i(o),f=c.next();!f.done;f=c.next()){var h=a(f.value,2),p=h[0],d=h[1];s+=t.slice(l,p).replace(/\s+/gm,""),s+=t.slice(p,d),l=d}}catch(t){e={error:t}}finally{try{f&&!f.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}s+=t.slice(l).replace(/\s+/gm,"");for(var v=0,_=0,b=[],w=m(t=s).sort((function(t,e){return t[0]-e[0]})),C=function(e){var n=t[e],r=y(e,w);if(P.NODE_DELIMITERS.includes(n)&&!r){var o=t.slice(v,e);if(""!==o){var i=[],s=[],l=[],c=[],f=[],h=[],p=[],d=[],m=u([],a(o.matchAll(RegExp(/\w+(?:\[(?:[^\]\\]|\\.)*\])+/g))),!1);if(m.forEach((function(t){var e=t[0].match(/([A-Z]+)\[/);if(e){var n=e[1];U.includes(n)&&i.push(nt.from(t[0])),V.includes(n)&&s.push(rt.from(t[0])),$.includes(n)&&l.push(st.from(t[0])),Y.includes(n)&&c.push(ut.from(t[0])),Z.includes(n)&&f.push(lt.from(t[0])),H.includes(n)&&h.push(ot.from(t[0])),q.includes(n)&&p.push(it.from(t[0])),J.includes(n)&&d.push(ct.from(t[0]))}})),m.length>0){var C=g(P.currentNode,i),k=P.tree.parse({id:C,name:C,index:_,number:0,moveProps:i,setupProps:s,rootProps:l,markupProps:c,gameInfoProps:f,nodeAnnotationProps:h,moveAnnotationProps:p,customProps:d});if(P.currentNode?(P.currentNode.addChild(k),k.model.number=D(k)):(P.root=k,P.parentNode=k),P.currentNode=k,P.parseOptions.enableNodeMap&&P.nodeMap.set(k.model.id,k),P.parseOptions.enablePathMap)if(k.parent){var T=P.pathMap.get(k.parent.model.id);T&&P.pathMap.set(k.model.id,u(u([],a(T),!1),[k],!1))}else P.pathMap.set(k.model.id,[k]);_+=1}}}("("===n&&P.currentNode&&!r&&b.push(P.currentNode),")"===n&&!r&&b.length>0)&&((k=b.pop())&&(P.currentNode=k));P.NODE_DELIMITERS.includes(n)&&!r&&(v=e)},P=this,k=0;k<t.length;k++)C(k)}},t.prototype.nodeToString=function(t){var e=this,n="";return t.walk((function(t){var r=t.model,o=r.rootProps,i=r.moveProps,s=r.customProps,l=r.setupProps,c=r.markupProps,f=r.nodeAnnotationProps,h=r.moveAnnotationProps,p=r.gameInfoProps,v=d.compact(u(u(u(u(u(u(u(u([],a(o),!1),a(s),!1),a(i),!1),a(S(l)),!1),a(S(c)),!1),a(p),!1),a(f),!1),a(h),!1));return n+=";",v.forEach((function(t){n+=t.toString()})),t.children.length>1&&t.children.forEach((function(t){n+="(".concat(e.nodeToString(t),")")})),t.children.length<2})),n},t}();require("spark-md5");var Ct=function(t,e,n){return void 0===e&&(e=1),void 0===n&&(n=3),(Math.round(1e3*t)/1e3*e).toFixed(n)},Pt=function(t){var e,n=null===(e=t.model.nodeAnnotationProps)||void 0===e?void 0:e.find((function(t){return"C"===t.token}));return!!(null==n?void 0:n.value.includes("CHOICE"))},kt=Pt,Tt=function(t){var e,n=null===(e=t.model.nodeAnnotationProps)||void 0===e?void 0:e.find((function(t){return"C"===t.token}));return null==n?void 0:n.value.includes("FORCE")},xt=function(t){var e,n=null===(e=t.model.nodeAnnotationProps)||void 0===e?void 0:e.find((function(t){return"C"===t.token}));return null==n?void 0:n.value.includes("NOTTHIS")},At=function(t){var e,n=null===(e=t.model.nodeAnnotationProps)||void 0===e?void 0:e.find((function(t){return"C"===t.token}));return!!(null==n?void 0:n.value.includes("RIGHT"))},Mt=function(t){var e=t.getPath()[0].first((function(t){return At(t)}));return(null==e?void 0:e.model.id)===t.model.id},St=function(t){var e,n=null===(e=t.model.nodeAnnotationProps)||void 0===e?void 0:e.find((function(t){return"C"===t.token}));return!!(null==n?void 0:n.value.includes("VARIANT"))},Nt=function(t){var e,n=null===(e=t.model.nodeAnnotationProps)||void 0===e?void 0:e.find((function(t){return"C"===t.token}));return!(null==n?void 0:n.value.includes("VARIANT"))&&!(null==n?void 0:n.value.includes("RIGHT"))||!n},Rt=function(e,n,r,o,i){var a;void 0===r&&(r=t.PathDetectionStrategy.Post);var u=null!=o?o:e.getPath(),s=null!==(a=null==i?void 0:i.filter((function(t){return n(t)})))&&void 0!==a?a:e.all((function(t){return n(t)})),l=u.filter((function(t){return n(t)}));switch(r){case t.PathDetectionStrategy.Post:return s.length>0;case t.PathDetectionStrategy.Pre:return l.length>0;case t.PathDetectionStrategy.Both:return l.length>0||s.length>0;default:return!1}},Dt=function(e,n,r,o){return void 0===n&&(n=t.PathDetectionStrategy.Post),Rt(e,At,n,r,o)},Ot=function(e,n,r,o){return void 0===n&&(n=t.PathDetectionStrategy.Post),Rt(e,Pt,n,r,o)},Bt=Ot,Et=function(e,n,r,o){return void 0===n&&(n=t.PathDetectionStrategy.Post),Rt(e,St,n,r,o)},Wt=function(e,n,r,o){return void 0===n&&(n=t.PathDetectionStrategy.Post),Rt(e,Nt,n,r,o)},It=function(t,e){void 0===e&&(e=1);var n=[{value:1,symbol:""},{value:1e3,symbol:"k"},{value:1e6,symbol:"M"},{value:1e9,symbol:"G"},{value:1e12,symbol:"T"},{value:1e15,symbol:"P"},{value:1e18,symbol:"E"}].slice().reverse().find((function(e){return t>=e.value}));return n?(t/n.value).toFixed(e).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+n.symbol:"0"},Lt=function(t){var e="B"===t[0]?1:-1,n=/\[(.*)\]/.exec(t);if(n){var r=n[1];return{x:I.indexOf(r[0]),y:I.indexOf(r[1]),ki:e}}return{x:-1,y:-1,ki:0}},jt=function(t){return{x:E.indexOf(t[0]),y:W.indexOf(parseInt(t.substr(1),0))}},Ft=function(t,e){if(void 0===e&&(e=0),0===e)return t;var n=d.clone(t),r=I.indexOf(t[2])-e;return n.substr(0,2)+I[r]+n.substr(3)},zt=function(t,e,n){if(void 0===e&&(e=0),void 0===n&&(n=0),"pass"===t)return t;var r=E.indexOf(t[0])+e,o=W.indexOf(parseInt(t.substr(1),0))+n;return r<0||o<0||r>=E.length||o>=W.length?null:"".concat(E[r]).concat(W[o])},Kt=function(t,e,n,r){if(void 0===n&&(n=1),void 0===r&&(r=!1),!t||!e)return"";var o=Gt(t,e);r&&(o=-o);var i=o.toFixed(n);return o>0?"+".concat(i):"".concat(i)},Gt=function(t,e){var n="B"===t.currentPlayer?1:-1;return Math.round((e.scoreLead-t.scoreLead)*n*1e3)/1e3},Ut=function(t,e){var n="B"===t.currentPlayer?1:-1;return Math.round((e.winrate-t.winrate)*n*1e3*100)/1e3},Vt=function(t,e){var n=e.prior,r=e.order,o=Gt(t,e);return n>=.5||n>=.1&&r<3&&o>-.3||0===r||o>=0?F:n>.05&&o>-.5||n>.01&&o>-.1?z:n>.01&&o>-1?K:G},Ht=function(t,e){return{id:t,name:t,number:e||0,rootProps:[],moveProps:[],setupProps:[],markupProps:[],gameInfoProps:[],nodeAnnotationProps:[],moveAnnotationProps:[],customProps:[]}},qt=function(t,e,n){var r=new f,i=nt.from(t),a=g(e,[i]),u=1;e&&(u=D(e)+1);var s=Ht(a,u);return s.moveProps=[i],r.parse(o(o({},s),n))},Yt=function(t){return new Array(t[0]).fill(0).map((function(){return new Array(t[1]).fill(0)}))},$t=function(t){return new Array(t[0]).fill("").map((function(){return new Array(t[1]).fill("")}))},Zt=function(t,e){void 0===e&&(e=19);for(var n=e-1,r=0,o=e-1,i=0,a=0;a<t.length;a++)for(var u=0;u<t[a].length;u++){0!==t[a][u]&&(n>a&&(n=a),r<a&&(r=a),o>u&&(o=u),i<u&&(i=u))}return{leftMost:n,rightMost:r,topMost:o,bottomMost:i}},Jt=function(e,n){void 0===n&&(n=19);var r=Zt(e,n),o=r.leftMost,i=r.rightMost,a=r.topMost<n-1-r.bottomMost,u=o<n-1-i;return a&&u?t.Center.TopLeft:!a&&u?t.Center.BottomLeft:a&&!u?t.Center.TopRight:a||u?t.Center.Center:t.Center.BottomRight},Xt=function(e,n,r){void 0===n&&(n=19),void 0===r&&(r=2);var o=[19,19],i=Jt(e),a=Zt(e,n),u=a.leftMost,s=a.rightMost,l=a.topMost,c=a.bottomMost;return i===t.Center.TopLeft&&(o[0]=s+r+1,o[1]=c+r+1),i===t.Center.TopRight&&(o[0]=n-u+r,o[1]=c+r+1),i===t.Center.BottomLeft&&(o[0]=s+r+1,o[1]=n-l+r),i===t.Center.BottomRight&&(o[0]=n-u+r,o[1]=n-l+r),o[0]=Math.min(o[0],n),o[1]=Math.min(o[1],n),o},Qt=function(t,e,n){void 0===e&&(e=2),void 0===n&&(n=19);var r=Zt(t),o=r.leftMost,i=r.rightMost,a=r.topMost,u=r.bottomMost,s=n-1;return[[o-e<0?0:o-e,a-e<0?0:a-e],[i+e>s?s:i+e,u+e>s?s:u+e]]},te=function(e,n,r,o){void 0===n&&(n=19),void 0===r&&(r=19),void 0===o&&(o=19);var i=o-n,a=o-r,u=i,s=a;switch(Jt(e)){case t.Center.TopLeft:u=0,s=-a;break;case t.Center.TopRight:u=i,s=-a;break;case t.Center.BottomLeft:u=0,s=0;break;case t.Center.BottomRight:u=i,s=0}return{x:u,y:s}};function ee(t,e,n){void 0===t&&(t=Yt([19,19])),void 0===n&&(n=!1);for(var r=t.length,o=0,i=t[0].length,a=0,u=!0,s=0;s<t.length;s++)for(var l=0;l<t[0].length;l++)0!==t[s][l]&&(u=!1,r=Math.min(r,s),o=Math.max(o,s),i=Math.min(i,l),a=Math.max(a,l));if(u)return[[0,t.length-1],[0,t[0].length-1]];if(n)r=Math.max(0,r-e),o=Math.min(t.length-1,o+e),i=Math.max(0,i-e),a=Math.min(t[0].length-1,a+e);else{var c=Math.max(r-e,0),f=Math.min(o+e,t.length-1),h=Math.max(i-e,0),p=Math.min(a+e,t[0].length-1),d=Math.max(f-c,p-h);(o=(r=c)+d)>=t.length&&(r=(o=t.length-1)-d),(a=(i=h)+d)>=t[0].length&&(i=(a=t[0].length-1)-d)}return[[r,o],[i,a]]}function ne(t,e,n,r){if(e<0||n<0)return t;var o=d.cloneDeep(t);return o[e][n]=r,yt(o,e,n,-r)}var re=function(t,e){t.getPath().forEach((function(t){var n=t.model.setupProps;n.filter((function(t){return t.value===e})).length>0?t.model.setupProps=n.filter((function(t){return t.value!==e})):n.forEach((function(n){n.values=n.values.filter((function(t){return t!==e})),0===n.values.length&&(t.model.setupProps=t.model.setupProps.filter((function(t){return t.token!==n.token})))}))}))},oe=function(e,n){void 0===n&&(n=19);var r,o,i=e.getPath(),a=i[0],u=0,s=ae(e,n),l=Yt([s,s]),c=Yt([s,s]),f=$t([s,s]),h=$t([s,s]);return i.forEach((function(n,a){var c=n.model,p=c.moveProps,d=c.setupProps;if(c.rootProps,d.length>0&&(u+=1),p.forEach((function(e){var c=I.indexOf(e.value[0]),p=I.indexOf(e.value[1]);c<0||p<0||c<s&&p<s&&(r=c,o=p,l=ne(l,c,p,"B"===e.token?t.Ki.Black:t.Ki.White),void 0!==r&&void 0!==o&&r>=0&&o>=0&&(h[r][o]=(n.model.number||a-u).toString()),a===i.length-1&&(f[r][o]=t.Markup.Current))})),d.forEach((function(t){t.values.forEach((function(e){var n=I.indexOf(e[0]),i=I.indexOf(e[1]);n<0||i<0||n<s&&i<s&&(r=n,o=i,l[n][i]="AB"===t.token?1:-1,"AE"===t.token&&(l[n][i]=0))}))})),0===d.length&&e.isRoot()){var v=e.children[0];if(v&&R(v)&&!N(v))v.model.setupProps.forEach((function(t){t.values.forEach((function(e){var n=I.indexOf(e[0]),i=I.indexOf(e[1]);n<0||i<0||n<s&&i<s&&(r=n,o=i,l[n][i]="AB"===t.token?1:-1,"AE"===t.token&&(l[n][i]=0))}))}))}for(var g=0;g<s;g++)for(var m=0;m<s;m++)0===l[g][m]&&(h[g][m]="")})),a&&a.all((function(e){var n=e.model,r=n.moveProps,o=n.setupProps;return n.rootProps,o.length>0&&(u+=1),o.forEach((function(e){e.values.forEach((function(n){var r=I.indexOf(n[0]),o=I.indexOf(n[1]);r>=0&&o>=0&&r<s&&o<s&&(c[r][o]=t.Ki.Black,"AE"===e.token&&(c[r][o]=0))}))})),r.forEach((function(e){var n=I.indexOf(e.value[0]),r=I.indexOf(e.value[1]);n>=0&&r>=0&&n<s&&r<s&&(c[n][r]=t.Ki.Black)})),!0})),e.model.markupProps.forEach((function(e){var n=e.token;e.values.forEach((function(e){var r=I.indexOf(e[0]),o=I.indexOf(e[1]);if(!(r<0||o<0)&&r<s&&o<s){var i=void 0;switch(n){case"CR":i=t.Markup.Circle;break;case"SQ":i=t.Markup.Square;break;case"TR":i=t.Markup.Triangle;break;case"MA":i=t.Markup.Cross;break;default:i=e.split(":")[1]}f[r][o]=i}}))})),{mat:l,visibleAreaMat:c,markup:f,numMarkup:h}},ie=function(t,e){if(t)return U.includes(e)?t.model.moveProps.find((function(t){return t.token===e})):H.includes(e)?t.model.nodeAnnotationProps.find((function(t){return t.token===e})):q.includes(e)?t.model.moveAnnotationProps.find((function(t){return t.token===e})):$.includes(e)?t.model.rootProps.find((function(t){return t.token===e})):V.includes(e)?t.model.setupProps.find((function(t){return t.token===e})):Y.includes(e)?t.model.markupProps.find((function(t){return t.token===e})):Z.includes(e)?t.model.gameInfoProps.find((function(t){return t.token===e})):null},ae=function(t,e){var n;void 0===e&&(e=19);var r=t.getPath()[0];return Math.min(parseInt(String((null===(n=ie(r,"SZ"))||void 0===n?void 0:n.value)||e)),29)},ue=function(e,n){if(void 0===n&&(n=t.Ki.Black),e){var r=e.first((function(t){return R(t)}));if(r){var o=r.first((function(t){return N(t)}));return o?se(o):n}}return n},se=function(e,n){var r,o;void 0===n&&(n=t.Ki.Black);var i=null===(o=null===(r=e.model)||void 0===r?void 0:r.moveProps)||void 0===o?void 0:o[0];switch(null==i?void 0:i.token){case"W":return t.Ki.White;case"B":return t.Ki.Black;default:return n}},le=function(){function t(t,e,n,r){this.ctx=t,this.x=e,this.y=n,this.ki=r,this.globalAlpha=1,this.size=0}return t.prototype.draw=function(){},t.prototype.setGlobalAlpha=function(t){this.globalAlpha=t},t.prototype.setSize=function(t){this.size=t},t}(),ce=function(e){function n(t,n,r,o,i){var a=e.call(this,t,n,r,o)||this;return a.themeContext=i,a}return r(n,e),n.prototype.getThemeProperty=function(t){var e;if(!this.themeContext)return B[t];var n=this.themeContext,r=n.theme,o=n.themeOptions,i=o[r],a=o.default;return null!==(e=null==i?void 0:i[t])&&void 0!==e?e:a[t]},n.prototype.draw=function(){var e=this,n=e.ctx,r=e.x,o=e.y,i=e.size,a=e.ki,u=e.globalAlpha;i<=0||(n.save(),n.beginPath(),n.globalAlpha=u,n.arc(r,o,i/2,0,2*Math.PI,!0),n.lineWidth=1,n.strokeStyle=this.getThemeProperty("boardLineColor"),a===t.Ki.Black?n.fillStyle=this.getThemeProperty("flatBlackColor"):a===t.Ki.White&&(n.fillStyle=this.getThemeProperty("flatWhiteColor")),n.fill(),n.stroke(),n.restore())},n}(le),fe=function(e){function n(t,n,r,o,i,a,u,s){var l=e.call(this,t,n,r,o)||this;return l.mod=i,l.blacks=a,l.whites=u,l.themeContext=s,s&&(l.fallbackStone=new ce(t,n,r,o,s)),l}return r(n,e),n.prototype.draw=function(){var e,n=this,r=n.ctx,o=n.x,i=n.y,a=n.size,u=n.ki,s=n.blacks,l=n.whites,c=n.mod;a<=0||((e=u===t.Ki.Black?s[c%s.length]:l[c%l.length])&&e.complete&&0!==e.naturalHeight?r.drawImage(e,o-a/2,i-a/2,a,a):this.fallbackStone&&(this.fallbackStone.setSize(a),this.fallbackStone.draw()))},n.prototype.setSize=function(t){e.prototype.setSize.call(this,t),this.fallbackStone&&this.fallbackStone.setSize(t)},n}(le),he=function(){function e(e){var n,r=this;this.drawProblemAnalysisPoint=function(){var t=r,e=t.ctx,n=t.x,o=t.y,i=t.r,a=t.rootInfo,u=t.moveInfo,s=t.outlineColor,l=u.order,c=Vt(a,u);if(l<5){e.beginPath(),e.arc(n,o,i,0,2*Math.PI,!0),e.lineWidth=0,e.strokeStyle="rgba(255,255,255,0)";var f=e.createRadialGradient(n,o,.9*i,n,o,i);f.addColorStop(0,c),f.addColorStop(.9,"rgba(255, 255, 255, 0"),e.fillStyle=f,e.fill(),s&&(e.beginPath(),e.arc(n,o,i,0,2*Math.PI,!0),e.lineWidth=4,e.strokeStyle=s,e.stroke());var h=i/1.5;e.font="".concat(.8*h,"px Tahoma"),e.fillStyle="black",e.textAlign="center",e.font="".concat(h,"px Tahoma");var p=Kt(a,u);e.fillText(p,n,o),e.font="".concat(.8*h,"px Tahoma"),e.fillStyle="black",e.textAlign="center",e.fillText(It(u.visits),n,o+i/2+h/8)}else r.drawCandidatePoint()},this.drawDefaultAnalysisPoint=function(){var t=r,e=t.ctx,n=t.x,o=t.y,i=t.r,a=t.rootInfo,u=t.moveInfo,s=u.order,l=Vt(a,u);if(s<5){e.beginPath(),e.arc(n,o,i,0,2*Math.PI,!0),e.lineWidth=0,e.strokeStyle="rgba(255,255,255,0)";var c=e.createRadialGradient(n,o,.9*i,n,o,i);c.addColorStop(0,l),c.addColorStop(.9,"rgba(255, 255, 255, 0"),e.fillStyle=c,e.fill();var f=i/1.5;e.font="".concat(.8*f,"px Tahoma"),e.fillStyle="black",e.textAlign="center";var h="B"===a.currentPlayer?u.winrate:1-u.winrate;e.fillText(Ct(h,100,1),n,o-i/2+f/5),e.font="".concat(f,"px Tahoma");var p=Kt(a,u);e.fillText(p,n,o+f/3),e.font="".concat(.8*f,"px Tahoma"),e.fillStyle="black",e.textAlign="center",e.fillText(It(u.visits),n,o+i/2+f/3);var d=u.order;e.fillText((d+1).toString(),n+i,o-i/2)}else r.drawCandidatePoint()},this.drawScenarioAnalysisPoint=function(){var t=r,e=t.ctx,n=t.x,o=t.y,i=t.r,a=t.rootInfo,u=t.moveInfo,s=u.order,l=Vt(a,u);if(s<9){e.beginPath(),e.arc(n,o,i,0,2*Math.PI,!0),e.lineWidth=0,e.strokeStyle="rgba(255,255,255,0)";var c=e.createRadialGradient(n,o,.9*i,n,o,i);c.addColorStop(0,l),c.addColorStop(.9,"rgba(255, 255, 255, 0"),e.fillStyle=c,e.fill();var f=i/1.5;e.font="".concat(.8*f,"px Tahoma"),e.fillStyle="black",e.textAlign="center";var h=void 0!==r.policyValue&&-1!==r.policyValue?r.policyValue:u.prior,p=Ct(h,100,1);e.fillText(p,n,o-i/2+f/5),e.font="".concat(f,"px Tahoma");var d=Kt(a,u);e.fillText(d,n,o+f/3),e.font="".concat(.8*f,"px Tahoma"),e.fillStyle="black",e.textAlign="center",e.fillText(It(u.visits),n,o+i/2+f/3);var v=u.order;e.fillText((v+1).toString(),n+i,o-i/2)}else r.drawCandidatePoint()},this.drawCandidatePoint=function(){var t=r,e=t.ctx,n=t.x,o=t.y,i=t.r,a=t.rootInfo,u=t.moveInfo,s=Vt(a,u);e.beginPath(),e.arc(n,o,.6*i,0,2*Math.PI,!0),e.lineWidth=0,e.strokeStyle="rgba(255,255,255,0)";var l=e.createRadialGradient(n,o,.4*i,n,o,i);l.addColorStop(0,s),l.addColorStop(.95,"rgba(255, 255, 255, 0"),e.fillStyle=l,e.fill(),e.stroke()},this.ctx=e.ctx,this.x=e.x,this.y=e.y,this.r=e.r,this.rootInfo=e.rootInfo,this.moveInfo=e.moveInfo,this.policyValue=e.policyValue,this.theme=null!==(n=e.theme)&&void 0!==n?n:t.AnalysisPointTheme.Default,this.outlineColor=e.outlineColor}return e.prototype.draw=function(){var e=this,n=e.ctx;e.x,e.y;var r=e.r;e.rootInfo,e.moveInfo;var o=e.theme;r<0||(n.save(),n.shadowOffsetX=0,n.shadowOffsetY=0,n.shadowColor="#fff",n.shadowBlur=0,o===t.AnalysisPointTheme.Default?this.drawDefaultAnalysisPoint():o===t.AnalysisPointTheme.Problem?this.drawProblemAnalysisPoint():o===t.AnalysisPointTheme.Scenario&&this.drawScenarioAnalysisPoint(),n.restore())},e}(),pe=function(){function t(t,e,n,r,o,i,a){void 0===a&&(a=""),this.ctx=t,this.x=e,this.y=n,this.s=r,this.ki=o,this.val=a,this.globalAlpha=1,this.color="",this.lineDash=[],this.themeContext=i}return t.prototype.draw=function(){},t.prototype.setGlobalAlpha=function(t){this.globalAlpha=t},t.prototype.setColor=function(t){this.color=t},t.prototype.setLineDash=function(t){this.lineDash=t},t.prototype.getThemeProperty=function(t){var e;if(!this.themeContext)return B[t];var n=this.themeContext,r=n.theme,o=n.themeOptions,i=o[r],a=o.default;return null!==(e=null==i?void 0:i[t])&&void 0!==e?e:a[t]},t}(),de=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.draw=function(){var e=this,n=e.ctx,r=e.x,o=e.y,i=e.s,a=e.ki,u=e.globalAlpha,s=e.color,l=.65*(.5*i);n.save(),n.beginPath(),n.globalAlpha=u,n.lineWidth=this.getThemeProperty("markupLineWidth"),n.setLineDash(this.lineDash),a===t.Ki.White?n.strokeStyle=this.getThemeProperty("flatBlackColor"):a===t.Ki.Black?n.strokeStyle=this.getThemeProperty("flatWhiteColor"):(n.strokeStyle=this.getThemeProperty("boardLineColor"),n.lineWidth=3),s&&(n.strokeStyle=s),l>0&&(n.arc(r,o,l,0,2*Math.PI,!0),n.stroke()),n.restore()},n}(pe),ve=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.draw=function(){var e=this,n=e.ctx,r=e.x,o=e.y,i=e.s,a=e.ki,u=e.globalAlpha,s=.5*i,l=.5*s;n.save(),n.beginPath(),n.lineWidth=3,n.globalAlpha=u,a===t.Ki.White?n.strokeStyle=this.getThemeProperty("flatBlackColor"):a===t.Ki.Black?n.strokeStyle=this.getThemeProperty("flatWhiteColor"):(n.strokeStyle=this.getThemeProperty("boardLineColor"),l=.58*s),n.moveTo(r-l,o-l),n.lineTo(r+l,o+l),n.moveTo(r+l,o-l),n.lineTo(r-l,o+l),n.closePath(),n.stroke(),n.restore()},n}(pe),ge=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.draw=function(){var e=this,n=e.ctx,r=e.x,o=e.y,i=e.s,a=e.ki,u=e.val,s=e.globalAlpha,l=.8*i,c=l/1.5;n.save(),n.globalAlpha=s,a===t.Ki.White?n.fillStyle=this.getThemeProperty("flatBlackColor"):a===t.Ki.Black?n.fillStyle=this.getThemeProperty("flatWhiteColor"):n.fillStyle=this.getThemeProperty("boardLineColor"),c=1===u.toString().length?l/1.5:2===u.toString().length?l/1.8:l/2,n.font="bold ".concat(c,"px Tahoma"),n.textAlign="center",n.textBaseline="middle",n.fillText(u.toString(),r,o+2),n.restore()},n}(pe),me=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.draw=function(){var e=this,n=e.ctx,r=e.x,o=e.y,i=e.s,a=e.ki,u=e.globalAlpha;n.save(),n.beginPath(),n.lineWidth=this.getThemeProperty("markupLineWidth"),n.globalAlpha=u;var s=.55*i;a===t.Ki.White?n.strokeStyle=this.getThemeProperty("flatBlackColor"):a===t.Ki.Black?n.strokeStyle=this.getThemeProperty("flatWhiteColor"):(n.strokeStyle=this.getThemeProperty("boardLineColor"),n.lineWidth=3),n.rect(r-s/2,o-s/2,s,s),n.stroke(),n.restore()},n}(pe),ye=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.draw=function(){var e=this,n=e.ctx,r=e.x,o=e.y,i=e.s,a=e.ki,u=e.globalAlpha,s=.5*i,l=.75*s;n.save(),n.beginPath(),n.globalAlpha=u,n.moveTo(r,o-l),n.lineTo(r-l*Math.cos(.523),o+l*Math.sin(.523)),n.lineTo(r+l*Math.cos(.523),o+l*Math.sin(.523)),n.lineWidth=this.getThemeProperty("markupLineWidth"),a===t.Ki.White?n.strokeStyle=this.getThemeProperty("flatBlackColor"):a===t.Ki.Black?n.strokeStyle=this.getThemeProperty("flatWhiteColor"):(n.strokeStyle=this.getThemeProperty("boardLineColor"),n.lineWidth=3,l=.7*s),n.closePath(),n.stroke(),n.restore()},n}(pe),_e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.draw=function(){var t=this,e=t.ctx,n=t.x,r=t.y,o=t.s,i=t.globalAlpha,a=.38*(.5*o);e.save(),e.beginPath(),e.globalAlpha=i,e.lineWidth=2*this.getThemeProperty("markupLineWidth"),e.strokeStyle="#22c55e",e.setLineDash(this.lineDash),e.moveTo(n-a,r),e.lineTo(n+a,r),e.moveTo(n,r-a),e.lineTo(n,r+a),e.closePath(),e.stroke(),e.restore()},e}(pe),be=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.draw=function(){var t=this,e=t.ctx,n=t.x,r=t.y,o=t.s,i=t.globalAlpha,a=.38*(.5*o);e.save(),e.beginPath(),e.lineWidth=2*this.getThemeProperty("markupLineWidth"),e.globalAlpha=i,e.strokeStyle="#ef4444",e.setLineDash(this.lineDash),e.moveTo(n-a,r-a),e.lineTo(n+a,r+a),e.moveTo(n+a,r-a),e.lineTo(n-a,r+a),e.closePath(),e.stroke(),e.restore()},e}(pe),we=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.draw=function(){var t=this,e=t.ctx,n=t.x,r=t.y,o=t.s,i=t.globalAlpha,a=.5*(.5*o);e.save(),e.beginPath(),e.globalAlpha=i,e.moveTo(n,r-a),e.lineTo(n-a*Math.cos(.523),r+a*Math.sin(.523)),e.lineTo(n+a*Math.cos(.523),r+a*Math.sin(.523)),e.lineWidth=2*this.getThemeProperty("markupLineWidth"),e.strokeStyle="#facc15",e.setLineDash(this.lineDash),e.closePath(),e.stroke(),e.restore()},e}(pe),Ce=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.draw=function(){var t=this,e=t.ctx,n=t.x,r=t.y,o=t.s;t.ki;var i=t.color,a=t.globalAlpha,u=.4*(.5*o);e.save(),e.beginPath(),e.globalAlpha=a,e.lineWidth=4,e.strokeStyle=i,e.setLineDash(this.lineDash),u>0&&(e.arc(n,r,u,0,2*Math.PI,!0),e.stroke()),e.restore()},e}(pe),Pe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.draw=function(){var t=this,e=t.ctx,n=t.x,r=t.y,o=t.s;t.ki;var i=t.color,a=t.globalAlpha,u=.5*(.5*o);e.save(),e.beginPath(),e.globalAlpha=a,e.lineWidth=4,e.strokeStyle=i,e.fillStyle=i,e.setLineDash(this.lineDash),u>0&&(e.arc(n,r,u,0,2*Math.PI,!0),e.stroke()),e.restore(),e.save(),e.beginPath(),e.fillStyle=i,u>0&&(e.arc(n,r,.4*u,0,2*Math.PI,!0),e.fill()),e.restore()},e}(pe),ke=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.draw=function(){var e=this,n=e.ctx,r=e.x,o=e.y,i=e.s,a=e.ki,u=e.globalAlpha,s=e.color,l=.65*(.25*i);n.save(),n.beginPath(),n.globalAlpha=u,n.lineWidth=this.getThemeProperty("markupLineWidth"),n.setLineDash(this.lineDash),a===t.Ki.Black?n.fillStyle=this.getThemeProperty("flatWhiteColor"):a===t.Ki.White?n.fillStyle=this.getThemeProperty("flatBlackColor"):(n.fillStyle=this.getThemeProperty("boardLineColor"),n.lineWidth=3),s&&(n.fillStyle=s),l>0&&(n.arc(r,o,l,0,2*Math.PI,!0),n.fill()),n.restore()},n}(pe),Te=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.draw=function(){var e=this,n=e.ctx,r=e.x,o=e.y,i=e.s,a=e.ki;e.globalAlpha,n.save(),n.beginPath(),n.lineWidth=this.getThemeProperty("markupLineWidth"),n.globalAlpha=.6;var u=.4*i;n.fillStyle=this.getThemeProperty("highlightColor"),a!==t.Ki.White&&a!==t.Ki.Black||(u=.35*i),n.arc(r,o,u,0,2*Math.PI,!0),n.fill(),n.restore()},n}(pe),xe=function(){function t(t,e,n,r,o){this.ctx=t,this.x=e,this.y=n,this.size=r,this.ki=o,this.globalAlpha=1,this.color=""}return t.prototype.play=function(){},t}(),Ae="function"==typeof Buffer;"function"==typeof TextDecoder&&new TextDecoder;var Me,Se="function"==typeof TextEncoder?new TextEncoder:void 0,Ne=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=");Me={},Ne.forEach((function(t,e){return Me[t]=e}));var Re=String.fromCharCode.bind(String);"function"==typeof Uint8Array.from&&Uint8Array.from.bind(Uint8Array);var De,Oe="function"==typeof btoa?function(t){return btoa(t)}:Ae?function(t){return Buffer.from(t,"binary").toString("base64")}:function(t){for(var e,n,r,o,i="",a=t.length%3,u=0;u<t.length;){if((n=t.charCodeAt(u++))>255||(r=t.charCodeAt(u++))>255||(o=t.charCodeAt(u++))>255)throw new TypeError("invalid character found");i+=Ne[(e=n<<16|r<<8|o)>>18&63]+Ne[e>>12&63]+Ne[e>>6&63]+Ne[63&e]}return a?i.slice(0,a-3)+"===".substring(a):i},Be=Ae?function(t){return Buffer.from(t).toString("base64")}:function(t){for(var e=[],n=0,r=t.length;n<r;n+=4096)e.push(Re.apply(null,t.subarray(n,n+4096)));return Oe(e.join(""))},Ee=function(t){if(t.length<2)return(e=t.charCodeAt(0))<128?t:e<2048?Re(192|e>>>6)+Re(128|63&e):Re(224|e>>>12&15)+Re(128|e>>>6&63)+Re(128|63&e);var e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return Re(240|e>>>18&7)+Re(128|e>>>12&63)+Re(128|e>>>6&63)+Re(128|63&e)},We=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,Ie=Ae?function(t){return Buffer.from(t,"utf8").toString("base64")}:Se?function(t){return Be(Se.encode(t))}:function(t){return Oe(t.replace(We,Ee))},Le='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-ban" viewBox="0 0 16 16">\n  <path d="M15 8a6.97 6.97 0 0 0-1.71-4.584l-9.874 9.875A7 7 0 0 0 15 8M2.71 12.584l9.874-9.875a7 7 0 0 0-9.874 9.874ZM16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0"/>\n</svg>',je=function(t){function e(e,n,r,o,i){var a=t.call(this,e,n,r,o,i)||this;a.ctx=e,a.x=n,a.y=r,a.size=o,a.ki=i,a.img=new Image,a.alpha=0,a.fadeInDuration=200,a.fadeOutDuration=150,a.stayDuration=400,a.startTime=performance.now(),a.isFadingOut=!1,a.play=function(){if(a.img.complete){var t=a,e=t.ctx,n=t.x,r=t.y,o=t.size,i=t.img,u=t.fadeInDuration,s=t.fadeOutDuration,l=performance.now();a.startTime||(a.startTime=l),e.clearRect(n-o/2,r-o/2,o,o),e.globalAlpha=a.alpha,e.drawImage(i,n-o/2,r-o/2,o,o),e.globalAlpha=1;var c=l-a.startTime;if(a.isFadingOut){var f=l-a.startTime;if(a.alpha=Math.max(1-f/s,0),f>=s)return a.alpha=0,void e.clearRect(n-o/2,r-o/2,o,o)}else a.alpha=Math.min(c/u,1),c>=u&&(a.alpha=1,setTimeout((function(){a.isFadingOut=!0,a.startTime=performance.now()}),a.stayDuration));requestAnimationFrame(a.play)}},new Blob([Le],{type:"image/svg+xml"});var u="data:image/svg+xml;base64,".concat(function(t){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?function(t){return t.replace(/=/g,"").replace(/[+\/]/g,(function(t){return"+"==t?"-":"_"}))}(Ie(t)):Ie(t)}(Le));return a.img=new Image,a.img.src=u,a}return r(e,t),e}(xe),Fe=function(t,e,n){var r,o,i,a;void 0===n&&(n=512);var u=e[t];return u?n<256&&u.microRes?{board:u.microRes.board||u.board,blacks:(null===(r=u.microRes.blacks)||void 0===r?void 0:r.length)>0?u.microRes.blacks:u.blacks,whites:(null===(o=u.microRes.whites)||void 0===o?void 0:o.length)>0?u.microRes.whites:u.whites}:n<512&&u.lowRes?{board:u.lowRes.board||u.board,blacks:(null===(i=u.lowRes.blacks)||void 0===i?void 0:i.length)>0?u.lowRes.blacks:u.blacks,whites:(null===(a=u.lowRes.whites)||void 0===a?void 0:a.length)>0?u.lowRes.whites:u.whites}:{board:u.board,blacks:u.blacks,whites:u.whites}:null},ze={},Ke=function(t){t&&(t.imageSmoothingEnabled=!0,t.imageSmoothingQuality="high")};function Ge(){return/Mobi|Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}var Ue=1;"undefined"!=typeof window&&(Ue=window.devicePixelRatio||1);var Ve=((De={default:B})[t.Theme.Flat]={boardBackgroundColor:"#e6bb85"},De[t.Theme.Warm]={boardBackgroundColor:"#C18B50"},De[t.Theme.Dark]={activeColor:"#9CA3AF",inactiveColor:"#666666",boardLineColor:"#9CA3AF",boardBackgroundColor:"#2B3035"},De[t.Theme.YunziMonkeyDark]={activeColor:"#A1C9AF",inactiveColor:"#A1C9AF",boardLineColor:"#A1C9AF",flatBlackColor:"#0E2019",flatBlackColorAlt:"#021D11",flatWhiteColor:"#A2C8B4",flatWhiteColorAlt:"#AFCBBC",shadowColor:"rgba(0, 0, 0, 0.1)",stoneRatio:.5115},De[t.Theme.HighContrast]={boardBackgroundColor:"#F5F5DC",boardLineColor:"#2F4F4F",activeColor:"#2F4F4F",inactiveColor:"#808080",flatBlackColor:"#000000",flatBlackColorAlt:"#1A1A1A",flatWhiteColor:"#FFFFFF",flatWhiteColorAlt:"#F8F8F8",positiveNodeColor:"#0284C7",negativeNodeColor:"#EA580C",neutralNodeColor:"#7C2D12",defaultNodeColor:"#4B5563",warningNodeColor:"#FBBF24",highlightColor:"#FDE047",shadowColor:"#374151"},De),He=function(){function e(e){void 0===e&&(e={});var n=this;this.defaultOptions={boardSize:19,dynamicPadding:!1,padding:10,extent:3,interactive:!1,coordinate:!0,theme:t.Theme.BlackAndWhite,analysisPointTheme:t.AnalysisPointTheme.Default,background:!1,showAnalysis:!1,showOwnership:!1,adaptiveBoardLine:!0,themeOptions:Ve,themeResources:j,moveSound:!1,adaptiveStarSize:!0,mobileIndicatorOffset:0},this.cursor=t.Cursor.None,this.cursorValue="",this.touchMoving=!1,this.touchStartPoint=new DOMPoint,this.cursorPoint=new DOMPoint,this.actualCursorPoint=new DOMPoint,this.previousBoardState=null,this.nodeMarkupStyles={},this.customMarkupRenderers={},this.setCursorWithRender=function(t,e){var r,o;void 0===e&&(e=0);var i=n.options.padding,a=n.calcSpaceAndPadding().space,u=n.transMat.inverse().transformPoint(t),s=Math.round((u.x-i+a/2)/a),l=Math.round((u.y-i+a/2)/a)+e,c=new DOMPoint(s*a,l*a),f=n.transMat.transformPoint(c);if(n.actualCursorPoint=f,n.actualCursorPosition=[s-1,l-1],1===(null===(o=null===(r=n.preventMoveMat)||void 0===r?void 0:r[s-1])||void 0===o?void 0:o[l-1]))return n.cursorPosition=[-1,-1],n.cursorPoint=new DOMPoint,void n.drawCursor();n.cursorPoint=f,n.cursorPosition=[s-1,l-1],n.drawCursor(),Ge()&&n.drawBoard()},this.onMouseMove=function(t){if(n.cursorCanvas){t.preventDefault();var e=new DOMPoint(t.offsetX*Ue,t.offsetY*Ue);n.setCursorWithRender(e)}},this.calcTouchPoint=function(t){var e=new DOMPoint,r=n.cursorCanvas;if(!r)return e;var o=r.getBoundingClientRect(),i=t.changedTouches;return e=new DOMPoint((i[0].clientX-o.left)*Ue,(i[0].clientY-o.top)*Ue)},this.onTouchStart=function(t){if(n.cursorCanvas){t.preventDefault(),n.touchMoving=!0;var e=n.calcTouchPoint(t);n.touchStartPoint=e,n.setCursorWithRender(e)}},this.onTouchMove=function(t){if(n.cursorCanvas){t.preventDefault(),n.touchMoving=!0;var e=n.calcTouchPoint(t),r=0;(Math.abs(e.x-n.touchStartPoint.x)>10||Math.abs(e.y-n.touchStartPoint.y)>10)&&(r=n.options.mobileIndicatorOffset),n.setCursorWithRender(e,r)}},this.onTouchEnd=function(){n.touchMoving=!1},this.calcCenter=function(){var e=n.visibleArea,r=n.options.boardSize;return 0===e[0][0]&&e[0][1]===r-1||0===e[1][0]&&e[1][1]===r-1?t.Center.Center:0===e[0][0]?0===e[1][0]?t.Center.TopLeft:e[1][1]===r-1?t.Center.BottomLeft:t.Center.Left:e[0][1]===r-1?0===e[1][0]?t.Center.TopRight:e[1][1]===r-1?t.Center.BottomRight:t.Center.Right:0===e[1][0]?t.Center.Top:e[1][1]===r-1?t.Center.Bottom:t.Center.Center},this.clearAllCanvas=function(){n.clearCanvas(n.board),n.clearCanvas(),n.clearCanvas(n.markupCanvas),n.clearOwnershipCanvas(),n.clearCanvas(n.effectCanvas),n.clearCursorCanvas(),n.clearAnalysisCanvas()},this.clearBoard=function(){if(n.board){var t=n.board.getContext("2d");t&&(t.save(),t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,t.canvas.width,t.canvas.height),t.restore())}},this.clearCanvas=function(t){if(void 0===t&&(t=n.canvas),t){var e=t.getContext("2d");e&&(e.save(),e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t.width,t.height),e.restore())}},this.clearMarkupCanvas=function(){if(n.markupCanvas){var t=n.markupCanvas.getContext("2d");t&&(t.save(),t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,n.markupCanvas.width,n.markupCanvas.height),t.restore())}},this.clearCursorCanvas=function(){if(n.cursorCanvas){n.options.boardSize;var t=n.cursorCanvas.getContext("2d");t&&(t.save(),t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,n.cursorCanvas.width,n.cursorCanvas.height),t.restore())}},this.clearAnalysisCanvas=function(){if(n.analysisCanvas){var t=n.analysisCanvas.getContext("2d");t&&(t.save(),t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,n.analysisCanvas.width,n.analysisCanvas.height),t.restore())}},this.drawAnalysis=function(e){void 0===e&&(e=n.analysis);var r=n.analysisCanvas,o=n.options,i=o.theme,a=void 0===i?t.Theme.BlackAndWhite:i,u=o.analysisPointTheme,s=o.boardSize;o.forceAnalysisBoardSize;var l=n,c=l.mat,f=l.markup;if(r&&e){var h=r.getContext("2d");if(h){n.clearAnalysisCanvas();var p=e.rootInfo;e.moveInfos.forEach((function(r){if(r.move&&"pass"!==r.move){var o=JSON.parse(e.id),i=s,l=zt(r.move,0,i-o.by);if(l){var d=jt(l),v=d.x,g=d.y;if(!(v<0||g<0||v>=c.length||g>=c[0].length)&&0===c[v][g]){var m,y,_=n.calcSpaceAndPadding(),b=_.space,w=_.scaledPadding,C=w+v*b,P=w+g*b;h.save(),a!==t.Theme.Subdued&&a!==t.Theme.BlackAndWhite&&a!==t.Theme.Flat&&a!==t.Theme.Warm&&a!==t.Theme.Dark?(h.shadowOffsetX=30,h.shadowOffsetY=30,h.shadowColor=n.getThemeProperty(t.ThemePropertyKey.ShadowColor),h.shadowBlur=8):(h.shadowOffsetX=0,h.shadowOffsetY=0,h.shadowColor="#fff",h.shadowBlur=0),f[v][g].includes(t.Markup.PositiveNode)&&(m=n.getThemeProperty(t.ThemePropertyKey.PositiveNodeColor)),f[v][g].includes(t.Markup.NegativeNode)&&(m=n.getThemeProperty(t.ThemePropertyKey.NegativeNodeColor)),f[v][g].includes(t.Markup.NeutralNode)&&(m=n.getThemeProperty(t.ThemePropertyKey.NeutralNodeColor));var k=jt(r.move),T=k.x,x=k.y*i+T;u===t.AnalysisPointTheme.Scenario&&e.humanPolicy&&e.humanPolicy.length>0&&(y=e.humanPolicy[x]),new he({ctx:h,x:C,y:P,r:.46*b,rootInfo:p,moveInfo:r,policyValue:y,theme:u,outlineColor:m}).draw(),h.restore()}}}}))}}},this.clearOwnershipCanvas=function(){if(n.ownershipCanvas){var t=n.ownershipCanvas.getContext("2d");t&&(t.save(),t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,n.ownershipCanvas.width,n.ownershipCanvas.height),t.restore())}},this.drawOwnership=function(e,r,o){var i,a,u;void 0===e&&(e=null!==(a=null===(i=n.analysis)||void 0===i?void 0:i.ownership)&&void 0!==a?a:null),void 0===r&&(r=n.ownershipCanvas),void 0===o&&(o=!0);if(r&&e){var s=r.getContext("2d");if(s){o&&n.clearOwnershipCanvas();for(var l=n.calcSpaceAndPadding(),c=l.space,f=l.scaledPadding,h=n.options.boardSize,p=0;p<h;p++)for(var d=0;d<h;d++){var v=e[d*h+p];if(!(Math.abs(v)<.1)){var g=(null===(u=n.mat[p])||void 0===u?void 0:u[d])||0;if(0===g||g===t.Ki.Black&&v<0||g===t.Ki.White&&v>0){var m=f+p*c,y=f+d*c,_=.3*c;s.save();var b=.15+.85*Math.min(Math.abs(v),1);s.fillStyle=v>0?"rgba(0, 0, 0, ".concat(b,")"):"rgba(255, 255, 255, ".concat(b,")"),s.fillRect(m-_/2,y-_/2,_,_),s.restore()}}}}}},this.drawMarkup=function(e,r,o,i){void 0===e&&(e=n.mat),void 0===r&&(r=n.markup),void 0===o&&(o=n.markupCanvas),void 0===i&&(i=!0);var a=o;if(n.options.theme,a){i&&n.clearCanvas(a);for(var u=function(o){for(var i=function(i){var u=r[o][i];null==u||u.split("|").forEach((function(r){if(null!==r&&""!==r){var u,s=n.calcSpaceAndPadding(),l=s.space,c=s.scaledPadding,f=c+o*l,h=c+i*l,p=e[o][i],d=a.getContext("2d");if(d){switch(r){case t.Markup.Circle:u=new de(d,f,h,l,p,n.createThemeContext());break;case t.Markup.Current:u=new ke(d,f,h,l,p,n.createThemeContext());break;case t.Markup.PositiveActiveNode:case t.Markup.PositiveDashedActiveNode:case t.Markup.PositiveDottedActiveNode:case t.Markup.NegativeActiveNode:case t.Markup.NegativeDashedActiveNode:case t.Markup.NegativeDottedActiveNode:case t.Markup.NeutralActiveNode:case t.Markup.NeutralDashedActiveNode:case t.Markup.NeutralDottedActiveNode:case t.Markup.WarningActiveNode:case t.Markup.WarningDashedActiveNode:case t.Markup.WarningDottedActiveNode:case t.Markup.DefaultActiveNode:case t.Markup.DefaultDashedActiveNode:case t.Markup.DefaultDottedActiveNode:var v=n.nodeMarkupStyles[r],g=v.color,m=v.lineDash;(u=new Pe(d,f,h,l,p,n.createThemeContext(),t.Markup.Circle)).setColor(g),u.setLineDash(m);break;case t.Markup.PositiveNode:case t.Markup.PositiveDashedNode:case t.Markup.PositiveDottedNode:case t.Markup.NegativeNode:case t.Markup.NegativeDashedNode:case t.Markup.NegativeDottedNode:case t.Markup.NeutralNode:case t.Markup.NeutralDashedNode:case t.Markup.NeutralDottedNode:case t.Markup.WarningNode:case t.Markup.WarningDashedNode:case t.Markup.WarningDottedNode:case t.Markup.DefaultNode:case t.Markup.DefaultDashedNode:case t.Markup.DefaultDottedNode:case t.Markup.Node:var y=n.nodeMarkupStyles[r];g=y.color,m=y.lineDash;(u=new Ce(d,f,h,l,p,n.createThemeContext(),t.Markup.Circle)).setColor(g),u.setLineDash(m);break;case t.Markup.Square:u=new me(d,f,h,l,p,n.createThemeContext());break;case t.Markup.Triangle:u=new ye(d,f,h,l,p,n.createThemeContext());break;case t.Markup.Cross:u=new ve(d,f,h,l,p,n.createThemeContext());break;case t.Markup.Highlight:u=new Te(d,f,h,l,p,n.createThemeContext());break;default:var _=n.customMarkupRenderers[r];_?_({ctx:d,x:f,y:h,s:l,ki:p,themeContext:n.createThemeContext(),value:r}):""!==r&&(u=new ge(d,f,h,l,p,n.createThemeContext(),r))}null==u||u.draw()}}}))},u=0;u<r[o].length;u++)i(u)},s=0;s<r.length;s++)u(s)}},this.drawBoard=function(t,e){void 0===t&&(t=n.board),void 0===e&&(e=!0),e&&n.clearCanvas(t),n.drawBan(t),n.drawBoardLine(t),n.drawStars(t),n.options.coordinate&&n.drawCoordinate()},this.drawBan=function(e){void 0===e&&(e=n.board);var r=n.options,o=r.theme,i=r.themeResources;if(r.padding,e){e.style.borderRadius="2px";var a=e.getContext("2d");if(a)if(Ke(a),o===t.Theme.BlackAndWhite||o===t.Theme.Flat||o===t.Theme.Warm||o===t.Theme.Dark||o===t.Theme.HighContrast)e.style.boxShadow=o===t.Theme.BlackAndWhite?"0px 0px 0px #000000":"",a.fillStyle=n.getThemeProperty(t.ThemePropertyKey.BoardBackgroundColor),a.fillRect(0,0,e.width,e.height);else{var u=e.width,s=Fe(o,i,u);if(s&&s.board){var l=s.board,c=ze[l];if(c)if(o===t.Theme.Walnut||o===t.Theme.YunziMonkeyDark)a.drawImage(c,0,0,e.width,e.height);else{var f=a.createPattern(c,"repeat");f&&(a.fillStyle=f,a.fillRect(0,0,e.width,e.height))}}}}},this.drawBoardLine=function(e){if(void 0===e&&(e=n.board),e){var r=n,o=r.visibleArea,i=r.options,u=r.mat,s=r.preventMoveMat,l=r.cursorPosition,c=i.zoom,f=i.boardSize,h=i.adaptiveBoardLine;i.theme;var p=n.getThemeProperty(t.ThemePropertyKey.BoardLineWidth),d=n.getThemeProperty(t.ThemePropertyKey.BoardEdgeLineWidth),v=n.getThemeProperty(t.ThemePropertyKey.BoardLineExtent),g=e.getContext("2d");if(g){var m=n.calcSpaceAndPadding(),y=m.space,_=m.scaledPadding,b=c?v*y:0,w=n.getThemeProperty(t.ThemePropertyKey.ActiveColor),C=n.getThemeProperty(t.ThemePropertyKey.InactiveColor);g.fillStyle=n.getThemeProperty(t.ThemePropertyKey.BoardLineColor);for(var P=h?.001*e.width*2:d,k=h?.001*e.width:p,T=a(l,2),x=T[0],A=T[1],M=x>=0&&A>=0&&x<f&&A<f&&0===s[x][A],S=bt(u,x,A,n.turn,n.previousBoardState)&&M,N=o[0][0];N<=o[0][1];N++){g.beginPath(),0===o[0][0]&&0===N||o[0][1]===f-1&&N===f-1?g.lineWidth=P:g.lineWidth=k,Ge()&&N===n.cursorPosition[0]&&n.touchMoving?(g.lineWidth=2.5*g.lineWidth,g.strokeStyle=S?w:C):g.strokeStyle=w;var R=0===N||N===f-1?_+o[1][0]*y-P/2:_+o[1][0]*y;Ge()&&(R+=Ue/2);var D=0===N||N===f-1?y*o[1][1]+_+P/2:y*o[1][1]+_;Ge()&&(D-=Ue/2),o[1][0]>0&&(R-=b),o[1][1]<f-1&&(D+=b),g.moveTo(N*y+_,R),g.lineTo(N*y+_,D),g.stroke()}for(N=o[1][0];N<=o[1][1];N++){g.beginPath(),0===o[1][0]&&0===N||o[1][1]===f-1&&N===f-1?g.lineWidth=P:g.lineWidth=k,Ge()&&N===n.cursorPosition[1]&&n.touchMoving?(g.lineWidth=2.5*g.lineWidth,g.strokeStyle=S?w:C):g.strokeStyle=w;var O=0===N||N===f-1?_+o[0][0]*y-P/2:_+o[0][0]*y,B=0===N||N===f-1?y*o[0][1]+_+P/2:y*o[0][1]+_;Ge()&&(O+=Ue/2),Ge()&&(B-=Ue/2),o[0][0]>0&&(O-=b),o[0][1]<f-1&&(B+=b),g.moveTo(O,N*y+_),g.lineTo(B,N*y+_),g.stroke()}}}},this.drawStars=function(e){if(void 0===e&&(e=n.board),e&&19===n.options.boardSize){var r=n.options.adaptiveStarSize,o=n.getThemeProperty(t.ThemePropertyKey.StarSize),i=n.visibleArea,a=e.getContext("2d"),u=r?.0035*e.width:o;if(a){var s=n.calcSpaceAndPadding(),l=s.space,c=s.scaledPadding;a.stroke(),[3,9,15].forEach((function(t){[3,9,15].forEach((function(e){t>=i[0][0]&&t<=i[0][1]&&e>=i[1][0]&&e<=i[1][1]&&(a.beginPath(),a.arc(t*l+c,e*l+c,u,0,2*Math.PI,!0),a.fillStyle=n.getThemeProperty("boardLineColor"),a.fill())}))}))}}},this.drawCoordinate=function(){var e=n,r=e.board,o=e.options,i=e.visibleArea;if(r){var a=o.boardSize;o.zoom;var u=o.padding;o.theme;var s=n.getThemeProperty("boardLineExtent"),l=i[0][1]-i[0][0]+1,c=r.getContext("2d"),f=n.calcSpaceAndPadding(),h=f.space,p=f.scaledPadding;if(c){c.textBaseline="middle",c.textAlign="center",c.fillStyle=n.getThemeProperty("boardLineColor"),c.font="bold ".concat(h/3,"px Helvetica");var d=n.calcCenter(),v=h/1.5;d===t.Center.Center&&0===i[0][0]&&i[0][1]===a-1&&(v-=p/2),E.forEach((function(e,n){var r=h*n+p,o=v,a=v;d!==t.Center.TopLeft&&d!==t.Center.TopRight&&d!==t.Center.Top||(o-=h*s),d!==t.Center.BottomLeft&&d!==t.Center.BottomRight&&d!==t.Center.Bottom||(a-=h*s/2);var f=i[1][0]*h+u-o,g=f+l*h+2*a;n>=i[0][0]&&n<=i[0][1]&&(d!==t.Center.BottomLeft&&d!==t.Center.BottomRight&&d!==t.Center.Bottom&&c.fillText(e,r,f),d!==t.Center.TopLeft&&d!==t.Center.TopRight&&d!==t.Center.Top&&c.fillText(e,r,g))})),W.slice(-n.options.boardSize).forEach((function(e,n){var r=h*n+p,o=v,a=v;d!==t.Center.TopLeft&&d!==t.Center.BottomLeft&&d!==t.Center.Left||(o-=h*s),d!==t.Center.TopRight&&d!==t.Center.BottomRight&&d!==t.Center.Right||(a-=h*s/2);var f=i[0][0]*h+u-o,g=f+l*h+2*a;n>=i[1][0]&&n<=i[1][1]&&(d!==t.Center.TopRight&&d!==t.Center.BottomRight&&d!==t.Center.Right&&c.fillText(e.toString(),f,r),d!==t.Center.TopLeft&&d!==t.Center.BottomLeft&&d!==t.Center.Left&&c.fillText(e.toString(),g,r))}))}}},this.calcSpaceAndPadding=function(t){void 0===t&&(t=n.canvas);var e=0,r=0,o=0;if(t){var i=n.options,a=i.padding,u=i.boardSize,s=i.zoom,l=n.getThemeProperty("boardLineExtent"),c=n.visibleArea;(0!==c[0][0]&&c[0][1]===u-1||0!==c[1][0]&&c[1][1]===u-1)&&(o=l),(0!==c[0][0]&&c[0][1]!==u-1||0!==c[1][0]&&c[1][1]!==u-1)&&(o=2*l);var f=s?u+o:u;r=a+(e=(t.width-2*a)/Math.ceil(f))/2}return{space:e,scaledPadding:r,scaledBoardExtent:o}},this.playEffect=function(e,r,o){void 0===e&&(e=n.mat),void 0===r&&(r=n.effectMat),void 0===o&&(o=!0);var i=n.effectCanvas;if(i){o&&n.clearCanvas(i);for(var a=0;a<r.length;a++)for(var u=0;u<r[a].length;u++){var s=r[a][u],l=n.calcSpaceAndPadding(),c=l.space,f=l.scaledPadding,h=f+a*c,p=f+u*c,d=e[a][u],v=i.getContext("2d");if(v){if(s===t.Effect.Ban)new je(v,h,p,c,d).play();r[a][u]=t.Effect.None}}var g=n.options.boardSize;n.setEffectMat($t([g,g]))}},this.drawCursor=function(){var e,r,o=n.cursorCanvas;if(o){if(n.clearCursorCanvas(),n.cursor===t.Cursor.None)return;if(Ge()&&!n.touchMoving)return;var i=n.options,u=i.padding;i.theme;var s=o.getContext("2d"),l=n.calcSpaceAndPadding().space,c=n,f=c.visibleArea,h=c.cursor,p=c.cursorValue,d=a(n.cursorPosition,2),v=d[0],g=d[1];if(v<f[0][0]||v>f[0][1])return;if(g<f[1][0]||g>f[1][1])return;var m=v*l+l/2+u,y=g*l+l/2+u,_=(null===(r=null===(e=n.mat)||void 0===e?void 0:e[v])||void 0===r?void 0:r[g])||t.Ki.Empty;if(s){var b=void 0,w=.8*l;h===t.Cursor.Circle?(b=new de(s,m,y,l,_,n.createThemeContext())).setGlobalAlpha(.8):h===t.Cursor.Square?(b=new me(s,m,y,l,_,n.createThemeContext())).setGlobalAlpha(.8):h===t.Cursor.Triangle?(b=new ye(s,m,y,l,_,n.createThemeContext())).setGlobalAlpha(.8):h===t.Cursor.Cross?(b=new ve(s,m,y,l,_,n.createThemeContext())).setGlobalAlpha(.8):h===t.Cursor.Text?(b=new ge(s,m,y,l,_,n.createThemeContext(),p)).setGlobalAlpha(.8):_===t.Ki.Empty&&h===t.Cursor.BlackStone?((b=new ce(s,m,y,t.Ki.Black,n.createThemeContext())).setSize(w),b.setGlobalAlpha(.5)):_===t.Ki.Empty&&h===t.Cursor.WhiteStone?((b=new ce(s,m,y,t.Ki.White,n.createThemeContext())).setSize(w),b.setGlobalAlpha(.5)):h===t.Cursor.Clear&&(b=new ce(s,m,y,t.Ki.Empty,n.createThemeContext())).setSize(w),null==b||b.draw()}}},this.drawStones=function(e,r,o){void 0===e&&(e=n.mat),void 0===r&&(r=n.canvas),void 0===o&&(o=!0);var i=n.options,a=i.theme,u=void 0===a?t.Theme.BlackAndWhite:a,s=i.themeResources;if(o&&n.clearCanvas(),r)for(var l=0;l<e.length;l++)for(var c=0;c<e[l].length;c++){var f=e[l][c];if(0!==f){var h=r.getContext("2d");if(h){Ke(h);var p=n.calcSpaceAndPadding(),d=p.space,v=p.scaledPadding,g=v+l*d,m=v+c*d,y=n.getThemeProperty("stoneRatio");h.save(),u!==t.Theme.Subdued&&u!==t.Theme.BlackAndWhite&&u!==t.Theme.Flat&&u!==t.Theme.Warm&&u!==t.Theme.Dark&&u!==t.Theme.HighContrast?(h.shadowOffsetX=3,h.shadowOffsetY=3,h.shadowColor=n.getThemeProperty("shadowColor"),h.shadowBlur=8):(h.shadowOffsetX=0,h.shadowOffsetY=0,h.shadowBlur=0);var _=void 0;switch(u){case t.Theme.BlackAndWhite:case t.Theme.Flat:case t.Theme.Warm:case t.Theme.HighContrast:case t.Theme.Dark:(_=new ce(h,g,m,f,n.createThemeContext())).setSize(d*y*2);break;default:var b=(null==r?void 0:r.width)||512,w=Fe(u,s,b);if(w){var C=w.blacks.map((function(t){return ze[t]})),P=w.whites.map((function(t){return ze[t]}));(_=new fe(h,g,m,f,l+10+c,C,P,n.createThemeContext())).setSize(d*y*2)}}null==_||_.draw(),h.restore()}}}},this.options=o(o(o({},this.defaultOptions),e),{themeOptions:o(o({},this.defaultOptions.themeOptions),e.themeOptions||{})}),this.customMarkupRenderers=o(o({},this.getDefaultCustomMarkupRenderers()),e.customMarkupRenderers||{});var r=this.options.boardSize;this.mat=Yt([r,r]),this.preventMoveMat=Yt([r,r]),this.markup=$t([r,r]),this.effectMat=$t([r,r]),this.turn=t.Ki.Black,this.cursorPosition=[-1,-1],this.actualCursorPosition=[-1,-1],this.maxhv=r,this.transMat=new DOMMatrix,this.analysis=null,this.visibleArea=[[0,r-1],[0,r-1]],this.updateNodeMarkupStyles()}return e.prototype.getThemeProperty=function(t){var e=t,n=this.options.theme,r=this.options.themeOptions[n]||{},o=this.options.themeOptions.default||{};return r[e]||o[e]},e.prototype.createThemeContext=function(){return{theme:this.options.theme,themeOptions:this.options.themeOptions}},e.prototype.getDefaultCustomMarkupRenderers=function(){var e;return(e={})[t.Markup.GreenPlus]=function(t){var e=t.ctx,n=t.x,r=t.y,o=t.s,i=t.ki,a=t.themeContext;new _e(e,n,r,o,i,a).draw()},e[t.Markup.RedCross]=function(t){var e=t.ctx,n=t.x,r=t.y,o=t.s,i=t.ki,a=t.themeContext;new be(e,n,r,o,i,a).draw()},e[t.Markup.YellowTriangle]=function(t){var e=t.ctx,n=t.x,r=t.y,o=t.s,i=t.ki,a=t.themeContext;new we(e,n,r,o,i,a).draw()},e},e.prototype.registerCustomMarkup=function(t,e){this.customMarkupRenderers[t]=e},e.prototype.unregisterCustomMarkup=function(t){delete this.customMarkupRenderers[t]},e.prototype.setCustomMarkups=function(t){this.customMarkupRenderers=o({},t)},e.prototype.updateNodeMarkupStyles=function(){var e,n=[8,6],r=[4,4];this.nodeMarkupStyles=((e={})[t.Markup.PositiveNode]={color:this.getThemeProperty(t.ThemePropertyKey.PositiveNodeColor),lineDash:[]},e[t.Markup.NegativeNode]={color:this.getThemeProperty(t.ThemePropertyKey.NegativeNodeColor),lineDash:[]},e[t.Markup.NeutralNode]={color:this.getThemeProperty(t.ThemePropertyKey.NeutralNodeColor),lineDash:[]},e[t.Markup.DefaultNode]={color:this.getThemeProperty(t.ThemePropertyKey.DefaultNodeColor),lineDash:[]},e[t.Markup.WarningNode]={color:this.getThemeProperty(t.ThemePropertyKey.WarningNodeColor),lineDash:[]},e[t.Markup.PositiveDashedNode]={color:this.getThemeProperty(t.ThemePropertyKey.PositiveNodeColor),lineDash:n},e[t.Markup.NegativeDashedNode]={color:this.getThemeProperty(t.ThemePropertyKey.NegativeNodeColor),lineDash:n},e[t.Markup.NeutralDashedNode]={color:this.getThemeProperty(t.ThemePropertyKey.NeutralNodeColor),lineDash:n},e[t.Markup.DefaultDashedNode]={color:this.getThemeProperty(t.ThemePropertyKey.DefaultNodeColor),lineDash:n},e[t.Markup.WarningDashedNode]={color:this.getThemeProperty(t.ThemePropertyKey.WarningNodeColor),lineDash:n},e[t.Markup.PositiveDottedNode]={color:this.getThemeProperty(t.ThemePropertyKey.PositiveNodeColor),lineDash:r},e[t.Markup.NegativeDottedNode]={color:this.getThemeProperty(t.ThemePropertyKey.NegativeNodeColor),lineDash:r},e[t.Markup.NeutralDottedNode]={color:this.getThemeProperty(t.ThemePropertyKey.NeutralNodeColor),lineDash:r},e[t.Markup.DefaultDottedNode]={color:this.getThemeProperty(t.ThemePropertyKey.DefaultNodeColor),lineDash:r},e[t.Markup.WarningDottedNode]={color:this.getThemeProperty(t.ThemePropertyKey.WarningNodeColor),lineDash:r},e[t.Markup.PositiveActiveNode]={color:this.getThemeProperty(t.ThemePropertyKey.PositiveNodeColor),lineDash:[]},e[t.Markup.NegativeActiveNode]={color:this.getThemeProperty(t.ThemePropertyKey.NegativeNodeColor),lineDash:[]},e[t.Markup.NeutralActiveNode]={color:this.getThemeProperty(t.ThemePropertyKey.NeutralNodeColor),lineDash:[]},e[t.Markup.DefaultActiveNode]={color:this.getThemeProperty(t.ThemePropertyKey.DefaultNodeColor),lineDash:[]},e[t.Markup.WarningActiveNode]={color:this.getThemeProperty(t.ThemePropertyKey.WarningNodeColor),lineDash:[]},e[t.Markup.PositiveDashedActiveNode]={color:this.getThemeProperty(t.ThemePropertyKey.PositiveNodeColor),lineDash:n},e[t.Markup.NegativeDashedActiveNode]={color:this.getThemeProperty(t.ThemePropertyKey.NegativeNodeColor),lineDash:n},e[t.Markup.NeutralDashedActiveNode]={color:this.getThemeProperty(t.ThemePropertyKey.NeutralNodeColor),lineDash:n},e[t.Markup.DefaultDashedActiveNode]={color:this.getThemeProperty(t.ThemePropertyKey.DefaultNodeColor),lineDash:n},e[t.Markup.WarningDashedActiveNode]={color:this.getThemeProperty(t.ThemePropertyKey.WarningNodeColor),lineDash:n},e[t.Markup.PositiveDottedActiveNode]={color:this.getThemeProperty(t.ThemePropertyKey.PositiveNodeColor),lineDash:r},e[t.Markup.NegativeDottedActiveNode]={color:this.getThemeProperty(t.ThemePropertyKey.NegativeNodeColor),lineDash:r},e[t.Markup.NeutralDottedActiveNode]={color:this.getThemeProperty(t.ThemePropertyKey.NeutralNodeColor),lineDash:r},e[t.Markup.DefaultDottedActiveNode]={color:this.getThemeProperty(t.ThemePropertyKey.DefaultNodeColor),lineDash:r},e[t.Markup.WarningDottedActiveNode]={color:this.getThemeProperty(t.ThemePropertyKey.WarningNodeColor),lineDash:r},e)},e.prototype.setTurn=function(t){this.turn=t},e.prototype.setPreviousBoardState=function(t){this.previousBoardState=t},e.prototype.getPreviousBoardState=function(){return this.previousBoardState},e.prototype.recordCurrentBoardState=function(){this.previousBoardState=this.mat.map((function(t){return u([],a(t),!1)}))},e.prototype.setBoardSize=function(t){this.options.boardSize=Math.min(t,29)},e.prototype.resize=function(){if(this.canvas&&this.cursorCanvas&&this.dom&&this.board&&this.markupCanvas&&this.ownershipCanvas&&this.analysisCanvas&&this.effectCanvas){var t=[this.board,this.canvas,this.markupCanvas,this.ownershipCanvas,this.cursorCanvas,this.analysisCanvas,this.effectCanvas],e=this.options.size,n=this.dom.clientWidth;t.forEach((function(t){e?(t.width=e*Ue,t.height=e*Ue):(t.style.width=n+"px",t.style.height=n+"px",t.width=Math.floor(n*Ue),t.height=Math.floor(n*Ue))})),this.render()}},e.prototype.createCanvas=function(t,e){void 0===e&&(e=!0);var n=document.createElement("canvas");return n.style.position="absolute",n.id=t,e||(n.style.pointerEvents="none"),n},e.prototype.init=function(t){var e=this,n=this.options.boardSize;this.mat=Yt([n,n]),this.markup=$t([n,n]),this.transMat=new DOMMatrix,this.board=this.createCanvas("ghostban-board"),this.canvas=this.createCanvas("ghostban-canvas"),this.ownershipCanvas=this.createCanvas("ghostban-ownership",!1),this.markupCanvas=this.createCanvas("ghostban-markup",!1),this.analysisCanvas=this.createCanvas("ghostban-analysis",!1),this.cursorCanvas=this.createCanvas("ghostban-cursor"),this.effectCanvas=this.createCanvas("ghostban-effect",!1),this.dom=t,t.innerHTML="",t.appendChild(this.board),t.appendChild(this.canvas),t.appendChild(this.ownershipCanvas),t.appendChild(this.markupCanvas),t.appendChild(this.analysisCanvas),t.appendChild(this.cursorCanvas),t.appendChild(this.effectCanvas),this.resize(),this.renderInteractive(),"undefined"!=typeof window&&window.addEventListener("resize",(function(){e.resize()}))},e.prototype.setOptions=function(t){var e=this.options.showAnalysis,n=this.options.showOwnership;this.options=o(o(o({},this.options),t),{themeOptions:o(o({},this.options.themeOptions),t.themeOptions||{})}),this.updateNodeMarkupStyles(),this.renderInteractive(),e&&!this.options.showAnalysis&&this.clearAnalysisCanvas(),n&&!this.options.showOwnership&&this.clearOwnershipCanvas(),!e&&this.options.showAnalysis&&this.analysis&&this.drawAnalysis(),!n&&this.options.showOwnership&&this.analysis&&this.drawOwnership()},e.prototype.setMat=function(t){this.mat=t,this.visibleAreaMat||(this.visibleAreaMat=t)},e.prototype.setVisibleAreaMat=function(t){this.visibleAreaMat=t},e.prototype.setPreventMoveMat=function(t){this.preventMoveMat=t},e.prototype.setEffectMat=function(t){this.effectMat=t},e.prototype.setMarkup=function(t){this.markup=t},e.prototype.setCursor=function(t,e){void 0===e&&(e=""),this.cursor=t,this.cursorValue=e},e.prototype.renderInteractive=function(){var t=this.cursorCanvas;t&&(t.removeEventListener("mousemove",this.onMouseMove),t.removeEventListener("mouseout",this.onMouseMove),t.removeEventListener("touchstart",this.onTouchStart),t.removeEventListener("touchmove",this.onTouchMove),t.removeEventListener("touchend",this.onTouchEnd),this.options.interactive&&(t.addEventListener("mousemove",this.onMouseMove),t.addEventListener("mouseout",this.onMouseMove),t.addEventListener("touchstart",this.onTouchStart),t.addEventListener("touchmove",this.onTouchMove),t.addEventListener("touchend",this.onTouchEnd)))},e.prototype.setAnalysis=function(t){if(this.analysis=t,!t)return this.clearAnalysisCanvas(),void this.clearOwnershipCanvas();this.options.showAnalysis&&this.drawAnalysis(t),this.options.showOwnership&&this.drawOwnership()},e.prototype.setTheme=function(t,e){var n=this;void 0===e&&(e={});var r=this.options.themeResources;if(r[t]){var i=function(t,e){var n=e[t];if(!n)return[];var r=[];return n.board&&r.push(n.board),n.blacks&&r.push.apply(r,u([],a(n.blacks),!1)),n.whites&&r.push.apply(r,u([],a(n.whites),!1)),n.lowRes&&(n.lowRes.board&&r.push(n.lowRes.board),n.lowRes.blacks&&r.push.apply(r,u([],a(n.lowRes.blacks),!1)),n.lowRes.whites&&r.push.apply(r,u([],a(n.lowRes.whites),!1))),n.microRes&&(n.microRes.board&&r.push(n.microRes.board),n.microRes.blacks&&r.push.apply(r,u([],a(n.microRes.blacks),!1)),n.microRes.whites&&r.push.apply(r,u([],a(n.microRes.whites),!1))),Array.from(new Set(r))}(t,r);this.options.theme=t,this.options=o(o(o(o({},this.options),{theme:t}),e),{themeOptions:o(o({},this.options.themeOptions),e.themeOptions||{})}),this.updateNodeMarkupStyles();!function(t,e,n){for(var r=0,o=function(){++r===t.length&&e()},i=function(e){ze[t[e]]?ze[t[e]].complete&&o():(ze[t[e]]=new Image,ze[t[e]].src=t[e],ze[t[e]].onload=function(){o(),n&&n(t[e])},ze[t[e]].onerror=function(){o()})},a=0;a<t.length;a++)i(a)}(i,(function(){n.drawBoard(),n.render()}),(function(t){n.drawBoard(),n.drawStones()})),this.drawBoard(),this.render()}},e.prototype.calcDynamicPadding=function(t){var e=this.options.coordinate,n=this.canvas;if(n){var r=n.width/(t+2)/2,o=n.width/(t+2)/4;this.options.padding=e?r:o}},e.prototype.zoomBoard=function(e){void 0===e&&(e=!1);var n=this,r=n.canvas,o=n.analysisCanvas,i=n.board,a=n.cursorCanvas,u=n.markupCanvas,s=n.effectCanvas;if(r){var l=this.options,c=l.boardSize,f=l.extent,h=l.padding,p=l.dynamicPadding,d=this.getThemeProperty(t.ThemePropertyKey.BoardLineExtent),v=ee(this.visibleAreaMat,f,!1),g=null==r?void 0:r.getContext("2d"),m=null==i?void 0:i.getContext("2d"),y=null==a?void 0:a.getContext("2d"),_=null==u?void 0:u.getContext("2d"),b=null==o?void 0:o.getContext("2d"),w=null==s?void 0:s.getContext("2d"),C=e?v:[[0,c-1],[0,c-1]];this.visibleArea=C;var P=Math.max(C[0][1]-C[0][0],C[1][1]-C[1][0]);if(p?this.calcDynamicPadding(P):this.options.padding=L.padding,e){var k=this.calcSpaceAndPadding().space,T=this.calcCenter();p?this.calcDynamicPadding(P):this.options.padding=L.padding;var x=2*d+1;T!==t.Center.TopRight&&T!==t.Center.TopLeft&&T!==t.Center.BottomRight&&T!==t.Center.BottomLeft||(x=d+.5);var A=P+x;if(A<c){var M=(r.width-2*h)/(A*k),S=C[0][0]*k*M+h*M-h-k*x*M/2+k*M/2,N=C[1][0]*k*M+h*M-h-k*x*M/2+k*M/2;this.transMat=new DOMMatrix,this.transMat.translateSelf(-S,-N),this.transMat.scaleSelf(M,M),null==g||g.setTransform(this.transMat),null==m||m.setTransform(this.transMat),null==b||b.setTransform(this.transMat),null==y||y.setTransform(this.transMat),null==_||_.setTransform(this.transMat),null==w||w.setTransform(this.transMat)}else this.resetTransform()}else this.resetTransform()}},e.prototype.calcBoardVisibleArea=function(t){this.zoomBoard(this.options.zoom)},e.prototype.resetTransform=function(){var t=this,e=t.canvas,n=t.analysisCanvas,r=t.board,o=t.cursorCanvas,i=t.markupCanvas,a=t.effectCanvas,u=null==e?void 0:e.getContext("2d"),s=null==r?void 0:r.getContext("2d"),l=null==o?void 0:o.getContext("2d"),c=null==i?void 0:i.getContext("2d"),f=null==n?void 0:n.getContext("2d"),h=null==a?void 0:a.getContext("2d");this.transMat=new DOMMatrix,null==u||u.resetTransform(),null==s||s.resetTransform(),null==f||f.resetTransform(),null==l||l.resetTransform(),null==c||c.resetTransform(),null==h||h.resetTransform()},e.prototype.render=function(){var t=this.mat;this.mat&&t[0]&&(this.options.boardSize=t[0].length),this.zoomBoard(this.options.zoom),this.zoomBoard(this.options.zoom),this.clearAllCanvas(),this.drawBoard(),this.drawStones(),this.drawMarkup(),this.options.showOwnership&&this.drawOwnership(),this.drawCursor(),this.options.showAnalysis&&this.drawAnalysis()},e.prototype.renderInOneCanvas=function(t){void 0===t&&(t=this.canvas),this.clearAllCanvas(),this.drawBoard(t,!1),this.drawStones(this.mat,t,!1),this.drawMarkup(this.mat,this.markup,t,!1)},e}();return t.A1_LETTERS=E,t.A1_LETTERS_WITH_I=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S"],t.A1_NUMBERS=W,t.AnnotationProp=at,t.BASE_THEME_CONFIG=B,t.CUSTOM_PROP_LIST=J,t.CustomProp=ct,t.DEFAULT_BOARD_SIZE=19,t.DEFAULT_OPTIONS=L,t.DOT_SIZE=3,t.EXPAND_H=5,t.EXPAND_V=5,t.GAME_INFO_PROP_LIST=Z,t.GameInfoProp=lt,t.GhostBan=He,t.LIGHT_GREEN_RGB=F,t.LIGHT_RED_RGB=G,t.LIGHT_YELLOW_RGB=z,t.LIST_OF_POINTS_PROP=X,t.MARKUP_PROP_LIST=Y,t.MAX_BOARD_SIZE=29,t.MISCELLANEOUS_PROP_LIST=["FG","PM","VW"],t.MOVE_ANNOTATION_PROP_LIST=q,t.MOVE_PROP_LIST=U,t.MarkupProp=ut,t.MiscellaneousProp=ht,t.MoveAnnotationProp=it,t.MoveProp=nt,t.NODE_ANNOTATION_PROP_LIST=H,t.NodeAnnotationProp=ot,t.RESPONSE_TIME=100,t.ROOT_PROP_LIST=$,t.RootProp=st,t.SETUP_PROP_LIST=V,t.SGF_LETTERS=I,t.SetupProp=rt,t.Sgf=wt,t.SgfPropBase=et,t.THEME_RESOURCES=j,t.TIMING_PROP_LIST=["BL","OB","OW","WL"],t.TNode=l,t.TimingProp=ft,t.TreeModel=f,t.YELLOW_RGB=K,t.a1ToIndex=function(t,e){return void 0===e&&(e=19),E.indexOf(t[0])*e+W.indexOf(parseInt(t.substr(1),0))},t.a1ToPos=jt,t.a1ToSGF=function(t,e,n,r){if(void 0===e&&(e="B"),void 0===n&&(n=0),void 0===r&&(r=0),"pass"===t)return"".concat(e,"[]");var o=E.indexOf(t[0])+n,i=W.indexOf(parseInt(t.substr(1),0))+r;return"".concat(e,"[").concat(I[o]).concat(I[i],"]")},t.addMoveToCurrentNode=function(e,n,r,o,i,a){if(i!==t.Ki.Empty){var u,s=void 0!==a?a:e.parent?oe(e.parent).mat:null;if(bt(n,r,o,i,s)){var l=I[r]+I[o],c=i===t.Ki.Black?"B":"W",f=g(e,[nt.from("".concat(c,"[").concat(l,"]"))]),h=e.children.filter((function(t){return t.model.id===f}));h.length>0?u=h[0]:(u=qt("".concat(c,"[").concat(l,"]"),e),e.addChild(u))}return u}},t.addStoneToCurrentNode=function(e,n,r,o,i){var s=I[r]+I[o],l=i===t.Ki.White?"AW":"AB",c=ie(e,l),f=!1;return n[r][o]!==t.Ki.Empty?re(e,s):(c?c.values=u(u([],a(c.values),!1),[s],!1):e.model.setupProps=u(u([],a(e.model.setupProps),!1),[new rt(l,s)],!1),f=!0),f},t.buildMoveNode=qt,t.buildPropertyValueRanges=m,t.calcAnalysisPointColor=Vt,t.calcAvoidMovesForPartialAnalysis=function(t,e){var n,r,o,u;void 0===e&&(e=19);var s=[],l=a(t,2),c=a(l[0],2),f=c[0],h=c[1],p=a(l[1],2),d=p[0],v=p[1];try{for(var g=i(E.slice(0,e)),m=g.next();!m.done;m=g.next()){var y=m.value;try{for(var _=(o=void 0,i(W.slice(-e))),b=_.next();!b.done;b=_.next()){var w=b.value,C=E.indexOf(y),P=W.indexOf(w);(C<f||C>d||P<h||P>v)&&s.push("".concat(y).concat(w))}}catch(t){o={error:t}}finally{try{b&&!b.done&&(u=_.return)&&u.call(_)}finally{if(o)throw o.error}}}}catch(t){n={error:t}}finally{try{m&&!m.done&&(r=g.return)&&r.call(g)}finally{if(n)throw n.error}}return s},t.calcBoardSize=Xt,t.calcCenter=Jt,t.calcDoubtfulMovesThresholdRange=function(t){return t>=25?{evil:{winrateRange:[-1,-.15],scoreRange:[-100,-3]},bad:{winrateRange:[-.15,-.1],scoreRange:[-3,-2]},poor:{winrateRange:[-.1,-.05],scoreRange:[-2,-1]},ok:{winrateRange:[-.05,-.02],scoreRange:[-1,-.5]},good:{winrateRange:[-.02,0],scoreRange:[0,100]},great:{winrateRange:[0,1],scoreRange:[0,100]}}:t>=23&&t<25?{evil:{winrateRange:[-1,-.2],scoreRange:[-100,-8]},bad:{winrateRange:[-.2,-.15],scoreRange:[-8,-4]},poor:{winrateRange:[-.15,-.05],scoreRange:[-4,-2]},ok:{winrateRange:[-.05,-.02],scoreRange:[-2,-1]},good:{winrateRange:[-.02,0],scoreRange:[0,100]},great:{winrateRange:[0,1],scoreRange:[0,100]}}:t>=20&&t<23?{evil:{winrateRange:[-1,-.25],scoreRange:[-100,-12]},bad:{winrateRange:[-.25,-.1],scoreRange:[-12,-5]},poor:{winrateRange:[-.1,-.05],scoreRange:[-5,-2]},ok:{winrateRange:[-.05,-.02],scoreRange:[-2,-1]},good:{winrateRange:[-.02,0],scoreRange:[0,100]},great:{winrateRange:[0,1],scoreRange:[0,100]}}:t>=18&&t<20?{evil:{winrateRange:[-1,-.3],scoreRange:[-100,-15]},bad:{winrateRange:[-.3,-.1],scoreRange:[-15,-7]},poor:{winrateRange:[-.1,-.05],scoreRange:[-7,-5]},ok:{winrateRange:[-.05,-.02],scoreRange:[-5,-1]},good:{winrateRange:[-.02,0],scoreRange:[0,100]},great:{winrateRange:[0,1],scoreRange:[0,100]}}:t>=13&&t<18?{evil:{winrateRange:[-1,-.35],scoreRange:[-100,-20]},bad:{winrateRange:[-.35,-.12],scoreRange:[-20,-10]},poor:{winrateRange:[-.12,-.08],scoreRange:[-10,-5]},ok:{winrateRange:[-.08,-.02],scoreRange:[-5,-1]},good:{winrateRange:[-.02,0],scoreRange:[0,100]},great:{winrateRange:[0,1],scoreRange:[0,100]}}:t>=8&&t<13?{evil:{winrateRange:[-1,-.4],scoreRange:[-100,-25]},bad:{winrateRange:[-.4,-.15],scoreRange:[-25,-10]},poor:{winrateRange:[-.15,-.1],scoreRange:[-10,-5]},ok:{winrateRange:[-.1,-.02],scoreRange:[-5,-1]},good:{winrateRange:[-.02,0],scoreRange:[0,100]},great:{winrateRange:[0,1],scoreRange:[0,100]}}:t>=0&&t<8?{evil:{winrateRange:[-1,-.45],scoreRange:[-100,-35]},bad:{winrateRange:[-.45,-.2],scoreRange:[-35,-20]},poor:{winrateRange:[-.2,-.1],scoreRange:[-20,-10]},ok:{winrateRange:[-.1,-.02],scoreRange:[-10,-1]},good:{winrateRange:[-.02,0],scoreRange:[0,100]},great:{winrateRange:[0,1],scoreRange:[0,100]}}:{evil:{winrateRange:[-1,-.3],scoreRange:[-100,-30]},bad:{winrateRange:[-.3,-.2],scoreRange:[-30,-20]},poor:{winrateRange:[-.2,-.1],scoreRange:[-20,-10]},ok:{winrateRange:[-.1,-.02],scoreRange:[-10,-1]},good:{winrateRange:[-.02,0],scoreRange:[0,100]},great:{winrateRange:[0,1],scoreRange:[0,100]}}},t.calcHash=g,t.calcMatAndMarkup=oe,t.calcMost=Zt,t.calcOffset=function(e){var n=Xt(e),r=19-n[0],o=19-n[1],i=r,a=o;switch(Jt(e)){case t.Center.TopLeft:i=0,a=o;break;case t.Center.TopRight:i=-r,a=o;break;case t.Center.BottomLeft:i=0,a=0;break;case t.Center.BottomRight:i=-r,a=0}return{x:i,y:a}},t.calcPartialArea=Qt,t.calcPreventMoveMat=function(t,e){if(void 0===e&&(e=19),!t)return Yt([e,e]);var n=ae(t,e),r=Yt([n,n]),o=[];return t.hasChildren()&&(o=t.children.filter((function(t){return xt(t)}))),Tt(t)&&(r.forEach((function(t){return t.fill(1)})),t.hasChildren()&&t.children.forEach((function(t){t.model.moveProps.forEach((function(t){var e=I.indexOf(t.value[0]),o=I.indexOf(t.value[1]);e>=0&&o>=0&&e<n&&o<n&&(r[e][o]=0)}))}))),o.forEach((function(t){t.model.moveProps.forEach((function(t){var e=I.indexOf(t.value[0]),o=I.indexOf(t.value[1]);e>=0&&o>=0&&e<n&&o<n&&(r[e][o]=1)}))})),r},t.calcPreventMoveMatForDisplayOnly=function(t,e){if(void 0===e&&(e=19),!t)return Yt([e,e]);var n=ae(t,e),r=Yt([n,n]);return r.forEach((function(t){return t.fill(1)})),t.hasChildren()&&t.children.forEach((function(t){t.model.moveProps.forEach((function(t){var e=I.indexOf(t.value[0]),o=I.indexOf(t.value[1]);e>=0&&o>=0&&e<n&&o<n&&(r[e][o]=0)}))})),r},t.calcScoreDiff=Gt,t.calcScoreDiffText=Kt,t.calcTsumegoFrame=function(e,n,r,o,i,u){void 0===r&&(r=19),void 0===o&&(o=7.5),void 0===i&&(i=t.Ki.Black);var s=d.cloneDeep(e),l=Qt(e,n,r),c=Jt(e);return function(e){for(var n=a(l[0],2),o=n[0],u=n[1],s=a(l[1],2),f=s[0],h=s[1],p=o;p<=f;p++)for(var d=u;d<=h;d++)(c===t.Center.TopLeft&&(p===f&&p<r-1||d===h&&d<r-1||p===o&&p>0||d===u&&d>0)||c===t.Center.TopRight&&(p===o&&p>0||d===h&&d<r-1||p===f&&p<r-1||d===u&&d>0)||c===t.Center.BottomLeft&&(p===f&&p<r-1||d===u&&d>0||p===o&&p>0||d===h&&d<r-1)||c===t.Center.BottomRight&&(p===o&&p>0||d===u&&d>0||p===f&&p<r-1||d===h&&d<r-1)||c===t.Center.Center)&&(e[p][d]=i)}(s),function(e){for(var n=i*o,u=a(l[0],2),s=u[0],f=u[1],h=a(l[1],2),p=h[0],d=h[1],v=i===t.Ki.Black,g=p-s,m=d-f,y=Math.floor((361-g*m)/2)-n-10,_=0,b=0;b<r;b++)for(var w=0;w<r;w++)if(b<s||b>p||w<f||w>d){_++;var C=t.Ki.Empty;c===t.Center.TopLeft||c===t.Center.BottomLeft?C=v!==_<=y?t.Ki.White:t.Ki.Black:c!==t.Center.TopRight&&c!==t.Center.BottomRight||(C=v!==_<=y?t.Ki.Black:t.Ki.White),(b+w)%2==0&&Math.abs(_-y)>r&&(C=t.Ki.Empty),e[b][w]=C}}(s),s},t.calcVariationsMarkup=function(e,n,r,o){void 0===n&&(n="append"),void 0===r&&(r=0),void 0===o&&(o=19);var i=oe(e),a=i.mat,u=i.markup,s=ae(e,o);return e.hasChildren()&&e.children.forEach((function(e){e.model.moveProps.forEach((function(o){var i=I.indexOf(o.value[0]),l=I.indexOf(o.value[1]);if(!(i<0||l<0)&&i<s&&l<s){var c=t.Markup.NeutralNode;if(Wt(e)&&(c=e.getIndex()===r?t.Markup.NegativeActiveNode:t.Markup.NegativeNode),Dt(e)&&(c=e.getIndex()===r?t.Markup.PositiveActiveNode:t.Markup.PositiveNode),a[i][l]===t.Ki.Empty)switch(n){case"prepend":u[i][l]=c+"|"+u[i][l];break;case"replace":u[i][l]=c;break;default:u[i][l]+="|"+c}}}))})),u},t.calcVisibleArea=ee,t.calcWinrateDiff=Ut,t.calcWinrateDiffText=function(t,e,n,r){if(void 0===n&&(n=1),void 0===r&&(r=!1),!t||!e)return"";var o=Ut(t,e);r&&(o=-o);var i=o.toFixed(n);return o>=0?"+".concat(i,"%"):"".concat(i,"%")},t.canMove=bt,t.clearStoneFromCurrentNode=re,t.convertStepsForAI=function(t,e){void 0===e&&(e=0);var n=d.clone(t);n=n.map((function(t){return Ft(t,e)}));var r="(;FF[4]GM[1]SZ[".concat(19-e,"]GN[226]PB[Black]HA[0]PW[White]KM[7.5]DT[2017-08-01]TM[1800]RU[Chinese]CP[Copyright ghost-go.com]AP[ghost-go.com]PL[Black];"),o=0,i="";return t.forEach((function(t,e){t[0]===i[0]&&("B"===t[0]?(n.splice(e+o,0,"W[tt]"),o+=1):(n.splice(e+o,0,"B[tt]"),o+=1)),i=t})),"".concat(r).concat(n.join(";"),")")},t.convertStoneTypeToString=function(t){return 1===t?"B":"W"},t.cutMoveNodes=function(t,e){for(var n=d.cloneDeep(t);n&&n.hasChildren()&&0===n.model.moveProps.length;)(n=n.children[0]).children=[];if(e)for(;n&&n.parent&&!n.isRoot();)n=n.parent;return n},t.detectST=function(t){var e=t.getPath()[0].model.rootProps.find((function(t){return"ST"===t.token})),n=!1,r=!1,o=!1,i=(null==e?void 0:e.value)||"0";return i&&("0"===i?(o=!1,r=!0,n=!0):"1"===i?(o=!0,r=!1,n=!0):"2"===i?(o=!1,r=!0,n=!1):"3"===i&&(o=!0,r=!1,n=!1)),{showVariationsMarkup:n,showChildrenMarkup:r,showSiblingsMarkup:o}},t.empty=$t,t.execCapture=yt,t.extractAnswerType=function(t){var e=t.model.customProps.find((function(t){return"PAT"===t.token}));return null==e?void 0:e.value},t.extractBoardSize=ae,t.extractPAI=function(t){var e=t.model.customProps.find((function(t){return"PAI"===t.token}));if(e)return JSON.parse(e.value)},t.extractPI=function(t){var e=t.model.customProps.find((function(t){return"PI"===t.token}));if(e)return JSON.parse(e.value)},t.findProp=ie,t.findProps=function(t,e){return U.includes(e)?t.model.moveProps.filter((function(t){return t.token===e})):H.includes(e)?t.model.nodeAnnotationProps.filter((function(t){return t.token===e})):q.includes(e)?t.model.moveAnnotationProps.filter((function(t){return t.token===e})):$.includes(e)?t.model.rootProps.filter((function(t){return t.token===e})):V.includes(e)?t.model.setupProps.filter((function(t){return t.token===e})):Y.includes(e)?t.model.markupProps.filter((function(t){return t.token===e})):Z.includes(e)?t.model.gameInfoProps.filter((function(t){return t.token===e})):[]},t.genMove=function(t,e,n,r,o){var i,a=function(t){var e=d.compact(t.getPath().map((function(t){var e;return null===(e=t.model.moveProps[0])||void 0===e?void 0:e.toString()}))).join(";");return e},u=function(t){if(!t.hasChildren()){var o=a(t);At(t)?e&&e(o):St(t)?r&&r(o):n&&n(o)}};if(t.hasChildren()){var s=t.children.filter((function(t){return Dt(t)})),l=t.children.filter((function(t){return Wt(t)})),c=t.children.filter((function(t){return Et(t)}));i=t,Dt(t)&&s.length>0?i=d.sample(s):Wt(t)&&l.length>0?i=d.sample(l):Et(t)&&c.length>0?i=d.sample(c):At(t)?e(a(i)):n(a(i)),i&&u(i)}else u(t);return i},t.getDeduplicatedProps=S,t.getFirstToMoveColorFromRoot=ue,t.getFirstToMoveColorFromSgf=function(e,n){void 0===n&&(n=t.Ki.Black);var r=new wt(e);return r.root&&ue(r.root,n),n},t.getIndexFromAnalysis=function(t){return/indexes/.test(t.id)?JSON.parse(t.id).indexes[0]:""},t.getLastIndex=function(t){var e=t;return t.walk((function(t){return e=t,!0})),e.model.index},t.getMoveColor=se,t.getNodeNumber=D,t.getRoot=function(t){for(var e=t;e&&e.parent&&!e.isRoot();)e=e.parent;return e},t.handleMove=function(e,n,r,o,i,a){if(o!==t.Ki.Empty)if(bt(e,n,r,o)){var u=I[n]+I[r],s=o===t.Ki.Black?"B":"W",l=g(i,[nt.from("".concat(s,"[").concat(u,"]"))]),c=i.children.filter((function(t){return t.model.id===l})),f=void 0;c.length>0?f=c[0]:(f=qt("".concat(s,"[").concat(u,"]"),i),i.addChild(f)),a&&a(f,!0)}else a&&a(i,!1)},t.inChoicePath=Ot,t.inFirstBranchRightPath=function(e,n,r,o){if(void 0===n&&(n=t.PathDetectionStrategy.Pre),!Dt(e))return!1;var i=null!=r?r:e.getPath(),a=null!=o?o:e.all((function(){return!0})),u=[];switch(n){case t.PathDetectionStrategy.Post:u=a.filter((function(t){return t.getIndex()>0}));break;case t.PathDetectionStrategy.Pre:u=i.filter((function(t){return t.getIndex()>0}));break;case t.PathDetectionStrategy.Both:u=i.concat(a).filter((function(t){return t.getIndex()>0}))}return 0===u.length},t.inFirstRightPath=function(e,n,r,o){return void 0===n&&(n=t.PathDetectionStrategy.Post),Rt(e,Mt,n,r,o)},t.inPath=Rt,t.inRightPath=Dt,t.inTargetPath=Bt,t.inVariantPath=Et,t.inWrongPath=Wt,t.initNodeData=Ht,t.initialRootNode=function(t){void 0===t&&(t=["FF[4]","GM[1]","CA[UTF-8]","AP[ghostgo:0.1.0]","SZ[19]","ST[0]"]);var e=(new f).parse({id:"",name:"",index:0,number:0,rootProps:t.map((function(t){return st.from(t)})),moveProps:[],setupProps:[],markupProps:[],gameInfoProps:[],nodeAnnotationProps:[],moveAnnotationProps:[],customProps:[]}),n=g(e);return e.model.id=n,e},t.isAnswerNode=function(t,e){var n,r=null===(n=t.model.customProps)||void 0===n?void 0:n.find((function(t){return"PAT"===t.token}));return(null==r?void 0:r.value)===e},t.isCharacterInNode=function(t,e,n){void 0===n&&(n=["C","TM","GN","PC"]);for(var r,o=new RegExp("(".concat(n.join("|"),")\\[([^\\]]*)\\]"),"g");null!==(r=o.exec(t));){var i=r.index+r[1].length+1,a=i+r[2].length;if(e>=i&&e<=a)return!0}return!1},t.isChoiceNode=Pt,t.isFirstRightNode=Mt,t.isForceNode=Tt,t.isInAnyRange=y,t.isMainPath=function(t){return 0===d.sum(t.getPath().map((function(t){return t.getIndex()})))},t.isMoveNode=N,t.isPreventMoveNode=xt,t.isRightNode=At,t.isRootNode=function(t){return t.model.rootProps.length>0||t.isRoot()},t.isSetupNode=R,t.isTargetNode=kt,t.isVariantNode=St,t.isWrongNode=Nt,t.matToListOfTuples=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=0);for(var r=[],o=0;o<t.length;o++)for(var i=0;i<t[o].length;i++){var a=t[o][i];if(0!==a){var u=E[o+e],s=W[i+n],l=1===a?"B":"W";r.push([l,u+s])}}return r},t.matToPosition=function(t,e,n){var r="";e=null!=e?e:0,n=null!=n?n:19-t.length;for(var o=0;o<t.length;o++)for(var i=0;i<t[o].length;i++){var a=t[o][i];if(0!==a){var u=E[o+e],s=W[i+n];r+="".concat(1===a?"b":"w"," ").concat(u).concat(s," ")}}return r},t.move=ne,t.nFormatter=It,t.offsetA1Move=zt,t.pathToAiMoves=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=0),t.filter((function(t){return t.model.moveProps.length>0})).map((function(t){var r=t.model.moveProps[0],o=E[I.indexOf(r.value[0])+e],i=W[I.indexOf(r.value[1])+n];return[r.token,o+i]}))},t.pathToIndexes=function(t){return t.map((function(t){return t.model.id}))},t.pathToInitialStones=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=0);var r=t.filter((function(t){return t.model.setupProps.length>0})).map((function(t){return t.model.setupProps.map((function(t){return t.values.map((function(r){var o=E[I.indexOf(r[0])+e],i=W[I.indexOf(r[1])+n];return["AB"===t.token?"B":"W",o+i]}))}))}));return d.flattenDepth(r[0],1)},t.posToSgf=function(e,n,r){var o=I[e],i=I[n];return r===t.Ki.Empty?"":r===t.Ki.White?"B[".concat(o).concat(i,"]"):r===t.Ki.Black?"W[".concat(o).concat(i,"]"):""},t.reverseOffset=te,t.reverseOffsetA1Move=function(t,e,n,r){if(void 0===r&&(r=19),"pass"===t)return t;var o=JSON.parse(n.id),i=te(e,o.bx,o.by,r),a=i.x,u=i.y,s=E.indexOf(t[0])+a,l=W.indexOf(parseInt(t.substr(1),0))+u;return s<0||l<0||s>=E.length||l>=W.length?null:"".concat(E[s]).concat(W[l])},t.round2=function(t,e,n){return void 0===e&&(e=1),void 0===n&&(n=2),(Math.round(100*t)/100*e).toFixed(n)},t.round3=Ct,t.sgfOffset=Ft,t.sgfToA1=function(t){var e=Lt(t),n=e.x,r=e.y;return E[n]+W[r]},t.sgfToPos=Lt,t.showKi=function(t,e,n){void 0===n&&(n=!0);var r=d.cloneDeep(t),o=!1;return e.forEach((function(t){var e=Lt(t),i=e.x,a=e.y,u=e.ki;n?bt(r,i,a,u)&&(r[i][a]=u,r=yt(r,i,a,-u),o=!0):(r[i][a]=u,o=!0)})),{arrangement:r,hasMoved:o}},t.zeros=Yt,t}({});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXgubWluLmpzIiwic291cmNlcyI6WyIuLi9ub2RlX21vZHVsZXMvdHNsaWIvdHNsaWIuZXM2LmpzIiwiLi4vLi4vY29yZS9tZXJnZXNvcnQudHMiLCIuLi8uLi9jb3JlL3RyZWUudHMiLCIuLi9ub2RlX21vZHVsZXMvbG9kYXNoL2xvZGFzaC5qcyIsIi4uLy4uL2NvcmUvaGVscGVycy50cyIsIi4uLy4uL3R5cGVzLnRzIiwiLi4vLi4vY29uc3QudHMiLCIuLi8uLi9jb3JlL3Byb3BzLnRzIiwiLi4vLi4vYm9hcmRjb3JlLnRzIiwiLi4vLi4vY29yZS9zZ2YudHMiLCIuLi8uLi9oZWxwZXIudHMiLCIuLi8uLi9zdG9uZXMvYmFzZS50cyIsIi4uLy4uL3N0b25lcy9GbGF0U3RvbmUudHMiLCIuLi8uLi9zdG9uZXMvSW1hZ2VTdG9uZS50cyIsIi4uLy4uL3N0b25lcy9BbmFseXNpc1BvaW50LnRzIiwiLi4vLi4vbWFya3Vwcy9NYXJrdXBCYXNlLnRzIiwiLi4vLi4vbWFya3Vwcy9DaXJjbGVNYXJrdXAudHMiLCIuLi8uLi9tYXJrdXBzL0Nyb3NzTWFya3VwLnRzIiwiLi4vLi4vbWFya3Vwcy9UZXh0TWFya3VwLnRzIiwiLi4vLi4vbWFya3Vwcy9TcXVhcmVNYXJrdXAudHMiLCIuLi8uLi9tYXJrdXBzL1RyaWFuZ2xlTWFya3VwLnRzIiwiLi4vLi4vbWFya3Vwcy9HcmVlblBsdXNNYXJrdXAudHMiLCIuLi8uLi9tYXJrdXBzL1JlZENyb3NzTWFya3VwLnRzIiwiLi4vLi4vbWFya3Vwcy9ZZWxsb3dUcmlhbmdsZU1hcmt1cC50cyIsIi4uLy4uL21hcmt1cHMvTm9kZU1hcmt1cC50cyIsIi4uLy4uL21hcmt1cHMvQWN0aXZlTm9kZU1hcmt1cC50cyIsIi4uLy4uL21hcmt1cHMvQ2lyY2xlU29saWRNYXJrdXAudHMiLCIuLi8uLi9tYXJrdXBzL0hpZ2hsaWdodE1hcmt1cC50cyIsIi4uLy4uL2VmZmVjdHMvRWZmZWN0QmFzZS50cyIsIi4uL25vZGVfbW9kdWxlcy9qcy1iYXNlNjQvYmFzZTY0Lm1qcyIsIi4uLy4uL2VmZmVjdHMvQmFuRWZmZWN0LnRzIiwiLi4vLi4vZ2hvc3RiYW4udHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlLCBTdXBwcmVzc2VkRXJyb3IsIFN5bWJvbCAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxyXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICAgICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19lc0RlY29yYXRlKGN0b3IsIGRlc2NyaXB0b3JJbiwgZGVjb3JhdG9ycywgY29udGV4dEluLCBpbml0aWFsaXplcnMsIGV4dHJhSW5pdGlhbGl6ZXJzKSB7XHJcbiAgICBmdW5jdGlvbiBhY2NlcHQoZikgeyBpZiAoZiAhPT0gdm9pZCAwICYmIHR5cGVvZiBmICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJGdW5jdGlvbiBleHBlY3RlZFwiKTsgcmV0dXJuIGY7IH1cclxuICAgIHZhciBraW5kID0gY29udGV4dEluLmtpbmQsIGtleSA9IGtpbmQgPT09IFwiZ2V0dGVyXCIgPyBcImdldFwiIDoga2luZCA9PT0gXCJzZXR0ZXJcIiA/IFwic2V0XCIgOiBcInZhbHVlXCI7XHJcbiAgICB2YXIgdGFyZ2V0ID0gIWRlc2NyaXB0b3JJbiAmJiBjdG9yID8gY29udGV4dEluW1wic3RhdGljXCJdID8gY3RvciA6IGN0b3IucHJvdG90eXBlIDogbnVsbDtcclxuICAgIHZhciBkZXNjcmlwdG9yID0gZGVzY3JpcHRvckluIHx8ICh0YXJnZXQgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwgY29udGV4dEluLm5hbWUpIDoge30pO1xyXG4gICAgdmFyIF8sIGRvbmUgPSBmYWxzZTtcclxuICAgIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgdmFyIGNvbnRleHQgPSB7fTtcclxuICAgICAgICBmb3IgKHZhciBwIGluIGNvbnRleHRJbikgY29udGV4dFtwXSA9IHAgPT09IFwiYWNjZXNzXCIgPyB7fSA6IGNvbnRleHRJbltwXTtcclxuICAgICAgICBmb3IgKHZhciBwIGluIGNvbnRleHRJbi5hY2Nlc3MpIGNvbnRleHQuYWNjZXNzW3BdID0gY29udGV4dEluLmFjY2Vzc1twXTtcclxuICAgICAgICBjb250ZXh0LmFkZEluaXRpYWxpemVyID0gZnVuY3Rpb24gKGYpIHsgaWYgKGRvbmUpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgYWRkIGluaXRpYWxpemVycyBhZnRlciBkZWNvcmF0aW9uIGhhcyBjb21wbGV0ZWRcIik7IGV4dHJhSW5pdGlhbGl6ZXJzLnB1c2goYWNjZXB0KGYgfHwgbnVsbCkpOyB9O1xyXG4gICAgICAgIHZhciByZXN1bHQgPSAoMCwgZGVjb3JhdG9yc1tpXSkoa2luZCA9PT0gXCJhY2Nlc3NvclwiID8geyBnZXQ6IGRlc2NyaXB0b3IuZ2V0LCBzZXQ6IGRlc2NyaXB0b3Iuc2V0IH0gOiBkZXNjcmlwdG9yW2tleV0sIGNvbnRleHQpO1xyXG4gICAgICAgIGlmIChraW5kID09PSBcImFjY2Vzc29yXCIpIHtcclxuICAgICAgICAgICAgaWYgKHJlc3VsdCA9PT0gdm9pZCAwKSBjb250aW51ZTtcclxuICAgICAgICAgICAgaWYgKHJlc3VsdCA9PT0gbnVsbCB8fCB0eXBlb2YgcmVzdWx0ICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiT2JqZWN0IGV4cGVjdGVkXCIpO1xyXG4gICAgICAgICAgICBpZiAoXyA9IGFjY2VwdChyZXN1bHQuZ2V0KSkgZGVzY3JpcHRvci5nZXQgPSBfO1xyXG4gICAgICAgICAgICBpZiAoXyA9IGFjY2VwdChyZXN1bHQuc2V0KSkgZGVzY3JpcHRvci5zZXQgPSBfO1xyXG4gICAgICAgICAgICBpZiAoXyA9IGFjY2VwdChyZXN1bHQuaW5pdCkpIGluaXRpYWxpemVycy51bnNoaWZ0KF8pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChfID0gYWNjZXB0KHJlc3VsdCkpIHtcclxuICAgICAgICAgICAgaWYgKGtpbmQgPT09IFwiZmllbGRcIikgaW5pdGlhbGl6ZXJzLnVuc2hpZnQoXyk7XHJcbiAgICAgICAgICAgIGVsc2UgZGVzY3JpcHRvcltrZXldID0gXztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAodGFyZ2V0KSBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBjb250ZXh0SW4ubmFtZSwgZGVzY3JpcHRvcik7XHJcbiAgICBkb25lID0gdHJ1ZTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3J1bkluaXRpYWxpemVycyh0aGlzQXJnLCBpbml0aWFsaXplcnMsIHZhbHVlKSB7XHJcbiAgICB2YXIgdXNlVmFsdWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMjtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5pdGlhbGl6ZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFsdWUgPSB1c2VWYWx1ZSA/IGluaXRpYWxpemVyc1tpXS5jYWxsKHRoaXNBcmcsIHZhbHVlKSA6IGluaXRpYWxpemVyc1tpXS5jYWxsKHRoaXNBcmcpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHVzZVZhbHVlID8gdmFsdWUgOiB2b2lkIDA7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19wcm9wS2V5KHgpIHtcclxuICAgIHJldHVybiB0eXBlb2YgeCA9PT0gXCJzeW1ib2xcIiA/IHggOiBcIlwiLmNvbmNhdCh4KTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NldEZ1bmN0aW9uTmFtZShmLCBuYW1lLCBwcmVmaXgpIHtcclxuICAgIGlmICh0eXBlb2YgbmFtZSA9PT0gXCJzeW1ib2xcIikgbmFtZSA9IG5hbWUuZGVzY3JpcHRpb24gPyBcIltcIi5jb25jYXQobmFtZS5kZXNjcmlwdGlvbiwgXCJdXCIpIDogXCJcIjtcclxuICAgIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZiwgXCJuYW1lXCIsIHsgY29uZmlndXJhYmxlOiB0cnVlLCB2YWx1ZTogcHJlZml4ID8gXCJcIi5jb25jYXQocHJlZml4LCBcIiBcIiwgbmFtZSkgOiBuYW1lIH0pO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChnICYmIChnID0gMCwgb3BbMF0gJiYgKF8gPSAwKSksIF8pIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcclxuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cclxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2NyZWF0ZUJpbmRpbmcgPSBPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XHJcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xyXG4gICAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG0sIGspO1xyXG4gICAgaWYgKCFkZXNjIHx8IChcImdldFwiIGluIGRlc2MgPyAhbS5fX2VzTW9kdWxlIDogZGVzYy53cml0YWJsZSB8fCBkZXNjLmNvbmZpZ3VyYWJsZSkpIHtcclxuICAgICAgICBkZXNjID0geyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9O1xyXG4gICAgfVxyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCBkZXNjKTtcclxufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcclxuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XHJcbiAgICBvW2syXSA9IG1ba107XHJcbn0pO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBvKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG8sIHApKSBfX2NyZWF0ZUJpbmRpbmcobywgbSwgcCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3ZhbHVlcyhvKSB7XHJcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xyXG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XHJcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbi8qKiBAZGVwcmVjYXRlZCAqL1xyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWQoKSB7XHJcbiAgICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcclxuICAgICAgICBhciA9IGFyLmNvbmNhdChfX3JlYWQoYXJndW1lbnRzW2ldKSk7XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbi8qKiBAZGVwcmVjYXRlZCAqL1xyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XHJcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcclxuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcclxuICAgICAgICAgICAgcltrXSA9IGFbal07XHJcbiAgICByZXR1cm4gcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXkodG8sIGZyb20sIHBhY2spIHtcclxuICAgIGlmIChwYWNrIHx8IGFyZ3VtZW50cy5sZW5ndGggPT09IDIpIGZvciAodmFyIGkgPSAwLCBsID0gZnJvbS5sZW5ndGgsIGFyOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKGFyIHx8ICEoaSBpbiBmcm9tKSkge1xyXG4gICAgICAgICAgICBpZiAoIWFyKSBhciA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20sIDAsIGkpO1xyXG4gICAgICAgICAgICBhcltpXSA9IGZyb21baV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRvLmNvbmNhdChhciB8fCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmcm9tKSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogZmFsc2UgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xyXG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cclxuICAgIHJldHVybiBjb29rZWQ7XHJcbn07XHJcblxyXG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHYgfSk7XHJcbn0pIDogZnVuY3Rpb24obywgdikge1xyXG4gICAgb1tcImRlZmF1bHRcIl0gPSB2O1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0U3Rhcihtb2QpIHtcclxuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XHJcbiAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoayAhPT0gXCJkZWZhdWx0XCIgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIF9fY3JlYXRlQmluZGluZyhyZXN1bHQsIG1vZCwgayk7XHJcbiAgICBfX3NldE1vZHVsZURlZmF1bHQocmVzdWx0LCBtb2QpO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHJlY2VpdmVyLCBzdGF0ZSwga2luZCwgZikge1xyXG4gICAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgZ2V0dGVyXCIpO1xyXG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgcmVhZCBwcml2YXRlIG1lbWJlciBmcm9tIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XHJcbiAgICByZXR1cm4ga2luZCA9PT0gXCJtXCIgPyBmIDoga2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIpIDogZiA/IGYudmFsdWUgOiBzdGF0ZS5nZXQocmVjZWl2ZXIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZFNldChyZWNlaXZlciwgc3RhdGUsIHZhbHVlLCBraW5kLCBmKSB7XHJcbiAgICBpZiAoa2luZCA9PT0gXCJtXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIG1ldGhvZCBpcyBub3Qgd3JpdGFibGVcIik7XHJcbiAgICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBzZXR0ZXJcIik7XHJcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB3cml0ZSBwcml2YXRlIG1lbWJlciB0byBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xyXG4gICAgcmV0dXJuIChraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlciwgdmFsdWUpIDogZiA/IGYudmFsdWUgPSB2YWx1ZSA6IHN0YXRlLnNldChyZWNlaXZlciwgdmFsdWUpKSwgdmFsdWU7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkSW4oc3RhdGUsIHJlY2VpdmVyKSB7XHJcbiAgICBpZiAocmVjZWl2ZXIgPT09IG51bGwgfHwgKHR5cGVvZiByZWNlaXZlciAhPT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgcmVjZWl2ZXIgIT09IFwiZnVuY3Rpb25cIikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgdXNlICdpbicgb3BlcmF0b3Igb24gbm9uLW9iamVjdFwiKTtcclxuICAgIHJldHVybiB0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyID09PSBzdGF0ZSA6IHN0YXRlLmhhcyhyZWNlaXZlcik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FkZERpc3Bvc2FibGVSZXNvdXJjZShlbnYsIHZhbHVlLCBhc3luYykge1xyXG4gICAgaWYgKHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB2b2lkIDApIHtcclxuICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiICYmIHR5cGVvZiB2YWx1ZSAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiT2JqZWN0IGV4cGVjdGVkLlwiKTtcclxuICAgICAgICB2YXIgZGlzcG9zZTtcclxuICAgICAgICBpZiAoYXN5bmMpIHtcclxuICAgICAgICAgICAgaWYgKCFTeW1ib2wuYXN5bmNEaXNwb3NlKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jRGlzcG9zZSBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICAgICAgICAgIGRpc3Bvc2UgPSB2YWx1ZVtTeW1ib2wuYXN5bmNEaXNwb3NlXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRpc3Bvc2UgPT09IHZvaWQgMCkge1xyXG4gICAgICAgICAgICBpZiAoIVN5bWJvbC5kaXNwb3NlKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmRpc3Bvc2UgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgICAgICAgICBkaXNwb3NlID0gdmFsdWVbU3ltYm9sLmRpc3Bvc2VdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIGRpc3Bvc2UgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk9iamVjdCBub3QgZGlzcG9zYWJsZS5cIik7XHJcbiAgICAgICAgZW52LnN0YWNrLnB1c2goeyB2YWx1ZTogdmFsdWUsIGRpc3Bvc2U6IGRpc3Bvc2UsIGFzeW5jOiBhc3luYyB9KTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGFzeW5jKSB7XHJcbiAgICAgICAgZW52LnN0YWNrLnB1c2goeyBhc3luYzogdHJ1ZSB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiB2YWx1ZTtcclxufVxyXG5cclxudmFyIF9TdXBwcmVzc2VkRXJyb3IgPSB0eXBlb2YgU3VwcHJlc3NlZEVycm9yID09PSBcImZ1bmN0aW9uXCIgPyBTdXBwcmVzc2VkRXJyb3IgOiBmdW5jdGlvbiAoZXJyb3IsIHN1cHByZXNzZWQsIG1lc3NhZ2UpIHtcclxuICAgIHZhciBlID0gbmV3IEVycm9yKG1lc3NhZ2UpO1xyXG4gICAgcmV0dXJuIGUubmFtZSA9IFwiU3VwcHJlc3NlZEVycm9yXCIsIGUuZXJyb3IgPSBlcnJvciwgZS5zdXBwcmVzc2VkID0gc3VwcHJlc3NlZCwgZTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2Rpc3Bvc2VSZXNvdXJjZXMoZW52KSB7XHJcbiAgICBmdW5jdGlvbiBmYWlsKGUpIHtcclxuICAgICAgICBlbnYuZXJyb3IgPSBlbnYuaGFzRXJyb3IgPyBuZXcgX1N1cHByZXNzZWRFcnJvcihlLCBlbnYuZXJyb3IsIFwiQW4gZXJyb3Igd2FzIHN1cHByZXNzZWQgZHVyaW5nIGRpc3Bvc2FsLlwiKSA6IGU7XHJcbiAgICAgICAgZW52Lmhhc0Vycm9yID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIG5leHQoKSB7XHJcbiAgICAgICAgd2hpbGUgKGVudi5zdGFjay5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdmFyIHJlYyA9IGVudi5zdGFjay5wb3AoKTtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSByZWMuZGlzcG9zZSAmJiByZWMuZGlzcG9zZS5jYWxsKHJlYy52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVjLmFzeW5jKSByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc3VsdCkudGhlbihuZXh0LCBmdW5jdGlvbihlKSB7IGZhaWwoZSk7IHJldHVybiBuZXh0KCk7IH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICBmYWlsKGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChlbnYuaGFzRXJyb3IpIHRocm93IGVudi5lcnJvcjtcclxuICAgIH1cclxuICAgIHJldHVybiBuZXh0KCk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIF9fZXh0ZW5kczogX19leHRlbmRzLFxyXG4gICAgX19hc3NpZ246IF9fYXNzaWduLFxyXG4gICAgX19yZXN0OiBfX3Jlc3QsXHJcbiAgICBfX2RlY29yYXRlOiBfX2RlY29yYXRlLFxyXG4gICAgX19wYXJhbTogX19wYXJhbSxcclxuICAgIF9fbWV0YWRhdGE6IF9fbWV0YWRhdGEsXHJcbiAgICBfX2F3YWl0ZXI6IF9fYXdhaXRlcixcclxuICAgIF9fZ2VuZXJhdG9yOiBfX2dlbmVyYXRvcixcclxuICAgIF9fY3JlYXRlQmluZGluZzogX19jcmVhdGVCaW5kaW5nLFxyXG4gICAgX19leHBvcnRTdGFyOiBfX2V4cG9ydFN0YXIsXHJcbiAgICBfX3ZhbHVlczogX192YWx1ZXMsXHJcbiAgICBfX3JlYWQ6IF9fcmVhZCxcclxuICAgIF9fc3ByZWFkOiBfX3NwcmVhZCxcclxuICAgIF9fc3ByZWFkQXJyYXlzOiBfX3NwcmVhZEFycmF5cyxcclxuICAgIF9fc3ByZWFkQXJyYXk6IF9fc3ByZWFkQXJyYXksXHJcbiAgICBfX2F3YWl0OiBfX2F3YWl0LFxyXG4gICAgX19hc3luY0dlbmVyYXRvcjogX19hc3luY0dlbmVyYXRvcixcclxuICAgIF9fYXN5bmNEZWxlZ2F0b3I6IF9fYXN5bmNEZWxlZ2F0b3IsXHJcbiAgICBfX2FzeW5jVmFsdWVzOiBfX2FzeW5jVmFsdWVzLFxyXG4gICAgX19tYWtlVGVtcGxhdGVPYmplY3Q6IF9fbWFrZVRlbXBsYXRlT2JqZWN0LFxyXG4gICAgX19pbXBvcnRTdGFyOiBfX2ltcG9ydFN0YXIsXHJcbiAgICBfX2ltcG9ydERlZmF1bHQ6IF9faW1wb3J0RGVmYXVsdCxcclxuICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQ6IF9fY2xhc3NQcml2YXRlRmllbGRHZXQsXHJcbiAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0OiBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0LFxyXG4gICAgX19jbGFzc1ByaXZhdGVGaWVsZEluOiBfX2NsYXNzUHJpdmF0ZUZpZWxkSW4sXHJcbiAgICBfX2FkZERpc3Bvc2FibGVSZXNvdXJjZTogX19hZGREaXNwb3NhYmxlUmVzb3VyY2UsXHJcbiAgICBfX2Rpc3Bvc2VSZXNvdXJjZXM6IF9fZGlzcG9zZVJlc291cmNlcyxcclxufTtcclxuIiwiZXhwb3J0IHR5cGUgQ29tcGFyYXRvcjxUPiA9IChhOiBULCBiOiBUKSA9PiBudW1iZXI7XG5cbi8qKlxuICogU29ydCBhbiBhcnJheSB1c2luZyB0aGUgbWVyZ2Ugc29ydCBhbGdvcml0aG0uXG4gKlxuICogQHBhcmFtIGNvbXBhcmF0b3JGbiBUaGUgY29tcGFyYXRvciBmdW5jdGlvbi5cbiAqIEBwYXJhbSBhcnIgVGhlIGFycmF5IHRvIHNvcnQuXG4gKiBAcmV0dXJucyBUaGUgc29ydGVkIGFycmF5LlxuICovXG5mdW5jdGlvbiBtZXJnZVNvcnQ8VD4oY29tcGFyYXRvckZuOiBDb21wYXJhdG9yPFQ+LCBhcnI6IFRbXSk6IFRbXSB7XG4gIGNvbnN0IGxlbiA9IGFyci5sZW5ndGg7XG4gIGlmIChsZW4gPj0gMikge1xuICAgIGNvbnN0IGZpcnN0SGFsZiA9IGFyci5zbGljZSgwLCBsZW4gLyAyKTtcbiAgICBjb25zdCBzZWNvbmRIYWxmID0gYXJyLnNsaWNlKGxlbiAvIDIsIGxlbik7XG4gICAgcmV0dXJuIG1lcmdlKFxuICAgICAgY29tcGFyYXRvckZuLFxuICAgICAgbWVyZ2VTb3J0KGNvbXBhcmF0b3JGbiwgZmlyc3RIYWxmKSxcbiAgICAgIG1lcmdlU29ydChjb21wYXJhdG9yRm4sIHNlY29uZEhhbGYpXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYXJyLnNsaWNlKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBUaGUgbWVyZ2UgcGFydCBvZiB0aGUgbWVyZ2Ugc29ydCBhbGdvcml0aG0uXG4gKlxuICogQHBhcmFtIGNvbXBhcmF0b3JGbiBUaGUgY29tcGFyYXRvciBmdW5jdGlvbi5cbiAqIEBwYXJhbSBhcnIxIFRoZSBmaXJzdCBzb3J0ZWQgYXJyYXkuXG4gKiBAcGFyYW0gYXJyMiBUaGUgc2Vjb25kIHNvcnRlZCBhcnJheS5cbiAqIEByZXR1cm5zIFRoZSBtZXJnZWQgYW5kIHNvcnRlZCBhcnJheS5cbiAqL1xuZnVuY3Rpb24gbWVyZ2U8VD4oY29tcGFyYXRvckZuOiBDb21wYXJhdG9yPFQ+LCBhcnIxOiBUW10sIGFycjI6IFRbXSk6IFRbXSB7XG4gIGNvbnN0IHJlc3VsdDogVFtdID0gW107XG4gIGxldCBsZWZ0MSA9IGFycjEubGVuZ3RoO1xuICBsZXQgbGVmdDIgPSBhcnIyLmxlbmd0aDtcblxuICB3aGlsZSAobGVmdDEgPiAwICYmIGxlZnQyID4gMCkge1xuICAgIGlmIChjb21wYXJhdG9yRm4oYXJyMVswXSwgYXJyMlswXSkgPD0gMCkge1xuICAgICAgcmVzdWx0LnB1c2goYXJyMS5zaGlmdCgpISk7IC8vIG5vbi1udWxsIGFzc2VydGlvbjogc2FmZSBzaW5jZSB3ZSBqdXN0IGNoZWNrZWQgbGVuZ3RoXG4gICAgICBsZWZ0MS0tO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQucHVzaChhcnIyLnNoaWZ0KCkhKTtcbiAgICAgIGxlZnQyLS07XG4gICAgfVxuICB9XG5cbiAgaWYgKGxlZnQxID4gMCkge1xuICAgIHJlc3VsdC5wdXNoKC4uLmFycjEpO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdC5wdXNoKC4uLmFycjIpO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgbWVyZ2VTb3J0O1xuIiwiaW1wb3J0IG1lcmdlU29ydCBmcm9tICcuL21lcmdlc29ydCc7XG5pbXBvcnQge1NnZk5vZGV9IGZyb20gJy4vdHlwZXMnO1xuXG5mdW5jdGlvbiBmaW5kSW5zZXJ0SW5kZXg8VD4oXG4gIGNvbXBhcmF0b3JGbjogKGE6IFQsIGI6IFQpID0+IG51bWJlcixcbiAgYXJyOiBUW10sXG4gIGVsOiBUXG4pOiBudW1iZXIge1xuICBsZXQgaTogbnVtYmVyO1xuICBjb25zdCBsZW4gPSBhcnIubGVuZ3RoO1xuICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICBpZiAoY29tcGFyYXRvckZuKGFycltpXSwgZWwpID4gMCkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiBpO1xufVxuXG50eXBlIENvbXBhcmF0b3I8VD4gPSAoYTogVCwgYjogVCkgPT4gbnVtYmVyO1xuXG5pbnRlcmZhY2UgVHJlZU1vZGVsQ29uZmlnPFQ+IHtcbiAgY2hpbGRyZW5Qcm9wZXJ0eU5hbWU/OiBzdHJpbmc7XG4gIG1vZGVsQ29tcGFyYXRvckZuPzogQ29tcGFyYXRvcjxUPjtcbn1cblxuY2xhc3MgVE5vZGUge1xuICBjb25maWc6IFRyZWVNb2RlbENvbmZpZzxTZ2ZOb2RlPjtcbiAgbW9kZWw6IFNnZk5vZGU7XG4gIGNoaWxkcmVuOiBUTm9kZVtdID0gW107XG4gIHBhcmVudD86IFROb2RlO1xuXG4gIGNvbnN0cnVjdG9yKGNvbmZpZzogVHJlZU1vZGVsQ29uZmlnPFNnZk5vZGU+LCBtb2RlbDogU2dmTm9kZSkge1xuICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgIHRoaXMubW9kZWwgPSBtb2RlbDtcbiAgfVxuXG4gIGlzUm9vdCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5wYXJlbnQgPT09IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGhhc0NoaWxkcmVuKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmNoaWxkcmVuLmxlbmd0aCA+IDA7XG4gIH1cblxuICBhZGRDaGlsZChjaGlsZDogVE5vZGUpOiBUTm9kZSB7XG4gICAgcmV0dXJuIGFkZENoaWxkKHRoaXMsIGNoaWxkKTtcbiAgfVxuXG4gIGFkZENoaWxkQXRJbmRleChjaGlsZDogVE5vZGUsIGluZGV4OiBudW1iZXIpOiBUTm9kZSB7XG4gICAgaWYgKHRoaXMuY29uZmlnLm1vZGVsQ29tcGFyYXRvckZuKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdDYW5ub3QgYWRkIGNoaWxkIGF0IGluZGV4IHdoZW4gdXNpbmcgYSBjb21wYXJhdG9yIGZ1bmN0aW9uLidcbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3QgcHJvcCA9IHRoaXMuY29uZmlnLmNoaWxkcmVuUHJvcGVydHlOYW1lIHx8ICdjaGlsZHJlbic7XG4gICAgaWYgKCEodGhpcy5tb2RlbCBhcyBhbnkpW3Byb3BdKSB7XG4gICAgICAodGhpcy5tb2RlbCBhcyBhbnkpW3Byb3BdID0gW107XG4gICAgfVxuXG4gICAgY29uc3QgbW9kZWxDaGlsZHJlbiA9ICh0aGlzLm1vZGVsIGFzIGFueSlbcHJvcF07XG5cbiAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID4gdGhpcy5jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBpbmRleC4nKTtcbiAgICB9XG5cbiAgICBjaGlsZC5wYXJlbnQgPSB0aGlzO1xuICAgIG1vZGVsQ2hpbGRyZW4uc3BsaWNlKGluZGV4LCAwLCBjaGlsZC5tb2RlbCk7XG4gICAgdGhpcy5jaGlsZHJlbi5zcGxpY2UoaW5kZXgsIDAsIGNoaWxkKTtcblxuICAgIHJldHVybiBjaGlsZDtcbiAgfVxuXG4gIGdldFBhdGgoKTogVE5vZGVbXSB7XG4gICAgY29uc3QgcGF0aDogVE5vZGVbXSA9IFtdO1xuICAgIGxldCBjdXJyZW50OiBUTm9kZSB8IHVuZGVmaW5lZCA9IHRoaXM7XG4gICAgd2hpbGUgKGN1cnJlbnQpIHtcbiAgICAgIHBhdGgudW5zaGlmdChjdXJyZW50KTtcbiAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnBhcmVudDtcbiAgICB9XG4gICAgcmV0dXJuIHBhdGg7XG4gIH1cblxuICBnZXRJbmRleCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmlzUm9vdCgpID8gMCA6IHRoaXMucGFyZW50IS5jaGlsZHJlbi5pbmRleE9mKHRoaXMpO1xuICB9XG5cbiAgc2V0SW5kZXgoaW5kZXg6IG51bWJlcik6IHRoaXMge1xuICAgIGlmICh0aGlzLmNvbmZpZy5tb2RlbENvbXBhcmF0b3JGbikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnQ2Fubm90IHNldCBub2RlIGluZGV4IHdoZW4gdXNpbmcgYSBjb21wYXJhdG9yIGZ1bmN0aW9uLidcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaXNSb290KCkpIHtcbiAgICAgIGlmIChpbmRleCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBpbmRleC4nKTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMucGFyZW50KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vZGUgaGFzIG5vIHBhcmVudC4nKTtcbiAgICB9XG5cbiAgICBjb25zdCBzaWJsaW5ncyA9IHRoaXMucGFyZW50LmNoaWxkcmVuO1xuICAgIGNvbnN0IG1vZGVsU2libGluZ3MgPSAodGhpcy5wYXJlbnQubW9kZWwgYXMgYW55KVtcbiAgICAgIHRoaXMuY29uZmlnLmNoaWxkcmVuUHJvcGVydHlOYW1lIHx8ICdjaGlsZHJlbidcbiAgICBdO1xuXG4gICAgY29uc3Qgb2xkSW5kZXggPSBzaWJsaW5ncy5pbmRleE9mKHRoaXMpO1xuXG4gICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+PSBzaWJsaW5ncy5sZW5ndGgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBpbmRleC4nKTtcbiAgICB9XG5cbiAgICBzaWJsaW5ncy5zcGxpY2UoaW5kZXgsIDAsIHNpYmxpbmdzLnNwbGljZShvbGRJbmRleCwgMSlbMF0pO1xuICAgIG1vZGVsU2libGluZ3Muc3BsaWNlKGluZGV4LCAwLCBtb2RlbFNpYmxpbmdzLnNwbGljZShvbGRJbmRleCwgMSlbMF0pO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICB3YWxrKGZuOiAobm9kZTogVE5vZGUpID0+IGJvb2xlYW4gfCB2b2lkKTogdm9pZCB7XG4gICAgY29uc3Qgd2Fsa1JlY3Vyc2l2ZSA9IChub2RlOiBUTm9kZSk6IGJvb2xlYW4gPT4ge1xuICAgICAgaWYgKGZuKG5vZGUpID09PSBmYWxzZSkgcmV0dXJuIGZhbHNlO1xuICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiBub2RlLmNoaWxkcmVuKSB7XG4gICAgICAgIGlmICh3YWxrUmVjdXJzaXZlKGNoaWxkKSA9PT0gZmFsc2UpIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgd2Fsa1JlY3Vyc2l2ZSh0aGlzKTtcbiAgfVxuXG4gIGZpcnN0KGZuOiAobm9kZTogVE5vZGUpID0+IGJvb2xlYW4pOiBUTm9kZSB8IHVuZGVmaW5lZCB7XG4gICAgbGV0IHJlc3VsdDogVE5vZGUgfCB1bmRlZmluZWQ7XG4gICAgdGhpcy53YWxrKG5vZGUgPT4ge1xuICAgICAgaWYgKGZuKG5vZGUpKSB7XG4gICAgICAgIHJlc3VsdCA9IG5vZGU7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgYWxsKGZuOiAobm9kZTogVE5vZGUpID0+IGJvb2xlYW4pOiBUTm9kZVtdIHtcbiAgICBjb25zdCByZXN1bHQ6IFROb2RlW10gPSBbXTtcbiAgICB0aGlzLndhbGsobm9kZSA9PiB7XG4gICAgICBpZiAoZm4obm9kZSkpIHJlc3VsdC5wdXNoKG5vZGUpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBkcm9wKCk6IHRoaXMge1xuICAgIGlmICh0aGlzLnBhcmVudCkge1xuICAgICAgY29uc3QgaWR4ID0gdGhpcy5wYXJlbnQuY2hpbGRyZW4uaW5kZXhPZih0aGlzKTtcbiAgICAgIGlmIChpZHggPj0gMCkge1xuICAgICAgICB0aGlzLnBhcmVudC5jaGlsZHJlbi5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgY29uc3QgcHJvcCA9IHRoaXMuY29uZmlnLmNoaWxkcmVuUHJvcGVydHlOYW1lIHx8ICdjaGlsZHJlbic7XG4gICAgICAgICh0aGlzLnBhcmVudC5tb2RlbCBhcyBhbnkpW3Byb3BdLnNwbGljZShpZHgsIDEpO1xuICAgICAgfVxuICAgICAgdGhpcy5wYXJlbnQgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG59XG5cbmZ1bmN0aW9uIGFkZENoaWxkKHBhcmVudDogVE5vZGUsIGNoaWxkOiBUTm9kZSk6IFROb2RlIHtcbiAgY29uc3QgcHJvcCA9IHBhcmVudC5jb25maWcuY2hpbGRyZW5Qcm9wZXJ0eU5hbWUgfHwgJ2NoaWxkcmVuJztcbiAgaWYgKCEocGFyZW50Lm1vZGVsIGFzIGFueSlbcHJvcF0pIHtcbiAgICAocGFyZW50Lm1vZGVsIGFzIGFueSlbcHJvcF0gPSBbXTtcbiAgfVxuXG4gIGNvbnN0IG1vZGVsQ2hpbGRyZW4gPSAocGFyZW50Lm1vZGVsIGFzIGFueSlbcHJvcF07XG5cbiAgY2hpbGQucGFyZW50ID0gcGFyZW50O1xuICBpZiAocGFyZW50LmNvbmZpZy5tb2RlbENvbXBhcmF0b3JGbikge1xuICAgIGNvbnN0IGluZGV4ID0gZmluZEluc2VydEluZGV4KFxuICAgICAgcGFyZW50LmNvbmZpZy5tb2RlbENvbXBhcmF0b3JGbixcbiAgICAgIG1vZGVsQ2hpbGRyZW4sXG4gICAgICBjaGlsZC5tb2RlbFxuICAgICk7XG4gICAgbW9kZWxDaGlsZHJlbi5zcGxpY2UoaW5kZXgsIDAsIGNoaWxkLm1vZGVsKTtcbiAgICBwYXJlbnQuY2hpbGRyZW4uc3BsaWNlKGluZGV4LCAwLCBjaGlsZCk7XG4gIH0gZWxzZSB7XG4gICAgbW9kZWxDaGlsZHJlbi5wdXNoKGNoaWxkLm1vZGVsKTtcbiAgICBwYXJlbnQuY2hpbGRyZW4ucHVzaChjaGlsZCk7XG4gIH1cblxuICByZXR1cm4gY2hpbGQ7XG59XG5cbmNsYXNzIFRyZWVNb2RlbCB7XG4gIGNvbmZpZzogVHJlZU1vZGVsQ29uZmlnPFNnZk5vZGU+O1xuXG4gIGNvbnN0cnVjdG9yKGNvbmZpZzogVHJlZU1vZGVsQ29uZmlnPFNnZk5vZGU+ID0ge30pIHtcbiAgICB0aGlzLmNvbmZpZyA9IHtcbiAgICAgIGNoaWxkcmVuUHJvcGVydHlOYW1lOiBjb25maWcuY2hpbGRyZW5Qcm9wZXJ0eU5hbWUgfHwgJ2NoaWxkcmVuJyxcbiAgICAgIG1vZGVsQ29tcGFyYXRvckZuOiBjb25maWcubW9kZWxDb21wYXJhdG9yRm4sXG4gICAgfTtcbiAgfVxuXG4gIHBhcnNlKG1vZGVsOiBTZ2ZOb2RlKTogVE5vZGUge1xuICAgIGlmICh0eXBlb2YgbW9kZWwgIT09ICdvYmplY3QnIHx8IG1vZGVsID09PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdNb2RlbCBtdXN0IGJlIG9mIHR5cGUgb2JqZWN0LicpO1xuICAgIH1cblxuICAgIGNvbnN0IG5vZGUgPSBuZXcgVE5vZGUodGhpcy5jb25maWcsIG1vZGVsKTtcbiAgICBjb25zdCBwcm9wID0gdGhpcy5jb25maWcuY2hpbGRyZW5Qcm9wZXJ0eU5hbWUhO1xuICAgIGNvbnN0IGNoaWxkcmVuID0gKG1vZGVsIGFzIGFueSlbcHJvcF07XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheShjaGlsZHJlbikpIHtcbiAgICAgIGlmICh0aGlzLmNvbmZpZy5tb2RlbENvbXBhcmF0b3JGbikge1xuICAgICAgICAobW9kZWwgYXMgYW55KVtwcm9wXSA9IG1lcmdlU29ydChcbiAgICAgICAgICB0aGlzLmNvbmZpZy5tb2RlbENvbXBhcmF0b3JGbixcbiAgICAgICAgICBjaGlsZHJlblxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgZm9yIChjb25zdCBjaGlsZE1vZGVsIG9mIChtb2RlbCBhcyBhbnkpW3Byb3BdKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkTm9kZSA9IHRoaXMucGFyc2UoY2hpbGRNb2RlbCk7XG4gICAgICAgIGFkZENoaWxkKG5vZGUsIGNoaWxkTm9kZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cbn1cblxuZXhwb3J0IHtUcmVlTW9kZWwsIFROb2RlLCBUcmVlTW9kZWxDb25maWd9O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogTG9kYXNoIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQ29weXJpZ2h0IE9wZW5KUyBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMgPGh0dHBzOi8vb3BlbmpzZi5vcmcvPlxuICogUmVsZWFzZWQgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICogQmFzZWQgb24gVW5kZXJzY29yZS5qcyAxLjguMyA8aHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvTElDRU5TRT5cbiAqIENvcHlyaWdodCBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICovXG47KGZ1bmN0aW9uKCkge1xuXG4gIC8qKiBVc2VkIGFzIGEgc2FmZSByZWZlcmVuY2UgZm9yIGB1bmRlZmluZWRgIGluIHByZS1FUzUgZW52aXJvbm1lbnRzLiAqL1xuICB2YXIgdW5kZWZpbmVkO1xuXG4gIC8qKiBVc2VkIGFzIHRoZSBzZW1hbnRpYyB2ZXJzaW9uIG51bWJlci4gKi9cbiAgdmFyIFZFUlNJT04gPSAnNC4xNy4yMSc7XG5cbiAgLyoqIFVzZWQgYXMgdGhlIHNpemUgdG8gZW5hYmxlIGxhcmdlIGFycmF5IG9wdGltaXphdGlvbnMuICovXG4gIHZhciBMQVJHRV9BUlJBWV9TSVpFID0gMjAwO1xuXG4gIC8qKiBFcnJvciBtZXNzYWdlIGNvbnN0YW50cy4gKi9cbiAgdmFyIENPUkVfRVJST1JfVEVYVCA9ICdVbnN1cHBvcnRlZCBjb3JlLWpzIHVzZS4gVHJ5IGh0dHBzOi8vbnBtcy5pby9zZWFyY2g/cT1wb255ZmlsbC4nLFxuICAgICAgRlVOQ19FUlJPUl9URVhUID0gJ0V4cGVjdGVkIGEgZnVuY3Rpb24nLFxuICAgICAgSU5WQUxJRF9URU1QTF9WQVJfRVJST1JfVEVYVCA9ICdJbnZhbGlkIGB2YXJpYWJsZWAgb3B0aW9uIHBhc3NlZCBpbnRvIGBfLnRlbXBsYXRlYCc7XG5cbiAgLyoqIFVzZWQgdG8gc3RhbmQtaW4gZm9yIGB1bmRlZmluZWRgIGhhc2ggdmFsdWVzLiAqL1xuICB2YXIgSEFTSF9VTkRFRklORUQgPSAnX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfXyc7XG5cbiAgLyoqIFVzZWQgYXMgdGhlIG1heGltdW0gbWVtb2l6ZSBjYWNoZSBzaXplLiAqL1xuICB2YXIgTUFYX01FTU9JWkVfU0laRSA9IDUwMDtcblxuICAvKiogVXNlZCBhcyB0aGUgaW50ZXJuYWwgYXJndW1lbnQgcGxhY2Vob2xkZXIuICovXG4gIHZhciBQTEFDRUhPTERFUiA9ICdfX2xvZGFzaF9wbGFjZWhvbGRlcl9fJztcblxuICAvKiogVXNlZCB0byBjb21wb3NlIGJpdG1hc2tzIGZvciBjbG9uaW5nLiAqL1xuICB2YXIgQ0xPTkVfREVFUF9GTEFHID0gMSxcbiAgICAgIENMT05FX0ZMQVRfRkxBRyA9IDIsXG4gICAgICBDTE9ORV9TWU1CT0xTX0ZMQUcgPSA0O1xuXG4gIC8qKiBVc2VkIHRvIGNvbXBvc2UgYml0bWFza3MgZm9yIHZhbHVlIGNvbXBhcmlzb25zLiAqL1xuICB2YXIgQ09NUEFSRV9QQVJUSUFMX0ZMQUcgPSAxLFxuICAgICAgQ09NUEFSRV9VTk9SREVSRURfRkxBRyA9IDI7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSBiaXRtYXNrcyBmb3IgZnVuY3Rpb24gbWV0YWRhdGEuICovXG4gIHZhciBXUkFQX0JJTkRfRkxBRyA9IDEsXG4gICAgICBXUkFQX0JJTkRfS0VZX0ZMQUcgPSAyLFxuICAgICAgV1JBUF9DVVJSWV9CT1VORF9GTEFHID0gNCxcbiAgICAgIFdSQVBfQ1VSUllfRkxBRyA9IDgsXG4gICAgICBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcgPSAxNixcbiAgICAgIFdSQVBfUEFSVElBTF9GTEFHID0gMzIsXG4gICAgICBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRyA9IDY0LFxuICAgICAgV1JBUF9BUllfRkxBRyA9IDEyOCxcbiAgICAgIFdSQVBfUkVBUkdfRkxBRyA9IDI1NixcbiAgICAgIFdSQVBfRkxJUF9GTEFHID0gNTEyO1xuXG4gIC8qKiBVc2VkIGFzIGRlZmF1bHQgb3B0aW9ucyBmb3IgYF8udHJ1bmNhdGVgLiAqL1xuICB2YXIgREVGQVVMVF9UUlVOQ19MRU5HVEggPSAzMCxcbiAgICAgIERFRkFVTFRfVFJVTkNfT01JU1NJT04gPSAnLi4uJztcblxuICAvKiogVXNlZCB0byBkZXRlY3QgaG90IGZ1bmN0aW9ucyBieSBudW1iZXIgb2YgY2FsbHMgd2l0aGluIGEgc3BhbiBvZiBtaWxsaXNlY29uZHMuICovXG4gIHZhciBIT1RfQ09VTlQgPSA4MDAsXG4gICAgICBIT1RfU1BBTiA9IDE2O1xuXG4gIC8qKiBVc2VkIHRvIGluZGljYXRlIHRoZSB0eXBlIG9mIGxhenkgaXRlcmF0ZWVzLiAqL1xuICB2YXIgTEFaWV9GSUxURVJfRkxBRyA9IDEsXG4gICAgICBMQVpZX01BUF9GTEFHID0gMixcbiAgICAgIExBWllfV0hJTEVfRkxBRyA9IDM7XG5cbiAgLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG4gIHZhciBJTkZJTklUWSA9IDEgLyAwLFxuICAgICAgTUFYX1NBRkVfSU5URUdFUiA9IDkwMDcxOTkyNTQ3NDA5OTEsXG4gICAgICBNQVhfSU5URUdFUiA9IDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4LFxuICAgICAgTkFOID0gMCAvIDA7XG5cbiAgLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdGhlIG1heGltdW0gbGVuZ3RoIGFuZCBpbmRleCBvZiBhbiBhcnJheS4gKi9cbiAgdmFyIE1BWF9BUlJBWV9MRU5HVEggPSA0Mjk0OTY3Mjk1LFxuICAgICAgTUFYX0FSUkFZX0lOREVYID0gTUFYX0FSUkFZX0xFTkdUSCAtIDEsXG4gICAgICBIQUxGX01BWF9BUlJBWV9MRU5HVEggPSBNQVhfQVJSQVlfTEVOR1RIID4+PiAxO1xuXG4gIC8qKiBVc2VkIHRvIGFzc29jaWF0ZSB3cmFwIG1ldGhvZHMgd2l0aCB0aGVpciBiaXQgZmxhZ3MuICovXG4gIHZhciB3cmFwRmxhZ3MgPSBbXG4gICAgWydhcnknLCBXUkFQX0FSWV9GTEFHXSxcbiAgICBbJ2JpbmQnLCBXUkFQX0JJTkRfRkxBR10sXG4gICAgWydiaW5kS2V5JywgV1JBUF9CSU5EX0tFWV9GTEFHXSxcbiAgICBbJ2N1cnJ5JywgV1JBUF9DVVJSWV9GTEFHXSxcbiAgICBbJ2N1cnJ5UmlnaHQnLCBXUkFQX0NVUlJZX1JJR0hUX0ZMQUddLFxuICAgIFsnZmxpcCcsIFdSQVBfRkxJUF9GTEFHXSxcbiAgICBbJ3BhcnRpYWwnLCBXUkFQX1BBUlRJQUxfRkxBR10sXG4gICAgWydwYXJ0aWFsUmlnaHQnLCBXUkFQX1BBUlRJQUxfUklHSFRfRkxBR10sXG4gICAgWydyZWFyZycsIFdSQVBfUkVBUkdfRkxBR11cbiAgXTtcblxuICAvKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG4gIHZhciBhcmdzVGFnID0gJ1tvYmplY3QgQXJndW1lbnRzXScsXG4gICAgICBhcnJheVRhZyA9ICdbb2JqZWN0IEFycmF5XScsXG4gICAgICBhc3luY1RhZyA9ICdbb2JqZWN0IEFzeW5jRnVuY3Rpb25dJyxcbiAgICAgIGJvb2xUYWcgPSAnW29iamVjdCBCb29sZWFuXScsXG4gICAgICBkYXRlVGFnID0gJ1tvYmplY3QgRGF0ZV0nLFxuICAgICAgZG9tRXhjVGFnID0gJ1tvYmplY3QgRE9NRXhjZXB0aW9uXScsXG4gICAgICBlcnJvclRhZyA9ICdbb2JqZWN0IEVycm9yXScsXG4gICAgICBmdW5jVGFnID0gJ1tvYmplY3QgRnVuY3Rpb25dJyxcbiAgICAgIGdlblRhZyA9ICdbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXScsXG4gICAgICBtYXBUYWcgPSAnW29iamVjdCBNYXBdJyxcbiAgICAgIG51bWJlclRhZyA9ICdbb2JqZWN0IE51bWJlcl0nLFxuICAgICAgbnVsbFRhZyA9ICdbb2JqZWN0IE51bGxdJyxcbiAgICAgIG9iamVjdFRhZyA9ICdbb2JqZWN0IE9iamVjdF0nLFxuICAgICAgcHJvbWlzZVRhZyA9ICdbb2JqZWN0IFByb21pc2VdJyxcbiAgICAgIHByb3h5VGFnID0gJ1tvYmplY3QgUHJveHldJyxcbiAgICAgIHJlZ2V4cFRhZyA9ICdbb2JqZWN0IFJlZ0V4cF0nLFxuICAgICAgc2V0VGFnID0gJ1tvYmplY3QgU2V0XScsXG4gICAgICBzdHJpbmdUYWcgPSAnW29iamVjdCBTdHJpbmddJyxcbiAgICAgIHN5bWJvbFRhZyA9ICdbb2JqZWN0IFN5bWJvbF0nLFxuICAgICAgdW5kZWZpbmVkVGFnID0gJ1tvYmplY3QgVW5kZWZpbmVkXScsXG4gICAgICB3ZWFrTWFwVGFnID0gJ1tvYmplY3QgV2Vha01hcF0nLFxuICAgICAgd2Vha1NldFRhZyA9ICdbb2JqZWN0IFdlYWtTZXRdJztcblxuICB2YXIgYXJyYXlCdWZmZXJUYWcgPSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nLFxuICAgICAgZGF0YVZpZXdUYWcgPSAnW29iamVjdCBEYXRhVmlld10nLFxuICAgICAgZmxvYXQzMlRhZyA9ICdbb2JqZWN0IEZsb2F0MzJBcnJheV0nLFxuICAgICAgZmxvYXQ2NFRhZyA9ICdbb2JqZWN0IEZsb2F0NjRBcnJheV0nLFxuICAgICAgaW50OFRhZyA9ICdbb2JqZWN0IEludDhBcnJheV0nLFxuICAgICAgaW50MTZUYWcgPSAnW29iamVjdCBJbnQxNkFycmF5XScsXG4gICAgICBpbnQzMlRhZyA9ICdbb2JqZWN0IEludDMyQXJyYXldJyxcbiAgICAgIHVpbnQ4VGFnID0gJ1tvYmplY3QgVWludDhBcnJheV0nLFxuICAgICAgdWludDhDbGFtcGVkVGFnID0gJ1tvYmplY3QgVWludDhDbGFtcGVkQXJyYXldJyxcbiAgICAgIHVpbnQxNlRhZyA9ICdbb2JqZWN0IFVpbnQxNkFycmF5XScsXG4gICAgICB1aW50MzJUYWcgPSAnW29iamVjdCBVaW50MzJBcnJheV0nO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGVtcHR5IHN0cmluZyBsaXRlcmFscyBpbiBjb21waWxlZCB0ZW1wbGF0ZSBzb3VyY2UuICovXG4gIHZhciByZUVtcHR5U3RyaW5nTGVhZGluZyA9IC9cXGJfX3AgXFwrPSAnJzsvZyxcbiAgICAgIHJlRW1wdHlTdHJpbmdNaWRkbGUgPSAvXFxiKF9fcCBcXCs9KSAnJyBcXCsvZyxcbiAgICAgIHJlRW1wdHlTdHJpbmdUcmFpbGluZyA9IC8oX19lXFwoLio/XFwpfFxcYl9fdFxcKSkgXFwrXFxuJyc7L2c7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggSFRNTCBlbnRpdGllcyBhbmQgSFRNTCBjaGFyYWN0ZXJzLiAqL1xuICB2YXIgcmVFc2NhcGVkSHRtbCA9IC8mKD86YW1wfGx0fGd0fHF1b3R8IzM5KTsvZyxcbiAgICAgIHJlVW5lc2NhcGVkSHRtbCA9IC9bJjw+XCInXS9nLFxuICAgICAgcmVIYXNFc2NhcGVkSHRtbCA9IFJlZ0V4cChyZUVzY2FwZWRIdG1sLnNvdXJjZSksXG4gICAgICByZUhhc1VuZXNjYXBlZEh0bWwgPSBSZWdFeHAocmVVbmVzY2FwZWRIdG1sLnNvdXJjZSk7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggdGVtcGxhdGUgZGVsaW1pdGVycy4gKi9cbiAgdmFyIHJlRXNjYXBlID0gLzwlLShbXFxzXFxTXSs/KSU+L2csXG4gICAgICByZUV2YWx1YXRlID0gLzwlKFtcXHNcXFNdKz8pJT4vZyxcbiAgICAgIHJlSW50ZXJwb2xhdGUgPSAvPCU9KFtcXHNcXFNdKz8pJT4vZztcblxuICAvKiogVXNlZCB0byBtYXRjaCBwcm9wZXJ0eSBuYW1lcyB3aXRoaW4gcHJvcGVydHkgcGF0aHMuICovXG4gIHZhciByZUlzRGVlcFByb3AgPSAvXFwufFxcWyg/OlteW1xcXV0qfChbXCInXSkoPzooPyFcXDEpW15cXFxcXXxcXFxcLikqP1xcMSlcXF0vLFxuICAgICAgcmVJc1BsYWluUHJvcCA9IC9eXFx3KiQvLFxuICAgICAgcmVQcm9wTmFtZSA9IC9bXi5bXFxdXSt8XFxbKD86KC0/XFxkKyg/OlxcLlxcZCspPyl8KFtcIiddKSgoPzooPyFcXDIpW15cXFxcXXxcXFxcLikqPylcXDIpXFxdfCg/PSg/OlxcLnxcXFtcXF0pKD86XFwufFxcW1xcXXwkKSkvZztcblxuICAvKipcbiAgICogVXNlZCB0byBtYXRjaCBgUmVnRXhwYFxuICAgKiBbc3ludGF4IGNoYXJhY3RlcnNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXBhdHRlcm5zKS5cbiAgICovXG4gIHZhciByZVJlZ0V4cENoYXIgPSAvW1xcXFxeJC4qKz8oKVtcXF17fXxdL2csXG4gICAgICByZUhhc1JlZ0V4cENoYXIgPSBSZWdFeHAocmVSZWdFeHBDaGFyLnNvdXJjZSk7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggbGVhZGluZyB3aGl0ZXNwYWNlLiAqL1xuICB2YXIgcmVUcmltU3RhcnQgPSAvXlxccysvO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGEgc2luZ2xlIHdoaXRlc3BhY2UgY2hhcmFjdGVyLiAqL1xuICB2YXIgcmVXaGl0ZXNwYWNlID0gL1xccy87XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggd3JhcCBkZXRhaWwgY29tbWVudHMuICovXG4gIHZhciByZVdyYXBDb21tZW50ID0gL1xceyg/OlxcblxcL1xcKiBcXFt3cmFwcGVkIHdpdGggLitcXF0gXFwqXFwvKT9cXG4/LyxcbiAgICAgIHJlV3JhcERldGFpbHMgPSAvXFx7XFxuXFwvXFwqIFxcW3dyYXBwZWQgd2l0aCAoLispXFxdIFxcKi8sXG4gICAgICByZVNwbGl0RGV0YWlscyA9IC8sPyAmIC87XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggd29yZHMgY29tcG9zZWQgb2YgYWxwaGFudW1lcmljIGNoYXJhY3RlcnMuICovXG4gIHZhciByZUFzY2lpV29yZCA9IC9bXlxceDAwLVxceDJmXFx4M2EtXFx4NDBcXHg1Yi1cXHg2MFxceDdiLVxceDdmXSsvZztcblxuICAvKipcbiAgICogVXNlZCB0byB2YWxpZGF0ZSB0aGUgYHZhbGlkYXRlYCBvcHRpb24gaW4gYF8udGVtcGxhdGVgIHZhcmlhYmxlLlxuICAgKlxuICAgKiBGb3JiaWRzIGNoYXJhY3RlcnMgd2hpY2ggY291bGQgcG90ZW50aWFsbHkgY2hhbmdlIHRoZSBtZWFuaW5nIG9mIHRoZSBmdW5jdGlvbiBhcmd1bWVudCBkZWZpbml0aW9uOlxuICAgKiAtIFwiKCksXCIgKG1vZGlmaWNhdGlvbiBvZiBmdW5jdGlvbiBwYXJhbWV0ZXJzKVxuICAgKiAtIFwiPVwiIChkZWZhdWx0IHZhbHVlKVxuICAgKiAtIFwiW117fVwiIChkZXN0cnVjdHVyaW5nIG9mIGZ1bmN0aW9uIHBhcmFtZXRlcnMpXG4gICAqIC0gXCIvXCIgKGJlZ2lubmluZyBvZiBhIGNvbW1lbnQpXG4gICAqIC0gd2hpdGVzcGFjZVxuICAgKi9cbiAgdmFyIHJlRm9yYmlkZGVuSWRlbnRpZmllckNoYXJzID0gL1soKT0se31cXFtcXF1cXC9cXHNdLztcblxuICAvKiogVXNlZCB0byBtYXRjaCBiYWNrc2xhc2hlcyBpbiBwcm9wZXJ0eSBwYXRocy4gKi9cbiAgdmFyIHJlRXNjYXBlQ2hhciA9IC9cXFxcKFxcXFwpPy9nO1xuXG4gIC8qKlxuICAgKiBVc2VkIHRvIG1hdGNoXG4gICAqIFtFUyB0ZW1wbGF0ZSBkZWxpbWl0ZXJzXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10ZW1wbGF0ZS1saXRlcmFsLWxleGljYWwtY29tcG9uZW50cykuXG4gICAqL1xuICB2YXIgcmVFc1RlbXBsYXRlID0gL1xcJFxceyhbXlxcXFx9XSooPzpcXFxcLlteXFxcXH1dKikqKVxcfS9nO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGBSZWdFeHBgIGZsYWdzIGZyb20gdGhlaXIgY29lcmNlZCBzdHJpbmcgdmFsdWVzLiAqL1xuICB2YXIgcmVGbGFncyA9IC9cXHcqJC87XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IGJhZCBzaWduZWQgaGV4YWRlY2ltYWwgc3RyaW5nIHZhbHVlcy4gKi9cbiAgdmFyIHJlSXNCYWRIZXggPSAvXlstK10weFswLTlhLWZdKyQvaTtcblxuICAvKiogVXNlZCB0byBkZXRlY3QgYmluYXJ5IHN0cmluZyB2YWx1ZXMuICovXG4gIHZhciByZUlzQmluYXJ5ID0gL14wYlswMV0rJC9pO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBob3N0IGNvbnN0cnVjdG9ycyAoU2FmYXJpKS4gKi9cbiAgdmFyIHJlSXNIb3N0Q3RvciA9IC9eXFxbb2JqZWN0IC4rP0NvbnN0cnVjdG9yXFxdJC87XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IG9jdGFsIHN0cmluZyB2YWx1ZXMuICovXG4gIHZhciByZUlzT2N0YWwgPSAvXjBvWzAtN10rJC9pO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCB1bnNpZ25lZCBpbnRlZ2VyIHZhbHVlcy4gKi9cbiAgdmFyIHJlSXNVaW50ID0gL14oPzowfFsxLTldXFxkKikkLztcblxuICAvKiogVXNlZCB0byBtYXRjaCBMYXRpbiBVbmljb2RlIGxldHRlcnMgKGV4Y2x1ZGluZyBtYXRoZW1hdGljYWwgb3BlcmF0b3JzKS4gKi9cbiAgdmFyIHJlTGF0aW4gPSAvW1xceGMwLVxceGQ2XFx4ZDgtXFx4ZjZcXHhmOC1cXHhmZlxcdTAxMDAtXFx1MDE3Zl0vZztcblxuICAvKiogVXNlZCB0byBlbnN1cmUgY2FwdHVyaW5nIG9yZGVyIG9mIHRlbXBsYXRlIGRlbGltaXRlcnMuICovXG4gIHZhciByZU5vTWF0Y2ggPSAvKCReKS87XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggdW5lc2NhcGVkIGNoYXJhY3RlcnMgaW4gY29tcGlsZWQgc3RyaW5nIGxpdGVyYWxzLiAqL1xuICB2YXIgcmVVbmVzY2FwZWRTdHJpbmcgPSAvWydcXG5cXHJcXHUyMDI4XFx1MjAyOVxcXFxdL2c7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSB1bmljb2RlIGNoYXJhY3RlciBjbGFzc2VzLiAqL1xuICB2YXIgcnNBc3RyYWxSYW5nZSA9ICdcXFxcdWQ4MDAtXFxcXHVkZmZmJyxcbiAgICAgIHJzQ29tYm9NYXJrc1JhbmdlID0gJ1xcXFx1MDMwMC1cXFxcdTAzNmYnLFxuICAgICAgcmVDb21ib0hhbGZNYXJrc1JhbmdlID0gJ1xcXFx1ZmUyMC1cXFxcdWZlMmYnLFxuICAgICAgcnNDb21ib1N5bWJvbHNSYW5nZSA9ICdcXFxcdTIwZDAtXFxcXHUyMGZmJyxcbiAgICAgIHJzQ29tYm9SYW5nZSA9IHJzQ29tYm9NYXJrc1JhbmdlICsgcmVDb21ib0hhbGZNYXJrc1JhbmdlICsgcnNDb21ib1N5bWJvbHNSYW5nZSxcbiAgICAgIHJzRGluZ2JhdFJhbmdlID0gJ1xcXFx1MjcwMC1cXFxcdTI3YmYnLFxuICAgICAgcnNMb3dlclJhbmdlID0gJ2EtelxcXFx4ZGYtXFxcXHhmNlxcXFx4ZjgtXFxcXHhmZicsXG4gICAgICByc01hdGhPcFJhbmdlID0gJ1xcXFx4YWNcXFxceGIxXFxcXHhkN1xcXFx4ZjcnLFxuICAgICAgcnNOb25DaGFyUmFuZ2UgPSAnXFxcXHgwMC1cXFxceDJmXFxcXHgzYS1cXFxceDQwXFxcXHg1Yi1cXFxceDYwXFxcXHg3Yi1cXFxceGJmJyxcbiAgICAgIHJzUHVuY3R1YXRpb25SYW5nZSA9ICdcXFxcdTIwMDAtXFxcXHUyMDZmJyxcbiAgICAgIHJzU3BhY2VSYW5nZSA9ICcgXFxcXHRcXFxceDBiXFxcXGZcXFxceGEwXFxcXHVmZWZmXFxcXG5cXFxcclxcXFx1MjAyOFxcXFx1MjAyOVxcXFx1MTY4MFxcXFx1MTgwZVxcXFx1MjAwMFxcXFx1MjAwMVxcXFx1MjAwMlxcXFx1MjAwM1xcXFx1MjAwNFxcXFx1MjAwNVxcXFx1MjAwNlxcXFx1MjAwN1xcXFx1MjAwOFxcXFx1MjAwOVxcXFx1MjAwYVxcXFx1MjAyZlxcXFx1MjA1ZlxcXFx1MzAwMCcsXG4gICAgICByc1VwcGVyUmFuZ2UgPSAnQS1aXFxcXHhjMC1cXFxceGQ2XFxcXHhkOC1cXFxceGRlJyxcbiAgICAgIHJzVmFyUmFuZ2UgPSAnXFxcXHVmZTBlXFxcXHVmZTBmJyxcbiAgICAgIHJzQnJlYWtSYW5nZSA9IHJzTWF0aE9wUmFuZ2UgKyByc05vbkNoYXJSYW5nZSArIHJzUHVuY3R1YXRpb25SYW5nZSArIHJzU3BhY2VSYW5nZTtcblxuICAvKiogVXNlZCB0byBjb21wb3NlIHVuaWNvZGUgY2FwdHVyZSBncm91cHMuICovXG4gIHZhciByc0Fwb3MgPSBcIlsnXFx1MjAxOV1cIixcbiAgICAgIHJzQXN0cmFsID0gJ1snICsgcnNBc3RyYWxSYW5nZSArICddJyxcbiAgICAgIHJzQnJlYWsgPSAnWycgKyByc0JyZWFrUmFuZ2UgKyAnXScsXG4gICAgICByc0NvbWJvID0gJ1snICsgcnNDb21ib1JhbmdlICsgJ10nLFxuICAgICAgcnNEaWdpdHMgPSAnXFxcXGQrJyxcbiAgICAgIHJzRGluZ2JhdCA9ICdbJyArIHJzRGluZ2JhdFJhbmdlICsgJ10nLFxuICAgICAgcnNMb3dlciA9ICdbJyArIHJzTG93ZXJSYW5nZSArICddJyxcbiAgICAgIHJzTWlzYyA9ICdbXicgKyByc0FzdHJhbFJhbmdlICsgcnNCcmVha1JhbmdlICsgcnNEaWdpdHMgKyByc0RpbmdiYXRSYW5nZSArIHJzTG93ZXJSYW5nZSArIHJzVXBwZXJSYW5nZSArICddJyxcbiAgICAgIHJzRml0eiA9ICdcXFxcdWQ4M2NbXFxcXHVkZmZiLVxcXFx1ZGZmZl0nLFxuICAgICAgcnNNb2RpZmllciA9ICcoPzonICsgcnNDb21ibyArICd8JyArIHJzRml0eiArICcpJyxcbiAgICAgIHJzTm9uQXN0cmFsID0gJ1teJyArIHJzQXN0cmFsUmFuZ2UgKyAnXScsXG4gICAgICByc1JlZ2lvbmFsID0gJyg/OlxcXFx1ZDgzY1tcXFxcdWRkZTYtXFxcXHVkZGZmXSl7Mn0nLFxuICAgICAgcnNTdXJyUGFpciA9ICdbXFxcXHVkODAwLVxcXFx1ZGJmZl1bXFxcXHVkYzAwLVxcXFx1ZGZmZl0nLFxuICAgICAgcnNVcHBlciA9ICdbJyArIHJzVXBwZXJSYW5nZSArICddJyxcbiAgICAgIHJzWldKID0gJ1xcXFx1MjAwZCc7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSB1bmljb2RlIHJlZ2V4ZXMuICovXG4gIHZhciByc01pc2NMb3dlciA9ICcoPzonICsgcnNMb3dlciArICd8JyArIHJzTWlzYyArICcpJyxcbiAgICAgIHJzTWlzY1VwcGVyID0gJyg/OicgKyByc1VwcGVyICsgJ3wnICsgcnNNaXNjICsgJyknLFxuICAgICAgcnNPcHRDb250ckxvd2VyID0gJyg/OicgKyByc0Fwb3MgKyAnKD86ZHxsbHxtfHJlfHN8dHx2ZSkpPycsXG4gICAgICByc09wdENvbnRyVXBwZXIgPSAnKD86JyArIHJzQXBvcyArICcoPzpEfExMfE18UkV8U3xUfFZFKSk/JyxcbiAgICAgIHJlT3B0TW9kID0gcnNNb2RpZmllciArICc/JyxcbiAgICAgIHJzT3B0VmFyID0gJ1snICsgcnNWYXJSYW5nZSArICddPycsXG4gICAgICByc09wdEpvaW4gPSAnKD86JyArIHJzWldKICsgJyg/OicgKyBbcnNOb25Bc3RyYWwsIHJzUmVnaW9uYWwsIHJzU3VyclBhaXJdLmpvaW4oJ3wnKSArICcpJyArIHJzT3B0VmFyICsgcmVPcHRNb2QgKyAnKSonLFxuICAgICAgcnNPcmRMb3dlciA9ICdcXFxcZCooPzoxc3R8Mm5kfDNyZHwoPyFbMTIzXSlcXFxcZHRoKSg/PVxcXFxifFtBLVpfXSknLFxuICAgICAgcnNPcmRVcHBlciA9ICdcXFxcZCooPzoxU1R8Mk5EfDNSRHwoPyFbMTIzXSlcXFxcZFRIKSg/PVxcXFxifFthLXpfXSknLFxuICAgICAgcnNTZXEgPSByc09wdFZhciArIHJlT3B0TW9kICsgcnNPcHRKb2luLFxuICAgICAgcnNFbW9qaSA9ICcoPzonICsgW3JzRGluZ2JhdCwgcnNSZWdpb25hbCwgcnNTdXJyUGFpcl0uam9pbignfCcpICsgJyknICsgcnNTZXEsXG4gICAgICByc1N5bWJvbCA9ICcoPzonICsgW3JzTm9uQXN0cmFsICsgcnNDb21ibyArICc/JywgcnNDb21ibywgcnNSZWdpb25hbCwgcnNTdXJyUGFpciwgcnNBc3RyYWxdLmpvaW4oJ3wnKSArICcpJztcblxuICAvKiogVXNlZCB0byBtYXRjaCBhcG9zdHJvcGhlcy4gKi9cbiAgdmFyIHJlQXBvcyA9IFJlZ0V4cChyc0Fwb3MsICdnJyk7XG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gbWF0Y2ggW2NvbWJpbmluZyBkaWFjcml0aWNhbCBtYXJrc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29tYmluaW5nX0RpYWNyaXRpY2FsX01hcmtzKSBhbmRcbiAgICogW2NvbWJpbmluZyBkaWFjcml0aWNhbCBtYXJrcyBmb3Igc3ltYm9sc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29tYmluaW5nX0RpYWNyaXRpY2FsX01hcmtzX2Zvcl9TeW1ib2xzKS5cbiAgICovXG4gIHZhciByZUNvbWJvTWFyayA9IFJlZ0V4cChyc0NvbWJvLCAnZycpO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIFtzdHJpbmcgc3ltYm9sc10oaHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2phdmFzY3JpcHQtdW5pY29kZSkuICovXG4gIHZhciByZVVuaWNvZGUgPSBSZWdFeHAocnNGaXR6ICsgJyg/PScgKyByc0ZpdHogKyAnKXwnICsgcnNTeW1ib2wgKyByc1NlcSwgJ2cnKTtcblxuICAvKiogVXNlZCB0byBtYXRjaCBjb21wbGV4IG9yIGNvbXBvdW5kIHdvcmRzLiAqL1xuICB2YXIgcmVVbmljb2RlV29yZCA9IFJlZ0V4cChbXG4gICAgcnNVcHBlciArICc/JyArIHJzTG93ZXIgKyAnKycgKyByc09wdENvbnRyTG93ZXIgKyAnKD89JyArIFtyc0JyZWFrLCByc1VwcGVyLCAnJCddLmpvaW4oJ3wnKSArICcpJyxcbiAgICByc01pc2NVcHBlciArICcrJyArIHJzT3B0Q29udHJVcHBlciArICcoPz0nICsgW3JzQnJlYWssIHJzVXBwZXIgKyByc01pc2NMb3dlciwgJyQnXS5qb2luKCd8JykgKyAnKScsXG4gICAgcnNVcHBlciArICc/JyArIHJzTWlzY0xvd2VyICsgJysnICsgcnNPcHRDb250ckxvd2VyLFxuICAgIHJzVXBwZXIgKyAnKycgKyByc09wdENvbnRyVXBwZXIsXG4gICAgcnNPcmRVcHBlcixcbiAgICByc09yZExvd2VyLFxuICAgIHJzRGlnaXRzLFxuICAgIHJzRW1vamlcbiAgXS5qb2luKCd8JyksICdnJyk7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IHN0cmluZ3Mgd2l0aCBbemVyby13aWR0aCBqb2luZXJzIG9yIGNvZGUgcG9pbnRzIGZyb20gdGhlIGFzdHJhbCBwbGFuZXNdKGh0dHA6Ly9lZXYuZWUvYmxvZy8yMDE1LzA5LzEyL2RhcmstY29ybmVycy1vZi11bmljb2RlLykuICovXG4gIHZhciByZUhhc1VuaWNvZGUgPSBSZWdFeHAoJ1snICsgcnNaV0ogKyByc0FzdHJhbFJhbmdlICArIHJzQ29tYm9SYW5nZSArIHJzVmFyUmFuZ2UgKyAnXScpO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBzdHJpbmdzIHRoYXQgbmVlZCBhIG1vcmUgcm9idXN0IHJlZ2V4cCB0byBtYXRjaCB3b3Jkcy4gKi9cbiAgdmFyIHJlSGFzVW5pY29kZVdvcmQgPSAvW2Etel1bQS1aXXxbQS1aXXsyfVthLXpdfFswLTldW2EtekEtWl18W2EtekEtWl1bMC05XXxbXmEtekEtWjAtOSBdLztcblxuICAvKiogVXNlZCB0byBhc3NpZ24gZGVmYXVsdCBgY29udGV4dGAgb2JqZWN0IHByb3BlcnRpZXMuICovXG4gIHZhciBjb250ZXh0UHJvcHMgPSBbXG4gICAgJ0FycmF5JywgJ0J1ZmZlcicsICdEYXRhVmlldycsICdEYXRlJywgJ0Vycm9yJywgJ0Zsb2F0MzJBcnJheScsICdGbG9hdDY0QXJyYXknLFxuICAgICdGdW5jdGlvbicsICdJbnQ4QXJyYXknLCAnSW50MTZBcnJheScsICdJbnQzMkFycmF5JywgJ01hcCcsICdNYXRoJywgJ09iamVjdCcsXG4gICAgJ1Byb21pc2UnLCAnUmVnRXhwJywgJ1NldCcsICdTdHJpbmcnLCAnU3ltYm9sJywgJ1R5cGVFcnJvcicsICdVaW50OEFycmF5JyxcbiAgICAnVWludDhDbGFtcGVkQXJyYXknLCAnVWludDE2QXJyYXknLCAnVWludDMyQXJyYXknLCAnV2Vha01hcCcsXG4gICAgJ18nLCAnY2xlYXJUaW1lb3V0JywgJ2lzRmluaXRlJywgJ3BhcnNlSW50JywgJ3NldFRpbWVvdXQnXG4gIF07XG5cbiAgLyoqIFVzZWQgdG8gbWFrZSB0ZW1wbGF0ZSBzb3VyY2VVUkxzIGVhc2llciB0byBpZGVudGlmeS4gKi9cbiAgdmFyIHRlbXBsYXRlQ291bnRlciA9IC0xO1xuXG4gIC8qKiBVc2VkIHRvIGlkZW50aWZ5IGB0b1N0cmluZ1RhZ2AgdmFsdWVzIG9mIHR5cGVkIGFycmF5cy4gKi9cbiAgdmFyIHR5cGVkQXJyYXlUYWdzID0ge307XG4gIHR5cGVkQXJyYXlUYWdzW2Zsb2F0MzJUYWddID0gdHlwZWRBcnJheVRhZ3NbZmxvYXQ2NFRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tpbnQ4VGFnXSA9IHR5cGVkQXJyYXlUYWdzW2ludDE2VGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW2ludDMyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW3VpbnQ4VGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW3VpbnQ4Q2xhbXBlZFRhZ10gPSB0eXBlZEFycmF5VGFnc1t1aW50MTZUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbdWludDMyVGFnXSA9IHRydWU7XG4gIHR5cGVkQXJyYXlUYWdzW2FyZ3NUYWddID0gdHlwZWRBcnJheVRhZ3NbYXJyYXlUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbYXJyYXlCdWZmZXJUYWddID0gdHlwZWRBcnJheVRhZ3NbYm9vbFRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tkYXRhVmlld1RhZ10gPSB0eXBlZEFycmF5VGFnc1tkYXRlVGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW2Vycm9yVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Z1bmNUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbbWFwVGFnXSA9IHR5cGVkQXJyYXlUYWdzW251bWJlclRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tvYmplY3RUYWddID0gdHlwZWRBcnJheVRhZ3NbcmVnZXhwVGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW3NldFRhZ10gPSB0eXBlZEFycmF5VGFnc1tzdHJpbmdUYWddID1cbiAgdHlwZWRBcnJheVRhZ3Nbd2Vha01hcFRhZ10gPSBmYWxzZTtcblxuICAvKiogVXNlZCB0byBpZGVudGlmeSBgdG9TdHJpbmdUYWdgIHZhbHVlcyBzdXBwb3J0ZWQgYnkgYF8uY2xvbmVgLiAqL1xuICB2YXIgY2xvbmVhYmxlVGFncyA9IHt9O1xuICBjbG9uZWFibGVUYWdzW2FyZ3NUYWddID0gY2xvbmVhYmxlVGFnc1thcnJheVRhZ10gPVxuICBjbG9uZWFibGVUYWdzW2FycmF5QnVmZmVyVGFnXSA9IGNsb25lYWJsZVRhZ3NbZGF0YVZpZXdUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tib29sVGFnXSA9IGNsb25lYWJsZVRhZ3NbZGF0ZVRhZ10gPVxuICBjbG9uZWFibGVUYWdzW2Zsb2F0MzJUYWddID0gY2xvbmVhYmxlVGFnc1tmbG9hdDY0VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbaW50OFRhZ10gPSBjbG9uZWFibGVUYWdzW2ludDE2VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbaW50MzJUYWddID0gY2xvbmVhYmxlVGFnc1ttYXBUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tudW1iZXJUYWddID0gY2xvbmVhYmxlVGFnc1tvYmplY3RUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tyZWdleHBUYWddID0gY2xvbmVhYmxlVGFnc1tzZXRUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tzdHJpbmdUYWddID0gY2xvbmVhYmxlVGFnc1tzeW1ib2xUYWddID1cbiAgY2xvbmVhYmxlVGFnc1t1aW50OFRhZ10gPSBjbG9uZWFibGVUYWdzW3VpbnQ4Q2xhbXBlZFRhZ10gPVxuICBjbG9uZWFibGVUYWdzW3VpbnQxNlRhZ10gPSBjbG9uZWFibGVUYWdzW3VpbnQzMlRhZ10gPSB0cnVlO1xuICBjbG9uZWFibGVUYWdzW2Vycm9yVGFnXSA9IGNsb25lYWJsZVRhZ3NbZnVuY1RhZ10gPVxuICBjbG9uZWFibGVUYWdzW3dlYWtNYXBUYWddID0gZmFsc2U7XG5cbiAgLyoqIFVzZWQgdG8gbWFwIExhdGluIFVuaWNvZGUgbGV0dGVycyB0byBiYXNpYyBMYXRpbiBsZXR0ZXJzLiAqL1xuICB2YXIgZGVidXJyZWRMZXR0ZXJzID0ge1xuICAgIC8vIExhdGluLTEgU3VwcGxlbWVudCBibG9jay5cbiAgICAnXFx4YzAnOiAnQScsICAnXFx4YzEnOiAnQScsICdcXHhjMic6ICdBJywgJ1xceGMzJzogJ0EnLCAnXFx4YzQnOiAnQScsICdcXHhjNSc6ICdBJyxcbiAgICAnXFx4ZTAnOiAnYScsICAnXFx4ZTEnOiAnYScsICdcXHhlMic6ICdhJywgJ1xceGUzJzogJ2EnLCAnXFx4ZTQnOiAnYScsICdcXHhlNSc6ICdhJyxcbiAgICAnXFx4YzcnOiAnQycsICAnXFx4ZTcnOiAnYycsXG4gICAgJ1xceGQwJzogJ0QnLCAgJ1xceGYwJzogJ2QnLFxuICAgICdcXHhjOCc6ICdFJywgICdcXHhjOSc6ICdFJywgJ1xceGNhJzogJ0UnLCAnXFx4Y2InOiAnRScsXG4gICAgJ1xceGU4JzogJ2UnLCAgJ1xceGU5JzogJ2UnLCAnXFx4ZWEnOiAnZScsICdcXHhlYic6ICdlJyxcbiAgICAnXFx4Y2MnOiAnSScsICAnXFx4Y2QnOiAnSScsICdcXHhjZSc6ICdJJywgJ1xceGNmJzogJ0knLFxuICAgICdcXHhlYyc6ICdpJywgICdcXHhlZCc6ICdpJywgJ1xceGVlJzogJ2knLCAnXFx4ZWYnOiAnaScsXG4gICAgJ1xceGQxJzogJ04nLCAgJ1xceGYxJzogJ24nLFxuICAgICdcXHhkMic6ICdPJywgICdcXHhkMyc6ICdPJywgJ1xceGQ0JzogJ08nLCAnXFx4ZDUnOiAnTycsICdcXHhkNic6ICdPJywgJ1xceGQ4JzogJ08nLFxuICAgICdcXHhmMic6ICdvJywgICdcXHhmMyc6ICdvJywgJ1xceGY0JzogJ28nLCAnXFx4ZjUnOiAnbycsICdcXHhmNic6ICdvJywgJ1xceGY4JzogJ28nLFxuICAgICdcXHhkOSc6ICdVJywgICdcXHhkYSc6ICdVJywgJ1xceGRiJzogJ1UnLCAnXFx4ZGMnOiAnVScsXG4gICAgJ1xceGY5JzogJ3UnLCAgJ1xceGZhJzogJ3UnLCAnXFx4ZmInOiAndScsICdcXHhmYyc6ICd1JyxcbiAgICAnXFx4ZGQnOiAnWScsICAnXFx4ZmQnOiAneScsICdcXHhmZic6ICd5JyxcbiAgICAnXFx4YzYnOiAnQWUnLCAnXFx4ZTYnOiAnYWUnLFxuICAgICdcXHhkZSc6ICdUaCcsICdcXHhmZSc6ICd0aCcsXG4gICAgJ1xceGRmJzogJ3NzJyxcbiAgICAvLyBMYXRpbiBFeHRlbmRlZC1BIGJsb2NrLlxuICAgICdcXHUwMTAwJzogJ0EnLCAgJ1xcdTAxMDInOiAnQScsICdcXHUwMTA0JzogJ0EnLFxuICAgICdcXHUwMTAxJzogJ2EnLCAgJ1xcdTAxMDMnOiAnYScsICdcXHUwMTA1JzogJ2EnLFxuICAgICdcXHUwMTA2JzogJ0MnLCAgJ1xcdTAxMDgnOiAnQycsICdcXHUwMTBhJzogJ0MnLCAnXFx1MDEwYyc6ICdDJyxcbiAgICAnXFx1MDEwNyc6ICdjJywgICdcXHUwMTA5JzogJ2MnLCAnXFx1MDEwYic6ICdjJywgJ1xcdTAxMGQnOiAnYycsXG4gICAgJ1xcdTAxMGUnOiAnRCcsICAnXFx1MDExMCc6ICdEJywgJ1xcdTAxMGYnOiAnZCcsICdcXHUwMTExJzogJ2QnLFxuICAgICdcXHUwMTEyJzogJ0UnLCAgJ1xcdTAxMTQnOiAnRScsICdcXHUwMTE2JzogJ0UnLCAnXFx1MDExOCc6ICdFJywgJ1xcdTAxMWEnOiAnRScsXG4gICAgJ1xcdTAxMTMnOiAnZScsICAnXFx1MDExNSc6ICdlJywgJ1xcdTAxMTcnOiAnZScsICdcXHUwMTE5JzogJ2UnLCAnXFx1MDExYic6ICdlJyxcbiAgICAnXFx1MDExYyc6ICdHJywgICdcXHUwMTFlJzogJ0cnLCAnXFx1MDEyMCc6ICdHJywgJ1xcdTAxMjInOiAnRycsXG4gICAgJ1xcdTAxMWQnOiAnZycsICAnXFx1MDExZic6ICdnJywgJ1xcdTAxMjEnOiAnZycsICdcXHUwMTIzJzogJ2cnLFxuICAgICdcXHUwMTI0JzogJ0gnLCAgJ1xcdTAxMjYnOiAnSCcsICdcXHUwMTI1JzogJ2gnLCAnXFx1MDEyNyc6ICdoJyxcbiAgICAnXFx1MDEyOCc6ICdJJywgICdcXHUwMTJhJzogJ0knLCAnXFx1MDEyYyc6ICdJJywgJ1xcdTAxMmUnOiAnSScsICdcXHUwMTMwJzogJ0knLFxuICAgICdcXHUwMTI5JzogJ2knLCAgJ1xcdTAxMmInOiAnaScsICdcXHUwMTJkJzogJ2knLCAnXFx1MDEyZic6ICdpJywgJ1xcdTAxMzEnOiAnaScsXG4gICAgJ1xcdTAxMzQnOiAnSicsICAnXFx1MDEzNSc6ICdqJyxcbiAgICAnXFx1MDEzNic6ICdLJywgICdcXHUwMTM3JzogJ2snLCAnXFx1MDEzOCc6ICdrJyxcbiAgICAnXFx1MDEzOSc6ICdMJywgICdcXHUwMTNiJzogJ0wnLCAnXFx1MDEzZCc6ICdMJywgJ1xcdTAxM2YnOiAnTCcsICdcXHUwMTQxJzogJ0wnLFxuICAgICdcXHUwMTNhJzogJ2wnLCAgJ1xcdTAxM2MnOiAnbCcsICdcXHUwMTNlJzogJ2wnLCAnXFx1MDE0MCc6ICdsJywgJ1xcdTAxNDInOiAnbCcsXG4gICAgJ1xcdTAxNDMnOiAnTicsICAnXFx1MDE0NSc6ICdOJywgJ1xcdTAxNDcnOiAnTicsICdcXHUwMTRhJzogJ04nLFxuICAgICdcXHUwMTQ0JzogJ24nLCAgJ1xcdTAxNDYnOiAnbicsICdcXHUwMTQ4JzogJ24nLCAnXFx1MDE0Yic6ICduJyxcbiAgICAnXFx1MDE0Yyc6ICdPJywgICdcXHUwMTRlJzogJ08nLCAnXFx1MDE1MCc6ICdPJyxcbiAgICAnXFx1MDE0ZCc6ICdvJywgICdcXHUwMTRmJzogJ28nLCAnXFx1MDE1MSc6ICdvJyxcbiAgICAnXFx1MDE1NCc6ICdSJywgICdcXHUwMTU2JzogJ1InLCAnXFx1MDE1OCc6ICdSJyxcbiAgICAnXFx1MDE1NSc6ICdyJywgICdcXHUwMTU3JzogJ3InLCAnXFx1MDE1OSc6ICdyJyxcbiAgICAnXFx1MDE1YSc6ICdTJywgICdcXHUwMTVjJzogJ1MnLCAnXFx1MDE1ZSc6ICdTJywgJ1xcdTAxNjAnOiAnUycsXG4gICAgJ1xcdTAxNWInOiAncycsICAnXFx1MDE1ZCc6ICdzJywgJ1xcdTAxNWYnOiAncycsICdcXHUwMTYxJzogJ3MnLFxuICAgICdcXHUwMTYyJzogJ1QnLCAgJ1xcdTAxNjQnOiAnVCcsICdcXHUwMTY2JzogJ1QnLFxuICAgICdcXHUwMTYzJzogJ3QnLCAgJ1xcdTAxNjUnOiAndCcsICdcXHUwMTY3JzogJ3QnLFxuICAgICdcXHUwMTY4JzogJ1UnLCAgJ1xcdTAxNmEnOiAnVScsICdcXHUwMTZjJzogJ1UnLCAnXFx1MDE2ZSc6ICdVJywgJ1xcdTAxNzAnOiAnVScsICdcXHUwMTcyJzogJ1UnLFxuICAgICdcXHUwMTY5JzogJ3UnLCAgJ1xcdTAxNmInOiAndScsICdcXHUwMTZkJzogJ3UnLCAnXFx1MDE2Zic6ICd1JywgJ1xcdTAxNzEnOiAndScsICdcXHUwMTczJzogJ3UnLFxuICAgICdcXHUwMTc0JzogJ1cnLCAgJ1xcdTAxNzUnOiAndycsXG4gICAgJ1xcdTAxNzYnOiAnWScsICAnXFx1MDE3Nyc6ICd5JywgJ1xcdTAxNzgnOiAnWScsXG4gICAgJ1xcdTAxNzknOiAnWicsICAnXFx1MDE3Yic6ICdaJywgJ1xcdTAxN2QnOiAnWicsXG4gICAgJ1xcdTAxN2EnOiAneicsICAnXFx1MDE3Yyc6ICd6JywgJ1xcdTAxN2UnOiAneicsXG4gICAgJ1xcdTAxMzInOiAnSUonLCAnXFx1MDEzMyc6ICdpaicsXG4gICAgJ1xcdTAxNTInOiAnT2UnLCAnXFx1MDE1Myc6ICdvZScsXG4gICAgJ1xcdTAxNDknOiBcIiduXCIsICdcXHUwMTdmJzogJ3MnXG4gIH07XG5cbiAgLyoqIFVzZWQgdG8gbWFwIGNoYXJhY3RlcnMgdG8gSFRNTCBlbnRpdGllcy4gKi9cbiAgdmFyIGh0bWxFc2NhcGVzID0ge1xuICAgICcmJzogJyZhbXA7JyxcbiAgICAnPCc6ICcmbHQ7JyxcbiAgICAnPic6ICcmZ3Q7JyxcbiAgICAnXCInOiAnJnF1b3Q7JyxcbiAgICBcIidcIjogJyYjMzk7J1xuICB9O1xuXG4gIC8qKiBVc2VkIHRvIG1hcCBIVE1MIGVudGl0aWVzIHRvIGNoYXJhY3RlcnMuICovXG4gIHZhciBodG1sVW5lc2NhcGVzID0ge1xuICAgICcmYW1wOyc6ICcmJyxcbiAgICAnJmx0Oyc6ICc8JyxcbiAgICAnJmd0Oyc6ICc+JyxcbiAgICAnJnF1b3Q7JzogJ1wiJyxcbiAgICAnJiMzOTsnOiBcIidcIlxuICB9O1xuXG4gIC8qKiBVc2VkIHRvIGVzY2FwZSBjaGFyYWN0ZXJzIGZvciBpbmNsdXNpb24gaW4gY29tcGlsZWQgc3RyaW5nIGxpdGVyYWxzLiAqL1xuICB2YXIgc3RyaW5nRXNjYXBlcyA9IHtcbiAgICAnXFxcXCc6ICdcXFxcJyxcbiAgICBcIidcIjogXCInXCIsXG4gICAgJ1xcbic6ICduJyxcbiAgICAnXFxyJzogJ3InLFxuICAgICdcXHUyMDI4JzogJ3UyMDI4JyxcbiAgICAnXFx1MjAyOSc6ICd1MjAyOSdcbiAgfTtcblxuICAvKiogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgd2l0aG91dCBhIGRlcGVuZGVuY3kgb24gYHJvb3RgLiAqL1xuICB2YXIgZnJlZVBhcnNlRmxvYXQgPSBwYXJzZUZsb2F0LFxuICAgICAgZnJlZVBhcnNlSW50ID0gcGFyc2VJbnQ7XG5cbiAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBnbG9iYWxgIGZyb20gTm9kZS5qcy4gKi9cbiAgdmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbCAmJiBnbG9iYWwuT2JqZWN0ID09PSBPYmplY3QgJiYgZ2xvYmFsO1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgc2VsZmAuICovXG4gIHZhciBmcmVlU2VsZiA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmO1xuXG4gIC8qKiBVc2VkIGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0LiAqL1xuICB2YXIgcm9vdCA9IGZyZWVHbG9iYWwgfHwgZnJlZVNlbGYgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblxuICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGV4cG9ydHNgLiAqL1xuICB2YXIgZnJlZUV4cG9ydHMgPSB0eXBlb2YgZXhwb3J0cyA9PSAnb2JqZWN0JyAmJiBleHBvcnRzICYmICFleHBvcnRzLm5vZGVUeXBlICYmIGV4cG9ydHM7XG5cbiAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBtb2R1bGVgLiAqL1xuICB2YXIgZnJlZU1vZHVsZSA9IGZyZWVFeHBvcnRzICYmIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlICYmICFtb2R1bGUubm9kZVR5cGUgJiYgbW9kdWxlO1xuXG4gIC8qKiBEZXRlY3QgdGhlIHBvcHVsYXIgQ29tbW9uSlMgZXh0ZW5zaW9uIGBtb2R1bGUuZXhwb3J0c2AuICovXG4gIHZhciBtb2R1bGVFeHBvcnRzID0gZnJlZU1vZHVsZSAmJiBmcmVlTW9kdWxlLmV4cG9ydHMgPT09IGZyZWVFeHBvcnRzO1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgcHJvY2Vzc2AgZnJvbSBOb2RlLmpzLiAqL1xuICB2YXIgZnJlZVByb2Nlc3MgPSBtb2R1bGVFeHBvcnRzICYmIGZyZWVHbG9iYWwucHJvY2VzcztcblxuICAvKiogVXNlZCB0byBhY2Nlc3MgZmFzdGVyIE5vZGUuanMgaGVscGVycy4gKi9cbiAgdmFyIG5vZGVVdGlsID0gKGZ1bmN0aW9uKCkge1xuICAgIHRyeSB7XG4gICAgICAvLyBVc2UgYHV0aWwudHlwZXNgIGZvciBOb2RlLmpzIDEwKy5cbiAgICAgIHZhciB0eXBlcyA9IGZyZWVNb2R1bGUgJiYgZnJlZU1vZHVsZS5yZXF1aXJlICYmIGZyZWVNb2R1bGUucmVxdWlyZSgndXRpbCcpLnR5cGVzO1xuXG4gICAgICBpZiAodHlwZXMpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVzO1xuICAgICAgfVxuXG4gICAgICAvLyBMZWdhY3kgYHByb2Nlc3MuYmluZGluZygndXRpbCcpYCBmb3IgTm9kZS5qcyA8IDEwLlxuICAgICAgcmV0dXJuIGZyZWVQcm9jZXNzICYmIGZyZWVQcm9jZXNzLmJpbmRpbmcgJiYgZnJlZVByb2Nlc3MuYmluZGluZygndXRpbCcpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH0oKSk7XG5cbiAgLyogTm9kZS5qcyBoZWxwZXIgcmVmZXJlbmNlcy4gKi9cbiAgdmFyIG5vZGVJc0FycmF5QnVmZmVyID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNBcnJheUJ1ZmZlcixcbiAgICAgIG5vZGVJc0RhdGUgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc0RhdGUsXG4gICAgICBub2RlSXNNYXAgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc01hcCxcbiAgICAgIG5vZGVJc1JlZ0V4cCA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzUmVnRXhwLFxuICAgICAgbm9kZUlzU2V0ID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNTZXQsXG4gICAgICBub2RlSXNUeXBlZEFycmF5ID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNUeXBlZEFycmF5O1xuXG4gIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gIC8qKlxuICAgKiBBIGZhc3RlciBhbHRlcm5hdGl2ZSB0byBgRnVuY3Rpb24jYXBwbHlgLCB0aGlzIGZ1bmN0aW9uIGludm9rZXMgYGZ1bmNgXG4gICAqIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIGB0aGlzQXJnYCBhbmQgdGhlIGFyZ3VtZW50cyBvZiBgYXJnc2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGludm9rZS5cbiAgICogQHBhcmFtIHsqfSB0aGlzQXJnIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgYGZ1bmNgIHdpdGguXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXN1bHQgb2YgYGZ1bmNgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXBwbHkoZnVuYywgdGhpc0FyZywgYXJncykge1xuICAgIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICAgIGNhc2UgMDogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnKTtcbiAgICAgIGNhc2UgMTogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdKTtcbiAgICAgIGNhc2UgMjogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICAgIGNhc2UgMzogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncyk7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlQWdncmVnYXRvcmAgZm9yIGFycmF5cy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzZXR0ZXIgVGhlIGZ1bmN0aW9uIHRvIHNldCBgYWNjdW11bGF0b3JgIHZhbHVlcy5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGl0ZXJhdGVlIHRvIHRyYW5zZm9ybSBrZXlzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gYWNjdW11bGF0b3IgVGhlIGluaXRpYWwgYWdncmVnYXRlZCBvYmplY3QuXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgYWNjdW11bGF0b3JgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlBZ2dyZWdhdG9yKGFycmF5LCBzZXR0ZXIsIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICBzZXR0ZXIoYWNjdW11bGF0b3IsIHZhbHVlLCBpdGVyYXRlZSh2YWx1ZSksIGFycmF5KTtcbiAgICB9XG4gICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5mb3JFYWNoYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5RWFjaChhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKGl0ZXJhdGVlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSA9PT0gZmFsc2UpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uZm9yRWFjaFJpZ2h0YCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5RWFjaFJpZ2h0KGFycmF5LCBpdGVyYXRlZSkge1xuICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgaWYgKGl0ZXJhdGVlKGFycmF5W2xlbmd0aF0sIGxlbmd0aCwgYXJyYXkpID09PSBmYWxzZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5ldmVyeWAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbGwgZWxlbWVudHMgcGFzcyB0aGUgcHJlZGljYXRlIGNoZWNrLFxuICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlFdmVyeShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmICghcHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5maWx0ZXJgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmaWx0ZXJlZCBhcnJheS5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5RmlsdGVyKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGgsXG4gICAgICAgIHJlc0luZGV4ID0gMCxcbiAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uaW5jbHVkZXNgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBzcGVjaWZ5aW5nIGFuIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHRhcmdldCBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB0YXJnZXRgIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUluY2x1ZGVzKGFycmF5LCB2YWx1ZSkge1xuICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICByZXR1cm4gISFsZW5ndGggJiYgYmFzZUluZGV4T2YoYXJyYXksIHZhbHVlLCAwKSA+IC0xO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZSBgYXJyYXlJbmNsdWRlc2AgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBhIGNvbXBhcmF0b3IuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gdGFyZ2V0IFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb21wYXJhdG9yIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdGFyZ2V0YCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlJbmNsdWRlc1dpdGgoYXJyYXksIHZhbHVlLCBjb21wYXJhdG9yKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmIChjb21wYXJhdG9yKHZhbHVlLCBhcnJheVtpbmRleF0pKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLm1hcGAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlXG4gICAqIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlNYXAoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoLFxuICAgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHJlc3VsdFtpbmRleF0gPSBpdGVyYXRlZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQXBwZW5kcyB0aGUgZWxlbWVudHMgb2YgYHZhbHVlc2AgdG8gYGFycmF5YC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gYXBwZW5kLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5UHVzaChhcnJheSwgdmFsdWVzKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IHZhbHVlcy5sZW5ndGgsXG4gICAgICAgIG9mZnNldCA9IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBhcnJheVtvZmZzZXQgKyBpbmRleF0gPSB2YWx1ZXNbaW5kZXhdO1xuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnJlZHVjZWAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIFRoZSBpbml0aWFsIHZhbHVlLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpbml0QWNjdW1dIFNwZWNpZnkgdXNpbmcgdGhlIGZpcnN0IGVsZW1lbnQgb2YgYGFycmF5YCBhc1xuICAgKiAgdGhlIGluaXRpYWwgdmFsdWUuXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5UmVkdWNlKGFycmF5LCBpdGVyYXRlZSwgYWNjdW11bGF0b3IsIGluaXRBY2N1bSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIGlmIChpbml0QWNjdW0gJiYgbGVuZ3RoKSB7XG4gICAgICBhY2N1bXVsYXRvciA9IGFycmF5WysraW5kZXhdO1xuICAgIH1cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgYWNjdW11bGF0b3IgPSBpdGVyYXRlZShhY2N1bXVsYXRvciwgYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpO1xuICAgIH1cbiAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnJlZHVjZVJpZ2h0YCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcGFyYW0geyp9IFthY2N1bXVsYXRvcl0gVGhlIGluaXRpYWwgdmFsdWUuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2luaXRBY2N1bV0gU3BlY2lmeSB1c2luZyB0aGUgbGFzdCBlbGVtZW50IG9mIGBhcnJheWAgYXNcbiAgICogIHRoZSBpbml0aWFsIHZhbHVlLlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheVJlZHVjZVJpZ2h0KGFycmF5LCBpdGVyYXRlZSwgYWNjdW11bGF0b3IsIGluaXRBY2N1bSkge1xuICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICBpZiAoaW5pdEFjY3VtICYmIGxlbmd0aCkge1xuICAgICAgYWNjdW11bGF0b3IgPSBhcnJheVstLWxlbmd0aF07XG4gICAgfVxuICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgYWNjdW11bGF0b3IgPSBpdGVyYXRlZShhY2N1bXVsYXRvciwgYXJyYXlbbGVuZ3RoXSwgbGVuZ3RoLCBhcnJheSk7XG4gICAgfVxuICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uc29tZWAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlXG4gICAqIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbnkgZWxlbWVudCBwYXNzZXMgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICogIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5U29tZShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmIChwcmVkaWNhdGUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgc2l6ZSBvZiBhbiBBU0NJSSBgc3RyaW5nYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHN0cmluZyBzaXplLlxuICAgKi9cbiAgdmFyIGFzY2lpU2l6ZSA9IGJhc2VQcm9wZXJ0eSgnbGVuZ3RoJyk7XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGFuIEFTQ0lJIGBzdHJpbmdgIHRvIGFuIGFycmF5LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiBhc2NpaVRvQXJyYXkoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZy5zcGxpdCgnJyk7XG4gIH1cblxuICAvKipcbiAgICogU3BsaXRzIGFuIEFTQ0lJIGBzdHJpbmdgIGludG8gYW4gYXJyYXkgb2YgaXRzIHdvcmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHdvcmRzIG9mIGBzdHJpbmdgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXNjaWlXb3JkcyhzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLm1hdGNoKHJlQXNjaWlXb3JkKSB8fCBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8uZmluZEtleWAgYW5kIGBfLmZpbmRMYXN0S2V5YCxcbiAgICogd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLCB3aGljaCBpdGVyYXRlcyBvdmVyIGBjb2xsZWN0aW9uYFxuICAgKiB1c2luZyBgZWFjaEZ1bmNgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZWFjaEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGl0ZXJhdGUgb3ZlciBgY29sbGVjdGlvbmAuXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBmb3VuZCBlbGVtZW50IG9yIGl0cyBrZXksIGVsc2UgYHVuZGVmaW5lZGAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlRmluZEtleShjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGVhY2hGdW5jKSB7XG4gICAgdmFyIHJlc3VsdDtcbiAgICBlYWNoRnVuYyhjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSB7XG4gICAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pKSB7XG4gICAgICAgIHJlc3VsdCA9IGtleTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZmluZEluZGV4YCBhbmQgYF8uZmluZExhc3RJbmRleGAgd2l0aG91dFxuICAgKiBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VGaW5kSW5kZXgoYXJyYXksIHByZWRpY2F0ZSwgZnJvbUluZGV4LCBmcm9tUmlnaHQpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICBpbmRleCA9IGZyb21JbmRleCArIChmcm9tUmlnaHQgPyAxIDogLTEpO1xuXG4gICAgd2hpbGUgKChmcm9tUmlnaHQgPyBpbmRleC0tIDogKytpbmRleCA8IGxlbmd0aCkpIHtcbiAgICAgIGlmIChwcmVkaWNhdGUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmluZGV4T2ZgIHdpdGhvdXQgYGZyb21JbmRleGAgYm91bmRzIGNoZWNrcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZUluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IHZhbHVlXG4gICAgICA/IHN0cmljdEluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpXG4gICAgICA6IGJhc2VGaW5kSW5kZXgoYXJyYXksIGJhc2VJc05hTiwgZnJvbUluZGV4KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2UgYGJhc2VJbmRleE9mYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGEgY29tcGFyYXRvci5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb21wYXJhdG9yIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlSW5kZXhPZldpdGgoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgsIGNvbXBhcmF0b3IpIHtcbiAgICB2YXIgaW5kZXggPSBmcm9tSW5kZXggLSAxLFxuICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKGNvbXBhcmF0b3IoYXJyYXlbaW5kZXhdLCB2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNOYU5gIHdpdGhvdXQgc3VwcG9ydCBmb3IgbnVtYmVyIG9iamVjdHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBgTmFOYCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZUlzTmFOKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICE9PSB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5tZWFuYCBhbmQgYF8ubWVhbkJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG1lYW4uXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlTWVhbihhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgcmV0dXJuIGxlbmd0aCA/IChiYXNlU3VtKGFycmF5LCBpdGVyYXRlZSkgLyBsZW5ndGgpIDogTkFOO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnByb3BlcnR5YCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZXAgcGF0aHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhY2Nlc3NvciBmdW5jdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VQcm9wZXJ0eShrZXkpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnByb3BlcnR5T2ZgIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVlcCBwYXRocy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhY2Nlc3NvciBmdW5jdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VQcm9wZXJ0eU9mKG9iamVjdCkge1xuICAgIHJldHVybiBmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucmVkdWNlYCBhbmQgYF8ucmVkdWNlUmlnaHRgLCB3aXRob3V0IHN1cHBvcnRcbiAgICogZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMsIHdoaWNoIGl0ZXJhdGVzIG92ZXIgYGNvbGxlY3Rpb25gIHVzaW5nIGBlYWNoRnVuY2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHBhcmFtIHsqfSBhY2N1bXVsYXRvciBUaGUgaW5pdGlhbCB2YWx1ZS5cbiAgICogQHBhcmFtIHtib29sZWFufSBpbml0QWNjdW0gU3BlY2lmeSB1c2luZyB0aGUgZmlyc3Qgb3IgbGFzdCBlbGVtZW50IG9mXG4gICAqICBgY29sbGVjdGlvbmAgYXMgdGhlIGluaXRpYWwgdmFsdWUuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGVhY2hGdW5jIFRoZSBmdW5jdGlvbiB0byBpdGVyYXRlIG92ZXIgYGNvbGxlY3Rpb25gLlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlUmVkdWNlKGNvbGxlY3Rpb24sIGl0ZXJhdGVlLCBhY2N1bXVsYXRvciwgaW5pdEFjY3VtLCBlYWNoRnVuYykge1xuICAgIGVhY2hGdW5jKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgYWNjdW11bGF0b3IgPSBpbml0QWNjdW1cbiAgICAgICAgPyAoaW5pdEFjY3VtID0gZmFsc2UsIHZhbHVlKVxuICAgICAgICA6IGl0ZXJhdGVlKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pO1xuICAgIH0pO1xuICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zb3J0QnlgIHdoaWNoIHVzZXMgYGNvbXBhcmVyYCB0byBkZWZpbmUgdGhlXG4gICAqIHNvcnQgb3JkZXIgb2YgYGFycmF5YCBhbmQgcmVwbGFjZXMgY3JpdGVyaWEgb2JqZWN0cyB3aXRoIHRoZWlyIGNvcnJlc3BvbmRpbmdcbiAgICogdmFsdWVzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc29ydC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29tcGFyZXIgVGhlIGZ1bmN0aW9uIHRvIGRlZmluZSBzb3J0IG9yZGVyLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VTb3J0QnkoYXJyYXksIGNvbXBhcmVyKSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgIGFycmF5LnNvcnQoY29tcGFyZXIpO1xuICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgYXJyYXlbbGVuZ3RoXSA9IGFycmF5W2xlbmd0aF0udmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zdW1gIGFuZCBgXy5zdW1CeWAgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzdW0uXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlU3VtKGFycmF5LCBpdGVyYXRlZSkge1xuICAgIHZhciByZXN1bHQsXG4gICAgICAgIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICB2YXIgY3VycmVudCA9IGl0ZXJhdGVlKGFycmF5W2luZGV4XSk7XG4gICAgICBpZiAoY3VycmVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdCA9PT0gdW5kZWZpbmVkID8gY3VycmVudCA6IChyZXN1bHQgKyBjdXJyZW50KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50aW1lc2Agd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzXG4gICAqIG9yIG1heCBhcnJheSBsZW5ndGggY2hlY2tzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIHRpbWVzIHRvIGludm9rZSBgaXRlcmF0ZWVgLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHJlc3VsdHMuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlVGltZXMobiwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgcmVzdWx0ID0gQXJyYXkobik7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IG4pIHtcbiAgICAgIHJlc3VsdFtpbmRleF0gPSBpdGVyYXRlZShpbmRleCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udG9QYWlyc2AgYW5kIGBfLnRvUGFpcnNJbmAgd2hpY2ggY3JlYXRlcyBhbiBhcnJheVxuICAgKiBvZiBrZXktdmFsdWUgcGFpcnMgZm9yIGBvYmplY3RgIGNvcnJlc3BvbmRpbmcgdG8gdGhlIHByb3BlcnR5IG5hbWVzIG9mIGBwcm9wc2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IG5hbWVzIHRvIGdldCB2YWx1ZXMgZm9yLlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBrZXktdmFsdWUgcGFpcnMuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlVG9QYWlycyhvYmplY3QsIHByb3BzKSB7XG4gICAgcmV0dXJuIGFycmF5TWFwKHByb3BzLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJldHVybiBba2V5LCBvYmplY3Rba2V5XV07XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udHJpbWAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byB0cmltLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cmltbWVkIHN0cmluZy5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VUcmltKHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmdcbiAgICAgID8gc3RyaW5nLnNsaWNlKDAsIHRyaW1tZWRFbmRJbmRleChzdHJpbmcpICsgMSkucmVwbGFjZShyZVRyaW1TdGFydCwgJycpXG4gICAgICA6IHN0cmluZztcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51bmFyeWAgd2l0aG91dCBzdXBwb3J0IGZvciBzdG9yaW5nIG1ldGFkYXRhLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjYXAgYXJndW1lbnRzIGZvci5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY2FwcGVkIGZ1bmN0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVVuYXJ5KGZ1bmMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBmdW5jKHZhbHVlKTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnZhbHVlc2AgYW5kIGBfLnZhbHVlc0luYCB3aGljaCBjcmVhdGVzIGFuXG4gICAqIGFycmF5IG9mIGBvYmplY3RgIHByb3BlcnR5IHZhbHVlcyBjb3JyZXNwb25kaW5nIHRvIHRoZSBwcm9wZXJ0eSBuYW1lc1xuICAgKiBvZiBgcHJvcHNgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBuYW1lcyB0byBnZXQgdmFsdWVzIGZvci5cbiAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgdmFsdWVzLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVZhbHVlcyhvYmplY3QsIHByb3BzKSB7XG4gICAgcmV0dXJuIGFycmF5TWFwKHByb3BzLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJldHVybiBvYmplY3Rba2V5XTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYSBgY2FjaGVgIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjYWNoZSBUaGUgY2FjaGUgdG8gcXVlcnkuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBjYWNoZUhhcyhjYWNoZSwga2V5KSB7XG4gICAgcmV0dXJuIGNhY2hlLmhhcyhrZXkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8udHJpbWAgYW5kIGBfLnRyaW1TdGFydGAgdG8gZ2V0IHRoZSBpbmRleCBvZiB0aGUgZmlyc3Qgc3RyaW5nIHN5bWJvbFxuICAgKiB0aGF0IGlzIG5vdCBmb3VuZCBpbiB0aGUgY2hhcmFjdGVyIHN5bWJvbHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IHN0clN5bWJvbHMgVGhlIHN0cmluZyBzeW1ib2xzIHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7QXJyYXl9IGNoclN5bWJvbHMgVGhlIGNoYXJhY3RlciBzeW1ib2xzIHRvIGZpbmQuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBmaXJzdCB1bm1hdGNoZWQgc3RyaW5nIHN5bWJvbC5cbiAgICovXG4gIGZ1bmN0aW9uIGNoYXJzU3RhcnRJbmRleChzdHJTeW1ib2xzLCBjaHJTeW1ib2xzKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IHN0clN5bWJvbHMubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGggJiYgYmFzZUluZGV4T2YoY2hyU3ltYm9scywgc3RyU3ltYm9sc1tpbmRleF0sIDApID4gLTEpIHt9XG4gICAgcmV0dXJuIGluZGV4O1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8udHJpbWAgYW5kIGBfLnRyaW1FbmRgIHRvIGdldCB0aGUgaW5kZXggb2YgdGhlIGxhc3Qgc3RyaW5nIHN5bWJvbFxuICAgKiB0aGF0IGlzIG5vdCBmb3VuZCBpbiB0aGUgY2hhcmFjdGVyIHN5bWJvbHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IHN0clN5bWJvbHMgVGhlIHN0cmluZyBzeW1ib2xzIHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7QXJyYXl9IGNoclN5bWJvbHMgVGhlIGNoYXJhY3RlciBzeW1ib2xzIHRvIGZpbmQuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBsYXN0IHVubWF0Y2hlZCBzdHJpbmcgc3ltYm9sLlxuICAgKi9cbiAgZnVuY3Rpb24gY2hhcnNFbmRJbmRleChzdHJTeW1ib2xzLCBjaHJTeW1ib2xzKSB7XG4gICAgdmFyIGluZGV4ID0gc3RyU3ltYm9scy5sZW5ndGg7XG5cbiAgICB3aGlsZSAoaW5kZXgtLSAmJiBiYXNlSW5kZXhPZihjaHJTeW1ib2xzLCBzdHJTeW1ib2xzW2luZGV4XSwgMCkgPiAtMSkge31cbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgbnVtYmVyIG9mIGBwbGFjZWhvbGRlcmAgb2NjdXJyZW5jZXMgaW4gYGFycmF5YC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gcGxhY2Vob2xkZXIgVGhlIHBsYWNlaG9sZGVyIHRvIHNlYXJjaCBmb3IuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHBsYWNlaG9sZGVyIGNvdW50LlxuICAgKi9cbiAgZnVuY3Rpb24gY291bnRIb2xkZXJzKGFycmF5LCBwbGFjZWhvbGRlcikge1xuICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgIHJlc3VsdCA9IDA7XG5cbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIGlmIChhcnJheVtsZW5ndGhdID09PSBwbGFjZWhvbGRlcikge1xuICAgICAgICArK3Jlc3VsdDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBfLmRlYnVycmAgdG8gY29udmVydCBMYXRpbi0xIFN1cHBsZW1lbnQgYW5kIExhdGluIEV4dGVuZGVkLUFcbiAgICogbGV0dGVycyB0byBiYXNpYyBMYXRpbiBsZXR0ZXJzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gbGV0dGVyIFRoZSBtYXRjaGVkIGxldHRlciB0byBkZWJ1cnIuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGRlYnVycmVkIGxldHRlci5cbiAgICovXG4gIHZhciBkZWJ1cnJMZXR0ZXIgPSBiYXNlUHJvcGVydHlPZihkZWJ1cnJlZExldHRlcnMpO1xuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBfLmVzY2FwZWAgdG8gY29udmVydCBjaGFyYWN0ZXJzIHRvIEhUTUwgZW50aXRpZXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjaHIgVGhlIG1hdGNoZWQgY2hhcmFjdGVyIHRvIGVzY2FwZS5cbiAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZXNjYXBlZCBjaGFyYWN0ZXIuXG4gICAqL1xuICB2YXIgZXNjYXBlSHRtbENoYXIgPSBiYXNlUHJvcGVydHlPZihodG1sRXNjYXBlcyk7XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8udGVtcGxhdGVgIHRvIGVzY2FwZSBjaGFyYWN0ZXJzIGZvciBpbmNsdXNpb24gaW4gY29tcGlsZWQgc3RyaW5nIGxpdGVyYWxzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2hyIFRoZSBtYXRjaGVkIGNoYXJhY3RlciB0byBlc2NhcGUuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGVzY2FwZWQgY2hhcmFjdGVyLlxuICAgKi9cbiAgZnVuY3Rpb24gZXNjYXBlU3RyaW5nQ2hhcihjaHIpIHtcbiAgICByZXR1cm4gJ1xcXFwnICsgc3RyaW5nRXNjYXBlc1tjaHJdO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHZhbHVlIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZS5cbiAgICovXG4gIGZ1bmN0aW9uIGdldFZhbHVlKG9iamVjdCwga2V5KSB7XG4gICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGBzdHJpbmdgIGNvbnRhaW5zIFVuaWNvZGUgc3ltYm9scy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhIHN5bWJvbCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gaGFzVW5pY29kZShzdHJpbmcpIHtcbiAgICByZXR1cm4gcmVIYXNVbmljb2RlLnRlc3Qoc3RyaW5nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYHN0cmluZ2AgY29udGFpbnMgYSB3b3JkIGNvbXBvc2VkIG9mIFVuaWNvZGUgc3ltYm9scy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhIHdvcmQgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGhhc1VuaWNvZGVXb3JkKHN0cmluZykge1xuICAgIHJldHVybiByZUhhc1VuaWNvZGVXb3JkLnRlc3Qoc3RyaW5nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgaXRlcmF0b3JgIHRvIGFuIGFycmF5LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gaXRlcmF0b3IgVGhlIGl0ZXJhdG9yIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gaXRlcmF0b3JUb0FycmF5KGl0ZXJhdG9yKSB7XG4gICAgdmFyIGRhdGEsXG4gICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgd2hpbGUgKCEoZGF0YSA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgcmVzdWx0LnB1c2goZGF0YS52YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYG1hcGAgdG8gaXRzIGtleS12YWx1ZSBwYWlycy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG1hcCBUaGUgbWFwIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUga2V5LXZhbHVlIHBhaXJzLlxuICAgKi9cbiAgZnVuY3Rpb24gbWFwVG9BcnJheShtYXApIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgcmVzdWx0ID0gQXJyYXkobWFwLnNpemUpO1xuXG4gICAgbWFwLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgcmVzdWx0WysraW5kZXhdID0gW2tleSwgdmFsdWVdO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIHVuYXJ5IGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBpdHMgYXJndW1lbnQgdHJhbnNmb3JtZWQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgYXJndW1lbnQgdHJhbnNmb3JtLlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIG92ZXJBcmcoZnVuYywgdHJhbnNmb3JtKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGFyZykge1xuICAgICAgcmV0dXJuIGZ1bmModHJhbnNmb3JtKGFyZykpO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogUmVwbGFjZXMgYWxsIGBwbGFjZWhvbGRlcmAgZWxlbWVudHMgaW4gYGFycmF5YCB3aXRoIGFuIGludGVybmFsIHBsYWNlaG9sZGVyXG4gICAqIGFuZCByZXR1cm5zIGFuIGFycmF5IG9mIHRoZWlyIGluZGV4ZXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAqIEBwYXJhbSB7Kn0gcGxhY2Vob2xkZXIgVGhlIHBsYWNlaG9sZGVyIHRvIHJlcGxhY2UuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAqL1xuICBmdW5jdGlvbiByZXBsYWNlSG9sZGVycyhhcnJheSwgcGxhY2Vob2xkZXIpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgIGlmICh2YWx1ZSA9PT0gcGxhY2Vob2xkZXIgfHwgdmFsdWUgPT09IFBMQUNFSE9MREVSKSB7XG4gICAgICAgIGFycmF5W2luZGV4XSA9IFBMQUNFSE9MREVSO1xuICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSBpbmRleDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgc2V0YCB0byBhbiBhcnJheSBvZiBpdHMgdmFsdWVzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gc2V0IFRoZSBzZXQgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB2YWx1ZXMuXG4gICAqL1xuICBmdW5jdGlvbiBzZXRUb0FycmF5KHNldCkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICByZXN1bHQgPSBBcnJheShzZXQuc2l6ZSk7XG5cbiAgICBzZXQuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmVzdWx0WysraW5kZXhdID0gdmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgc2V0YCB0byBpdHMgdmFsdWUtdmFsdWUgcGFpcnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzZXQgVGhlIHNldCB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHZhbHVlLXZhbHVlIHBhaXJzLlxuICAgKi9cbiAgZnVuY3Rpb24gc2V0VG9QYWlycyhzZXQpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgcmVzdWx0ID0gQXJyYXkoc2V0LnNpemUpO1xuXG4gICAgc2V0LmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJlc3VsdFsrK2luZGV4XSA9IFt2YWx1ZSwgdmFsdWVdO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmluZGV4T2ZgIHdoaWNoIHBlcmZvcm1zIHN0cmljdCBlcXVhbGl0eVxuICAgKiBjb21wYXJpc29ucyBvZiB2YWx1ZXMsIGkuZS4gYD09PWAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICovXG4gIGZ1bmN0aW9uIHN0cmljdEluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcbiAgICB2YXIgaW5kZXggPSBmcm9tSW5kZXggLSAxLFxuICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKGFycmF5W2luZGV4XSA9PT0gdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmxhc3RJbmRleE9mYCB3aGljaCBwZXJmb3JtcyBzdHJpY3QgZXF1YWxpdHlcbiAgICogY29tcGFyaXNvbnMgb2YgdmFsdWVzLCBpLmUuIGA9PT1gLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAqL1xuICBmdW5jdGlvbiBzdHJpY3RMYXN0SW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICAgIHZhciBpbmRleCA9IGZyb21JbmRleCArIDE7XG4gICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgIGlmIChhcnJheVtpbmRleF0gPT09IHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGluZGV4O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIG51bWJlciBvZiBzeW1ib2xzIGluIGBzdHJpbmdgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3RyaW5nIHNpemUuXG4gICAqL1xuICBmdW5jdGlvbiBzdHJpbmdTaXplKHN0cmluZykge1xuICAgIHJldHVybiBoYXNVbmljb2RlKHN0cmluZylcbiAgICAgID8gdW5pY29kZVNpemUoc3RyaW5nKVxuICAgICAgOiBhc2NpaVNpemUoc3RyaW5nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0byBhbiBhcnJheS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gc3RyaW5nVG9BcnJheShzdHJpbmcpIHtcbiAgICByZXR1cm4gaGFzVW5pY29kZShzdHJpbmcpXG4gICAgICA/IHVuaWNvZGVUb0FycmF5KHN0cmluZylcbiAgICAgIDogYXNjaWlUb0FycmF5KHN0cmluZyk7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCBieSBgXy50cmltYCBhbmQgYF8udHJpbUVuZGAgdG8gZ2V0IHRoZSBpbmRleCBvZiB0aGUgbGFzdCBub24td2hpdGVzcGFjZVxuICAgKiBjaGFyYWN0ZXIgb2YgYHN0cmluZ2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbGFzdCBub24td2hpdGVzcGFjZSBjaGFyYWN0ZXIuXG4gICAqL1xuICBmdW5jdGlvbiB0cmltbWVkRW5kSW5kZXgoc3RyaW5nKSB7XG4gICAgdmFyIGluZGV4ID0gc3RyaW5nLmxlbmd0aDtcblxuICAgIHdoaWxlIChpbmRleC0tICYmIHJlV2hpdGVzcGFjZS50ZXN0KHN0cmluZy5jaGFyQXQoaW5kZXgpKSkge31cbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCBieSBgXy51bmVzY2FwZWAgdG8gY29udmVydCBIVE1MIGVudGl0aWVzIHRvIGNoYXJhY3RlcnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjaHIgVGhlIG1hdGNoZWQgY2hhcmFjdGVyIHRvIHVuZXNjYXBlLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1bmVzY2FwZWQgY2hhcmFjdGVyLlxuICAgKi9cbiAgdmFyIHVuZXNjYXBlSHRtbENoYXIgPSBiYXNlUHJvcGVydHlPZihodG1sVW5lc2NhcGVzKTtcblxuICAvKipcbiAgICogR2V0cyB0aGUgc2l6ZSBvZiBhIFVuaWNvZGUgYHN0cmluZ2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzdHJpbmcgc2l6ZS5cbiAgICovXG4gIGZ1bmN0aW9uIHVuaWNvZGVTaXplKHN0cmluZykge1xuICAgIHZhciByZXN1bHQgPSByZVVuaWNvZGUubGFzdEluZGV4ID0gMDtcbiAgICB3aGlsZSAocmVVbmljb2RlLnRlc3Qoc3RyaW5nKSkge1xuICAgICAgKytyZXN1bHQ7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYSBVbmljb2RlIGBzdHJpbmdgIHRvIGFuIGFycmF5LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiB1bmljb2RlVG9BcnJheShzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLm1hdGNoKHJlVW5pY29kZSkgfHwgW107XG4gIH1cblxuICAvKipcbiAgICogU3BsaXRzIGEgVW5pY29kZSBgc3RyaW5nYCBpbnRvIGFuIGFycmF5IG9mIGl0cyB3b3Jkcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB3b3JkcyBvZiBgc3RyaW5nYC5cbiAgICovXG4gIGZ1bmN0aW9uIHVuaWNvZGVXb3JkcyhzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLm1hdGNoKHJlVW5pY29kZVdvcmQpIHx8IFtdO1xuICB9XG5cbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBwcmlzdGluZSBgbG9kYXNoYCBmdW5jdGlvbiB1c2luZyB0aGUgYGNvbnRleHRgIG9iamVjdC5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAc2luY2UgMS4xLjBcbiAgICogQGNhdGVnb3J5IFV0aWxcbiAgICogQHBhcmFtIHtPYmplY3R9IFtjb250ZXh0PXJvb3RdIFRoZSBjb250ZXh0IG9iamVjdC5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGEgbmV3IGBsb2Rhc2hgIGZ1bmN0aW9uLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBfLm1peGluKHsgJ2Zvbyc6IF8uY29uc3RhbnQoJ2ZvbycpIH0pO1xuICAgKlxuICAgKiB2YXIgbG9kYXNoID0gXy5ydW5JbkNvbnRleHQoKTtcbiAgICogbG9kYXNoLm1peGluKHsgJ2Jhcic6IGxvZGFzaC5jb25zdGFudCgnYmFyJykgfSk7XG4gICAqXG4gICAqIF8uaXNGdW5jdGlvbihfLmZvbyk7XG4gICAqIC8vID0+IHRydWVcbiAgICogXy5pc0Z1bmN0aW9uKF8uYmFyKTtcbiAgICogLy8gPT4gZmFsc2VcbiAgICpcbiAgICogbG9kYXNoLmlzRnVuY3Rpb24obG9kYXNoLmZvbyk7XG4gICAqIC8vID0+IGZhbHNlXG4gICAqIGxvZGFzaC5pc0Z1bmN0aW9uKGxvZGFzaC5iYXIpO1xuICAgKiAvLyA9PiB0cnVlXG4gICAqXG4gICAqIC8vIENyZWF0ZSBhIHN1cGVkLXVwIGBkZWZlcmAgaW4gTm9kZS5qcy5cbiAgICogdmFyIGRlZmVyID0gXy5ydW5JbkNvbnRleHQoeyAnc2V0VGltZW91dCc6IHNldEltbWVkaWF0ZSB9KS5kZWZlcjtcbiAgICovXG4gIHZhciBydW5JbkNvbnRleHQgPSAoZnVuY3Rpb24gcnVuSW5Db250ZXh0KGNvbnRleHQpIHtcbiAgICBjb250ZXh0ID0gY29udGV4dCA9PSBudWxsID8gcm9vdCA6IF8uZGVmYXVsdHMocm9vdC5PYmplY3QoKSwgY29udGV4dCwgXy5waWNrKHJvb3QsIGNvbnRleHRQcm9wcykpO1xuXG4gICAgLyoqIEJ1aWx0LWluIGNvbnN0cnVjdG9yIHJlZmVyZW5jZXMuICovXG4gICAgdmFyIEFycmF5ID0gY29udGV4dC5BcnJheSxcbiAgICAgICAgRGF0ZSA9IGNvbnRleHQuRGF0ZSxcbiAgICAgICAgRXJyb3IgPSBjb250ZXh0LkVycm9yLFxuICAgICAgICBGdW5jdGlvbiA9IGNvbnRleHQuRnVuY3Rpb24sXG4gICAgICAgIE1hdGggPSBjb250ZXh0Lk1hdGgsXG4gICAgICAgIE9iamVjdCA9IGNvbnRleHQuT2JqZWN0LFxuICAgICAgICBSZWdFeHAgPSBjb250ZXh0LlJlZ0V4cCxcbiAgICAgICAgU3RyaW5nID0gY29udGV4dC5TdHJpbmcsXG4gICAgICAgIFR5cGVFcnJvciA9IGNvbnRleHQuVHlwZUVycm9yO1xuXG4gICAgLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xuICAgIHZhciBhcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlLFxuICAgICAgICBmdW5jUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGUsXG4gICAgICAgIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuICAgIC8qKiBVc2VkIHRvIGRldGVjdCBvdmVycmVhY2hpbmcgY29yZS1qcyBzaGltcy4gKi9cbiAgICB2YXIgY29yZUpzRGF0YSA9IGNvbnRleHRbJ19fY29yZS1qc19zaGFyZWRfXyddO1xuXG4gICAgLyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgZGVjb21waWxlZCBzb3VyY2Ugb2YgZnVuY3Rpb25zLiAqL1xuICAgIHZhciBmdW5jVG9TdHJpbmcgPSBmdW5jUHJvdG8udG9TdHJpbmc7XG5cbiAgICAvKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbiAgICB2YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuICAgIC8qKiBVc2VkIHRvIGdlbmVyYXRlIHVuaXF1ZSBJRHMuICovXG4gICAgdmFyIGlkQ291bnRlciA9IDA7XG5cbiAgICAvKiogVXNlZCB0byBkZXRlY3QgbWV0aG9kcyBtYXNxdWVyYWRpbmcgYXMgbmF0aXZlLiAqL1xuICAgIHZhciBtYXNrU3JjS2V5ID0gKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHVpZCA9IC9bXi5dKyQvLmV4ZWMoY29yZUpzRGF0YSAmJiBjb3JlSnNEYXRhLmtleXMgJiYgY29yZUpzRGF0YS5rZXlzLklFX1BST1RPIHx8ICcnKTtcbiAgICAgIHJldHVybiB1aWQgPyAoJ1N5bWJvbChzcmMpXzEuJyArIHVpZCkgOiAnJztcbiAgICB9KCkpO1xuXG4gICAgLyoqXG4gICAgICogVXNlZCB0byByZXNvbHZlIHRoZVxuICAgICAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICAgICAqIG9mIHZhbHVlcy5cbiAgICAgKi9cbiAgICB2YXIgbmF0aXZlT2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuICAgIC8qKiBVc2VkIHRvIGluZmVyIHRoZSBgT2JqZWN0YCBjb25zdHJ1Y3Rvci4gKi9cbiAgICB2YXIgb2JqZWN0Q3RvclN0cmluZyA9IGZ1bmNUb1N0cmluZy5jYWxsKE9iamVjdCk7XG5cbiAgICAvKiogVXNlZCB0byByZXN0b3JlIHRoZSBvcmlnaW5hbCBgX2AgcmVmZXJlbmNlIGluIGBfLm5vQ29uZmxpY3RgLiAqL1xuICAgIHZhciBvbGREYXNoID0gcm9vdC5fO1xuXG4gICAgLyoqIFVzZWQgdG8gZGV0ZWN0IGlmIGEgbWV0aG9kIGlzIG5hdGl2ZS4gKi9cbiAgICB2YXIgcmVJc05hdGl2ZSA9IFJlZ0V4cCgnXicgK1xuICAgICAgZnVuY1RvU3RyaW5nLmNhbGwoaGFzT3duUHJvcGVydHkpLnJlcGxhY2UocmVSZWdFeHBDaGFyLCAnXFxcXCQmJylcbiAgICAgIC5yZXBsYWNlKC9oYXNPd25Qcm9wZXJ0eXwoZnVuY3Rpb24pLio/KD89XFxcXFxcKCl8IGZvciAuKz8oPz1cXFxcXFxdKS9nLCAnJDEuKj8nKSArICckJ1xuICAgICk7XG5cbiAgICAvKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbiAgICB2YXIgQnVmZmVyID0gbW9kdWxlRXhwb3J0cyA/IGNvbnRleHQuQnVmZmVyIDogdW5kZWZpbmVkLFxuICAgICAgICBTeW1ib2wgPSBjb250ZXh0LlN5bWJvbCxcbiAgICAgICAgVWludDhBcnJheSA9IGNvbnRleHQuVWludDhBcnJheSxcbiAgICAgICAgYWxsb2NVbnNhZmUgPSBCdWZmZXIgPyBCdWZmZXIuYWxsb2NVbnNhZmUgOiB1bmRlZmluZWQsXG4gICAgICAgIGdldFByb3RvdHlwZSA9IG92ZXJBcmcoT2JqZWN0LmdldFByb3RvdHlwZU9mLCBPYmplY3QpLFxuICAgICAgICBvYmplY3RDcmVhdGUgPSBPYmplY3QuY3JlYXRlLFxuICAgICAgICBwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IG9iamVjdFByb3RvLnByb3BlcnR5SXNFbnVtZXJhYmxlLFxuICAgICAgICBzcGxpY2UgPSBhcnJheVByb3RvLnNwbGljZSxcbiAgICAgICAgc3ByZWFkYWJsZVN5bWJvbCA9IFN5bWJvbCA/IFN5bWJvbC5pc0NvbmNhdFNwcmVhZGFibGUgOiB1bmRlZmluZWQsXG4gICAgICAgIHN5bUl0ZXJhdG9yID0gU3ltYm9sID8gU3ltYm9sLml0ZXJhdG9yIDogdW5kZWZpbmVkLFxuICAgICAgICBzeW1Ub1N0cmluZ1RhZyA9IFN5bWJvbCA/IFN5bWJvbC50b1N0cmluZ1RhZyA6IHVuZGVmaW5lZDtcblxuICAgIHZhciBkZWZpbmVQcm9wZXJ0eSA9IChmdW5jdGlvbigpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBmdW5jID0gZ2V0TmF0aXZlKE9iamVjdCwgJ2RlZmluZVByb3BlcnR5Jyk7XG4gICAgICAgIGZ1bmMoe30sICcnLCB7fSk7XG4gICAgICAgIHJldHVybiBmdW5jO1xuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICB9KCkpO1xuXG4gICAgLyoqIE1vY2tlZCBidWlsdC1pbnMuICovXG4gICAgdmFyIGN0eENsZWFyVGltZW91dCA9IGNvbnRleHQuY2xlYXJUaW1lb3V0ICE9PSByb290LmNsZWFyVGltZW91dCAmJiBjb250ZXh0LmNsZWFyVGltZW91dCxcbiAgICAgICAgY3R4Tm93ID0gRGF0ZSAmJiBEYXRlLm5vdyAhPT0gcm9vdC5EYXRlLm5vdyAmJiBEYXRlLm5vdyxcbiAgICAgICAgY3R4U2V0VGltZW91dCA9IGNvbnRleHQuc2V0VGltZW91dCAhPT0gcm9vdC5zZXRUaW1lb3V0ICYmIGNvbnRleHQuc2V0VGltZW91dDtcblxuICAgIC8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbiAgICB2YXIgbmF0aXZlQ2VpbCA9IE1hdGguY2VpbCxcbiAgICAgICAgbmF0aXZlRmxvb3IgPSBNYXRoLmZsb29yLFxuICAgICAgICBuYXRpdmVHZXRTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxcbiAgICAgICAgbmF0aXZlSXNCdWZmZXIgPSBCdWZmZXIgPyBCdWZmZXIuaXNCdWZmZXIgOiB1bmRlZmluZWQsXG4gICAgICAgIG5hdGl2ZUlzRmluaXRlID0gY29udGV4dC5pc0Zpbml0ZSxcbiAgICAgICAgbmF0aXZlSm9pbiA9IGFycmF5UHJvdG8uam9pbixcbiAgICAgICAgbmF0aXZlS2V5cyA9IG92ZXJBcmcoT2JqZWN0LmtleXMsIE9iamVjdCksXG4gICAgICAgIG5hdGl2ZU1heCA9IE1hdGgubWF4LFxuICAgICAgICBuYXRpdmVNaW4gPSBNYXRoLm1pbixcbiAgICAgICAgbmF0aXZlTm93ID0gRGF0ZS5ub3csXG4gICAgICAgIG5hdGl2ZVBhcnNlSW50ID0gY29udGV4dC5wYXJzZUludCxcbiAgICAgICAgbmF0aXZlUmFuZG9tID0gTWF0aC5yYW5kb20sXG4gICAgICAgIG5hdGl2ZVJldmVyc2UgPSBhcnJheVByb3RvLnJldmVyc2U7XG5cbiAgICAvKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyB0aGF0IGFyZSB2ZXJpZmllZCB0byBiZSBuYXRpdmUuICovXG4gICAgdmFyIERhdGFWaWV3ID0gZ2V0TmF0aXZlKGNvbnRleHQsICdEYXRhVmlldycpLFxuICAgICAgICBNYXAgPSBnZXROYXRpdmUoY29udGV4dCwgJ01hcCcpLFxuICAgICAgICBQcm9taXNlID0gZ2V0TmF0aXZlKGNvbnRleHQsICdQcm9taXNlJyksXG4gICAgICAgIFNldCA9IGdldE5hdGl2ZShjb250ZXh0LCAnU2V0JyksXG4gICAgICAgIFdlYWtNYXAgPSBnZXROYXRpdmUoY29udGV4dCwgJ1dlYWtNYXAnKSxcbiAgICAgICAgbmF0aXZlQ3JlYXRlID0gZ2V0TmF0aXZlKE9iamVjdCwgJ2NyZWF0ZScpO1xuXG4gICAgLyoqIFVzZWQgdG8gc3RvcmUgZnVuY3Rpb24gbWV0YWRhdGEuICovXG4gICAgdmFyIG1ldGFNYXAgPSBXZWFrTWFwICYmIG5ldyBXZWFrTWFwO1xuXG4gICAgLyoqIFVzZWQgdG8gbG9va3VwIHVubWluaWZpZWQgZnVuY3Rpb24gbmFtZXMuICovXG4gICAgdmFyIHJlYWxOYW1lcyA9IHt9O1xuXG4gICAgLyoqIFVzZWQgdG8gZGV0ZWN0IG1hcHMsIHNldHMsIGFuZCB3ZWFrbWFwcy4gKi9cbiAgICB2YXIgZGF0YVZpZXdDdG9yU3RyaW5nID0gdG9Tb3VyY2UoRGF0YVZpZXcpLFxuICAgICAgICBtYXBDdG9yU3RyaW5nID0gdG9Tb3VyY2UoTWFwKSxcbiAgICAgICAgcHJvbWlzZUN0b3JTdHJpbmcgPSB0b1NvdXJjZShQcm9taXNlKSxcbiAgICAgICAgc2V0Q3RvclN0cmluZyA9IHRvU291cmNlKFNldCksXG4gICAgICAgIHdlYWtNYXBDdG9yU3RyaW5nID0gdG9Tb3VyY2UoV2Vha01hcCk7XG5cbiAgICAvKiogVXNlZCB0byBjb252ZXJ0IHN5bWJvbHMgdG8gcHJpbWl0aXZlcyBhbmQgc3RyaW5ncy4gKi9cbiAgICB2YXIgc3ltYm9sUHJvdG8gPSBTeW1ib2wgPyBTeW1ib2wucHJvdG90eXBlIDogdW5kZWZpbmVkLFxuICAgICAgICBzeW1ib2xWYWx1ZU9mID0gc3ltYm9sUHJvdG8gPyBzeW1ib2xQcm90by52YWx1ZU9mIDogdW5kZWZpbmVkLFxuICAgICAgICBzeW1ib2xUb1N0cmluZyA9IHN5bWJvbFByb3RvID8gc3ltYm9sUHJvdG8udG9TdHJpbmcgOiB1bmRlZmluZWQ7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYGxvZGFzaGAgb2JqZWN0IHdoaWNoIHdyYXBzIGB2YWx1ZWAgdG8gZW5hYmxlIGltcGxpY2l0IG1ldGhvZFxuICAgICAqIGNoYWluIHNlcXVlbmNlcy4gTWV0aG9kcyB0aGF0IG9wZXJhdGUgb24gYW5kIHJldHVybiBhcnJheXMsIGNvbGxlY3Rpb25zLFxuICAgICAqIGFuZCBmdW5jdGlvbnMgY2FuIGJlIGNoYWluZWQgdG9nZXRoZXIuIE1ldGhvZHMgdGhhdCByZXRyaWV2ZSBhIHNpbmdsZSB2YWx1ZVxuICAgICAqIG9yIG1heSByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUgd2lsbCBhdXRvbWF0aWNhbGx5IGVuZCB0aGUgY2hhaW4gc2VxdWVuY2VcbiAgICAgKiBhbmQgcmV0dXJuIHRoZSB1bndyYXBwZWQgdmFsdWUuIE90aGVyd2lzZSwgdGhlIHZhbHVlIG11c3QgYmUgdW53cmFwcGVkXG4gICAgICogd2l0aCBgXyN2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBFeHBsaWNpdCBjaGFpbiBzZXF1ZW5jZXMsIHdoaWNoIG11c3QgYmUgdW53cmFwcGVkIHdpdGggYF8jdmFsdWVgLCBtYXkgYmVcbiAgICAgKiBlbmFibGVkIHVzaW5nIGBfLmNoYWluYC5cbiAgICAgKlxuICAgICAqIFRoZSBleGVjdXRpb24gb2YgY2hhaW5lZCBtZXRob2RzIGlzIGxhenksIHRoYXQgaXMsIGl0J3MgZGVmZXJyZWQgdW50aWxcbiAgICAgKiBgXyN2YWx1ZWAgaXMgaW1wbGljaXRseSBvciBleHBsaWNpdGx5IGNhbGxlZC5cbiAgICAgKlxuICAgICAqIExhenkgZXZhbHVhdGlvbiBhbGxvd3Mgc2V2ZXJhbCBtZXRob2RzIHRvIHN1cHBvcnQgc2hvcnRjdXQgZnVzaW9uLlxuICAgICAqIFNob3J0Y3V0IGZ1c2lvbiBpcyBhbiBvcHRpbWl6YXRpb24gdG8gbWVyZ2UgaXRlcmF0ZWUgY2FsbHM7IHRoaXMgYXZvaWRzXG4gICAgICogdGhlIGNyZWF0aW9uIG9mIGludGVybWVkaWF0ZSBhcnJheXMgYW5kIGNhbiBncmVhdGx5IHJlZHVjZSB0aGUgbnVtYmVyIG9mXG4gICAgICogaXRlcmF0ZWUgZXhlY3V0aW9ucy4gU2VjdGlvbnMgb2YgYSBjaGFpbiBzZXF1ZW5jZSBxdWFsaWZ5IGZvciBzaG9ydGN1dFxuICAgICAqIGZ1c2lvbiBpZiB0aGUgc2VjdGlvbiBpcyBhcHBsaWVkIHRvIGFuIGFycmF5IGFuZCBpdGVyYXRlZXMgYWNjZXB0IG9ubHlcbiAgICAgKiBvbmUgYXJndW1lbnQuIFRoZSBoZXVyaXN0aWMgZm9yIHdoZXRoZXIgYSBzZWN0aW9uIHF1YWxpZmllcyBmb3Igc2hvcnRjdXRcbiAgICAgKiBmdXNpb24gaXMgc3ViamVjdCB0byBjaGFuZ2UuXG4gICAgICpcbiAgICAgKiBDaGFpbmluZyBpcyBzdXBwb3J0ZWQgaW4gY3VzdG9tIGJ1aWxkcyBhcyBsb25nIGFzIHRoZSBgXyN2YWx1ZWAgbWV0aG9kIGlzXG4gICAgICogZGlyZWN0bHkgb3IgaW5kaXJlY3RseSBpbmNsdWRlZCBpbiB0aGUgYnVpbGQuXG4gICAgICpcbiAgICAgKiBJbiBhZGRpdGlvbiB0byBsb2Rhc2ggbWV0aG9kcywgd3JhcHBlcnMgaGF2ZSBgQXJyYXlgIGFuZCBgU3RyaW5nYCBtZXRob2RzLlxuICAgICAqXG4gICAgICogVGhlIHdyYXBwZXIgYEFycmF5YCBtZXRob2RzIGFyZTpcbiAgICAgKiBgY29uY2F0YCwgYGpvaW5gLCBgcG9wYCwgYHB1c2hgLCBgc2hpZnRgLCBgc29ydGAsIGBzcGxpY2VgLCBhbmQgYHVuc2hpZnRgXG4gICAgICpcbiAgICAgKiBUaGUgd3JhcHBlciBgU3RyaW5nYCBtZXRob2RzIGFyZTpcbiAgICAgKiBgcmVwbGFjZWAgYW5kIGBzcGxpdGBcbiAgICAgKlxuICAgICAqIFRoZSB3cmFwcGVyIG1ldGhvZHMgdGhhdCBzdXBwb3J0IHNob3J0Y3V0IGZ1c2lvbiBhcmU6XG4gICAgICogYGF0YCwgYGNvbXBhY3RgLCBgZHJvcGAsIGBkcm9wUmlnaHRgLCBgZHJvcFdoaWxlYCwgYGZpbHRlcmAsIGBmaW5kYCxcbiAgICAgKiBgZmluZExhc3RgLCBgaGVhZGAsIGBpbml0aWFsYCwgYGxhc3RgLCBgbWFwYCwgYHJlamVjdGAsIGByZXZlcnNlYCwgYHNsaWNlYCxcbiAgICAgKiBgdGFpbGAsIGB0YWtlYCwgYHRha2VSaWdodGAsIGB0YWtlUmlnaHRXaGlsZWAsIGB0YWtlV2hpbGVgLCBhbmQgYHRvQXJyYXlgXG4gICAgICpcbiAgICAgKiBUaGUgY2hhaW5hYmxlIHdyYXBwZXIgbWV0aG9kcyBhcmU6XG4gICAgICogYGFmdGVyYCwgYGFyeWAsIGBhc3NpZ25gLCBgYXNzaWduSW5gLCBgYXNzaWduSW5XaXRoYCwgYGFzc2lnbldpdGhgLCBgYXRgLFxuICAgICAqIGBiZWZvcmVgLCBgYmluZGAsIGBiaW5kQWxsYCwgYGJpbmRLZXlgLCBgY2FzdEFycmF5YCwgYGNoYWluYCwgYGNodW5rYCxcbiAgICAgKiBgY29tbWl0YCwgYGNvbXBhY3RgLCBgY29uY2F0YCwgYGNvbmZvcm1zYCwgYGNvbnN0YW50YCwgYGNvdW50QnlgLCBgY3JlYXRlYCxcbiAgICAgKiBgY3VycnlgLCBgZGVib3VuY2VgLCBgZGVmYXVsdHNgLCBgZGVmYXVsdHNEZWVwYCwgYGRlZmVyYCwgYGRlbGF5YCxcbiAgICAgKiBgZGlmZmVyZW5jZWAsIGBkaWZmZXJlbmNlQnlgLCBgZGlmZmVyZW5jZVdpdGhgLCBgZHJvcGAsIGBkcm9wUmlnaHRgLFxuICAgICAqIGBkcm9wUmlnaHRXaGlsZWAsIGBkcm9wV2hpbGVgLCBgZXh0ZW5kYCwgYGV4dGVuZFdpdGhgLCBgZmlsbGAsIGBmaWx0ZXJgLFxuICAgICAqIGBmbGF0TWFwYCwgYGZsYXRNYXBEZWVwYCwgYGZsYXRNYXBEZXB0aGAsIGBmbGF0dGVuYCwgYGZsYXR0ZW5EZWVwYCxcbiAgICAgKiBgZmxhdHRlbkRlcHRoYCwgYGZsaXBgLCBgZmxvd2AsIGBmbG93UmlnaHRgLCBgZnJvbVBhaXJzYCwgYGZ1bmN0aW9uc2AsXG4gICAgICogYGZ1bmN0aW9uc0luYCwgYGdyb3VwQnlgLCBgaW5pdGlhbGAsIGBpbnRlcnNlY3Rpb25gLCBgaW50ZXJzZWN0aW9uQnlgLFxuICAgICAqIGBpbnRlcnNlY3Rpb25XaXRoYCwgYGludmVydGAsIGBpbnZlcnRCeWAsIGBpbnZva2VNYXBgLCBgaXRlcmF0ZWVgLCBga2V5QnlgLFxuICAgICAqIGBrZXlzYCwgYGtleXNJbmAsIGBtYXBgLCBgbWFwS2V5c2AsIGBtYXBWYWx1ZXNgLCBgbWF0Y2hlc2AsIGBtYXRjaGVzUHJvcGVydHlgLFxuICAgICAqIGBtZW1vaXplYCwgYG1lcmdlYCwgYG1lcmdlV2l0aGAsIGBtZXRob2RgLCBgbWV0aG9kT2ZgLCBgbWl4aW5gLCBgbmVnYXRlYCxcbiAgICAgKiBgbnRoQXJnYCwgYG9taXRgLCBgb21pdEJ5YCwgYG9uY2VgLCBgb3JkZXJCeWAsIGBvdmVyYCwgYG92ZXJBcmdzYCxcbiAgICAgKiBgb3ZlckV2ZXJ5YCwgYG92ZXJTb21lYCwgYHBhcnRpYWxgLCBgcGFydGlhbFJpZ2h0YCwgYHBhcnRpdGlvbmAsIGBwaWNrYCxcbiAgICAgKiBgcGlja0J5YCwgYHBsYW50YCwgYHByb3BlcnR5YCwgYHByb3BlcnR5T2ZgLCBgcHVsbGAsIGBwdWxsQWxsYCwgYHB1bGxBbGxCeWAsXG4gICAgICogYHB1bGxBbGxXaXRoYCwgYHB1bGxBdGAsIGBwdXNoYCwgYHJhbmdlYCwgYHJhbmdlUmlnaHRgLCBgcmVhcmdgLCBgcmVqZWN0YCxcbiAgICAgKiBgcmVtb3ZlYCwgYHJlc3RgLCBgcmV2ZXJzZWAsIGBzYW1wbGVTaXplYCwgYHNldGAsIGBzZXRXaXRoYCwgYHNodWZmbGVgLFxuICAgICAqIGBzbGljZWAsIGBzb3J0YCwgYHNvcnRCeWAsIGBzcGxpY2VgLCBgc3ByZWFkYCwgYHRhaWxgLCBgdGFrZWAsIGB0YWtlUmlnaHRgLFxuICAgICAqIGB0YWtlUmlnaHRXaGlsZWAsIGB0YWtlV2hpbGVgLCBgdGFwYCwgYHRocm90dGxlYCwgYHRocnVgLCBgdG9BcnJheWAsXG4gICAgICogYHRvUGFpcnNgLCBgdG9QYWlyc0luYCwgYHRvUGF0aGAsIGB0b1BsYWluT2JqZWN0YCwgYHRyYW5zZm9ybWAsIGB1bmFyeWAsXG4gICAgICogYHVuaW9uYCwgYHVuaW9uQnlgLCBgdW5pb25XaXRoYCwgYHVuaXFgLCBgdW5pcUJ5YCwgYHVuaXFXaXRoYCwgYHVuc2V0YCxcbiAgICAgKiBgdW5zaGlmdGAsIGB1bnppcGAsIGB1bnppcFdpdGhgLCBgdXBkYXRlYCwgYHVwZGF0ZVdpdGhgLCBgdmFsdWVzYCxcbiAgICAgKiBgdmFsdWVzSW5gLCBgd2l0aG91dGAsIGB3cmFwYCwgYHhvcmAsIGB4b3JCeWAsIGB4b3JXaXRoYCwgYHppcGAsXG4gICAgICogYHppcE9iamVjdGAsIGB6aXBPYmplY3REZWVwYCwgYW5kIGB6aXBXaXRoYFxuICAgICAqXG4gICAgICogVGhlIHdyYXBwZXIgbWV0aG9kcyB0aGF0IGFyZSAqKm5vdCoqIGNoYWluYWJsZSBieSBkZWZhdWx0IGFyZTpcbiAgICAgKiBgYWRkYCwgYGF0dGVtcHRgLCBgY2FtZWxDYXNlYCwgYGNhcGl0YWxpemVgLCBgY2VpbGAsIGBjbGFtcGAsIGBjbG9uZWAsXG4gICAgICogYGNsb25lRGVlcGAsIGBjbG9uZURlZXBXaXRoYCwgYGNsb25lV2l0aGAsIGBjb25mb3Jtc1RvYCwgYGRlYnVycmAsXG4gICAgICogYGRlZmF1bHRUb2AsIGBkaXZpZGVgLCBgZWFjaGAsIGBlYWNoUmlnaHRgLCBgZW5kc1dpdGhgLCBgZXFgLCBgZXNjYXBlYCxcbiAgICAgKiBgZXNjYXBlUmVnRXhwYCwgYGV2ZXJ5YCwgYGZpbmRgLCBgZmluZEluZGV4YCwgYGZpbmRLZXlgLCBgZmluZExhc3RgLFxuICAgICAqIGBmaW5kTGFzdEluZGV4YCwgYGZpbmRMYXN0S2V5YCwgYGZpcnN0YCwgYGZsb29yYCwgYGZvckVhY2hgLCBgZm9yRWFjaFJpZ2h0YCxcbiAgICAgKiBgZm9ySW5gLCBgZm9ySW5SaWdodGAsIGBmb3JPd25gLCBgZm9yT3duUmlnaHRgLCBgZ2V0YCwgYGd0YCwgYGd0ZWAsIGBoYXNgLFxuICAgICAqIGBoYXNJbmAsIGBoZWFkYCwgYGlkZW50aXR5YCwgYGluY2x1ZGVzYCwgYGluZGV4T2ZgLCBgaW5SYW5nZWAsIGBpbnZva2VgLFxuICAgICAqIGBpc0FyZ3VtZW50c2AsIGBpc0FycmF5YCwgYGlzQXJyYXlCdWZmZXJgLCBgaXNBcnJheUxpa2VgLCBgaXNBcnJheUxpa2VPYmplY3RgLFxuICAgICAqIGBpc0Jvb2xlYW5gLCBgaXNCdWZmZXJgLCBgaXNEYXRlYCwgYGlzRWxlbWVudGAsIGBpc0VtcHR5YCwgYGlzRXF1YWxgLFxuICAgICAqIGBpc0VxdWFsV2l0aGAsIGBpc0Vycm9yYCwgYGlzRmluaXRlYCwgYGlzRnVuY3Rpb25gLCBgaXNJbnRlZ2VyYCwgYGlzTGVuZ3RoYCxcbiAgICAgKiBgaXNNYXBgLCBgaXNNYXRjaGAsIGBpc01hdGNoV2l0aGAsIGBpc05hTmAsIGBpc05hdGl2ZWAsIGBpc05pbGAsIGBpc051bGxgLFxuICAgICAqIGBpc051bWJlcmAsIGBpc09iamVjdGAsIGBpc09iamVjdExpa2VgLCBgaXNQbGFpbk9iamVjdGAsIGBpc1JlZ0V4cGAsXG4gICAgICogYGlzU2FmZUludGVnZXJgLCBgaXNTZXRgLCBgaXNTdHJpbmdgLCBgaXNVbmRlZmluZWRgLCBgaXNUeXBlZEFycmF5YCxcbiAgICAgKiBgaXNXZWFrTWFwYCwgYGlzV2Vha1NldGAsIGBqb2luYCwgYGtlYmFiQ2FzZWAsIGBsYXN0YCwgYGxhc3RJbmRleE9mYCxcbiAgICAgKiBgbG93ZXJDYXNlYCwgYGxvd2VyRmlyc3RgLCBgbHRgLCBgbHRlYCwgYG1heGAsIGBtYXhCeWAsIGBtZWFuYCwgYG1lYW5CeWAsXG4gICAgICogYG1pbmAsIGBtaW5CeWAsIGBtdWx0aXBseWAsIGBub0NvbmZsaWN0YCwgYG5vb3BgLCBgbm93YCwgYG50aGAsIGBwYWRgLFxuICAgICAqIGBwYWRFbmRgLCBgcGFkU3RhcnRgLCBgcGFyc2VJbnRgLCBgcG9wYCwgYHJhbmRvbWAsIGByZWR1Y2VgLCBgcmVkdWNlUmlnaHRgLFxuICAgICAqIGByZXBlYXRgLCBgcmVzdWx0YCwgYHJvdW5kYCwgYHJ1bkluQ29udGV4dGAsIGBzYW1wbGVgLCBgc2hpZnRgLCBgc2l6ZWAsXG4gICAgICogYHNuYWtlQ2FzZWAsIGBzb21lYCwgYHNvcnRlZEluZGV4YCwgYHNvcnRlZEluZGV4QnlgLCBgc29ydGVkTGFzdEluZGV4YCxcbiAgICAgKiBgc29ydGVkTGFzdEluZGV4QnlgLCBgc3RhcnRDYXNlYCwgYHN0YXJ0c1dpdGhgLCBgc3R1YkFycmF5YCwgYHN0dWJGYWxzZWAsXG4gICAgICogYHN0dWJPYmplY3RgLCBgc3R1YlN0cmluZ2AsIGBzdHViVHJ1ZWAsIGBzdWJ0cmFjdGAsIGBzdW1gLCBgc3VtQnlgLFxuICAgICAqIGB0ZW1wbGF0ZWAsIGB0aW1lc2AsIGB0b0Zpbml0ZWAsIGB0b0ludGVnZXJgLCBgdG9KU09OYCwgYHRvTGVuZ3RoYCxcbiAgICAgKiBgdG9Mb3dlcmAsIGB0b051bWJlcmAsIGB0b1NhZmVJbnRlZ2VyYCwgYHRvU3RyaW5nYCwgYHRvVXBwZXJgLCBgdHJpbWAsXG4gICAgICogYHRyaW1FbmRgLCBgdHJpbVN0YXJ0YCwgYHRydW5jYXRlYCwgYHVuZXNjYXBlYCwgYHVuaXF1ZUlkYCwgYHVwcGVyQ2FzZWAsXG4gICAgICogYHVwcGVyRmlyc3RgLCBgdmFsdWVgLCBhbmQgYHdvcmRzYFxuICAgICAqXG4gICAgICogQG5hbWUgX1xuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB3cmFwIGluIGEgYGxvZGFzaGAgaW5zdGFuY2UuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHNxdWFyZShuKSB7XG4gICAgICogICByZXR1cm4gbiAqIG47XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIHdyYXBwZWQgPSBfKFsxLCAyLCAzXSk7XG4gICAgICpcbiAgICAgKiAvLyBSZXR1cm5zIGFuIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKiB3cmFwcGVkLnJlZHVjZShfLmFkZCk7XG4gICAgICogLy8gPT4gNlxuICAgICAqXG4gICAgICogLy8gUmV0dXJucyBhIHdyYXBwZWQgdmFsdWUuXG4gICAgICogdmFyIHNxdWFyZXMgPSB3cmFwcGVkLm1hcChzcXVhcmUpO1xuICAgICAqXG4gICAgICogXy5pc0FycmF5KHNxdWFyZXMpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoc3F1YXJlcy52YWx1ZSgpKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gbG9kYXNoKHZhbHVlKSB7XG4gICAgICBpZiAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiAhaXNBcnJheSh2YWx1ZSkgJiYgISh2YWx1ZSBpbnN0YW5jZW9mIExhenlXcmFwcGVyKSkge1xuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBMb2Rhc2hXcmFwcGVyKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCAnX193cmFwcGVkX18nKSkge1xuICAgICAgICAgIHJldHVybiB3cmFwcGVyQ2xvbmUodmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IExvZGFzaFdyYXBwZXIodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNyZWF0ZWAgd2l0aG91dCBzdXBwb3J0IGZvciBhc3NpZ25pbmdcbiAgICAgKiBwcm9wZXJ0aWVzIHRvIHRoZSBjcmVhdGVkIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByb3RvIFRoZSBvYmplY3QgdG8gaW5oZXJpdCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICovXG4gICAgdmFyIGJhc2VDcmVhdGUgPSAoZnVuY3Rpb24oKSB7XG4gICAgICBmdW5jdGlvbiBvYmplY3QoKSB7fVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHByb3RvKSB7XG4gICAgICAgIGlmICghaXNPYmplY3QocHJvdG8pKSB7XG4gICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChvYmplY3RDcmVhdGUpIHtcbiAgICAgICAgICByZXR1cm4gb2JqZWN0Q3JlYXRlKHByb3RvKTtcbiAgICAgICAgfVxuICAgICAgICBvYmplY3QucHJvdG90eXBlID0gcHJvdG87XG4gICAgICAgIHZhciByZXN1bHQgPSBuZXcgb2JqZWN0O1xuICAgICAgICBvYmplY3QucHJvdG90eXBlID0gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9KCkpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGZ1bmN0aW9uIHdob3NlIHByb3RvdHlwZSBjaGFpbiBzZXF1ZW5jZSB3cmFwcGVycyBpbmhlcml0IGZyb20uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VMb2Rhc2goKSB7XG4gICAgICAvLyBObyBvcGVyYXRpb24gcGVyZm9ybWVkLlxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGNvbnN0cnVjdG9yIGZvciBjcmVhdGluZyBgbG9kYXNoYCB3cmFwcGVyIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY2hhaW5BbGxdIEVuYWJsZSBleHBsaWNpdCBtZXRob2QgY2hhaW4gc2VxdWVuY2VzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIExvZGFzaFdyYXBwZXIodmFsdWUsIGNoYWluQWxsKSB7XG4gICAgICB0aGlzLl9fd3JhcHBlZF9fID0gdmFsdWU7XG4gICAgICB0aGlzLl9fYWN0aW9uc19fID0gW107XG4gICAgICB0aGlzLl9fY2hhaW5fXyA9ICEhY2hhaW5BbGw7XG4gICAgICB0aGlzLl9faW5kZXhfXyA9IDA7XG4gICAgICB0aGlzLl9fdmFsdWVzX18gPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQnkgZGVmYXVsdCwgdGhlIHRlbXBsYXRlIGRlbGltaXRlcnMgdXNlZCBieSBsb2Rhc2ggYXJlIGxpa2UgdGhvc2UgaW5cbiAgICAgKiBlbWJlZGRlZCBSdWJ5IChFUkIpIGFzIHdlbGwgYXMgRVMyMDE1IHRlbXBsYXRlIHN0cmluZ3MuIENoYW5nZSB0aGVcbiAgICAgKiBmb2xsb3dpbmcgdGVtcGxhdGUgc2V0dGluZ3MgdG8gdXNlIGFsdGVybmF0aXZlIGRlbGltaXRlcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuICAgIGxvZGFzaC50ZW1wbGF0ZVNldHRpbmdzID0ge1xuXG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGBkYXRhYCBwcm9wZXJ0eSB2YWx1ZXMgdG8gYmUgSFRNTC1lc2NhcGVkLlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIHtSZWdFeHB9XG4gICAgICAgKi9cbiAgICAgICdlc2NhcGUnOiByZUVzY2FwZSxcblxuICAgICAgLyoqXG4gICAgICAgKiBVc2VkIHRvIGRldGVjdCBjb2RlIHRvIGJlIGV2YWx1YXRlZC5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG4gICAgICAgKiBAdHlwZSB7UmVnRXhwfVxuICAgICAgICovXG4gICAgICAnZXZhbHVhdGUnOiByZUV2YWx1YXRlLFxuXG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGBkYXRhYCBwcm9wZXJ0eSB2YWx1ZXMgdG8gaW5qZWN0LlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIHtSZWdFeHB9XG4gICAgICAgKi9cbiAgICAgICdpbnRlcnBvbGF0ZSc6IHJlSW50ZXJwb2xhdGUsXG5cbiAgICAgIC8qKlxuICAgICAgICogVXNlZCB0byByZWZlcmVuY2UgdGhlIGRhdGEgb2JqZWN0IGluIHRoZSB0ZW1wbGF0ZSB0ZXh0LlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgKi9cbiAgICAgICd2YXJpYWJsZSc6ICcnLFxuXG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gaW1wb3J0IHZhcmlhYmxlcyBpbnRvIHRoZSBjb21waWxlZCB0ZW1wbGF0ZS5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG4gICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICovXG4gICAgICAnaW1wb3J0cyc6IHtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSByZWZlcmVuY2UgdG8gdGhlIGBsb2Rhc2hgIGZ1bmN0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzLmltcG9ydHNcbiAgICAgICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgJ18nOiBsb2Rhc2hcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gRW5zdXJlIHdyYXBwZXJzIGFyZSBpbnN0YW5jZXMgb2YgYGJhc2VMb2Rhc2hgLlxuICAgIGxvZGFzaC5wcm90b3R5cGUgPSBiYXNlTG9kYXNoLnByb3RvdHlwZTtcbiAgICBsb2Rhc2gucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gbG9kYXNoO1xuXG4gICAgTG9kYXNoV3JhcHBlci5wcm90b3R5cGUgPSBiYXNlQ3JlYXRlKGJhc2VMb2Rhc2gucHJvdG90eXBlKTtcbiAgICBMb2Rhc2hXcmFwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IExvZGFzaFdyYXBwZXI7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbGF6eSB3cmFwcGVyIG9iamVjdCB3aGljaCB3cmFwcyBgdmFsdWVgIHRvIGVuYWJsZSBsYXp5IGV2YWx1YXRpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTGF6eVdyYXBwZXIodmFsdWUpIHtcbiAgICAgIHRoaXMuX193cmFwcGVkX18gPSB2YWx1ZTtcbiAgICAgIHRoaXMuX19hY3Rpb25zX18gPSBbXTtcbiAgICAgIHRoaXMuX19kaXJfXyA9IDE7XG4gICAgICB0aGlzLl9fZmlsdGVyZWRfXyA9IGZhbHNlO1xuICAgICAgdGhpcy5fX2l0ZXJhdGVlc19fID0gW107XG4gICAgICB0aGlzLl9fdGFrZUNvdW50X18gPSBNQVhfQVJSQVlfTEVOR1RIO1xuICAgICAgdGhpcy5fX3ZpZXdzX18gPSBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhlIGxhenkgd3JhcHBlciBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGNsb25lXG4gICAgICogQG1lbWJlck9mIExhenlXcmFwcGVyXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIGBMYXp5V3JhcHBlcmAgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxhenlDbG9uZSgpIHtcbiAgICAgIHZhciByZXN1bHQgPSBuZXcgTGF6eVdyYXBwZXIodGhpcy5fX3dyYXBwZWRfXyk7XG4gICAgICByZXN1bHQuX19hY3Rpb25zX18gPSBjb3B5QXJyYXkodGhpcy5fX2FjdGlvbnNfXyk7XG4gICAgICByZXN1bHQuX19kaXJfXyA9IHRoaXMuX19kaXJfXztcbiAgICAgIHJlc3VsdC5fX2ZpbHRlcmVkX18gPSB0aGlzLl9fZmlsdGVyZWRfXztcbiAgICAgIHJlc3VsdC5fX2l0ZXJhdGVlc19fID0gY29weUFycmF5KHRoaXMuX19pdGVyYXRlZXNfXyk7XG4gICAgICByZXN1bHQuX190YWtlQ291bnRfXyA9IHRoaXMuX190YWtlQ291bnRfXztcbiAgICAgIHJlc3VsdC5fX3ZpZXdzX18gPSBjb3B5QXJyYXkodGhpcy5fX3ZpZXdzX18pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXZlcnNlcyB0aGUgZGlyZWN0aW9uIG9mIGxhenkgaXRlcmF0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSByZXZlcnNlXG4gICAgICogQG1lbWJlck9mIExhenlXcmFwcGVyXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IHJldmVyc2VkIGBMYXp5V3JhcHBlcmAgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxhenlSZXZlcnNlKCkge1xuICAgICAgaWYgKHRoaXMuX19maWx0ZXJlZF9fKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBuZXcgTGF6eVdyYXBwZXIodGhpcyk7XG4gICAgICAgIHJlc3VsdC5fX2Rpcl9fID0gLTE7XG4gICAgICAgIHJlc3VsdC5fX2ZpbHRlcmVkX18gPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gdGhpcy5jbG9uZSgpO1xuICAgICAgICByZXN1bHQuX19kaXJfXyAqPSAtMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXh0cmFjdHMgdGhlIHVud3JhcHBlZCB2YWx1ZSBmcm9tIGl0cyBsYXp5IHdyYXBwZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIHZhbHVlXG4gICAgICogQG1lbWJlck9mIExhenlXcmFwcGVyXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsYXp5VmFsdWUoKSB7XG4gICAgICB2YXIgYXJyYXkgPSB0aGlzLl9fd3JhcHBlZF9fLnZhbHVlKCksXG4gICAgICAgICAgZGlyID0gdGhpcy5fX2Rpcl9fLFxuICAgICAgICAgIGlzQXJyID0gaXNBcnJheShhcnJheSksXG4gICAgICAgICAgaXNSaWdodCA9IGRpciA8IDAsXG4gICAgICAgICAgYXJyTGVuZ3RoID0gaXNBcnIgPyBhcnJheS5sZW5ndGggOiAwLFxuICAgICAgICAgIHZpZXcgPSBnZXRWaWV3KDAsIGFyckxlbmd0aCwgdGhpcy5fX3ZpZXdzX18pLFxuICAgICAgICAgIHN0YXJ0ID0gdmlldy5zdGFydCxcbiAgICAgICAgICBlbmQgPSB2aWV3LmVuZCxcbiAgICAgICAgICBsZW5ndGggPSBlbmQgLSBzdGFydCxcbiAgICAgICAgICBpbmRleCA9IGlzUmlnaHQgPyBlbmQgOiAoc3RhcnQgLSAxKSxcbiAgICAgICAgICBpdGVyYXRlZXMgPSB0aGlzLl9faXRlcmF0ZWVzX18sXG4gICAgICAgICAgaXRlckxlbmd0aCA9IGl0ZXJhdGVlcy5sZW5ndGgsXG4gICAgICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgICAgIHRha2VDb3VudCA9IG5hdGl2ZU1pbihsZW5ndGgsIHRoaXMuX190YWtlQ291bnRfXyk7XG5cbiAgICAgIGlmICghaXNBcnIgfHwgKCFpc1JpZ2h0ICYmIGFyckxlbmd0aCA9PSBsZW5ndGggJiYgdGFrZUNvdW50ID09IGxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VXcmFwcGVyVmFsdWUoYXJyYXksIHRoaXMuX19hY3Rpb25zX18pO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuXG4gICAgICBvdXRlcjpcbiAgICAgIHdoaWxlIChsZW5ndGgtLSAmJiByZXNJbmRleCA8IHRha2VDb3VudCkge1xuICAgICAgICBpbmRleCArPSBkaXI7XG5cbiAgICAgICAgdmFyIGl0ZXJJbmRleCA9IC0xLFxuICAgICAgICAgICAgdmFsdWUgPSBhcnJheVtpbmRleF07XG5cbiAgICAgICAgd2hpbGUgKCsraXRlckluZGV4IDwgaXRlckxlbmd0aCkge1xuICAgICAgICAgIHZhciBkYXRhID0gaXRlcmF0ZWVzW2l0ZXJJbmRleF0sXG4gICAgICAgICAgICAgIGl0ZXJhdGVlID0gZGF0YS5pdGVyYXRlZSxcbiAgICAgICAgICAgICAgdHlwZSA9IGRhdGEudHlwZSxcbiAgICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSh2YWx1ZSk7XG5cbiAgICAgICAgICBpZiAodHlwZSA9PSBMQVpZX01BUF9GTEFHKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGNvbXB1dGVkO1xuICAgICAgICAgIH0gZWxzZSBpZiAoIWNvbXB1dGVkKSB7XG4gICAgICAgICAgICBpZiAodHlwZSA9PSBMQVpZX0ZJTFRFUl9GTEFHKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlIG91dGVyO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgYnJlYWsgb3V0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvLyBFbnN1cmUgYExhenlXcmFwcGVyYCBpcyBhbiBpbnN0YW5jZSBvZiBgYmFzZUxvZGFzaGAuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlID0gYmFzZUNyZWF0ZShiYXNlTG9kYXNoLnByb3RvdHlwZSk7XG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTGF6eVdyYXBwZXI7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgaGFzaCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEhhc2goZW50cmllcykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICAgICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBoYXNoLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBjbGVhclxuICAgICAqIEBtZW1iZXJPZiBIYXNoXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzaENsZWFyKCkge1xuICAgICAgdGhpcy5fX2RhdGFfXyA9IG5hdGl2ZUNyZWF0ZSA/IG5hdGl2ZUNyZWF0ZShudWxsKSA6IHt9O1xuICAgICAgdGhpcy5zaXplID0gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgaGFzaC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZGVsZXRlXG4gICAgICogQG1lbWJlck9mIEhhc2hcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaGFzaCBUaGUgaGFzaCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc2hEZWxldGUoa2V5KSB7XG4gICAgICB2YXIgcmVzdWx0ID0gdGhpcy5oYXMoa2V5KSAmJiBkZWxldGUgdGhpcy5fX2RhdGFfX1trZXldO1xuICAgICAgdGhpcy5zaXplIC09IHJlc3VsdCA/IDEgOiAwO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBoYXNoIHZhbHVlIGZvciBga2V5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZ2V0XG4gICAgICogQG1lbWJlck9mIEhhc2hcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzaEdldChrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgICAgIGlmIChuYXRpdmVDcmVhdGUpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGRhdGFba2V5XTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdCA9PT0gSEFTSF9VTkRFRklORUQgPyB1bmRlZmluZWQgOiByZXN1bHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpID8gZGF0YVtrZXldIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIGhhc2ggdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgaGFzXG4gICAgICogQG1lbWJlck9mIEhhc2hcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzaEhhcyhrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgICAgIHJldHVybiBuYXRpdmVDcmVhdGUgPyAoZGF0YVtrZXldICE9PSB1bmRlZmluZWQpIDogaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGhhc2ggYGtleWAgdG8gYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgc2V0XG4gICAgICogQG1lbWJlck9mIEhhc2hcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaGFzaCBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNoU2V0KGtleSwgdmFsdWUpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgICAgIHRoaXMuc2l6ZSArPSB0aGlzLmhhcyhrZXkpID8gMCA6IDE7XG4gICAgICBkYXRhW2tleV0gPSAobmF0aXZlQ3JlYXRlICYmIHZhbHVlID09PSB1bmRlZmluZWQpID8gSEFTSF9VTkRFRklORUQgOiB2YWx1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBIYXNoYC5cbiAgICBIYXNoLnByb3RvdHlwZS5jbGVhciA9IGhhc2hDbGVhcjtcbiAgICBIYXNoLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBoYXNoRGVsZXRlO1xuICAgIEhhc2gucHJvdG90eXBlLmdldCA9IGhhc2hHZXQ7XG4gICAgSGFzaC5wcm90b3R5cGUuaGFzID0gaGFzaEhhcztcbiAgICBIYXNoLnByb3RvdHlwZS5zZXQgPSBoYXNoU2V0O1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBsaXN0IGNhY2hlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTGlzdENhY2hlKGVudHJpZXMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgY2xlYXJcbiAgICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGlzdENhY2hlQ2xlYXIoKSB7XG4gICAgICB0aGlzLl9fZGF0YV9fID0gW107XG4gICAgICB0aGlzLnNpemUgPSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBkZWxldGVcbiAgICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxpc3RDYWNoZURlbGV0ZShrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBsYXN0SW5kZXggPSBkYXRhLmxlbmd0aCAtIDE7XG4gICAgICBpZiAoaW5kZXggPT0gbGFzdEluZGV4KSB7XG4gICAgICAgIGRhdGEucG9wKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzcGxpY2UuY2FsbChkYXRhLCBpbmRleCwgMSk7XG4gICAgICB9XG4gICAgICAtLXRoaXMuc2l6ZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBnZXRcbiAgICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxpc3RDYWNoZUdldChrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gICAgICByZXR1cm4gaW5kZXggPCAwID8gdW5kZWZpbmVkIDogZGF0YVtpbmRleF1bMV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgbGlzdCBjYWNoZSB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBoYXNcbiAgICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxpc3RDYWNoZUhhcyhrZXkpIHtcbiAgICAgIHJldHVybiBhc3NvY0luZGV4T2YodGhpcy5fX2RhdGFfXywga2V5KSA+IC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGxpc3QgY2FjaGUgYGtleWAgdG8gYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgc2V0XG4gICAgICogQG1lbWJlck9mIExpc3RDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBsaXN0IGNhY2hlIGluc3RhbmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxpc3RDYWNoZVNldChrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICArK3RoaXMuc2l6ZTtcbiAgICAgICAgZGF0YS5wdXNoKFtrZXksIHZhbHVlXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkYXRhW2luZGV4XVsxXSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYExpc3RDYWNoZWAuXG4gICAgTGlzdENhY2hlLnByb3RvdHlwZS5jbGVhciA9IGxpc3RDYWNoZUNsZWFyO1xuICAgIExpc3RDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbGlzdENhY2hlRGVsZXRlO1xuICAgIExpc3RDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbGlzdENhY2hlR2V0O1xuICAgIExpc3RDYWNoZS5wcm90b3R5cGUuaGFzID0gbGlzdENhY2hlSGFzO1xuICAgIExpc3RDYWNoZS5wcm90b3R5cGUuc2V0ID0gbGlzdENhY2hlU2V0O1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG1hcCBjYWNoZSBvYmplY3QgdG8gc3RvcmUga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNYXBDYWNoZShlbnRyaWVzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgICAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgY2xlYXJcbiAgICAgKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBDYWNoZUNsZWFyKCkge1xuICAgICAgdGhpcy5zaXplID0gMDtcbiAgICAgIHRoaXMuX19kYXRhX18gPSB7XG4gICAgICAgICdoYXNoJzogbmV3IEhhc2gsXG4gICAgICAgICdtYXAnOiBuZXcgKE1hcCB8fCBMaXN0Q2FjaGUpLFxuICAgICAgICAnc3RyaW5nJzogbmV3IEhhc2hcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZGVsZXRlXG4gICAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcENhY2hlRGVsZXRlKGtleSkge1xuICAgICAgdmFyIHJlc3VsdCA9IGdldE1hcERhdGEodGhpcywga2V5KVsnZGVsZXRlJ10oa2V5KTtcbiAgICAgIHRoaXMuc2l6ZSAtPSByZXN1bHQgPyAxIDogMDtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbWFwIHZhbHVlIGZvciBga2V5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZ2V0XG4gICAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcENhY2hlR2V0KGtleSkge1xuICAgICAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KS5nZXQoa2V5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYSBtYXAgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgaGFzXG4gICAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcENhY2hlSGFzKGtleSkge1xuICAgICAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KS5oYXMoa2V5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBtYXAgYGtleWAgdG8gYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgc2V0XG4gICAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG1hcCBjYWNoZSBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBDYWNoZVNldChrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgZGF0YSA9IGdldE1hcERhdGEodGhpcywga2V5KSxcbiAgICAgICAgICBzaXplID0gZGF0YS5zaXplO1xuXG4gICAgICBkYXRhLnNldChrZXksIHZhbHVlKTtcbiAgICAgIHRoaXMuc2l6ZSArPSBkYXRhLnNpemUgPT0gc2l6ZSA/IDAgOiAxO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYE1hcENhY2hlYC5cbiAgICBNYXBDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBtYXBDYWNoZUNsZWFyO1xuICAgIE1hcENhY2hlLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBtYXBDYWNoZURlbGV0ZTtcbiAgICBNYXBDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbWFwQ2FjaGVHZXQ7XG4gICAgTWFwQ2FjaGUucHJvdG90eXBlLmhhcyA9IG1hcENhY2hlSGFzO1xuICAgIE1hcENhY2hlLnByb3RvdHlwZS5zZXQgPSBtYXBDYWNoZVNldDtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBjYWNoZSBvYmplY3QgdG8gc3RvcmUgdW5pcXVlIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBjYWNoZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTZXRDYWNoZSh2YWx1ZXMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHZhbHVlcyA9PSBudWxsID8gMCA6IHZhbHVlcy5sZW5ndGg7XG5cbiAgICAgIHRoaXMuX19kYXRhX18gPSBuZXcgTWFwQ2FjaGU7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB0aGlzLmFkZCh2YWx1ZXNbaW5kZXhdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGB2YWx1ZWAgdG8gdGhlIGFycmF5IGNhY2hlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBhZGRcbiAgICAgKiBAbWVtYmVyT2YgU2V0Q2FjaGVcbiAgICAgKiBAYWxpYXMgcHVzaFxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNhY2hlLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNhY2hlIGluc3RhbmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldENhY2hlQWRkKHZhbHVlKSB7XG4gICAgICB0aGlzLl9fZGF0YV9fLnNldCh2YWx1ZSwgSEFTSF9VTkRFRklORUQpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgaW4gdGhlIGFycmF5IGNhY2hlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBoYXNcbiAgICAgKiBAbWVtYmVyT2YgU2V0Q2FjaGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXRDYWNoZUhhcyh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgU2V0Q2FjaGVgLlxuICAgIFNldENhY2hlLnByb3RvdHlwZS5hZGQgPSBTZXRDYWNoZS5wcm90b3R5cGUucHVzaCA9IHNldENhY2hlQWRkO1xuICAgIFNldENhY2hlLnByb3RvdHlwZS5oYXMgPSBzZXRDYWNoZUhhcztcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzdGFjayBjYWNoZSBvYmplY3QgdG8gc3RvcmUga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTdGFjayhlbnRyaWVzKSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18gPSBuZXcgTGlzdENhY2hlKGVudHJpZXMpO1xuICAgICAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIHN0YWNrLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBjbGVhclxuICAgICAqIEBtZW1iZXJPZiBTdGFja1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0YWNrQ2xlYXIoKSB7XG4gICAgICB0aGlzLl9fZGF0YV9fID0gbmV3IExpc3RDYWNoZTtcbiAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIHN0YWNrLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBkZWxldGVcbiAgICAgKiBAbWVtYmVyT2YgU3RhY2tcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3RhY2tEZWxldGUoa2V5KSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICAgICAgcmVzdWx0ID0gZGF0YVsnZGVsZXRlJ10oa2V5KTtcblxuICAgICAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBzdGFjayB2YWx1ZSBmb3IgYGtleWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGdldFxuICAgICAqIEBtZW1iZXJPZiBTdGFja1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFja0dldChrZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fZGF0YV9fLmdldChrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIHN0YWNrIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGhhc1xuICAgICAqIEBtZW1iZXJPZiBTdGFja1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFja0hhcyhrZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fZGF0YV9fLmhhcyhrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHN0YWNrIGBrZXlgIHRvIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIHNldFxuICAgICAqIEBtZW1iZXJPZiBTdGFja1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBzdGFjayBjYWNoZSBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFja1NldChrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gICAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIExpc3RDYWNoZSkge1xuICAgICAgICB2YXIgcGFpcnMgPSBkYXRhLl9fZGF0YV9fO1xuICAgICAgICBpZiAoIU1hcCB8fCAocGFpcnMubGVuZ3RoIDwgTEFSR0VfQVJSQVlfU0laRSAtIDEpKSB7XG4gICAgICAgICAgcGFpcnMucHVzaChba2V5LCB2YWx1ZV0pO1xuICAgICAgICAgIHRoaXMuc2l6ZSA9ICsrZGF0YS5zaXplO1xuICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGRhdGEgPSB0aGlzLl9fZGF0YV9fID0gbmV3IE1hcENhY2hlKHBhaXJzKTtcbiAgICAgIH1cbiAgICAgIGRhdGEuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYFN0YWNrYC5cbiAgICBTdGFjay5wcm90b3R5cGUuY2xlYXIgPSBzdGFja0NsZWFyO1xuICAgIFN0YWNrLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBzdGFja0RlbGV0ZTtcbiAgICBTdGFjay5wcm90b3R5cGUuZ2V0ID0gc3RhY2tHZXQ7XG4gICAgU3RhY2sucHJvdG90eXBlLmhhcyA9IHN0YWNrSGFzO1xuICAgIFN0YWNrLnByb3RvdHlwZS5zZXQgPSBzdGFja1NldDtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgdGhlIGFycmF5LWxpa2UgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBpbmhlcml0ZWQgU3BlY2lmeSByZXR1cm5pbmcgaW5oZXJpdGVkIHByb3BlcnR5IG5hbWVzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXJyYXlMaWtlS2V5cyh2YWx1ZSwgaW5oZXJpdGVkKSB7XG4gICAgICB2YXIgaXNBcnIgPSBpc0FycmF5KHZhbHVlKSxcbiAgICAgICAgICBpc0FyZyA9ICFpc0FyciAmJiBpc0FyZ3VtZW50cyh2YWx1ZSksXG4gICAgICAgICAgaXNCdWZmID0gIWlzQXJyICYmICFpc0FyZyAmJiBpc0J1ZmZlcih2YWx1ZSksXG4gICAgICAgICAgaXNUeXBlID0gIWlzQXJyICYmICFpc0FyZyAmJiAhaXNCdWZmICYmIGlzVHlwZWRBcnJheSh2YWx1ZSksXG4gICAgICAgICAgc2tpcEluZGV4ZXMgPSBpc0FyciB8fCBpc0FyZyB8fCBpc0J1ZmYgfHwgaXNUeXBlLFxuICAgICAgICAgIHJlc3VsdCA9IHNraXBJbmRleGVzID8gYmFzZVRpbWVzKHZhbHVlLmxlbmd0aCwgU3RyaW5nKSA6IFtdLFxuICAgICAgICAgIGxlbmd0aCA9IHJlc3VsdC5sZW5ndGg7XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xuICAgICAgICBpZiAoKGluaGVyaXRlZCB8fCBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrZXkpKSAmJlxuICAgICAgICAgICAgIShza2lwSW5kZXhlcyAmJiAoXG4gICAgICAgICAgICAgICAvLyBTYWZhcmkgOSBoYXMgZW51bWVyYWJsZSBgYXJndW1lbnRzLmxlbmd0aGAgaW4gc3RyaWN0IG1vZGUuXG4gICAgICAgICAgICAgICBrZXkgPT0gJ2xlbmd0aCcgfHxcbiAgICAgICAgICAgICAgIC8vIE5vZGUuanMgMC4xMCBoYXMgZW51bWVyYWJsZSBub24taW5kZXggcHJvcGVydGllcyBvbiBidWZmZXJzLlxuICAgICAgICAgICAgICAgKGlzQnVmZiAmJiAoa2V5ID09ICdvZmZzZXQnIHx8IGtleSA9PSAncGFyZW50JykpIHx8XG4gICAgICAgICAgICAgICAvLyBQaGFudG9tSlMgMiBoYXMgZW51bWVyYWJsZSBub24taW5kZXggcHJvcGVydGllcyBvbiB0eXBlZCBhcnJheXMuXG4gICAgICAgICAgICAgICAoaXNUeXBlICYmIChrZXkgPT0gJ2J1ZmZlcicgfHwga2V5ID09ICdieXRlTGVuZ3RoJyB8fCBrZXkgPT0gJ2J5dGVPZmZzZXQnKSkgfHxcbiAgICAgICAgICAgICAgIC8vIFNraXAgaW5kZXggcHJvcGVydGllcy5cbiAgICAgICAgICAgICAgIGlzSW5kZXgoa2V5LCBsZW5ndGgpXG4gICAgICAgICAgICApKSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNhbXBsZWAgZm9yIGFycmF5cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNhbXBsZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmFuZG9tIGVsZW1lbnQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXJyYXlTYW1wbGUoYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gICAgICByZXR1cm4gbGVuZ3RoID8gYXJyYXlbYmFzZVJhbmRvbSgwLCBsZW5ndGggLSAxKV0gOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNhbXBsZVNpemVgIGZvciBhcnJheXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzYW1wbGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBzYW1wbGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXJyYXlTYW1wbGVTaXplKGFycmF5LCBuKSB7XG4gICAgICByZXR1cm4gc2h1ZmZsZVNlbGYoY29weUFycmF5KGFycmF5KSwgYmFzZUNsYW1wKG4sIDAsIGFycmF5Lmxlbmd0aCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5zaHVmZmxlYCBmb3IgYXJyYXlzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2h1ZmZsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzaHVmZmxlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhcnJheVNodWZmbGUoYXJyYXkpIHtcbiAgICAgIHJldHVybiBzaHVmZmxlU2VsZihjb3B5QXJyYXkoYXJyYXkpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2UgYGFzc2lnblZhbHVlYCBleGNlcHQgdGhhdCBpdCBkb2Vzbid0IGFzc2lnblxuICAgICAqIGB1bmRlZmluZWRgIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgICAgIGlmICgodmFsdWUgIT09IHVuZGVmaW5lZCAmJiAhZXEob2JqZWN0W2tleV0sIHZhbHVlKSkgfHxcbiAgICAgICAgICAodmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSkge1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBc3NpZ25zIGB2YWx1ZWAgdG8gYGtleWAgb2YgYG9iamVjdGAgaWYgdGhlIGV4aXN0aW5nIHZhbHVlIGlzIG5vdCBlcXVpdmFsZW50XG4gICAgICogdXNpbmcgW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBhc3NpZ24uXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gYXNzaWduLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICAgICAgdmFyIG9ialZhbHVlID0gb2JqZWN0W2tleV07XG4gICAgICBpZiAoIShoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSAmJiBlcShvYmpWYWx1ZSwgdmFsdWUpKSB8fFxuICAgICAgICAgICh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmICEoa2V5IGluIG9iamVjdCkpKSB7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGluZGV4IGF0IHdoaWNoIHRoZSBga2V5YCBpcyBmb3VuZCBpbiBgYXJyYXlgIG9mIGtleS12YWx1ZSBwYWlycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSBrZXkgVGhlIGtleSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXNzb2NJbmRleE9mKGFycmF5LCBrZXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgaWYgKGVxKGFycmF5W2xlbmd0aF1bMF0sIGtleSkpIHtcbiAgICAgICAgICByZXR1cm4gbGVuZ3RoO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWdncmVnYXRlcyBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmAgb24gYGFjY3VtdWxhdG9yYCB3aXRoIGtleXMgdHJhbnNmb3JtZWRcbiAgICAgKiBieSBgaXRlcmF0ZWVgIGFuZCB2YWx1ZXMgc2V0IGJ5IGBzZXR0ZXJgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0dGVyIFRoZSBmdW5jdGlvbiB0byBzZXQgYGFjY3VtdWxhdG9yYCB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGl0ZXJhdGVlIHRvIHRyYW5zZm9ybSBrZXlzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhY2N1bXVsYXRvciBUaGUgaW5pdGlhbCBhZ2dyZWdhdGVkIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGFjY3VtdWxhdG9yYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQWdncmVnYXRvcihjb2xsZWN0aW9uLCBzZXR0ZXIsIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSwgY29sbGVjdGlvbikge1xuICAgICAgICBzZXR0ZXIoYWNjdW11bGF0b3IsIHZhbHVlLCBpdGVyYXRlZSh2YWx1ZSksIGNvbGxlY3Rpb24pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uYXNzaWduYCB3aXRob3V0IHN1cHBvcnQgZm9yIG11bHRpcGxlIHNvdXJjZXNcbiAgICAgKiBvciBgY3VzdG9taXplcmAgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VBc3NpZ24ob2JqZWN0LCBzb3VyY2UpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgY29weU9iamVjdChzb3VyY2UsIGtleXMoc291cmNlKSwgb2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5hc3NpZ25JbmAgd2l0aG91dCBzdXBwb3J0IGZvciBtdWx0aXBsZSBzb3VyY2VzXG4gICAgICogb3IgYGN1c3RvbWl6ZXJgIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQXNzaWduSW4ob2JqZWN0LCBzb3VyY2UpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgY29weU9iamVjdChzb3VyY2UsIGtleXNJbihzb3VyY2UpLCBvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBhc3NpZ25WYWx1ZWAgYW5kIGBhc3NpZ25NZXJnZVZhbHVlYCB3aXRob3V0XG4gICAgICogdmFsdWUgY2hlY2tzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gICAgICBpZiAoa2V5ID09ICdfX3Byb3RvX18nICYmIGRlZmluZVByb3BlcnR5KSB7XG4gICAgICAgIGRlZmluZVByb3BlcnR5KG9iamVjdCwga2V5LCB7XG4gICAgICAgICAgJ2NvbmZpZ3VyYWJsZSc6IHRydWUsXG4gICAgICAgICAgJ2VudW1lcmFibGUnOiB0cnVlLFxuICAgICAgICAgICd2YWx1ZSc6IHZhbHVlLFxuICAgICAgICAgICd3cml0YWJsZSc6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmF0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGluZGl2aWR1YWwgcGF0aHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gcGF0aHMgVGhlIHByb3BlcnR5IHBhdGhzIHRvIHBpY2suXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBwaWNrZWQgZWxlbWVudHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUF0KG9iamVjdCwgcGF0aHMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGhzLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpLFxuICAgICAgICAgIHNraXAgPSBvYmplY3QgPT0gbnVsbDtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W2luZGV4XSA9IHNraXAgPyB1bmRlZmluZWQgOiBnZXQob2JqZWN0LCBwYXRoc1tpbmRleF0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5jbGFtcGAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gY2xhbXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsb3dlcl0gVGhlIGxvd2VyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB1cHBlciBUaGUgdXBwZXIgYm91bmQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY2xhbXBlZCBudW1iZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUNsYW1wKG51bWJlciwgbG93ZXIsIHVwcGVyKSB7XG4gICAgICBpZiAobnVtYmVyID09PSBudW1iZXIpIHtcbiAgICAgICAgaWYgKHVwcGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBudW1iZXIgPSBudW1iZXIgPD0gdXBwZXIgPyBudW1iZXIgOiB1cHBlcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobG93ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIG51bWJlciA9IG51bWJlciA+PSBsb3dlciA/IG51bWJlciA6IGxvd2VyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVtYmVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNsb25lYCBhbmQgYF8uY2xvbmVEZWVwYCB3aGljaCB0cmFja3NcbiAgICAgKiB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLlxuICAgICAqICAxIC0gRGVlcCBjbG9uZVxuICAgICAqICAyIC0gRmxhdHRlbiBpbmhlcml0ZWQgcHJvcGVydGllc1xuICAgICAqICA0IC0gQ2xvbmUgc3ltYm9sc1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNsb25pbmcuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtrZXldIFRoZSBrZXkgb2YgYHZhbHVlYC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIHBhcmVudCBvYmplY3Qgb2YgYHZhbHVlYC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIG9iamVjdHMgYW5kIHRoZWlyIGNsb25lIGNvdW50ZXJwYXJ0cy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgY2xvbmVkIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VDbG9uZSh2YWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwga2V5LCBvYmplY3QsIHN0YWNrKSB7XG4gICAgICB2YXIgcmVzdWx0LFxuICAgICAgICAgIGlzRGVlcCA9IGJpdG1hc2sgJiBDTE9ORV9ERUVQX0ZMQUcsXG4gICAgICAgICAgaXNGbGF0ID0gYml0bWFzayAmIENMT05FX0ZMQVRfRkxBRyxcbiAgICAgICAgICBpc0Z1bGwgPSBiaXRtYXNrICYgQ0xPTkVfU1lNQk9MU19GTEFHO1xuXG4gICAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgICByZXN1bHQgPSBvYmplY3QgPyBjdXN0b21pemVyKHZhbHVlLCBrZXksIG9iamVjdCwgc3RhY2spIDogY3VzdG9taXplcih2YWx1ZSk7XG4gICAgICB9XG4gICAgICBpZiAocmVzdWx0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGlmICghaXNPYmplY3QodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHZhciBpc0FyciA9IGlzQXJyYXkodmFsdWUpO1xuICAgICAgaWYgKGlzQXJyKSB7XG4gICAgICAgIHJlc3VsdCA9IGluaXRDbG9uZUFycmF5KHZhbHVlKTtcbiAgICAgICAgaWYgKCFpc0RlZXApIHtcbiAgICAgICAgICByZXR1cm4gY29weUFycmF5KHZhbHVlLCByZXN1bHQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgdGFnID0gZ2V0VGFnKHZhbHVlKSxcbiAgICAgICAgICAgIGlzRnVuYyA9IHRhZyA9PSBmdW5jVGFnIHx8IHRhZyA9PSBnZW5UYWc7XG5cbiAgICAgICAgaWYgKGlzQnVmZmVyKHZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiBjbG9uZUJ1ZmZlcih2YWx1ZSwgaXNEZWVwKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGFnID09IG9iamVjdFRhZyB8fCB0YWcgPT0gYXJnc1RhZyB8fCAoaXNGdW5jICYmICFvYmplY3QpKSB7XG4gICAgICAgICAgcmVzdWx0ID0gKGlzRmxhdCB8fCBpc0Z1bmMpID8ge30gOiBpbml0Q2xvbmVPYmplY3QodmFsdWUpO1xuICAgICAgICAgIGlmICghaXNEZWVwKSB7XG4gICAgICAgICAgICByZXR1cm4gaXNGbGF0XG4gICAgICAgICAgICAgID8gY29weVN5bWJvbHNJbih2YWx1ZSwgYmFzZUFzc2lnbkluKHJlc3VsdCwgdmFsdWUpKVxuICAgICAgICAgICAgICA6IGNvcHlTeW1ib2xzKHZhbHVlLCBiYXNlQXNzaWduKHJlc3VsdCwgdmFsdWUpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKCFjbG9uZWFibGVUYWdzW3RhZ10pIHtcbiAgICAgICAgICAgIHJldHVybiBvYmplY3QgPyB2YWx1ZSA6IHt9O1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQgPSBpbml0Q2xvbmVCeVRhZyh2YWx1ZSwgdGFnLCBpc0RlZXApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBDaGVjayBmb3IgY2lyY3VsYXIgcmVmZXJlbmNlcyBhbmQgcmV0dXJuIGl0cyBjb3JyZXNwb25kaW5nIGNsb25lLlxuICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgIHZhciBzdGFja2VkID0gc3RhY2suZ2V0KHZhbHVlKTtcbiAgICAgIGlmIChzdGFja2VkKSB7XG4gICAgICAgIHJldHVybiBzdGFja2VkO1xuICAgICAgfVxuICAgICAgc3RhY2suc2V0KHZhbHVlLCByZXN1bHQpO1xuXG4gICAgICBpZiAoaXNTZXQodmFsdWUpKSB7XG4gICAgICAgIHZhbHVlLmZvckVhY2goZnVuY3Rpb24oc3ViVmFsdWUpIHtcbiAgICAgICAgICByZXN1bHQuYWRkKGJhc2VDbG9uZShzdWJWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3ViVmFsdWUsIHZhbHVlLCBzdGFjaykpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAoaXNNYXAodmFsdWUpKSB7XG4gICAgICAgIHZhbHVlLmZvckVhY2goZnVuY3Rpb24oc3ViVmFsdWUsIGtleSkge1xuICAgICAgICAgIHJlc3VsdC5zZXQoa2V5LCBiYXNlQ2xvbmUoc3ViVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGtleSwgdmFsdWUsIHN0YWNrKSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB2YXIga2V5c0Z1bmMgPSBpc0Z1bGxcbiAgICAgICAgPyAoaXNGbGF0ID8gZ2V0QWxsS2V5c0luIDogZ2V0QWxsS2V5cylcbiAgICAgICAgOiAoaXNGbGF0ID8ga2V5c0luIDoga2V5cyk7XG5cbiAgICAgIHZhciBwcm9wcyA9IGlzQXJyID8gdW5kZWZpbmVkIDoga2V5c0Z1bmModmFsdWUpO1xuICAgICAgYXJyYXlFYWNoKHByb3BzIHx8IHZhbHVlLCBmdW5jdGlvbihzdWJWYWx1ZSwga2V5KSB7XG4gICAgICAgIGlmIChwcm9wcykge1xuICAgICAgICAgIGtleSA9IHN1YlZhbHVlO1xuICAgICAgICAgIHN1YlZhbHVlID0gdmFsdWVba2V5XTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZWN1cnNpdmVseSBwb3B1bGF0ZSBjbG9uZSAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICBhc3NpZ25WYWx1ZShyZXN1bHQsIGtleSwgYmFzZUNsb25lKHN1YlZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBrZXksIHZhbHVlLCBzdGFjaykpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNvbmZvcm1zYCB3aGljaCBkb2Vzbid0IGNsb25lIGBzb3VyY2VgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgcHJlZGljYXRlcyB0byBjb25mb3JtIHRvLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUNvbmZvcm1zKHNvdXJjZSkge1xuICAgICAgdmFyIHByb3BzID0ga2V5cyhzb3VyY2UpO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICByZXR1cm4gYmFzZUNvbmZvcm1zVG8ob2JqZWN0LCBzb3VyY2UsIHByb3BzKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY29uZm9ybXNUb2Agd2hpY2ggYWNjZXB0cyBgcHJvcHNgIHRvIGNoZWNrLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgcHJlZGljYXRlcyB0byBjb25mb3JtIHRvLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgb2JqZWN0YCBjb25mb3JtcywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VDb25mb3Jtc1RvKG9iamVjdCwgc291cmNlLCBwcm9wcykge1xuICAgICAgdmFyIGxlbmd0aCA9IHByb3BzLmxlbmd0aDtcbiAgICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gIWxlbmd0aDtcbiAgICAgIH1cbiAgICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHZhciBrZXkgPSBwcm9wc1tsZW5ndGhdLFxuICAgICAgICAgICAgcHJlZGljYXRlID0gc291cmNlW2tleV0sXG4gICAgICAgICAgICB2YWx1ZSA9IG9iamVjdFtrZXldO1xuXG4gICAgICAgIGlmICgodmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSB8fCAhcHJlZGljYXRlKHZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZGVsYXlgIGFuZCBgXy5kZWZlcmAgd2hpY2ggYWNjZXB0cyBgYXJnc2BcbiAgICAgKiB0byBwcm92aWRlIHRvIGBmdW5jYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVsYXkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdhaXQgVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkgaW52b2NhdGlvbi5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBhcmd1bWVudHMgdG8gcHJvdmlkZSB0byBgZnVuY2AuXG4gICAgICogQHJldHVybnMge251bWJlcnxPYmplY3R9IFJldHVybnMgdGhlIHRpbWVyIGlkIG9yIHRpbWVvdXQgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VEZWxheShmdW5jLCB3YWl0LCBhcmdzKSB7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpIHsgZnVuYy5hcHBseSh1bmRlZmluZWQsIGFyZ3MpOyB9LCB3YWl0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8uZGlmZmVyZW5jZWAgd2l0aG91dCBzdXBwb3J0XG4gICAgICogZm9yIGV4Y2x1ZGluZyBtdWx0aXBsZSBhcnJheXMgb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gZXhjbHVkZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRGlmZmVyZW5jZShhcnJheSwgdmFsdWVzLCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgaW5jbHVkZXMgPSBhcnJheUluY2x1ZGVzLFxuICAgICAgICAgIGlzQ29tbW9uID0gdHJ1ZSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gW10sXG4gICAgICAgICAgdmFsdWVzTGVuZ3RoID0gdmFsdWVzLmxlbmd0aDtcblxuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVyYXRlZSkge1xuICAgICAgICB2YWx1ZXMgPSBhcnJheU1hcCh2YWx1ZXMsIGJhc2VVbmFyeShpdGVyYXRlZSkpO1xuICAgICAgfVxuICAgICAgaWYgKGNvbXBhcmF0b3IpIHtcbiAgICAgICAgaW5jbHVkZXMgPSBhcnJheUluY2x1ZGVzV2l0aDtcbiAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHZhbHVlcy5sZW5ndGggPj0gTEFSR0VfQVJSQVlfU0laRSkge1xuICAgICAgICBpbmNsdWRlcyA9IGNhY2hlSGFzO1xuICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICB2YWx1ZXMgPSBuZXcgU2V0Q2FjaGUodmFsdWVzKTtcbiAgICAgIH1cbiAgICAgIG91dGVyOlxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA9PSBudWxsID8gdmFsdWUgOiBpdGVyYXRlZSh2YWx1ZSk7XG5cbiAgICAgICAgdmFsdWUgPSAoY29tcGFyYXRvciB8fCB2YWx1ZSAhPT0gMCkgPyB2YWx1ZSA6IDA7XG4gICAgICAgIGlmIChpc0NvbW1vbiAmJiBjb21wdXRlZCA9PT0gY29tcHV0ZWQpIHtcbiAgICAgICAgICB2YXIgdmFsdWVzSW5kZXggPSB2YWx1ZXNMZW5ndGg7XG4gICAgICAgICAgd2hpbGUgKHZhbHVlc0luZGV4LS0pIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZXNbdmFsdWVzSW5kZXhdID09PSBjb21wdXRlZCkge1xuICAgICAgICAgICAgICBjb250aW51ZSBvdXRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFpbmNsdWRlcyh2YWx1ZXMsIGNvbXB1dGVkLCBjb21wYXJhdG9yKSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mb3JFYWNoYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheXxPYmplY3R9IFJldHVybnMgYGNvbGxlY3Rpb25gLlxuICAgICAqL1xuICAgIHZhciBiYXNlRWFjaCA9IGNyZWF0ZUJhc2VFYWNoKGJhc2VGb3JPd24pO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZm9yRWFjaFJpZ2h0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheXxPYmplY3R9IFJldHVybnMgYGNvbGxlY3Rpb25gLlxuICAgICAqL1xuICAgIHZhciBiYXNlRWFjaFJpZ2h0ID0gY3JlYXRlQmFzZUVhY2goYmFzZUZvck93blJpZ2h0LCB0cnVlKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmV2ZXJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYWxsIGVsZW1lbnRzIHBhc3MgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICAgKiAgZWxzZSBgZmFsc2VgXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUV2ZXJ5KGNvbGxlY3Rpb24sIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IHRydWU7XG4gICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgcmVzdWx0ID0gISFwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8ubWF4YCBhbmQgYF8ubWluYCB3aGljaCBhY2NlcHRzIGFcbiAgICAgKiBgY29tcGFyYXRvcmAgdG8gZGV0ZXJtaW5lIHRoZSBleHRyZW11bSB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbXBhcmF0b3IgVGhlIGNvbXBhcmF0b3IgdXNlZCB0byBjb21wYXJlIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZXh0cmVtdW0gdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUV4dHJlbXVtKGFycmF5LCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgICAgICBjdXJyZW50ID0gaXRlcmF0ZWUodmFsdWUpO1xuXG4gICAgICAgIGlmIChjdXJyZW50ICE9IG51bGwgJiYgKGNvbXB1dGVkID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgPyAoY3VycmVudCA9PT0gY3VycmVudCAmJiAhaXNTeW1ib2woY3VycmVudCkpXG4gICAgICAgICAgICAgIDogY29tcGFyYXRvcihjdXJyZW50LCBjb21wdXRlZClcbiAgICAgICAgICAgICkpIHtcbiAgICAgICAgICB2YXIgY29tcHV0ZWQgPSBjdXJyZW50LFxuICAgICAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5maWxsYCB3aXRob3V0IGFuIGl0ZXJhdGVlIGNhbGwgZ3VhcmQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmaWxsLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGZpbGwgYGFycmF5YCB3aXRoLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kPWFycmF5Lmxlbmd0aF0gVGhlIGVuZCBwb3NpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRmlsbChhcnJheSwgdmFsdWUsIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICAgIHN0YXJ0ID0gdG9JbnRlZ2VyKHN0YXJ0KTtcbiAgICAgIGlmIChzdGFydCA8IDApIHtcbiAgICAgICAgc3RhcnQgPSAtc3RhcnQgPiBsZW5ndGggPyAwIDogKGxlbmd0aCArIHN0YXJ0KTtcbiAgICAgIH1cbiAgICAgIGVuZCA9IChlbmQgPT09IHVuZGVmaW5lZCB8fCBlbmQgPiBsZW5ndGgpID8gbGVuZ3RoIDogdG9JbnRlZ2VyKGVuZCk7XG4gICAgICBpZiAoZW5kIDwgMCkge1xuICAgICAgICBlbmQgKz0gbGVuZ3RoO1xuICAgICAgfVxuICAgICAgZW5kID0gc3RhcnQgPiBlbmQgPyAwIDogdG9MZW5ndGgoZW5kKTtcbiAgICAgIHdoaWxlIChzdGFydCA8IGVuZCkge1xuICAgICAgICBhcnJheVtzdGFydCsrXSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZpbHRlcmAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmlsdGVyZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZpbHRlcihjb2xsZWN0aW9uLCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIGJhc2VFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikpIHtcbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mbGF0dGVuYCB3aXRoIHN1cHBvcnQgZm9yIHJlc3RyaWN0aW5nIGZsYXR0ZW5pbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmbGF0dGVuLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZXB0aCBUaGUgbWF4aW11bSByZWN1cnNpb24gZGVwdGguXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcHJlZGljYXRlPWlzRmxhdHRlbmFibGVdIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNTdHJpY3RdIFJlc3RyaWN0IHRvIHZhbHVlcyB0aGF0IHBhc3MgYHByZWRpY2F0ZWAgY2hlY2tzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtyZXN1bHQ9W11dIFRoZSBpbml0aWFsIHJlc3VsdCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZsYXR0ZW4oYXJyYXksIGRlcHRoLCBwcmVkaWNhdGUsIGlzU3RyaWN0LCByZXN1bHQpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgICAgcHJlZGljYXRlIHx8IChwcmVkaWNhdGUgPSBpc0ZsYXR0ZW5hYmxlKTtcbiAgICAgIHJlc3VsdCB8fCAocmVzdWx0ID0gW10pO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICAgIGlmIChkZXB0aCA+IDAgJiYgcHJlZGljYXRlKHZhbHVlKSkge1xuICAgICAgICAgIGlmIChkZXB0aCA+IDEpIHtcbiAgICAgICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGZsYXR0ZW4gYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgICAgICBiYXNlRmxhdHRlbih2YWx1ZSwgZGVwdGggLSAxLCBwcmVkaWNhdGUsIGlzU3RyaWN0LCByZXN1bHQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhcnJheVB1c2gocmVzdWx0LCB2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKCFpc1N0cmljdCkge1xuICAgICAgICAgIHJlc3VsdFtyZXN1bHQubGVuZ3RoXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBiYXNlRm9yT3duYCB3aGljaCBpdGVyYXRlcyBvdmVyIGBvYmplY3RgXG4gICAgICogcHJvcGVydGllcyByZXR1cm5lZCBieSBga2V5c0Z1bmNgIGFuZCBpbnZva2VzIGBpdGVyYXRlZWAgZm9yIGVhY2ggcHJvcGVydHkuXG4gICAgICogSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0IGl0ZXJhdGlvbiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0ga2V5c0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUga2V5cyBvZiBgb2JqZWN0YC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIHZhciBiYXNlRm9yID0gY3JlYXRlQmFzZUZvcigpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlIGBiYXNlRm9yYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIHByb3BlcnRpZXNcbiAgICAgKiBpbiB0aGUgb3Bwb3NpdGUgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBrZXlzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBrZXlzIG9mIGBvYmplY3RgLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgdmFyIGJhc2VGb3JSaWdodCA9IGNyZWF0ZUJhc2VGb3IodHJ1ZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mb3JPd25gIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZvck93bihvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICYmIGJhc2VGb3Iob2JqZWN0LCBpdGVyYXRlZSwga2V5cyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZm9yT3duUmlnaHRgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZvck93blJpZ2h0KG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgYmFzZUZvclJpZ2h0KG9iamVjdCwgaXRlcmF0ZWUsIGtleXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZ1bmN0aW9uc2Agd2hpY2ggY3JlYXRlcyBhbiBhcnJheSBvZlxuICAgICAqIGBvYmplY3RgIGZ1bmN0aW9uIHByb3BlcnR5IG5hbWVzIGZpbHRlcmVkIGZyb20gYHByb3BzYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IG5hbWVzIHRvIGZpbHRlci5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGZ1bmN0aW9uIG5hbWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VGdW5jdGlvbnMob2JqZWN0LCBwcm9wcykge1xuICAgICAgcmV0dXJuIGFycmF5RmlsdGVyKHByb3BzLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgcmV0dXJuIGlzRnVuY3Rpb24ob2JqZWN0W2tleV0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZ2V0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZmF1bHQgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUdldChvYmplY3QsIHBhdGgpIHtcbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuXG4gICAgICB2YXIgaW5kZXggPSAwLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGgubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAob2JqZWN0ICE9IG51bGwgJiYgaW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgb2JqZWN0ID0gb2JqZWN0W3RvS2V5KHBhdGhbaW5kZXgrK10pXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAoaW5kZXggJiYgaW5kZXggPT0gbGVuZ3RoKSA/IG9iamVjdCA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgZ2V0QWxsS2V5c2AgYW5kIGBnZXRBbGxLZXlzSW5gIHdoaWNoIHVzZXNcbiAgICAgKiBga2V5c0Z1bmNgIGFuZCBgc3ltYm9sc0Z1bmNgIHRvIGdldCB0aGUgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBhbmRcbiAgICAgKiBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0ga2V5c0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUga2V5cyBvZiBgb2JqZWN0YC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzeW1ib2xzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUdldEFsbEtleXMob2JqZWN0LCBrZXlzRnVuYywgc3ltYm9sc0Z1bmMpIHtcbiAgICAgIHZhciByZXN1bHQgPSBrZXlzRnVuYyhvYmplY3QpO1xuICAgICAgcmV0dXJuIGlzQXJyYXkob2JqZWN0KSA/IHJlc3VsdCA6IGFycmF5UHVzaChyZXN1bHQsIHN5bWJvbHNGdW5jKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBnZXRUYWdgIHdpdGhvdXQgZmFsbGJhY2tzIGZvciBidWdneSBlbnZpcm9ubWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGB0b1N0cmluZ1RhZ2AuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUdldFRhZyh2YWx1ZSkge1xuICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWRUYWcgOiBudWxsVGFnO1xuICAgICAgfVxuICAgICAgcmV0dXJuIChzeW1Ub1N0cmluZ1RhZyAmJiBzeW1Ub1N0cmluZ1RhZyBpbiBPYmplY3QodmFsdWUpKVxuICAgICAgICA/IGdldFJhd1RhZyh2YWx1ZSlcbiAgICAgICAgOiBvYmplY3RUb1N0cmluZyh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZ3RgIHdoaWNoIGRvZXNuJ3QgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGdyZWF0ZXIgdGhhbiBgb3RoZXJgLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUd0KHZhbHVlLCBvdGhlcikge1xuICAgICAgcmV0dXJuIHZhbHVlID4gb3RoZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaGFzYCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZXAgcGF0aHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBrZXkgVGhlIGtleSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUhhcyhvYmplY3QsIGtleSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmIGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmhhc0luYCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZXAgcGF0aHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBrZXkgVGhlIGtleSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUhhc0luKG9iamVjdCwga2V5KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICE9IG51bGwgJiYga2V5IGluIE9iamVjdChvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmluUmFuZ2VgIHdoaWNoIGRvZXNuJ3QgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCBUaGUgc3RhcnQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgVGhlIGVuZCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBudW1iZXJgIGlzIGluIHRoZSByYW5nZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJblJhbmdlKG51bWJlciwgc3RhcnQsIGVuZCkge1xuICAgICAgcmV0dXJuIG51bWJlciA+PSBuYXRpdmVNaW4oc3RhcnQsIGVuZCkgJiYgbnVtYmVyIDwgbmF0aXZlTWF4KHN0YXJ0LCBlbmQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIG1ldGhvZHMgbGlrZSBgXy5pbnRlcnNlY3Rpb25gLCB3aXRob3V0IHN1cHBvcnRcbiAgICAgKiBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcywgdGhhdCBhY2NlcHRzIGFuIGFycmF5IG9mIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheXMgVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2Ygc2hhcmVkIHZhbHVlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSW50ZXJzZWN0aW9uKGFycmF5cywgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHZhciBpbmNsdWRlcyA9IGNvbXBhcmF0b3IgPyBhcnJheUluY2x1ZGVzV2l0aCA6IGFycmF5SW5jbHVkZXMsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXlzWzBdLmxlbmd0aCxcbiAgICAgICAgICBvdGhMZW5ndGggPSBhcnJheXMubGVuZ3RoLFxuICAgICAgICAgIG90aEluZGV4ID0gb3RoTGVuZ3RoLFxuICAgICAgICAgIGNhY2hlcyA9IEFycmF5KG90aExlbmd0aCksXG4gICAgICAgICAgbWF4TGVuZ3RoID0gSW5maW5pdHksXG4gICAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICAgIHdoaWxlIChvdGhJbmRleC0tKSB7XG4gICAgICAgIHZhciBhcnJheSA9IGFycmF5c1tvdGhJbmRleF07XG4gICAgICAgIGlmIChvdGhJbmRleCAmJiBpdGVyYXRlZSkge1xuICAgICAgICAgIGFycmF5ID0gYXJyYXlNYXAoYXJyYXksIGJhc2VVbmFyeShpdGVyYXRlZSkpO1xuICAgICAgICB9XG4gICAgICAgIG1heExlbmd0aCA9IG5hdGl2ZU1pbihhcnJheS5sZW5ndGgsIG1heExlbmd0aCk7XG4gICAgICAgIGNhY2hlc1tvdGhJbmRleF0gPSAhY29tcGFyYXRvciAmJiAoaXRlcmF0ZWUgfHwgKGxlbmd0aCA+PSAxMjAgJiYgYXJyYXkubGVuZ3RoID49IDEyMCkpXG4gICAgICAgICAgPyBuZXcgU2V0Q2FjaGUob3RoSW5kZXggJiYgYXJyYXkpXG4gICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBhcnJheSA9IGFycmF5c1swXTtcblxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgc2VlbiA9IGNhY2hlc1swXTtcblxuICAgICAgb3V0ZXI6XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCAmJiByZXN1bHQubGVuZ3RoIDwgbWF4TGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUgPyBpdGVyYXRlZSh2YWx1ZSkgOiB2YWx1ZTtcblxuICAgICAgICB2YWx1ZSA9IChjb21wYXJhdG9yIHx8IHZhbHVlICE9PSAwKSA/IHZhbHVlIDogMDtcbiAgICAgICAgaWYgKCEoc2VlblxuICAgICAgICAgICAgICA/IGNhY2hlSGFzKHNlZW4sIGNvbXB1dGVkKVxuICAgICAgICAgICAgICA6IGluY2x1ZGVzKHJlc3VsdCwgY29tcHV0ZWQsIGNvbXBhcmF0b3IpXG4gICAgICAgICAgICApKSB7XG4gICAgICAgICAgb3RoSW5kZXggPSBvdGhMZW5ndGg7XG4gICAgICAgICAgd2hpbGUgKC0tb3RoSW5kZXgpIHtcbiAgICAgICAgICAgIHZhciBjYWNoZSA9IGNhY2hlc1tvdGhJbmRleF07XG4gICAgICAgICAgICBpZiAoIShjYWNoZVxuICAgICAgICAgICAgICAgICAgPyBjYWNoZUhhcyhjYWNoZSwgY29tcHV0ZWQpXG4gICAgICAgICAgICAgICAgICA6IGluY2x1ZGVzKGFycmF5c1tvdGhJbmRleF0sIGNvbXB1dGVkLCBjb21wYXJhdG9yKSlcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgY29udGludWUgb3V0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzZWVuKSB7XG4gICAgICAgICAgICBzZWVuLnB1c2goY29tcHV0ZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaW52ZXJ0YCBhbmQgYF8uaW52ZXJ0QnlgIHdoaWNoIGludmVydHNcbiAgICAgKiBgb2JqZWN0YCB3aXRoIHZhbHVlcyB0cmFuc2Zvcm1lZCBieSBgaXRlcmF0ZWVgIGFuZCBzZXQgYnkgYHNldHRlcmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0dGVyIFRoZSBmdW5jdGlvbiB0byBzZXQgYGFjY3VtdWxhdG9yYCB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGl0ZXJhdGVlIHRvIHRyYW5zZm9ybSB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGFjY3VtdWxhdG9yIFRoZSBpbml0aWFsIGludmVydGVkIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGFjY3VtdWxhdG9yYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSW52ZXJ0ZXIob2JqZWN0LCBzZXR0ZXIsIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgICAgYmFzZUZvck93bihvYmplY3QsIGZ1bmN0aW9uKHZhbHVlLCBrZXksIG9iamVjdCkge1xuICAgICAgICBzZXR0ZXIoYWNjdW11bGF0b3IsIGl0ZXJhdGVlKHZhbHVlKSwga2V5LCBvYmplY3QpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaW52b2tlYCB3aXRob3V0IHN1cHBvcnQgZm9yIGluZGl2aWR1YWxcbiAgICAgKiBtZXRob2QgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIG1ldGhvZCB0byBpbnZva2UuXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgYXJndW1lbnRzIHRvIGludm9rZSB0aGUgbWV0aG9kIHdpdGguXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc3VsdCBvZiB0aGUgaW52b2tlZCBtZXRob2QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUludm9rZShvYmplY3QsIHBhdGgsIGFyZ3MpIHtcbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuICAgICAgb2JqZWN0ID0gcGFyZW50KG9iamVjdCwgcGF0aCk7XG4gICAgICB2YXIgZnVuYyA9IG9iamVjdCA9PSBudWxsID8gb2JqZWN0IDogb2JqZWN0W3RvS2V5KGxhc3QocGF0aCkpXTtcbiAgICAgIHJldHVybiBmdW5jID09IG51bGwgPyB1bmRlZmluZWQgOiBhcHBseShmdW5jLCBvYmplY3QsIGFyZ3MpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzQXJndW1lbnRzYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc0FyZ3VtZW50cyh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gYXJnc1RhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0FycmF5QnVmZmVyYCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXkgYnVmZmVyLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzQXJyYXlCdWZmZXIodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IGFycmF5QnVmZmVyVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzRGF0ZWAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZGF0ZSBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNEYXRlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBkYXRlVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzRXF1YWxgIHdoaWNoIHN1cHBvcnRzIHBhcnRpYWwgY29tcGFyaXNvbnNcbiAgICAgKiBhbmQgdHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLlxuICAgICAqICAxIC0gVW5vcmRlcmVkIGNvbXBhcmlzb25cbiAgICAgKiAgMiAtIFBhcnRpYWwgY29tcGFyaXNvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgYHZhbHVlYCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzRXF1YWwodmFsdWUsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaykge1xuICAgICAgaWYgKHZhbHVlID09PSBvdGhlcikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IG90aGVyID09IG51bGwgfHwgKCFpc09iamVjdExpa2UodmFsdWUpICYmICFpc09iamVjdExpa2Uob3RoZXIpKSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgIT09IHZhbHVlICYmIG90aGVyICE9PSBvdGhlcjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlSXNFcXVhbERlZXAodmFsdWUsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBiYXNlSXNFcXVhbCwgc3RhY2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxgIGZvciBhcnJheXMgYW5kIG9iamVjdHMgd2hpY2ggcGVyZm9ybXNcbiAgICAgKiBkZWVwIGNvbXBhcmlzb25zIGFuZCB0cmFja3MgdHJhdmVyc2VkIG9iamVjdHMgZW5hYmxpbmcgb2JqZWN0cyB3aXRoIGNpcmN1bGFyXG4gICAgICogcmVmZXJlbmNlcyB0byBiZSBjb21wYXJlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgYG9iamVjdGAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNFcXVhbERlZXAob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICAgICAgdmFyIG9iaklzQXJyID0gaXNBcnJheShvYmplY3QpLFxuICAgICAgICAgIG90aElzQXJyID0gaXNBcnJheShvdGhlciksXG4gICAgICAgICAgb2JqVGFnID0gb2JqSXNBcnIgPyBhcnJheVRhZyA6IGdldFRhZyhvYmplY3QpLFxuICAgICAgICAgIG90aFRhZyA9IG90aElzQXJyID8gYXJyYXlUYWcgOiBnZXRUYWcob3RoZXIpO1xuXG4gICAgICBvYmpUYWcgPSBvYmpUYWcgPT0gYXJnc1RhZyA/IG9iamVjdFRhZyA6IG9ialRhZztcbiAgICAgIG90aFRhZyA9IG90aFRhZyA9PSBhcmdzVGFnID8gb2JqZWN0VGFnIDogb3RoVGFnO1xuXG4gICAgICB2YXIgb2JqSXNPYmogPSBvYmpUYWcgPT0gb2JqZWN0VGFnLFxuICAgICAgICAgIG90aElzT2JqID0gb3RoVGFnID09IG9iamVjdFRhZyxcbiAgICAgICAgICBpc1NhbWVUYWcgPSBvYmpUYWcgPT0gb3RoVGFnO1xuXG4gICAgICBpZiAoaXNTYW1lVGFnICYmIGlzQnVmZmVyKG9iamVjdCkpIHtcbiAgICAgICAgaWYgKCFpc0J1ZmZlcihvdGhlcikpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgb2JqSXNBcnIgPSB0cnVlO1xuICAgICAgICBvYmpJc09iaiA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKGlzU2FtZVRhZyAmJiAhb2JqSXNPYmopIHtcbiAgICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgICAgcmV0dXJuIChvYmpJc0FyciB8fCBpc1R5cGVkQXJyYXkob2JqZWN0KSlcbiAgICAgICAgICA/IGVxdWFsQXJyYXlzKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spXG4gICAgICAgICAgOiBlcXVhbEJ5VGFnKG9iamVjdCwgb3RoZXIsIG9ialRhZywgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjayk7XG4gICAgICB9XG4gICAgICBpZiAoIShiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUcpKSB7XG4gICAgICAgIHZhciBvYmpJc1dyYXBwZWQgPSBvYmpJc09iaiAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgJ19fd3JhcHBlZF9fJyksXG4gICAgICAgICAgICBvdGhJc1dyYXBwZWQgPSBvdGhJc09iaiAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG90aGVyLCAnX193cmFwcGVkX18nKTtcblxuICAgICAgICBpZiAob2JqSXNXcmFwcGVkIHx8IG90aElzV3JhcHBlZCkge1xuICAgICAgICAgIHZhciBvYmpVbndyYXBwZWQgPSBvYmpJc1dyYXBwZWQgPyBvYmplY3QudmFsdWUoKSA6IG9iamVjdCxcbiAgICAgICAgICAgICAgb3RoVW53cmFwcGVkID0gb3RoSXNXcmFwcGVkID8gb3RoZXIudmFsdWUoKSA6IG90aGVyO1xuXG4gICAgICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgICAgICByZXR1cm4gZXF1YWxGdW5jKG9ialVud3JhcHBlZCwgb3RoVW53cmFwcGVkLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjayk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghaXNTYW1lVGFnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgICByZXR1cm4gZXF1YWxPYmplY3RzKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTWFwYCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBtYXAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNNYXAodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGdldFRhZyh2YWx1ZSkgPT0gbWFwVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTWF0Y2hgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHZhbHVlcyB0byBtYXRjaC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBtYXRjaERhdGEgVGhlIHByb3BlcnR5IG5hbWVzLCB2YWx1ZXMsIGFuZCBjb21wYXJlIGZsYWdzIHRvIG1hdGNoLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgb2JqZWN0YCBpcyBhIG1hdGNoLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzTWF0Y2gob2JqZWN0LCBzb3VyY2UsIG1hdGNoRGF0YSwgY3VzdG9taXplcikge1xuICAgICAgdmFyIGluZGV4ID0gbWF0Y2hEYXRhLmxlbmd0aCxcbiAgICAgICAgICBsZW5ndGggPSBpbmRleCxcbiAgICAgICAgICBub0N1c3RvbWl6ZXIgPSAhY3VzdG9taXplcjtcblxuICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAhbGVuZ3RoO1xuICAgICAgfVxuICAgICAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG4gICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICB2YXIgZGF0YSA9IG1hdGNoRGF0YVtpbmRleF07XG4gICAgICAgIGlmICgobm9DdXN0b21pemVyICYmIGRhdGFbMl0pXG4gICAgICAgICAgICAgID8gZGF0YVsxXSAhPT0gb2JqZWN0W2RhdGFbMF1dXG4gICAgICAgICAgICAgIDogIShkYXRhWzBdIGluIG9iamVjdClcbiAgICAgICAgICAgICkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgZGF0YSA9IG1hdGNoRGF0YVtpbmRleF07XG4gICAgICAgIHZhciBrZXkgPSBkYXRhWzBdLFxuICAgICAgICAgICAgb2JqVmFsdWUgPSBvYmplY3Rba2V5XSxcbiAgICAgICAgICAgIHNyY1ZhbHVlID0gZGF0YVsxXTtcblxuICAgICAgICBpZiAobm9DdXN0b21pemVyICYmIGRhdGFbMl0pIHtcbiAgICAgICAgICBpZiAob2JqVmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBzdGFjayA9IG5ldyBTdGFjaztcbiAgICAgICAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCwgc291cmNlLCBzdGFjayk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghKHJlc3VsdCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyBiYXNlSXNFcXVhbChzcmNWYWx1ZSwgb2JqVmFsdWUsIENPTVBBUkVfUEFSVElBTF9GTEFHIHwgQ09NUEFSRV9VTk9SREVSRURfRkxBRywgY3VzdG9taXplciwgc3RhY2spXG4gICAgICAgICAgICAgICAgOiByZXN1bHRcbiAgICAgICAgICAgICAgKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNOYXRpdmVgIHdpdGhvdXQgYmFkIHNoaW0gY2hlY2tzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbixcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc05hdGl2ZSh2YWx1ZSkge1xuICAgICAgaWYgKCFpc09iamVjdCh2YWx1ZSkgfHwgaXNNYXNrZWQodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBwYXR0ZXJuID0gaXNGdW5jdGlvbih2YWx1ZSkgPyByZUlzTmF0aXZlIDogcmVJc0hvc3RDdG9yO1xuICAgICAgcmV0dXJuIHBhdHRlcm4udGVzdCh0b1NvdXJjZSh2YWx1ZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzUmVnRXhwYCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSByZWdleHAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNSZWdFeHAodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IHJlZ2V4cFRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc1NldGAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc2V0LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzU2V0KHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBnZXRUYWcodmFsdWUpID09IHNldFRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc1R5cGVkQXJyYXlgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHR5cGVkIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzVHlwZWRBcnJheSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiZcbiAgICAgICAgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhIXR5cGVkQXJyYXlUYWdzW2Jhc2VHZXRUYWcodmFsdWUpXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pdGVyYXRlZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gW3ZhbHVlPV8uaWRlbnRpdHldIFRoZSB2YWx1ZSB0byBjb252ZXJ0IHRvIGFuIGl0ZXJhdGVlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgaXRlcmF0ZWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUl0ZXJhdGVlKHZhbHVlKSB7XG4gICAgICAvLyBEb24ndCBzdG9yZSB0aGUgYHR5cGVvZmAgcmVzdWx0IGluIGEgdmFyaWFibGUgdG8gYXZvaWQgYSBKSVQgYnVnIGluIFNhZmFyaSA5LlxuICAgICAgLy8gU2VlIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xNTYwMzQgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gaWRlbnRpdHk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBpc0FycmF5KHZhbHVlKVxuICAgICAgICAgID8gYmFzZU1hdGNoZXNQcm9wZXJ0eSh2YWx1ZVswXSwgdmFsdWVbMV0pXG4gICAgICAgICAgOiBiYXNlTWF0Y2hlcyh2YWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcHJvcGVydHkodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmtleXNgIHdoaWNoIGRvZXNuJ3QgdHJlYXQgc3BhcnNlIGFycmF5cyBhcyBkZW5zZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUtleXMob2JqZWN0KSB7XG4gICAgICBpZiAoIWlzUHJvdG90eXBlKG9iamVjdCkpIHtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZUtleXMob2JqZWN0KTtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIGZvciAodmFyIGtleSBpbiBPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkgJiYga2V5ICE9ICdjb25zdHJ1Y3RvcicpIHtcbiAgICAgICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmtleXNJbmAgd2hpY2ggZG9lc24ndCB0cmVhdCBzcGFyc2UgYXJyYXlzIGFzIGRlbnNlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlS2V5c0luKG9iamVjdCkge1xuICAgICAgaWYgKCFpc09iamVjdChvYmplY3QpKSB7XG4gICAgICAgIHJldHVybiBuYXRpdmVLZXlzSW4ob2JqZWN0KTtcbiAgICAgIH1cbiAgICAgIHZhciBpc1Byb3RvID0gaXNQcm90b3R5cGUob2JqZWN0KSxcbiAgICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgICAgICBpZiAoIShrZXkgPT0gJ2NvbnN0cnVjdG9yJyAmJiAoaXNQcm90byB8fCAhaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkpKSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubHRgIHdoaWNoIGRvZXNuJ3QgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGxlc3MgdGhhbiBgb3RoZXJgLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUx0KHZhbHVlLCBvdGhlcikge1xuICAgICAgcmV0dXJuIHZhbHVlIDwgb3RoZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubWFwYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTWFwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICByZXN1bHQgPSBpc0FycmF5TGlrZShjb2xsZWN0aW9uKSA/IEFycmF5KGNvbGxlY3Rpb24ubGVuZ3RoKSA6IFtdO1xuXG4gICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHJlc3VsdFsrK2luZGV4XSA9IGl0ZXJhdGVlKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1hdGNoZXNgIHdoaWNoIGRvZXNuJ3QgY2xvbmUgYHNvdXJjZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSB2YWx1ZXMgdG8gbWF0Y2guXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTWF0Y2hlcyhzb3VyY2UpIHtcbiAgICAgIHZhciBtYXRjaERhdGEgPSBnZXRNYXRjaERhdGEoc291cmNlKTtcbiAgICAgIGlmIChtYXRjaERhdGEubGVuZ3RoID09IDEgJiYgbWF0Y2hEYXRhWzBdWzJdKSB7XG4gICAgICAgIHJldHVybiBtYXRjaGVzU3RyaWN0Q29tcGFyYWJsZShtYXRjaERhdGFbMF1bMF0sIG1hdGNoRGF0YVswXVsxXSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBvYmplY3QgPT09IHNvdXJjZSB8fCBiYXNlSXNNYXRjaChvYmplY3QsIHNvdXJjZSwgbWF0Y2hEYXRhKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubWF0Y2hlc1Byb3BlcnR5YCB3aGljaCBkb2Vzbid0IGNsb25lIGBzcmNWYWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHBhcmFtIHsqfSBzcmNWYWx1ZSBUaGUgdmFsdWUgdG8gbWF0Y2guXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTWF0Y2hlc1Byb3BlcnR5KHBhdGgsIHNyY1ZhbHVlKSB7XG4gICAgICBpZiAoaXNLZXkocGF0aCkgJiYgaXNTdHJpY3RDb21wYXJhYmxlKHNyY1ZhbHVlKSkge1xuICAgICAgICByZXR1cm4gbWF0Y2hlc1N0cmljdENvbXBhcmFibGUodG9LZXkocGF0aCksIHNyY1ZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgdmFyIG9ialZhbHVlID0gZ2V0KG9iamVjdCwgcGF0aCk7XG4gICAgICAgIHJldHVybiAob2JqVmFsdWUgPT09IHVuZGVmaW5lZCAmJiBvYmpWYWx1ZSA9PT0gc3JjVmFsdWUpXG4gICAgICAgICAgPyBoYXNJbihvYmplY3QsIHBhdGgpXG4gICAgICAgICAgOiBiYXNlSXNFcXVhbChzcmNWYWx1ZSwgb2JqVmFsdWUsIENPTVBBUkVfUEFSVElBTF9GTEFHIHwgQ09NUEFSRV9VTk9SREVSRURfRkxBRyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1lcmdlYCB3aXRob3V0IHN1cHBvcnQgZm9yIG11bHRpcGxlIHNvdXJjZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzcmNJbmRleCBUaGUgaW5kZXggb2YgYHNvdXJjZWAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgbWVyZ2VkIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIHNvdXJjZSB2YWx1ZXMgYW5kIHRoZWlyIG1lcmdlZFxuICAgICAqICBjb3VudGVycGFydHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU1lcmdlKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCwgY3VzdG9taXplciwgc3RhY2spIHtcbiAgICAgIGlmIChvYmplY3QgPT09IHNvdXJjZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBiYXNlRm9yKHNvdXJjZSwgZnVuY3Rpb24oc3JjVmFsdWUsIGtleSkge1xuICAgICAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgICAgICBpZiAoaXNPYmplY3Qoc3JjVmFsdWUpKSB7XG4gICAgICAgICAgYmFzZU1lcmdlRGVlcChvYmplY3QsIHNvdXJjZSwga2V5LCBzcmNJbmRleCwgYmFzZU1lcmdlLCBjdXN0b21pemVyLCBzdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdmFyIG5ld1ZhbHVlID0gY3VzdG9taXplclxuICAgICAgICAgICAgPyBjdXN0b21pemVyKHNhZmVHZXQob2JqZWN0LCBrZXkpLCBzcmNWYWx1ZSwgKGtleSArICcnKSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgICBpZiAobmV3VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBzcmNWYWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9LCBrZXlzSW4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZU1lcmdlYCBmb3IgYXJyYXlzIGFuZCBvYmplY3RzIHdoaWNoIHBlcmZvcm1zXG4gICAgICogZGVlcCBtZXJnZXMgYW5kIHRyYWNrcyB0cmF2ZXJzZWQgb2JqZWN0cyBlbmFibGluZyBvYmplY3RzIHdpdGggY2lyY3VsYXJcbiAgICAgKiByZWZlcmVuY2VzIHRvIGJlIG1lcmdlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBtZXJnZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3JjSW5kZXggVGhlIGluZGV4IG9mIGBzb3VyY2VgLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IG1lcmdlRnVuYyBUaGUgZnVuY3Rpb24gdG8gbWVyZ2UgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIHNvdXJjZSB2YWx1ZXMgYW5kIHRoZWlyIG1lcmdlZFxuICAgICAqICBjb3VudGVycGFydHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU1lcmdlRGVlcChvYmplY3QsIHNvdXJjZSwga2V5LCBzcmNJbmRleCwgbWVyZ2VGdW5jLCBjdXN0b21pemVyLCBzdGFjaykge1xuICAgICAgdmFyIG9ialZhbHVlID0gc2FmZUdldChvYmplY3QsIGtleSksXG4gICAgICAgICAgc3JjVmFsdWUgPSBzYWZlR2V0KHNvdXJjZSwga2V5KSxcbiAgICAgICAgICBzdGFja2VkID0gc3RhY2suZ2V0KHNyY1ZhbHVlKTtcblxuICAgICAgaWYgKHN0YWNrZWQpIHtcbiAgICAgICAgYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgc3RhY2tlZCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXJcbiAgICAgICAgPyBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSwgKGtleSArICcnKSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKVxuICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgdmFyIGlzQ29tbW9uID0gbmV3VmFsdWUgPT09IHVuZGVmaW5lZDtcblxuICAgICAgaWYgKGlzQ29tbW9uKSB7XG4gICAgICAgIHZhciBpc0FyciA9IGlzQXJyYXkoc3JjVmFsdWUpLFxuICAgICAgICAgICAgaXNCdWZmID0gIWlzQXJyICYmIGlzQnVmZmVyKHNyY1ZhbHVlKSxcbiAgICAgICAgICAgIGlzVHlwZWQgPSAhaXNBcnIgJiYgIWlzQnVmZiAmJiBpc1R5cGVkQXJyYXkoc3JjVmFsdWUpO1xuXG4gICAgICAgIG5ld1ZhbHVlID0gc3JjVmFsdWU7XG4gICAgICAgIGlmIChpc0FyciB8fCBpc0J1ZmYgfHwgaXNUeXBlZCkge1xuICAgICAgICAgIGlmIChpc0FycmF5KG9ialZhbHVlKSkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBvYmpWYWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoaXNBcnJheUxpa2VPYmplY3Qob2JqVmFsdWUpKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IGNvcHlBcnJheShvYmpWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKGlzQnVmZikge1xuICAgICAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gY2xvbmVCdWZmZXIoc3JjVmFsdWUsIHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmIChpc1R5cGVkKSB7XG4gICAgICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBjbG9uZVR5cGVkQXJyYXkoc3JjVmFsdWUsIHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gW107XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzUGxhaW5PYmplY3Qoc3JjVmFsdWUpIHx8IGlzQXJndW1lbnRzKHNyY1ZhbHVlKSkge1xuICAgICAgICAgIG5ld1ZhbHVlID0gb2JqVmFsdWU7XG4gICAgICAgICAgaWYgKGlzQXJndW1lbnRzKG9ialZhbHVlKSkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSB0b1BsYWluT2JqZWN0KG9ialZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoIWlzT2JqZWN0KG9ialZhbHVlKSB8fCBpc0Z1bmN0aW9uKG9ialZhbHVlKSkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBpbml0Q2xvbmVPYmplY3Qoc3JjVmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoaXNDb21tb24pIHtcbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgbWVyZ2Ugb2JqZWN0cyBhbmQgYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIHN0YWNrLnNldChzcmNWYWx1ZSwgbmV3VmFsdWUpO1xuICAgICAgICBtZXJnZUZ1bmMobmV3VmFsdWUsIHNyY1ZhbHVlLCBzcmNJbmRleCwgY3VzdG9taXplciwgc3RhY2spO1xuICAgICAgICBzdGFja1snZGVsZXRlJ10oc3JjVmFsdWUpO1xuICAgICAgfVxuICAgICAgYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm50aGAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIGluZGV4IG9mIHRoZSBlbGVtZW50IHRvIHJldHVybi5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbnRoIGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTnRoKGFycmF5LCBuKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbiArPSBuIDwgMCA/IGxlbmd0aCA6IDA7XG4gICAgICByZXR1cm4gaXNJbmRleChuLCBsZW5ndGgpID8gYXJyYXlbbl0gOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ub3JkZXJCeWAgd2l0aG91dCBwYXJhbSBndWFyZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9uW118T2JqZWN0W118c3RyaW5nW119IGl0ZXJhdGVlcyBUaGUgaXRlcmF0ZWVzIHRvIHNvcnQgYnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gb3JkZXJzIFRoZSBzb3J0IG9yZGVycyBvZiBgaXRlcmF0ZWVzYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzb3J0ZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU9yZGVyQnkoY29sbGVjdGlvbiwgaXRlcmF0ZWVzLCBvcmRlcnMpIHtcbiAgICAgIGlmIChpdGVyYXRlZXMubGVuZ3RoKSB7XG4gICAgICAgIGl0ZXJhdGVlcyA9IGFycmF5TWFwKGl0ZXJhdGVlcywgZnVuY3Rpb24oaXRlcmF0ZWUpIHtcbiAgICAgICAgICBpZiAoaXNBcnJheShpdGVyYXRlZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICByZXR1cm4gYmFzZUdldCh2YWx1ZSwgaXRlcmF0ZWUubGVuZ3RoID09PSAxID8gaXRlcmF0ZWVbMF0gOiBpdGVyYXRlZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBpdGVyYXRlZTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpdGVyYXRlZXMgPSBbaWRlbnRpdHldO1xuICAgICAgfVxuXG4gICAgICB2YXIgaW5kZXggPSAtMTtcbiAgICAgIGl0ZXJhdGVlcyA9IGFycmF5TWFwKGl0ZXJhdGVlcywgYmFzZVVuYXJ5KGdldEl0ZXJhdGVlKCkpKTtcblxuICAgICAgdmFyIHJlc3VsdCA9IGJhc2VNYXAoY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSwgY29sbGVjdGlvbikge1xuICAgICAgICB2YXIgY3JpdGVyaWEgPSBhcnJheU1hcChpdGVyYXRlZXMsIGZ1bmN0aW9uKGl0ZXJhdGVlKSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZXJhdGVlKHZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7ICdjcml0ZXJpYSc6IGNyaXRlcmlhLCAnaW5kZXgnOiArK2luZGV4LCAndmFsdWUnOiB2YWx1ZSB9O1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBiYXNlU29ydEJ5KHJlc3VsdCwgZnVuY3Rpb24ob2JqZWN0LCBvdGhlcikge1xuICAgICAgICByZXR1cm4gY29tcGFyZU11bHRpcGxlKG9iamVjdCwgb3RoZXIsIG9yZGVycyk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5waWNrYCB3aXRob3V0IHN1cHBvcnQgZm9yIGluZGl2aWR1YWxcbiAgICAgKiBwcm9wZXJ0eSBpZGVudGlmaWVycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBwYXRocyBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VQaWNrKG9iamVjdCwgcGF0aHMpIHtcbiAgICAgIHJldHVybiBiYXNlUGlja0J5KG9iamVjdCwgcGF0aHMsIGZ1bmN0aW9uKHZhbHVlLCBwYXRoKSB7XG4gICAgICAgIHJldHVybiBoYXNJbihvYmplY3QsIHBhdGgpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgIGBfLnBpY2tCeWAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IHBhdGhzIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBwaWNrLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgcHJvcGVydHkuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUGlja0J5KG9iamVjdCwgcGF0aHMsIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcGF0aHMubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IHt9O1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgcGF0aCA9IHBhdGhzW2luZGV4XSxcbiAgICAgICAgICAgIHZhbHVlID0gYmFzZUdldChvYmplY3QsIHBhdGgpO1xuXG4gICAgICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIHBhdGgpKSB7XG4gICAgICAgICAgYmFzZVNldChyZXN1bHQsIGNhc3RQYXRoKHBhdGgsIG9iamVjdCksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VQcm9wZXJ0eWAgd2hpY2ggc3VwcG9ydHMgZGVlcCBwYXRocy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhY2Nlc3NvciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUHJvcGVydHlEZWVwKHBhdGgpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VHZXQob2JqZWN0LCBwYXRoKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucHVsbEFsbEJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlXG4gICAgICogc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUHVsbEFsbChhcnJheSwgdmFsdWVzLCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGluZGV4T2YgPSBjb21wYXJhdG9yID8gYmFzZUluZGV4T2ZXaXRoIDogYmFzZUluZGV4T2YsXG4gICAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSB2YWx1ZXMubGVuZ3RoLFxuICAgICAgICAgIHNlZW4gPSBhcnJheTtcblxuICAgICAgaWYgKGFycmF5ID09PSB2YWx1ZXMpIHtcbiAgICAgICAgdmFsdWVzID0gY29weUFycmF5KHZhbHVlcyk7XG4gICAgICB9XG4gICAgICBpZiAoaXRlcmF0ZWUpIHtcbiAgICAgICAgc2VlbiA9IGFycmF5TWFwKGFycmF5LCBiYXNlVW5hcnkoaXRlcmF0ZWUpKTtcbiAgICAgIH1cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBmcm9tSW5kZXggPSAwLFxuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZXNbaW5kZXhdLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA/IGl0ZXJhdGVlKHZhbHVlKSA6IHZhbHVlO1xuXG4gICAgICAgIHdoaWxlICgoZnJvbUluZGV4ID0gaW5kZXhPZihzZWVuLCBjb21wdXRlZCwgZnJvbUluZGV4LCBjb21wYXJhdG9yKSkgPiAtMSkge1xuICAgICAgICAgIGlmIChzZWVuICE9PSBhcnJheSkge1xuICAgICAgICAgICAgc3BsaWNlLmNhbGwoc2VlbiwgZnJvbUluZGV4LCAxKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3BsaWNlLmNhbGwoYXJyYXksIGZyb21JbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5wdWxsQXRgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaW5kaXZpZHVhbFxuICAgICAqIGluZGV4ZXMgb3IgY2FwdHVyaW5nIHRoZSByZW1vdmVkIGVsZW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGluZGV4ZXMgVGhlIGluZGV4ZXMgb2YgZWxlbWVudHMgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VQdWxsQXQoYXJyYXksIGluZGV4ZXMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA/IGluZGV4ZXMubGVuZ3RoIDogMCxcbiAgICAgICAgICBsYXN0SW5kZXggPSBsZW5ndGggLSAxO1xuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgdmFyIGluZGV4ID0gaW5kZXhlc1tsZW5ndGhdO1xuICAgICAgICBpZiAobGVuZ3RoID09IGxhc3RJbmRleCB8fCBpbmRleCAhPT0gcHJldmlvdXMpIHtcbiAgICAgICAgICB2YXIgcHJldmlvdXMgPSBpbmRleDtcbiAgICAgICAgICBpZiAoaXNJbmRleChpbmRleCkpIHtcbiAgICAgICAgICAgIHNwbGljZS5jYWxsKGFycmF5LCBpbmRleCwgMSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJhc2VVbnNldChhcnJheSwgaW5kZXgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnJhbmRvbWAgd2l0aG91dCBzdXBwb3J0IGZvciByZXR1cm5pbmdcbiAgICAgKiBmbG9hdGluZy1wb2ludCBudW1iZXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbG93ZXIgVGhlIGxvd2VyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB1cHBlciBUaGUgdXBwZXIgYm91bmQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcmFuZG9tIG51bWJlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUmFuZG9tKGxvd2VyLCB1cHBlcikge1xuICAgICAgcmV0dXJuIGxvd2VyICsgbmF0aXZlRmxvb3IobmF0aXZlUmFuZG9tKCkgKiAodXBwZXIgLSBsb3dlciArIDEpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yYW5nZWAgYW5kIGBfLnJhbmdlUmlnaHRgIHdoaWNoIGRvZXNuJ3RcbiAgICAgKiBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgVGhlIHN0YXJ0IG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGVwIFRoZSB2YWx1ZSB0byBpbmNyZW1lbnQgb3IgZGVjcmVtZW50IGJ5LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcmFuZ2Ugb2YgbnVtYmVycy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUmFuZ2Uoc3RhcnQsIGVuZCwgc3RlcCwgZnJvbVJpZ2h0KSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBuYXRpdmVNYXgobmF0aXZlQ2VpbCgoZW5kIC0gc3RhcnQpIC8gKHN0ZXAgfHwgMSkpLCAwKSxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgcmVzdWx0W2Zyb21SaWdodCA/IGxlbmd0aCA6ICsraW5kZXhdID0gc3RhcnQ7XG4gICAgICAgIHN0YXJ0ICs9IHN0ZXA7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnJlcGVhdGAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gcmVwZWF0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gcmVwZWF0IHRoZSBzdHJpbmcuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcmVwZWF0ZWQgc3RyaW5nLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VSZXBlYXQoc3RyaW5nLCBuKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gJyc7XG4gICAgICBpZiAoIXN0cmluZyB8fCBuIDwgMSB8fCBuID4gTUFYX1NBRkVfSU5URUdFUikge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgLy8gTGV2ZXJhZ2UgdGhlIGV4cG9uZW50aWF0aW9uIGJ5IHNxdWFyaW5nIGFsZ29yaXRobSBmb3IgYSBmYXN0ZXIgcmVwZWF0LlxuICAgICAgLy8gU2VlIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0V4cG9uZW50aWF0aW9uX2J5X3NxdWFyaW5nIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICBkbyB7XG4gICAgICAgIGlmIChuICUgMikge1xuICAgICAgICAgIHJlc3VsdCArPSBzdHJpbmc7XG4gICAgICAgIH1cbiAgICAgICAgbiA9IG5hdGl2ZUZsb29yKG4gLyAyKTtcbiAgICAgICAgaWYgKG4pIHtcbiAgICAgICAgICBzdHJpbmcgKz0gc3RyaW5nO1xuICAgICAgICB9XG4gICAgICB9IHdoaWxlIChuKTtcblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yZXN0YCB3aGljaCBkb2Vzbid0IHZhbGlkYXRlIG9yIGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD1mdW5jLmxlbmd0aC0xXSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHJlc3QgcGFyYW1ldGVyLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VSZXN0KGZ1bmMsIHN0YXJ0KSB7XG4gICAgICByZXR1cm4gc2V0VG9TdHJpbmcob3ZlclJlc3QoZnVuYywgc3RhcnQsIGlkZW50aXR5KSwgZnVuYyArICcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zYW1wbGVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzYW1wbGUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTYW1wbGUoY29sbGVjdGlvbikge1xuICAgICAgcmV0dXJuIGFycmF5U2FtcGxlKHZhbHVlcyhjb2xsZWN0aW9uKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2FtcGxlU2l6ZWAgd2l0aG91dCBwYXJhbSBndWFyZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNhbXBsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHNhbXBsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2FtcGxlU2l6ZShjb2xsZWN0aW9uLCBuKSB7XG4gICAgICB2YXIgYXJyYXkgPSB2YWx1ZXMoY29sbGVjdGlvbik7XG4gICAgICByZXR1cm4gc2h1ZmZsZVNlbGYoYXJyYXksIGJhc2VDbGFtcChuLCAwLCBhcnJheS5sZW5ndGgpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zZXRgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIHBhdGggY3JlYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2V0KG9iamVjdCwgcGF0aCwgdmFsdWUsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgfVxuICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG5cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGgubGVuZ3RoLFxuICAgICAgICAgIGxhc3RJbmRleCA9IGxlbmd0aCAtIDEsXG4gICAgICAgICAgbmVzdGVkID0gb2JqZWN0O1xuXG4gICAgICB3aGlsZSAobmVzdGVkICE9IG51bGwgJiYgKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIga2V5ID0gdG9LZXkocGF0aFtpbmRleF0pLFxuICAgICAgICAgICAgbmV3VmFsdWUgPSB2YWx1ZTtcblxuICAgICAgICBpZiAoa2V5ID09PSAnX19wcm90b19fJyB8fCBrZXkgPT09ICdjb25zdHJ1Y3RvcicgfHwga2V5ID09PSAncHJvdG90eXBlJykge1xuICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW5kZXggIT0gbGFzdEluZGV4KSB7XG4gICAgICAgICAgdmFyIG9ialZhbHVlID0gbmVzdGVkW2tleV07XG4gICAgICAgICAgbmV3VmFsdWUgPSBjdXN0b21pemVyID8gY3VzdG9taXplcihvYmpWYWx1ZSwga2V5LCBuZXN0ZWQpIDogdW5kZWZpbmVkO1xuICAgICAgICAgIGlmIChuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IGlzT2JqZWN0KG9ialZhbHVlKVxuICAgICAgICAgICAgICA/IG9ialZhbHVlXG4gICAgICAgICAgICAgIDogKGlzSW5kZXgocGF0aFtpbmRleCArIDFdKSA/IFtdIDoge30pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhc3NpZ25WYWx1ZShuZXN0ZWQsIGtleSwgbmV3VmFsdWUpO1xuICAgICAgICBuZXN0ZWQgPSBuZXN0ZWRba2V5XTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYHNldERhdGFgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaG90IGxvb3Agc2hvcnRpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFzc29jaWF0ZSBtZXRhZGF0YSB3aXRoLlxuICAgICAqIEBwYXJhbSB7Kn0gZGF0YSBUaGUgbWV0YWRhdGEuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZVNldERhdGEgPSAhbWV0YU1hcCA/IGlkZW50aXR5IDogZnVuY3Rpb24oZnVuYywgZGF0YSkge1xuICAgICAgbWV0YU1hcC5zZXQoZnVuYywgZGF0YSk7XG4gICAgICByZXR1cm4gZnVuYztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYHNldFRvU3RyaW5nYCB3aXRob3V0IHN1cHBvcnQgZm9yIGhvdCBsb29wIHNob3J0aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc3RyaW5nIFRoZSBgdG9TdHJpbmdgIHJlc3VsdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGZ1bmNgLlxuICAgICAqL1xuICAgIHZhciBiYXNlU2V0VG9TdHJpbmcgPSAhZGVmaW5lUHJvcGVydHkgPyBpZGVudGl0eSA6IGZ1bmN0aW9uKGZ1bmMsIHN0cmluZykge1xuICAgICAgcmV0dXJuIGRlZmluZVByb3BlcnR5KGZ1bmMsICd0b1N0cmluZycsIHtcbiAgICAgICAgJ2NvbmZpZ3VyYWJsZSc6IHRydWUsXG4gICAgICAgICdlbnVtZXJhYmxlJzogZmFsc2UsXG4gICAgICAgICd2YWx1ZSc6IGNvbnN0YW50KHN0cmluZyksXG4gICAgICAgICd3cml0YWJsZSc6IHRydWVcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zaHVmZmxlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2h1ZmZsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzaHVmZmxlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2h1ZmZsZShjb2xsZWN0aW9uKSB7XG4gICAgICByZXR1cm4gc2h1ZmZsZVNlbGYodmFsdWVzKGNvbGxlY3Rpb24pKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zbGljZWAgd2l0aG91dCBhbiBpdGVyYXRlZSBjYWxsIGd1YXJkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2xpY2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmQ9YXJyYXkubGVuZ3RoXSBUaGUgZW5kIHBvc2l0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2xpY2UoYXJyYXksIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgICAgaWYgKHN0YXJ0IDwgMCkge1xuICAgICAgICBzdGFydCA9IC1zdGFydCA+IGxlbmd0aCA/IDAgOiAobGVuZ3RoICsgc3RhcnQpO1xuICAgICAgfVxuICAgICAgZW5kID0gZW5kID4gbGVuZ3RoID8gbGVuZ3RoIDogZW5kO1xuICAgICAgaWYgKGVuZCA8IDApIHtcbiAgICAgICAgZW5kICs9IGxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGxlbmd0aCA9IHN0YXJ0ID4gZW5kID8gMCA6ICgoZW5kIC0gc3RhcnQpID4+PiAwKTtcbiAgICAgIHN0YXJ0ID4+Pj0gMDtcblxuICAgICAgdmFyIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICByZXN1bHRbaW5kZXhdID0gYXJyYXlbaW5kZXggKyBzdGFydF07XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvbWVgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbnkgZWxlbWVudCBwYXNzZXMgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTb21lKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIHJlc3VsdDtcblxuICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHJlc3VsdCA9IHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pO1xuICAgICAgICByZXR1cm4gIXJlc3VsdDtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuICEhcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvcnRlZEluZGV4YCBhbmQgYF8uc29ydGVkTGFzdEluZGV4YCB3aGljaFxuICAgICAqIHBlcmZvcm1zIGEgYmluYXJ5IHNlYXJjaCBvZiBgYXJyYXlgIHRvIGRldGVybWluZSB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYFxuICAgICAqIHNob3VsZCBiZSBpbnNlcnRlZCBpbnRvIGBhcnJheWAgaW4gb3JkZXIgdG8gbWFpbnRhaW4gaXRzIHNvcnQgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBzb3J0ZWQgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtyZXRIaWdoZXN0XSBTcGVjaWZ5IHJldHVybmluZyB0aGUgaGlnaGVzdCBxdWFsaWZpZWQgaW5kZXguXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAgICAgKiAgaW50byBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTb3J0ZWRJbmRleChhcnJheSwgdmFsdWUsIHJldEhpZ2hlc3QpIHtcbiAgICAgIHZhciBsb3cgPSAwLFxuICAgICAgICAgIGhpZ2ggPSBhcnJheSA9PSBudWxsID8gbG93IDogYXJyYXkubGVuZ3RoO1xuXG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmIHZhbHVlID09PSB2YWx1ZSAmJiBoaWdoIDw9IEhBTEZfTUFYX0FSUkFZX0xFTkdUSCkge1xuICAgICAgICB3aGlsZSAobG93IDwgaGlnaCkge1xuICAgICAgICAgIHZhciBtaWQgPSAobG93ICsgaGlnaCkgPj4+IDEsXG4gICAgICAgICAgICAgIGNvbXB1dGVkID0gYXJyYXlbbWlkXTtcblxuICAgICAgICAgIGlmIChjb21wdXRlZCAhPT0gbnVsbCAmJiAhaXNTeW1ib2woY29tcHV0ZWQpICYmXG4gICAgICAgICAgICAgIChyZXRIaWdoZXN0ID8gKGNvbXB1dGVkIDw9IHZhbHVlKSA6IChjb21wdXRlZCA8IHZhbHVlKSkpIHtcbiAgICAgICAgICAgIGxvdyA9IG1pZCArIDE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGhpZ2ggPSBtaWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoaWdoO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VTb3J0ZWRJbmRleEJ5KGFycmF5LCB2YWx1ZSwgaWRlbnRpdHksIHJldEhpZ2hlc3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvcnRlZEluZGV4QnlgIGFuZCBgXy5zb3J0ZWRMYXN0SW5kZXhCeWBcbiAgICAgKiB3aGljaCBpbnZva2VzIGBpdGVyYXRlZWAgZm9yIGB2YWx1ZWAgYW5kIGVhY2ggZWxlbWVudCBvZiBgYXJyYXlgIHRvIGNvbXB1dGVcbiAgICAgKiB0aGVpciBzb3J0IHJhbmtpbmcuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OyAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcmV0SGlnaGVzdF0gU3BlY2lmeSByZXR1cm5pbmcgdGhlIGhpZ2hlc3QgcXVhbGlmaWVkIGluZGV4LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU29ydGVkSW5kZXhCeShhcnJheSwgdmFsdWUsIGl0ZXJhdGVlLCByZXRIaWdoZXN0KSB7XG4gICAgICB2YXIgbG93ID0gMCxcbiAgICAgICAgICBoaWdoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoaGlnaCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cblxuICAgICAgdmFsdWUgPSBpdGVyYXRlZSh2YWx1ZSk7XG4gICAgICB2YXIgdmFsSXNOYU4gPSB2YWx1ZSAhPT0gdmFsdWUsXG4gICAgICAgICAgdmFsSXNOdWxsID0gdmFsdWUgPT09IG51bGwsXG4gICAgICAgICAgdmFsSXNTeW1ib2wgPSBpc1N5bWJvbCh2YWx1ZSksXG4gICAgICAgICAgdmFsSXNVbmRlZmluZWQgPSB2YWx1ZSA9PT0gdW5kZWZpbmVkO1xuXG4gICAgICB3aGlsZSAobG93IDwgaGlnaCkge1xuICAgICAgICB2YXIgbWlkID0gbmF0aXZlRmxvb3IoKGxvdyArIGhpZ2gpIC8gMiksXG4gICAgICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlKGFycmF5W21pZF0pLFxuICAgICAgICAgICAgb3RoSXNEZWZpbmVkID0gY29tcHV0ZWQgIT09IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG90aElzTnVsbCA9IGNvbXB1dGVkID09PSBudWxsLFxuICAgICAgICAgICAgb3RoSXNSZWZsZXhpdmUgPSBjb21wdXRlZCA9PT0gY29tcHV0ZWQsXG4gICAgICAgICAgICBvdGhJc1N5bWJvbCA9IGlzU3ltYm9sKGNvbXB1dGVkKTtcblxuICAgICAgICBpZiAodmFsSXNOYU4pIHtcbiAgICAgICAgICB2YXIgc2V0TG93ID0gcmV0SGlnaGVzdCB8fCBvdGhJc1JlZmxleGl2ZTtcbiAgICAgICAgfSBlbHNlIGlmICh2YWxJc1VuZGVmaW5lZCkge1xuICAgICAgICAgIHNldExvdyA9IG90aElzUmVmbGV4aXZlICYmIChyZXRIaWdoZXN0IHx8IG90aElzRGVmaW5lZCk7XG4gICAgICAgIH0gZWxzZSBpZiAodmFsSXNOdWxsKSB7XG4gICAgICAgICAgc2V0TG93ID0gb3RoSXNSZWZsZXhpdmUgJiYgb3RoSXNEZWZpbmVkICYmIChyZXRIaWdoZXN0IHx8ICFvdGhJc051bGwpO1xuICAgICAgICB9IGVsc2UgaWYgKHZhbElzU3ltYm9sKSB7XG4gICAgICAgICAgc2V0TG93ID0gb3RoSXNSZWZsZXhpdmUgJiYgb3RoSXNEZWZpbmVkICYmICFvdGhJc051bGwgJiYgKHJldEhpZ2hlc3QgfHwgIW90aElzU3ltYm9sKTtcbiAgICAgICAgfSBlbHNlIGlmIChvdGhJc051bGwgfHwgb3RoSXNTeW1ib2wpIHtcbiAgICAgICAgICBzZXRMb3cgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXRMb3cgPSByZXRIaWdoZXN0ID8gKGNvbXB1dGVkIDw9IHZhbHVlKSA6IChjb21wdXRlZCA8IHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2V0TG93KSB7XG4gICAgICAgICAgbG93ID0gbWlkICsgMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBoaWdoID0gbWlkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbmF0aXZlTWluKGhpZ2gsIE1BWF9BUlJBWV9JTkRFWCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc29ydGVkVW5pcWAgYW5kIGBfLnNvcnRlZFVuaXFCeWAgd2l0aG91dFxuICAgICAqIHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZHVwbGljYXRlIGZyZWUgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNvcnRlZFVuaXEoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlID8gaXRlcmF0ZWUodmFsdWUpIDogdmFsdWU7XG5cbiAgICAgICAgaWYgKCFpbmRleCB8fCAhZXEoY29tcHV0ZWQsIHNlZW4pKSB7XG4gICAgICAgICAgdmFyIHNlZW4gPSBjb21wdXRlZDtcbiAgICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSB2YWx1ZSA9PT0gMCA/IDAgOiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50b051bWJlcmAgd2hpY2ggZG9lc24ndCBlbnN1cmUgY29ycmVjdFxuICAgICAqIGNvbnZlcnNpb25zIG9mIGJpbmFyeSwgaGV4YWRlY2ltYWwsIG9yIG9jdGFsIHN0cmluZyB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbnVtYmVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VUb051bWJlcih2YWx1ZSkge1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBOQU47XG4gICAgICB9XG4gICAgICByZXR1cm4gK3ZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRvU3RyaW5nYCB3aGljaCBkb2Vzbid0IGNvbnZlcnQgbnVsbGlzaFxuICAgICAqIHZhbHVlcyB0byBlbXB0eSBzdHJpbmdzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHN0cmluZy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlVG9TdHJpbmcodmFsdWUpIHtcbiAgICAgIC8vIEV4aXQgZWFybHkgZm9yIHN0cmluZ3MgdG8gYXZvaWQgYSBwZXJmb3JtYW5jZSBoaXQgaW4gc29tZSBlbnZpcm9ubWVudHMuXG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAvLyBSZWN1cnNpdmVseSBjb252ZXJ0IHZhbHVlcyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICByZXR1cm4gYXJyYXlNYXAodmFsdWUsIGJhc2VUb1N0cmluZykgKyAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHN5bWJvbFRvU3RyaW5nID8gc3ltYm9sVG9TdHJpbmcuY2FsbCh2YWx1ZSkgOiAnJztcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSAodmFsdWUgKyAnJyk7XG4gICAgICByZXR1cm4gKHJlc3VsdCA9PSAnMCcgJiYgKDEgLyB2YWx1ZSkgPT0gLUlORklOSVRZKSA/ICctMCcgOiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udW5pcUJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZHVwbGljYXRlIGZyZWUgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVVuaXEoYXJyYXksIGl0ZXJhdGVlLCBjb21wYXJhdG9yKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBpbmNsdWRlcyA9IGFycmF5SW5jbHVkZXMsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIGlzQ29tbW9uID0gdHJ1ZSxcbiAgICAgICAgICByZXN1bHQgPSBbXSxcbiAgICAgICAgICBzZWVuID0gcmVzdWx0O1xuXG4gICAgICBpZiAoY29tcGFyYXRvcikge1xuICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICBpbmNsdWRlcyA9IGFycmF5SW5jbHVkZXNXaXRoO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAobGVuZ3RoID49IExBUkdFX0FSUkFZX1NJWkUpIHtcbiAgICAgICAgdmFyIHNldCA9IGl0ZXJhdGVlID8gbnVsbCA6IGNyZWF0ZVNldChhcnJheSk7XG4gICAgICAgIGlmIChzZXQpIHtcbiAgICAgICAgICByZXR1cm4gc2V0VG9BcnJheShzZXQpO1xuICAgICAgICB9XG4gICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICAgIGluY2x1ZGVzID0gY2FjaGVIYXM7XG4gICAgICAgIHNlZW4gPSBuZXcgU2V0Q2FjaGU7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgc2VlbiA9IGl0ZXJhdGVlID8gW10gOiByZXN1bHQ7XG4gICAgICB9XG4gICAgICBvdXRlcjpcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUgPyBpdGVyYXRlZSh2YWx1ZSkgOiB2YWx1ZTtcblxuICAgICAgICB2YWx1ZSA9IChjb21wYXJhdG9yIHx8IHZhbHVlICE9PSAwKSA/IHZhbHVlIDogMDtcbiAgICAgICAgaWYgKGlzQ29tbW9uICYmIGNvbXB1dGVkID09PSBjb21wdXRlZCkge1xuICAgICAgICAgIHZhciBzZWVuSW5kZXggPSBzZWVuLmxlbmd0aDtcbiAgICAgICAgICB3aGlsZSAoc2VlbkluZGV4LS0pIHtcbiAgICAgICAgICAgIGlmIChzZWVuW3NlZW5JbmRleF0gPT09IGNvbXB1dGVkKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlIG91dGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaXRlcmF0ZWUpIHtcbiAgICAgICAgICAgIHNlZW4ucHVzaChjb21wdXRlZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghaW5jbHVkZXMoc2VlbiwgY29tcHV0ZWQsIGNvbXBhcmF0b3IpKSB7XG4gICAgICAgICAgaWYgKHNlZW4gIT09IHJlc3VsdCkge1xuICAgICAgICAgICAgc2Vlbi5wdXNoKGNvbXB1dGVkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnVuc2V0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcHJvcGVydHkgcGF0aCB0byB1bnNldC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHByb3BlcnR5IGlzIGRlbGV0ZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlVW5zZXQob2JqZWN0LCBwYXRoKSB7XG4gICAgICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcbiAgICAgIG9iamVjdCA9IHBhcmVudChvYmplY3QsIHBhdGgpO1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsIHx8IGRlbGV0ZSBvYmplY3RbdG9LZXkobGFzdChwYXRoKSldO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnVwZGF0ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHVwZGF0ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB1cGRhdGVyIFRoZSBmdW5jdGlvbiB0byBwcm9kdWNlIHRoZSB1cGRhdGVkIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIHBhdGggY3JlYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlVXBkYXRlKG9iamVjdCwgcGF0aCwgdXBkYXRlciwgY3VzdG9taXplcikge1xuICAgICAgcmV0dXJuIGJhc2VTZXQob2JqZWN0LCBwYXRoLCB1cGRhdGVyKGJhc2VHZXQob2JqZWN0LCBwYXRoKSksIGN1c3RvbWl6ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIG1ldGhvZHMgbGlrZSBgXy5kcm9wV2hpbGVgIGFuZCBgXy50YWtlV2hpbGVgXG4gICAgICogd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNEcm9wXSBTcGVjaWZ5IGRyb3BwaW5nIGVsZW1lbnRzIGluc3RlYWQgb2YgdGFraW5nIHRoZW0uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VXaGlsZShhcnJheSwgcHJlZGljYXRlLCBpc0Ryb3AsIGZyb21SaWdodCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICBpbmRleCA9IGZyb21SaWdodCA/IGxlbmd0aCA6IC0xO1xuXG4gICAgICB3aGlsZSAoKGZyb21SaWdodCA/IGluZGV4LS0gOiArK2luZGV4IDwgbGVuZ3RoKSAmJlxuICAgICAgICBwcmVkaWNhdGUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSB7fVxuXG4gICAgICByZXR1cm4gaXNEcm9wXG4gICAgICAgID8gYmFzZVNsaWNlKGFycmF5LCAoZnJvbVJpZ2h0ID8gMCA6IGluZGV4KSwgKGZyb21SaWdodCA/IGluZGV4ICsgMSA6IGxlbmd0aCkpXG4gICAgICAgIDogYmFzZVNsaWNlKGFycmF5LCAoZnJvbVJpZ2h0ID8gaW5kZXggKyAxIDogMCksIChmcm9tUmlnaHQgPyBsZW5ndGggOiBpbmRleCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGB3cmFwcGVyVmFsdWVgIHdoaWNoIHJldHVybnMgdGhlIHJlc3VsdCBvZlxuICAgICAqIHBlcmZvcm1pbmcgYSBzZXF1ZW5jZSBvZiBhY3Rpb25zIG9uIHRoZSB1bndyYXBwZWQgYHZhbHVlYCwgd2hlcmUgZWFjaFxuICAgICAqIHN1Y2Nlc3NpdmUgYWN0aW9uIGlzIHN1cHBsaWVkIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIHByZXZpb3VzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB1bndyYXBwZWQgdmFsdWUuXG4gICAgICogQHBhcmFtIHtBcnJheX0gYWN0aW9ucyBBY3Rpb25zIHRvIHBlcmZvcm0gdG8gcmVzb2x2ZSB0aGUgdW53cmFwcGVkIHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlV3JhcHBlclZhbHVlKHZhbHVlLCBhY3Rpb25zKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gdmFsdWU7XG4gICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgTGF6eVdyYXBwZXIpIHtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnZhbHVlKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXlSZWR1Y2UoYWN0aW9ucywgZnVuY3Rpb24ocmVzdWx0LCBhY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIGFjdGlvbi5mdW5jLmFwcGx5KGFjdGlvbi50aGlzQXJnLCBhcnJheVB1c2goW3Jlc3VsdF0sIGFjdGlvbi5hcmdzKSk7XG4gICAgICB9LCByZXN1bHQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIG1ldGhvZHMgbGlrZSBgXy54b3JgLCB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcywgdGhhdCBhY2NlcHRzIGFuIGFycmF5IG9mIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheXMgVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgdmFsdWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VYb3IoYXJyYXlzLCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5cy5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoIDwgMikge1xuICAgICAgICByZXR1cm4gbGVuZ3RoID8gYmFzZVVuaXEoYXJyYXlzWzBdKSA6IFtdO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGFycmF5ID0gYXJyYXlzW2luZGV4XSxcbiAgICAgICAgICAgIG90aEluZGV4ID0gLTE7XG5cbiAgICAgICAgd2hpbGUgKCsrb3RoSW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICBpZiAob3RoSW5kZXggIT0gaW5kZXgpIHtcbiAgICAgICAgICAgIHJlc3VsdFtpbmRleF0gPSBiYXNlRGlmZmVyZW5jZShyZXN1bHRbaW5kZXhdIHx8IGFycmF5LCBhcnJheXNbb3RoSW5kZXhdLCBpdGVyYXRlZSwgY29tcGFyYXRvcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVVuaXEoYmFzZUZsYXR0ZW4ocmVzdWx0LCAxKSwgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy56aXBPYmplY3RgIHdoaWNoIGFzc2lnbnMgdmFsdWVzIHVzaW5nIGBhc3NpZ25GdW5jYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IGlkZW50aWZpZXJzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGFzc2lnbkZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFzc2lnbiB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlWmlwT2JqZWN0KHByb3BzLCB2YWx1ZXMsIGFzc2lnbkZ1bmMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHByb3BzLmxlbmd0aCxcbiAgICAgICAgICB2YWxzTGVuZ3RoID0gdmFsdWVzLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSB7fTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gaW5kZXggPCB2YWxzTGVuZ3RoID8gdmFsdWVzW2luZGV4XSA6IHVuZGVmaW5lZDtcbiAgICAgICAgYXNzaWduRnVuYyhyZXN1bHQsIHByb3BzW2luZGV4XSwgdmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYXN0cyBgdmFsdWVgIHRvIGFuIGVtcHR5IGFycmF5IGlmIGl0J3Mgbm90IGFuIGFycmF5IGxpa2Ugb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheXxPYmplY3R9IFJldHVybnMgdGhlIGNhc3QgYXJyYXktbGlrZSBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2FzdEFycmF5TGlrZU9iamVjdCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzQXJyYXlMaWtlT2JqZWN0KHZhbHVlKSA/IHZhbHVlIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FzdHMgYHZhbHVlYCB0byBgaWRlbnRpdHlgIGlmIGl0J3Mgbm90IGEgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGNhc3QgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2FzdEZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdmdW5jdGlvbicgPyB2YWx1ZSA6IGlkZW50aXR5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhc3RzIGB2YWx1ZWAgdG8gYSBwYXRoIGFycmF5IGlmIGl0J3Mgbm90IG9uZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeSBrZXlzIG9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY2FzdCBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhc3RQYXRoKHZhbHVlLCBvYmplY3QpIHtcbiAgICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXNLZXkodmFsdWUsIG9iamVjdCkgPyBbdmFsdWVdIDogc3RyaW5nVG9QYXRoKHRvU3RyaW5nKHZhbHVlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBgYmFzZVJlc3RgIGFsaWFzIHdoaWNoIGNhbiBiZSByZXBsYWNlZCB3aXRoIGBpZGVudGl0eWAgYnkgbW9kdWxlXG4gICAgICogcmVwbGFjZW1lbnQgcGx1Z2lucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICovXG4gICAgdmFyIGNhc3RSZXN0ID0gYmFzZVJlc3Q7XG5cbiAgICAvKipcbiAgICAgKiBDYXN0cyBgYXJyYXlgIHRvIGEgc2xpY2UgaWYgaXQncyBuZWVkZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCBUaGUgc3RhcnQgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmQ9YXJyYXkubGVuZ3RoXSBUaGUgZW5kIHBvc2l0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY2FzdCBzbGljZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXN0U2xpY2UoYXJyYXksIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gICAgICBlbmQgPSBlbmQgPT09IHVuZGVmaW5lZCA/IGxlbmd0aCA6IGVuZDtcbiAgICAgIHJldHVybiAoIXN0YXJ0ICYmIGVuZCA+PSBsZW5ndGgpID8gYXJyYXkgOiBiYXNlU2xpY2UoYXJyYXksIHN0YXJ0LCBlbmQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc2ltcGxlIHdyYXBwZXIgYXJvdW5kIHRoZSBnbG9iYWwgW2BjbGVhclRpbWVvdXRgXShodHRwczovL21kbi5pby9jbGVhclRpbWVvdXQpLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcnxPYmplY3R9IGlkIFRoZSB0aW1lciBpZCBvciB0aW1lb3V0IG9iamVjdCBvZiB0aGUgdGltZXIgdG8gY2xlYXIuXG4gICAgICovXG4gICAgdmFyIGNsZWFyVGltZW91dCA9IGN0eENsZWFyVGltZW91dCB8fCBmdW5jdGlvbihpZCkge1xuICAgICAgcmV0dXJuIHJvb3QuY2xlYXJUaW1lb3V0KGlkKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mICBgYnVmZmVyYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtCdWZmZXJ9IGJ1ZmZlciBUaGUgYnVmZmVyIHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcF0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuXG4gICAgICogQHJldHVybnMge0J1ZmZlcn0gUmV0dXJucyB0aGUgY2xvbmVkIGJ1ZmZlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZUJ1ZmZlcihidWZmZXIsIGlzRGVlcCkge1xuICAgICAgaWYgKGlzRGVlcCkge1xuICAgICAgICByZXR1cm4gYnVmZmVyLnNsaWNlKCk7XG4gICAgICB9XG4gICAgICB2YXIgbGVuZ3RoID0gYnVmZmVyLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSBhbGxvY1Vuc2FmZSA/IGFsbG9jVW5zYWZlKGxlbmd0aCkgOiBuZXcgYnVmZmVyLmNvbnN0cnVjdG9yKGxlbmd0aCk7XG5cbiAgICAgIGJ1ZmZlci5jb3B5KHJlc3VsdCk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgYXJyYXlCdWZmZXJgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5QnVmZmVyfSBhcnJheUJ1ZmZlciBUaGUgYXJyYXkgYnVmZmVyIHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtBcnJheUJ1ZmZlcn0gUmV0dXJucyB0aGUgY2xvbmVkIGFycmF5IGJ1ZmZlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZUFycmF5QnVmZmVyKGFycmF5QnVmZmVyKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbmV3IGFycmF5QnVmZmVyLmNvbnN0cnVjdG9yKGFycmF5QnVmZmVyLmJ5dGVMZW5ndGgpO1xuICAgICAgbmV3IFVpbnQ4QXJyYXkocmVzdWx0KS5zZXQobmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIpKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIGBkYXRhVmlld2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhVmlldyBUaGUgZGF0YSB2aWV3IHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcF0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIGRhdGEgdmlldy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZURhdGFWaWV3KGRhdGFWaWV3LCBpc0RlZXApIHtcbiAgICAgIHZhciBidWZmZXIgPSBpc0RlZXAgPyBjbG9uZUFycmF5QnVmZmVyKGRhdGFWaWV3LmJ1ZmZlcikgOiBkYXRhVmlldy5idWZmZXI7XG4gICAgICByZXR1cm4gbmV3IGRhdGFWaWV3LmNvbnN0cnVjdG9yKGJ1ZmZlciwgZGF0YVZpZXcuYnl0ZU9mZnNldCwgZGF0YVZpZXcuYnl0ZUxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIGByZWdleHBgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcmVnZXhwIFRoZSByZWdleHAgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIHJlZ2V4cC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZVJlZ0V4cChyZWdleHApIHtcbiAgICAgIHZhciByZXN1bHQgPSBuZXcgcmVnZXhwLmNvbnN0cnVjdG9yKHJlZ2V4cC5zb3VyY2UsIHJlRmxhZ3MuZXhlYyhyZWdleHApKTtcbiAgICAgIHJlc3VsdC5sYXN0SW5kZXggPSByZWdleHAubGFzdEluZGV4O1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhlIGBzeW1ib2xgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN5bWJvbCBUaGUgc3ltYm9sIG9iamVjdCB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgc3ltYm9sIG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZVN5bWJvbChzeW1ib2wpIHtcbiAgICAgIHJldHVybiBzeW1ib2xWYWx1ZU9mID8gT2JqZWN0KHN5bWJvbFZhbHVlT2YuY2FsbChzeW1ib2wpKSA6IHt9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgdHlwZWRBcnJheWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB0eXBlZEFycmF5IFRoZSB0eXBlZCBhcnJheSB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0RlZXBdIFNwZWNpZnkgYSBkZWVwIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCB0eXBlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZVR5cGVkQXJyYXkodHlwZWRBcnJheSwgaXNEZWVwKSB7XG4gICAgICB2YXIgYnVmZmVyID0gaXNEZWVwID8gY2xvbmVBcnJheUJ1ZmZlcih0eXBlZEFycmF5LmJ1ZmZlcikgOiB0eXBlZEFycmF5LmJ1ZmZlcjtcbiAgICAgIHJldHVybiBuZXcgdHlwZWRBcnJheS5jb25zdHJ1Y3RvcihidWZmZXIsIHR5cGVkQXJyYXkuYnl0ZU9mZnNldCwgdHlwZWRBcnJheS5sZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbXBhcmVzIHZhbHVlcyB0byBzb3J0IHRoZW0gaW4gYXNjZW5kaW5nIG9yZGVyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc29ydCBvcmRlciBpbmRpY2F0b3IgZm9yIGB2YWx1ZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcGFyZUFzY2VuZGluZyh2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIGlmICh2YWx1ZSAhPT0gb3RoZXIpIHtcbiAgICAgICAgdmFyIHZhbElzRGVmaW5lZCA9IHZhbHVlICE9PSB1bmRlZmluZWQsXG4gICAgICAgICAgICB2YWxJc051bGwgPSB2YWx1ZSA9PT0gbnVsbCxcbiAgICAgICAgICAgIHZhbElzUmVmbGV4aXZlID0gdmFsdWUgPT09IHZhbHVlLFxuICAgICAgICAgICAgdmFsSXNTeW1ib2wgPSBpc1N5bWJvbCh2YWx1ZSk7XG5cbiAgICAgICAgdmFyIG90aElzRGVmaW5lZCA9IG90aGVyICE9PSB1bmRlZmluZWQsXG4gICAgICAgICAgICBvdGhJc051bGwgPSBvdGhlciA9PT0gbnVsbCxcbiAgICAgICAgICAgIG90aElzUmVmbGV4aXZlID0gb3RoZXIgPT09IG90aGVyLFxuICAgICAgICAgICAgb3RoSXNTeW1ib2wgPSBpc1N5bWJvbChvdGhlcik7XG5cbiAgICAgICAgaWYgKCghb3RoSXNOdWxsICYmICFvdGhJc1N5bWJvbCAmJiAhdmFsSXNTeW1ib2wgJiYgdmFsdWUgPiBvdGhlcikgfHxcbiAgICAgICAgICAgICh2YWxJc1N5bWJvbCAmJiBvdGhJc0RlZmluZWQgJiYgb3RoSXNSZWZsZXhpdmUgJiYgIW90aElzTnVsbCAmJiAhb3RoSXNTeW1ib2wpIHx8XG4gICAgICAgICAgICAodmFsSXNOdWxsICYmIG90aElzRGVmaW5lZCAmJiBvdGhJc1JlZmxleGl2ZSkgfHxcbiAgICAgICAgICAgICghdmFsSXNEZWZpbmVkICYmIG90aElzUmVmbGV4aXZlKSB8fFxuICAgICAgICAgICAgIXZhbElzUmVmbGV4aXZlKSB7XG4gICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCghdmFsSXNOdWxsICYmICF2YWxJc1N5bWJvbCAmJiAhb3RoSXNTeW1ib2wgJiYgdmFsdWUgPCBvdGhlcikgfHxcbiAgICAgICAgICAgIChvdGhJc1N5bWJvbCAmJiB2YWxJc0RlZmluZWQgJiYgdmFsSXNSZWZsZXhpdmUgJiYgIXZhbElzTnVsbCAmJiAhdmFsSXNTeW1ib2wpIHx8XG4gICAgICAgICAgICAob3RoSXNOdWxsICYmIHZhbElzRGVmaW5lZCAmJiB2YWxJc1JlZmxleGl2ZSkgfHxcbiAgICAgICAgICAgICghb3RoSXNEZWZpbmVkICYmIHZhbElzUmVmbGV4aXZlKSB8fFxuICAgICAgICAgICAgIW90aElzUmVmbGV4aXZlKSB7XG4gICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIGJ5IGBfLm9yZGVyQnlgIHRvIGNvbXBhcmUgbXVsdGlwbGUgcHJvcGVydGllcyBvZiBhIHZhbHVlIHRvIGFub3RoZXJcbiAgICAgKiBhbmQgc3RhYmxlIHNvcnQgdGhlbS5cbiAgICAgKlxuICAgICAqIElmIGBvcmRlcnNgIGlzIHVuc3BlY2lmaWVkLCBhbGwgdmFsdWVzIGFyZSBzb3J0ZWQgaW4gYXNjZW5kaW5nIG9yZGVyLiBPdGhlcndpc2UsXG4gICAgICogc3BlY2lmeSBhbiBvcmRlciBvZiBcImRlc2NcIiBmb3IgZGVzY2VuZGluZyBvciBcImFzY1wiIGZvciBhc2NlbmRpbmcgc29ydCBvcmRlclxuICAgICAqIG9mIGNvcnJlc3BvbmRpbmcgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbltdfHN0cmluZ1tdfSBvcmRlcnMgVGhlIG9yZGVyIHRvIHNvcnQgYnkgZm9yIGVhY2ggcHJvcGVydHkuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc29ydCBvcmRlciBpbmRpY2F0b3IgZm9yIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBhcmVNdWx0aXBsZShvYmplY3QsIG90aGVyLCBvcmRlcnMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIG9iakNyaXRlcmlhID0gb2JqZWN0LmNyaXRlcmlhLFxuICAgICAgICAgIG90aENyaXRlcmlhID0gb3RoZXIuY3JpdGVyaWEsXG4gICAgICAgICAgbGVuZ3RoID0gb2JqQ3JpdGVyaWEubGVuZ3RoLFxuICAgICAgICAgIG9yZGVyc0xlbmd0aCA9IG9yZGVycy5sZW5ndGg7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBjb21wYXJlQXNjZW5kaW5nKG9iakNyaXRlcmlhW2luZGV4XSwgb3RoQ3JpdGVyaWFbaW5kZXhdKTtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIGlmIChpbmRleCA+PSBvcmRlcnNMZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBvcmRlciA9IG9yZGVyc1tpbmRleF07XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdCAqIChvcmRlciA9PSAnZGVzYycgPyAtMSA6IDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBGaXhlcyBhbiBgQXJyYXkjc29ydGAgYnVnIGluIHRoZSBKUyBlbmdpbmUgZW1iZWRkZWQgaW4gQWRvYmUgYXBwbGljYXRpb25zXG4gICAgICAvLyB0aGF0IGNhdXNlcyBpdCwgdW5kZXIgY2VydGFpbiBjaXJjdW1zdGFuY2VzLCB0byBwcm92aWRlIHRoZSBzYW1lIHZhbHVlIGZvclxuICAgICAgLy8gYG9iamVjdGAgYW5kIGBvdGhlcmAuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vamFzaGtlbmFzL3VuZGVyc2NvcmUvcHVsbC8xMjQ3XG4gICAgICAvLyBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgLy9cbiAgICAgIC8vIFRoaXMgYWxzbyBlbnN1cmVzIGEgc3RhYmxlIHNvcnQgaW4gVjggYW5kIG90aGVyIGVuZ2luZXMuXG4gICAgICAvLyBTZWUgaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9OTAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgIHJldHVybiBvYmplY3QuaW5kZXggLSBvdGhlci5pbmRleDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IHRoYXQgaXMgdGhlIGNvbXBvc2l0aW9uIG9mIHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50cyxcbiAgICAgKiBwbGFjZWhvbGRlcnMsIGFuZCBwcm92aWRlZCBhcmd1bWVudHMgaW50byBhIHNpbmdsZSBhcnJheSBvZiBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgVGhlIHByb3ZpZGVkIGFyZ3VtZW50cy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYXJ0aWFscyBUaGUgYXJndW1lbnRzIHRvIHByZXBlbmQgdG8gdGhvc2UgcHJvdmlkZWQuXG4gICAgICogQHBhcmFtIHtBcnJheX0gaG9sZGVycyBUaGUgYHBhcnRpYWxzYCBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgICAqIEBwYXJhbXMge2Jvb2xlYW59IFtpc0N1cnJpZWRdIFNwZWNpZnkgY29tcG9zaW5nIGZvciBhIGN1cnJpZWQgZnVuY3Rpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgY29tcG9zZWQgYXJndW1lbnRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBvc2VBcmdzKGFyZ3MsIHBhcnRpYWxzLCBob2xkZXJzLCBpc0N1cnJpZWQpIHtcbiAgICAgIHZhciBhcmdzSW5kZXggPSAtMSxcbiAgICAgICAgICBhcmdzTGVuZ3RoID0gYXJncy5sZW5ndGgsXG4gICAgICAgICAgaG9sZGVyc0xlbmd0aCA9IGhvbGRlcnMubGVuZ3RoLFxuICAgICAgICAgIGxlZnRJbmRleCA9IC0xLFxuICAgICAgICAgIGxlZnRMZW5ndGggPSBwYXJ0aWFscy5sZW5ndGgsXG4gICAgICAgICAgcmFuZ2VMZW5ndGggPSBuYXRpdmVNYXgoYXJnc0xlbmd0aCAtIGhvbGRlcnNMZW5ndGgsIDApLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KGxlZnRMZW5ndGggKyByYW5nZUxlbmd0aCksXG4gICAgICAgICAgaXNVbmN1cnJpZWQgPSAhaXNDdXJyaWVkO1xuXG4gICAgICB3aGlsZSAoKytsZWZ0SW5kZXggPCBsZWZ0TGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdFtsZWZ0SW5kZXhdID0gcGFydGlhbHNbbGVmdEluZGV4XTtcbiAgICAgIH1cbiAgICAgIHdoaWxlICgrK2FyZ3NJbmRleCA8IGhvbGRlcnNMZW5ndGgpIHtcbiAgICAgICAgaWYgKGlzVW5jdXJyaWVkIHx8IGFyZ3NJbmRleCA8IGFyZ3NMZW5ndGgpIHtcbiAgICAgICAgICByZXN1bHRbaG9sZGVyc1thcmdzSW5kZXhdXSA9IGFyZ3NbYXJnc0luZGV4XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgd2hpbGUgKHJhbmdlTGVuZ3RoLS0pIHtcbiAgICAgICAgcmVzdWx0W2xlZnRJbmRleCsrXSA9IGFyZ3NbYXJnc0luZGV4KytdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2UgYGNvbXBvc2VBcmdzYCBleGNlcHQgdGhhdCB0aGUgYXJndW1lbnRzIGNvbXBvc2l0aW9uXG4gICAgICogaXMgdGFpbG9yZWQgZm9yIGBfLnBhcnRpYWxSaWdodGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgVGhlIHByb3ZpZGVkIGFyZ3VtZW50cy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYXJ0aWFscyBUaGUgYXJndW1lbnRzIHRvIGFwcGVuZCB0byB0aG9zZSBwcm92aWRlZC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBob2xkZXJzIFRoZSBgcGFydGlhbHNgIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAgICogQHBhcmFtcyB7Ym9vbGVhbn0gW2lzQ3VycmllZF0gU3BlY2lmeSBjb21wb3NpbmcgZm9yIGEgY3VycmllZCBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBjb21wb3NlZCBhcmd1bWVudHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcG9zZUFyZ3NSaWdodChhcmdzLCBwYXJ0aWFscywgaG9sZGVycywgaXNDdXJyaWVkKSB7XG4gICAgICB2YXIgYXJnc0luZGV4ID0gLTEsXG4gICAgICAgICAgYXJnc0xlbmd0aCA9IGFyZ3MubGVuZ3RoLFxuICAgICAgICAgIGhvbGRlcnNJbmRleCA9IC0xLFxuICAgICAgICAgIGhvbGRlcnNMZW5ndGggPSBob2xkZXJzLmxlbmd0aCxcbiAgICAgICAgICByaWdodEluZGV4ID0gLTEsXG4gICAgICAgICAgcmlnaHRMZW5ndGggPSBwYXJ0aWFscy5sZW5ndGgsXG4gICAgICAgICAgcmFuZ2VMZW5ndGggPSBuYXRpdmVNYXgoYXJnc0xlbmd0aCAtIGhvbGRlcnNMZW5ndGgsIDApLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KHJhbmdlTGVuZ3RoICsgcmlnaHRMZW5ndGgpLFxuICAgICAgICAgIGlzVW5jdXJyaWVkID0gIWlzQ3VycmllZDtcblxuICAgICAgd2hpbGUgKCsrYXJnc0luZGV4IDwgcmFuZ2VMZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W2FyZ3NJbmRleF0gPSBhcmdzW2FyZ3NJbmRleF07XG4gICAgICB9XG4gICAgICB2YXIgb2Zmc2V0ID0gYXJnc0luZGV4O1xuICAgICAgd2hpbGUgKCsrcmlnaHRJbmRleCA8IHJpZ2h0TGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdFtvZmZzZXQgKyByaWdodEluZGV4XSA9IHBhcnRpYWxzW3JpZ2h0SW5kZXhdO1xuICAgICAgfVxuICAgICAgd2hpbGUgKCsraG9sZGVyc0luZGV4IDwgaG9sZGVyc0xlbmd0aCkge1xuICAgICAgICBpZiAoaXNVbmN1cnJpZWQgfHwgYXJnc0luZGV4IDwgYXJnc0xlbmd0aCkge1xuICAgICAgICAgIHJlc3VsdFtvZmZzZXQgKyBob2xkZXJzW2hvbGRlcnNJbmRleF1dID0gYXJnc1thcmdzSW5kZXgrK107XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29waWVzIHRoZSB2YWx1ZXMgb2YgYHNvdXJjZWAgdG8gYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gc291cmNlIFRoZSBhcnJheSB0byBjb3B5IHZhbHVlcyBmcm9tLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheT1bXV0gVGhlIGFycmF5IHRvIGNvcHkgdmFsdWVzIHRvLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvcHlBcnJheShzb3VyY2UsIGFycmF5KSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBzb3VyY2UubGVuZ3RoO1xuXG4gICAgICBhcnJheSB8fCAoYXJyYXkgPSBBcnJheShsZW5ndGgpKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIGFycmF5W2luZGV4XSA9IHNvdXJjZVtpbmRleF07XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29waWVzIHByb3BlcnRpZXMgb2YgYHNvdXJjZWAgdG8gYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgZnJvbS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwcm9wcyBUaGUgcHJvcGVydHkgaWRlbnRpZmllcnMgdG8gY29weS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdD17fV0gVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgdG8uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29waWVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvcHlPYmplY3Qoc291cmNlLCBwcm9wcywgb2JqZWN0LCBjdXN0b21pemVyKSB7XG4gICAgICB2YXIgaXNOZXcgPSAhb2JqZWN0O1xuICAgICAgb2JqZWN0IHx8IChvYmplY3QgPSB7fSk7XG5cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHByb3BzLmxlbmd0aDtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IHByb3BzW2luZGV4XTtcblxuICAgICAgICB2YXIgbmV3VmFsdWUgPSBjdXN0b21pemVyXG4gICAgICAgICAgPyBjdXN0b21pemVyKG9iamVjdFtrZXldLCBzb3VyY2Vba2V5XSwga2V5LCBvYmplY3QsIHNvdXJjZSlcbiAgICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgICBpZiAobmV3VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIG5ld1ZhbHVlID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzTmV3KSB7XG4gICAgICAgICAgYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXNzaWduVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgb3duIHN5bWJvbHMgb2YgYHNvdXJjZWAgdG8gYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCB0byBjb3B5IHN5bWJvbHMgZnJvbS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdD17fV0gVGhlIG9iamVjdCB0byBjb3B5IHN5bWJvbHMgdG8uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb3B5U3ltYm9scyhzb3VyY2UsIG9iamVjdCkge1xuICAgICAgcmV0dXJuIGNvcHlPYmplY3Qoc291cmNlLCBnZXRTeW1ib2xzKHNvdXJjZSksIG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29waWVzIG93biBhbmQgaW5oZXJpdGVkIHN5bWJvbHMgb2YgYHNvdXJjZWAgdG8gYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCB0byBjb3B5IHN5bWJvbHMgZnJvbS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdD17fV0gVGhlIG9iamVjdCB0byBjb3B5IHN5bWJvbHMgdG8uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb3B5U3ltYm9sc0luKHNvdXJjZSwgb2JqZWN0KSB7XG4gICAgICByZXR1cm4gY29weU9iamVjdChzb3VyY2UsIGdldFN5bWJvbHNJbihzb3VyY2UpLCBvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLmdyb3VwQnlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzZXR0ZXIgVGhlIGZ1bmN0aW9uIHRvIHNldCBhY2N1bXVsYXRvciB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2luaXRpYWxpemVyXSBUaGUgYWNjdW11bGF0b3Igb2JqZWN0IGluaXRpYWxpemVyLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFnZ3JlZ2F0b3IgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQWdncmVnYXRvcihzZXR0ZXIsIGluaXRpYWxpemVyKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlBZ2dyZWdhdG9yIDogYmFzZUFnZ3JlZ2F0b3IsXG4gICAgICAgICAgICBhY2N1bXVsYXRvciA9IGluaXRpYWxpemVyID8gaW5pdGlhbGl6ZXIoKSA6IHt9O1xuXG4gICAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIHNldHRlciwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpLCBhY2N1bXVsYXRvcik7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLmFzc2lnbmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGFzc2lnbmVyIFRoZSBmdW5jdGlvbiB0byBhc3NpZ24gdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFzc2lnbmVyIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUFzc2lnbmVyKGFzc2lnbmVyKSB7XG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2VzKSB7XG4gICAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgICAgbGVuZ3RoID0gc291cmNlcy5sZW5ndGgsXG4gICAgICAgICAgICBjdXN0b21pemVyID0gbGVuZ3RoID4gMSA/IHNvdXJjZXNbbGVuZ3RoIC0gMV0gOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBndWFyZCA9IGxlbmd0aCA+IDIgPyBzb3VyY2VzWzJdIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIGN1c3RvbWl6ZXIgPSAoYXNzaWduZXIubGVuZ3RoID4gMyAmJiB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nKVxuICAgICAgICAgID8gKGxlbmd0aC0tLCBjdXN0b21pemVyKVxuICAgICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmIChndWFyZCAmJiBpc0l0ZXJhdGVlQ2FsbChzb3VyY2VzWzBdLCBzb3VyY2VzWzFdLCBndWFyZCkpIHtcbiAgICAgICAgICBjdXN0b21pemVyID0gbGVuZ3RoIDwgMyA/IHVuZGVmaW5lZCA6IGN1c3RvbWl6ZXI7XG4gICAgICAgICAgbGVuZ3RoID0gMTtcbiAgICAgICAgfVxuICAgICAgICBvYmplY3QgPSBPYmplY3Qob2JqZWN0KTtcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICB2YXIgc291cmNlID0gc291cmNlc1tpbmRleF07XG4gICAgICAgICAgaWYgKHNvdXJjZSkge1xuICAgICAgICAgICAgYXNzaWduZXIob2JqZWN0LCBzb3VyY2UsIGluZGV4LCBjdXN0b21pemVyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgYmFzZUVhY2hgIG9yIGBiYXNlRWFjaFJpZ2h0YCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZWFjaEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGl0ZXJhdGUgb3ZlciBhIGNvbGxlY3Rpb24uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYmFzZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVCYXNlRWFjaChlYWNoRnVuYywgZnJvbVJpZ2h0KSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgICAgaWYgKGNvbGxlY3Rpb24gPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBjb2xsZWN0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNBcnJheUxpa2UoY29sbGVjdGlvbikpIHtcbiAgICAgICAgICByZXR1cm4gZWFjaEZ1bmMoY29sbGVjdGlvbiwgaXRlcmF0ZWUpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsZW5ndGggPSBjb2xsZWN0aW9uLmxlbmd0aCxcbiAgICAgICAgICAgIGluZGV4ID0gZnJvbVJpZ2h0ID8gbGVuZ3RoIDogLTEsXG4gICAgICAgICAgICBpdGVyYWJsZSA9IE9iamVjdChjb2xsZWN0aW9uKTtcblxuICAgICAgICB3aGlsZSAoKGZyb21SaWdodCA/IGluZGV4LS0gOiArK2luZGV4IDwgbGVuZ3RoKSkge1xuICAgICAgICAgIGlmIChpdGVyYXRlZShpdGVyYWJsZVtpbmRleF0sIGluZGV4LCBpdGVyYWJsZSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb247XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBiYXNlIGZ1bmN0aW9uIGZvciBtZXRob2RzIGxpa2UgYF8uZm9ySW5gIGFuZCBgXy5mb3JPd25gLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBiYXNlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUJhc2VGb3IoZnJvbVJpZ2h0KSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0LCBpdGVyYXRlZSwga2V5c0Z1bmMpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgICBpdGVyYWJsZSA9IE9iamVjdChvYmplY3QpLFxuICAgICAgICAgICAgcHJvcHMgPSBrZXlzRnVuYyhvYmplY3QpLFxuICAgICAgICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuXG4gICAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICAgIHZhciBrZXkgPSBwcm9wc1tmcm9tUmlnaHQgPyBsZW5ndGggOiArK2luZGV4XTtcbiAgICAgICAgICBpZiAoaXRlcmF0ZWUoaXRlcmFibGVba2V5XSwga2V5LCBpdGVyYWJsZSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgd3JhcHMgYGZ1bmNgIHRvIGludm9rZSBpdCB3aXRoIHRoZSBvcHRpb25hbCBgdGhpc2BcbiAgICAgKiBiaW5kaW5nIG9mIGB0aGlzQXJnYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVCaW5kKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcpIHtcbiAgICAgIHZhciBpc0JpbmQgPSBiaXRtYXNrICYgV1JBUF9CSU5EX0ZMQUcsXG4gICAgICAgICAgQ3RvciA9IGNyZWF0ZUN0b3IoZnVuYyk7XG5cbiAgICAgIGZ1bmN0aW9uIHdyYXBwZXIoKSB7XG4gICAgICAgIHZhciBmbiA9ICh0aGlzICYmIHRoaXMgIT09IHJvb3QgJiYgdGhpcyBpbnN0YW5jZW9mIHdyYXBwZXIpID8gQ3RvciA6IGZ1bmM7XG4gICAgICAgIHJldHVybiBmbi5hcHBseShpc0JpbmQgPyB0aGlzQXJnIDogdGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB3cmFwcGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLmxvd2VyRmlyc3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kTmFtZSBUaGUgbmFtZSBvZiB0aGUgYFN0cmluZ2AgY2FzZSBtZXRob2QgdG8gdXNlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNhc2UgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQ2FzZUZpcnN0KG1ldGhvZE5hbWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcblxuICAgICAgICB2YXIgc3RyU3ltYm9scyA9IGhhc1VuaWNvZGUoc3RyaW5nKVxuICAgICAgICAgID8gc3RyaW5nVG9BcnJheShzdHJpbmcpXG4gICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgdmFyIGNociA9IHN0clN5bWJvbHNcbiAgICAgICAgICA/IHN0clN5bWJvbHNbMF1cbiAgICAgICAgICA6IHN0cmluZy5jaGFyQXQoMCk7XG5cbiAgICAgICAgdmFyIHRyYWlsaW5nID0gc3RyU3ltYm9sc1xuICAgICAgICAgID8gY2FzdFNsaWNlKHN0clN5bWJvbHMsIDEpLmpvaW4oJycpXG4gICAgICAgICAgOiBzdHJpbmcuc2xpY2UoMSk7XG5cbiAgICAgICAgcmV0dXJuIGNoclttZXRob2ROYW1lXSgpICsgdHJhaWxpbmc7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLmNhbWVsQ2FzZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0byBjb21iaW5lIGVhY2ggd29yZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb21wb3VuZGVyIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUNvbXBvdW5kZXIoY2FsbGJhY2spIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIGFycmF5UmVkdWNlKHdvcmRzKGRlYnVycihzdHJpbmcpLnJlcGxhY2UocmVBcG9zLCAnJykpLCBjYWxsYmFjaywgJycpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwcm9kdWNlcyBhbiBpbnN0YW5jZSBvZiBgQ3RvcmAgcmVnYXJkbGVzcyBvZlxuICAgICAqIHdoZXRoZXIgaXQgd2FzIGludm9rZWQgYXMgcGFydCBvZiBhIGBuZXdgIGV4cHJlc3Npb24gb3IgYnkgYGNhbGxgIG9yIGBhcHBseWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IEN0b3IgVGhlIGNvbnN0cnVjdG9yIHRvIHdyYXAuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVDdG9yKEN0b3IpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gVXNlIGEgYHN3aXRjaGAgc3RhdGVtZW50IHRvIHdvcmsgd2l0aCBjbGFzcyBjb25zdHJ1Y3RvcnMuIFNlZVxuICAgICAgICAvLyBodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWZ1bmN0aW9uLW9iamVjdHMtY2FsbC10aGlzYXJndW1lbnQtYXJndW1lbnRzbGlzdFxuICAgICAgICAvLyBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgICAgICAgIGNhc2UgMDogcmV0dXJuIG5ldyBDdG9yO1xuICAgICAgICAgIGNhc2UgMTogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0pO1xuICAgICAgICAgIGNhc2UgMjogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgICAgICAgIGNhc2UgMzogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgICAgICAgIGNhc2UgNDogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10pO1xuICAgICAgICAgIGNhc2UgNTogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10sIGFyZ3NbNF0pO1xuICAgICAgICAgIGNhc2UgNjogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10sIGFyZ3NbNF0sIGFyZ3NbNV0pO1xuICAgICAgICAgIGNhc2UgNzogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10sIGFyZ3NbNF0sIGFyZ3NbNV0sIGFyZ3NbNl0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0aGlzQmluZGluZyA9IGJhc2VDcmVhdGUoQ3Rvci5wcm90b3R5cGUpLFxuICAgICAgICAgICAgcmVzdWx0ID0gQ3Rvci5hcHBseSh0aGlzQmluZGluZywgYXJncyk7XG5cbiAgICAgICAgLy8gTWltaWMgdGhlIGNvbnN0cnVjdG9yJ3MgYHJldHVybmAgYmVoYXZpb3IuXG4gICAgICAgIC8vIFNlZSBodHRwczovL2VzNS5naXRodWIuaW8vI3gxMy4yLjIgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgICAgcmV0dXJuIGlzT2JqZWN0KHJlc3VsdCkgPyByZXN1bHQgOiB0aGlzQmluZGluZztcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgd3JhcHMgYGZ1bmNgIHRvIGVuYWJsZSBjdXJyeWluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhcml0eSBUaGUgYXJpdHkgb2YgYGZ1bmNgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQ3VycnkoZnVuYywgYml0bWFzaywgYXJpdHkpIHtcbiAgICAgIHZhciBDdG9yID0gY3JlYXRlQ3RvcihmdW5jKTtcblxuICAgICAgZnVuY3Rpb24gd3JhcHBlcigpIHtcbiAgICAgICAgdmFyIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGgsXG4gICAgICAgICAgICBhcmdzID0gQXJyYXkobGVuZ3RoKSxcbiAgICAgICAgICAgIGluZGV4ID0gbGVuZ3RoLFxuICAgICAgICAgICAgcGxhY2Vob2xkZXIgPSBnZXRIb2xkZXIod3JhcHBlcik7XG5cbiAgICAgICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgICAgICBhcmdzW2luZGV4XSA9IGFyZ3VtZW50c1tpbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGhvbGRlcnMgPSAobGVuZ3RoIDwgMyAmJiBhcmdzWzBdICE9PSBwbGFjZWhvbGRlciAmJiBhcmdzW2xlbmd0aCAtIDFdICE9PSBwbGFjZWhvbGRlcilcbiAgICAgICAgICA/IFtdXG4gICAgICAgICAgOiByZXBsYWNlSG9sZGVycyhhcmdzLCBwbGFjZWhvbGRlcik7XG5cbiAgICAgICAgbGVuZ3RoIC09IGhvbGRlcnMubGVuZ3RoO1xuICAgICAgICBpZiAobGVuZ3RoIDwgYXJpdHkpIHtcbiAgICAgICAgICByZXR1cm4gY3JlYXRlUmVjdXJyeShcbiAgICAgICAgICAgIGZ1bmMsIGJpdG1hc2ssIGNyZWF0ZUh5YnJpZCwgd3JhcHBlci5wbGFjZWhvbGRlciwgdW5kZWZpbmVkLFxuICAgICAgICAgICAgYXJncywgaG9sZGVycywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGFyaXR5IC0gbGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZm4gPSAodGhpcyAmJiB0aGlzICE9PSByb290ICYmIHRoaXMgaW5zdGFuY2VvZiB3cmFwcGVyKSA/IEN0b3IgOiBmdW5jO1xuICAgICAgICByZXR1cm4gYXBwbHkoZm4sIHRoaXMsIGFyZ3MpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHdyYXBwZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBfLmZpbmRgIG9yIGBfLmZpbmRMYXN0YCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZmluZEluZGV4RnVuYyBUaGUgZnVuY3Rpb24gdG8gZmluZCB0aGUgY29sbGVjdGlvbiBpbmRleC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmaW5kIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUZpbmQoZmluZEluZGV4RnVuYykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZnJvbUluZGV4KSB7XG4gICAgICAgIHZhciBpdGVyYWJsZSA9IE9iamVjdChjb2xsZWN0aW9uKTtcbiAgICAgICAgaWYgKCFpc0FycmF5TGlrZShjb2xsZWN0aW9uKSkge1xuICAgICAgICAgIHZhciBpdGVyYXRlZSA9IGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyk7XG4gICAgICAgICAgY29sbGVjdGlvbiA9IGtleXMoY29sbGVjdGlvbik7XG4gICAgICAgICAgcHJlZGljYXRlID0gZnVuY3Rpb24oa2V5KSB7IHJldHVybiBpdGVyYXRlZShpdGVyYWJsZVtrZXldLCBrZXksIGl0ZXJhYmxlKTsgfTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW5kZXggPSBmaW5kSW5kZXhGdW5jKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZnJvbUluZGV4KTtcbiAgICAgICAgcmV0dXJuIGluZGV4ID4gLTEgPyBpdGVyYWJsZVtpdGVyYXRlZSA/IGNvbGxlY3Rpb25baW5kZXhdIDogaW5kZXhdIDogdW5kZWZpbmVkO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYF8uZmxvd2Agb3IgYF8uZmxvd1JpZ2h0YCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZmxvdyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVGbG93KGZyb21SaWdodCkge1xuICAgICAgcmV0dXJuIGZsYXRSZXN0KGZ1bmN0aW9uKGZ1bmNzKSB7XG4gICAgICAgIHZhciBsZW5ndGggPSBmdW5jcy5sZW5ndGgsXG4gICAgICAgICAgICBpbmRleCA9IGxlbmd0aCxcbiAgICAgICAgICAgIHByZXJlcSA9IExvZGFzaFdyYXBwZXIucHJvdG90eXBlLnRocnU7XG5cbiAgICAgICAgaWYgKGZyb21SaWdodCkge1xuICAgICAgICAgIGZ1bmNzLnJldmVyc2UoKTtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICAgIHZhciBmdW5jID0gZnVuY3NbaW5kZXhdO1xuICAgICAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwcmVyZXEgJiYgIXdyYXBwZXIgJiYgZ2V0RnVuY05hbWUoZnVuYykgPT0gJ3dyYXBwZXInKSB7XG4gICAgICAgICAgICB2YXIgd3JhcHBlciA9IG5ldyBMb2Rhc2hXcmFwcGVyKFtdLCB0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaW5kZXggPSB3cmFwcGVyID8gaW5kZXggOiBsZW5ndGg7XG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgZnVuYyA9IGZ1bmNzW2luZGV4XTtcblxuICAgICAgICAgIHZhciBmdW5jTmFtZSA9IGdldEZ1bmNOYW1lKGZ1bmMpLFxuICAgICAgICAgICAgICBkYXRhID0gZnVuY05hbWUgPT0gJ3dyYXBwZXInID8gZ2V0RGF0YShmdW5jKSA6IHVuZGVmaW5lZDtcblxuICAgICAgICAgIGlmIChkYXRhICYmIGlzTGF6aWFibGUoZGF0YVswXSkgJiZcbiAgICAgICAgICAgICAgICBkYXRhWzFdID09IChXUkFQX0FSWV9GTEFHIHwgV1JBUF9DVVJSWV9GTEFHIHwgV1JBUF9QQVJUSUFMX0ZMQUcgfCBXUkFQX1JFQVJHX0ZMQUcpICYmXG4gICAgICAgICAgICAgICAgIWRhdGFbNF0ubGVuZ3RoICYmIGRhdGFbOV0gPT0gMVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgIHdyYXBwZXIgPSB3cmFwcGVyW2dldEZ1bmNOYW1lKGRhdGFbMF0pXS5hcHBseSh3cmFwcGVyLCBkYXRhWzNdKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgd3JhcHBlciA9IChmdW5jLmxlbmd0aCA9PSAxICYmIGlzTGF6aWFibGUoZnVuYykpXG4gICAgICAgICAgICAgID8gd3JhcHBlcltmdW5jTmFtZV0oKVxuICAgICAgICAgICAgICA6IHdyYXBwZXIudGhydShmdW5jKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICAgICAgICB2YWx1ZSA9IGFyZ3NbMF07XG5cbiAgICAgICAgICBpZiAod3JhcHBlciAmJiBhcmdzLmxlbmd0aCA9PSAxICYmIGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gd3JhcHBlci5wbGFudCh2YWx1ZSkudmFsdWUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIGluZGV4ID0gMCxcbiAgICAgICAgICAgICAgcmVzdWx0ID0gbGVuZ3RoID8gZnVuY3NbaW5kZXhdLmFwcGx5KHRoaXMsIGFyZ3MpIDogdmFsdWU7XG5cbiAgICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gZnVuY3NbaW5kZXhdLmNhbGwodGhpcywgcmVzdWx0KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHdyYXBzIGBmdW5jYCB0byBpbnZva2UgaXQgd2l0aCBvcHRpb25hbCBgdGhpc2BcbiAgICAgKiBiaW5kaW5nIG9mIGB0aGlzQXJnYCwgcGFydGlhbCBhcHBsaWNhdGlvbiwgYW5kIGN1cnJ5aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufHN0cmluZ30gZnVuYyBUaGUgZnVuY3Rpb24gb3IgbWV0aG9kIG5hbWUgdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIHByZXBlbmQgdG8gdGhvc2UgcHJvdmlkZWQgdG9cbiAgICAgKiAgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbaG9sZGVyc10gVGhlIGBwYXJ0aWFsc2AgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcGFydGlhbHNSaWdodF0gVGhlIGFyZ3VtZW50cyB0byBhcHBlbmQgdG8gdGhvc2UgcHJvdmlkZWRcbiAgICAgKiAgdG8gdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbaG9sZGVyc1JpZ2h0XSBUaGUgYHBhcnRpYWxzUmlnaHRgIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2FyZ1Bvc10gVGhlIGFyZ3VtZW50IHBvc2l0aW9ucyBvZiB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJ5XSBUaGUgYXJpdHkgY2FwIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyaXR5XSBUaGUgYXJpdHkgb2YgYGZ1bmNgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlSHlicmlkKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzLCBob2xkZXJzLCBwYXJ0aWFsc1JpZ2h0LCBob2xkZXJzUmlnaHQsIGFyZ1BvcywgYXJ5LCBhcml0eSkge1xuICAgICAgdmFyIGlzQXJ5ID0gYml0bWFzayAmIFdSQVBfQVJZX0ZMQUcsXG4gICAgICAgICAgaXNCaW5kID0gYml0bWFzayAmIFdSQVBfQklORF9GTEFHLFxuICAgICAgICAgIGlzQmluZEtleSA9IGJpdG1hc2sgJiBXUkFQX0JJTkRfS0VZX0ZMQUcsXG4gICAgICAgICAgaXNDdXJyaWVkID0gYml0bWFzayAmIChXUkFQX0NVUlJZX0ZMQUcgfCBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcpLFxuICAgICAgICAgIGlzRmxpcCA9IGJpdG1hc2sgJiBXUkFQX0ZMSVBfRkxBRyxcbiAgICAgICAgICBDdG9yID0gaXNCaW5kS2V5ID8gdW5kZWZpbmVkIDogY3JlYXRlQ3RvcihmdW5jKTtcblxuICAgICAgZnVuY3Rpb24gd3JhcHBlcigpIHtcbiAgICAgICAgdmFyIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGgsXG4gICAgICAgICAgICBhcmdzID0gQXJyYXkobGVuZ3RoKSxcbiAgICAgICAgICAgIGluZGV4ID0gbGVuZ3RoO1xuXG4gICAgICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICAgICAgYXJnc1tpbmRleF0gPSBhcmd1bWVudHNbaW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0N1cnJpZWQpIHtcbiAgICAgICAgICB2YXIgcGxhY2Vob2xkZXIgPSBnZXRIb2xkZXIod3JhcHBlciksXG4gICAgICAgICAgICAgIGhvbGRlcnNDb3VudCA9IGNvdW50SG9sZGVycyhhcmdzLCBwbGFjZWhvbGRlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnRpYWxzKSB7XG4gICAgICAgICAgYXJncyA9IGNvbXBvc2VBcmdzKGFyZ3MsIHBhcnRpYWxzLCBob2xkZXJzLCBpc0N1cnJpZWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJ0aWFsc1JpZ2h0KSB7XG4gICAgICAgICAgYXJncyA9IGNvbXBvc2VBcmdzUmlnaHQoYXJncywgcGFydGlhbHNSaWdodCwgaG9sZGVyc1JpZ2h0LCBpc0N1cnJpZWQpO1xuICAgICAgICB9XG4gICAgICAgIGxlbmd0aCAtPSBob2xkZXJzQ291bnQ7XG4gICAgICAgIGlmIChpc0N1cnJpZWQgJiYgbGVuZ3RoIDwgYXJpdHkpIHtcbiAgICAgICAgICB2YXIgbmV3SG9sZGVycyA9IHJlcGxhY2VIb2xkZXJzKGFyZ3MsIHBsYWNlaG9sZGVyKTtcbiAgICAgICAgICByZXR1cm4gY3JlYXRlUmVjdXJyeShcbiAgICAgICAgICAgIGZ1bmMsIGJpdG1hc2ssIGNyZWF0ZUh5YnJpZCwgd3JhcHBlci5wbGFjZWhvbGRlciwgdGhpc0FyZyxcbiAgICAgICAgICAgIGFyZ3MsIG5ld0hvbGRlcnMsIGFyZ1BvcywgYXJ5LCBhcml0eSAtIGxlbmd0aFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRoaXNCaW5kaW5nID0gaXNCaW5kID8gdGhpc0FyZyA6IHRoaXMsXG4gICAgICAgICAgICBmbiA9IGlzQmluZEtleSA/IHRoaXNCaW5kaW5nW2Z1bmNdIDogZnVuYztcblxuICAgICAgICBsZW5ndGggPSBhcmdzLmxlbmd0aDtcbiAgICAgICAgaWYgKGFyZ1Bvcykge1xuICAgICAgICAgIGFyZ3MgPSByZW9yZGVyKGFyZ3MsIGFyZ1Bvcyk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNGbGlwICYmIGxlbmd0aCA+IDEpIHtcbiAgICAgICAgICBhcmdzLnJldmVyc2UoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNBcnkgJiYgYXJ5IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgYXJncy5sZW5ndGggPSBhcnk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMgJiYgdGhpcyAhPT0gcm9vdCAmJiB0aGlzIGluc3RhbmNlb2Ygd3JhcHBlcikge1xuICAgICAgICAgIGZuID0gQ3RvciB8fCBjcmVhdGVDdG9yKGZuKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZm4uYXBwbHkodGhpc0JpbmRpbmcsIGFyZ3MpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHdyYXBwZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8uaW52ZXJ0QnlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzZXR0ZXIgVGhlIGZ1bmN0aW9uIHRvIHNldCBhY2N1bXVsYXRvciB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdG9JdGVyYXRlZSBUaGUgZnVuY3Rpb24gdG8gcmVzb2x2ZSBpdGVyYXRlZXMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgaW52ZXJ0ZXIgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlSW52ZXJ0ZXIoc2V0dGVyLCB0b0l0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgICByZXR1cm4gYmFzZUludmVydGVyKG9iamVjdCwgc2V0dGVyLCB0b0l0ZXJhdGVlKGl0ZXJhdGVlKSwge30pO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwZXJmb3JtcyBhIG1hdGhlbWF0aWNhbCBvcGVyYXRpb24gb24gdHdvIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gb3BlcmF0b3IgVGhlIGZ1bmN0aW9uIHRvIHBlcmZvcm0gdGhlIG9wZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2RlZmF1bHRWYWx1ZV0gVGhlIHZhbHVlIHVzZWQgZm9yIGB1bmRlZmluZWRgIGFyZ3VtZW50cy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBtYXRoZW1hdGljYWwgb3BlcmF0aW9uIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZU1hdGhPcGVyYXRpb24ob3BlcmF0b3IsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlLCBvdGhlcikge1xuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCAmJiBvdGhlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvdGhlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaWYgKHJlc3VsdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gb3RoZXI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgfHwgdHlwZW9mIG90aGVyID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGJhc2VUb1N0cmluZyh2YWx1ZSk7XG4gICAgICAgICAgICBvdGhlciA9IGJhc2VUb1N0cmluZyhvdGhlcik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhbHVlID0gYmFzZVRvTnVtYmVyKHZhbHVlKTtcbiAgICAgICAgICAgIG90aGVyID0gYmFzZVRvTnVtYmVyKG90aGVyKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0ID0gb3BlcmF0b3IodmFsdWUsIG90aGVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5vdmVyYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gYXJyYXlGdW5jIFRoZSBmdW5jdGlvbiB0byBpdGVyYXRlIG92ZXIgaXRlcmF0ZWVzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG92ZXIgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlT3ZlcihhcnJheUZ1bmMpIHtcbiAgICAgIHJldHVybiBmbGF0UmVzdChmdW5jdGlvbihpdGVyYXRlZXMpIHtcbiAgICAgICAgaXRlcmF0ZWVzID0gYXJyYXlNYXAoaXRlcmF0ZWVzLCBiYXNlVW5hcnkoZ2V0SXRlcmF0ZWUoKSkpO1xuICAgICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgICAgIHZhciB0aGlzQXJnID0gdGhpcztcbiAgICAgICAgICByZXR1cm4gYXJyYXlGdW5jKGl0ZXJhdGVlcywgZnVuY3Rpb24oaXRlcmF0ZWUpIHtcbiAgICAgICAgICAgIHJldHVybiBhcHBseShpdGVyYXRlZSwgdGhpc0FyZywgYXJncyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyB0aGUgcGFkZGluZyBmb3IgYHN0cmluZ2AgYmFzZWQgb24gYGxlbmd0aGAuIFRoZSBgY2hhcnNgIHN0cmluZ1xuICAgICAqIGlzIHRydW5jYXRlZCBpZiB0aGUgbnVtYmVyIG9mIGNoYXJhY3RlcnMgZXhjZWVkcyBgbGVuZ3RoYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGxlbmd0aCBUaGUgcGFkZGluZyBsZW5ndGguXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtjaGFycz0nICddIFRoZSBzdHJpbmcgdXNlZCBhcyBwYWRkaW5nLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHBhZGRpbmcgZm9yIGBzdHJpbmdgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVBhZGRpbmcobGVuZ3RoLCBjaGFycykge1xuICAgICAgY2hhcnMgPSBjaGFycyA9PT0gdW5kZWZpbmVkID8gJyAnIDogYmFzZVRvU3RyaW5nKGNoYXJzKTtcblxuICAgICAgdmFyIGNoYXJzTGVuZ3RoID0gY2hhcnMubGVuZ3RoO1xuICAgICAgaWYgKGNoYXJzTGVuZ3RoIDwgMikge1xuICAgICAgICByZXR1cm4gY2hhcnNMZW5ndGggPyBiYXNlUmVwZWF0KGNoYXJzLCBsZW5ndGgpIDogY2hhcnM7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gYmFzZVJlcGVhdChjaGFycywgbmF0aXZlQ2VpbChsZW5ndGggLyBzdHJpbmdTaXplKGNoYXJzKSkpO1xuICAgICAgcmV0dXJuIGhhc1VuaWNvZGUoY2hhcnMpXG4gICAgICAgID8gY2FzdFNsaWNlKHN0cmluZ1RvQXJyYXkocmVzdWx0KSwgMCwgbGVuZ3RoKS5qb2luKCcnKVxuICAgICAgICA6IHJlc3VsdC5zbGljZSgwLCBsZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHdyYXBzIGBmdW5jYCB0byBpbnZva2UgaXQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmdcbiAgICAgKiBvZiBgdGhpc0FyZ2AgYW5kIGBwYXJ0aWFsc2AgcHJlcGVuZGVkIHRvIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0geyp9IHRoaXNBcmcgVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYXJ0aWFscyBUaGUgYXJndW1lbnRzIHRvIHByZXBlbmQgdG8gdGhvc2UgcHJvdmlkZWQgdG9cbiAgICAgKiAgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVBhcnRpYWwoZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMpIHtcbiAgICAgIHZhciBpc0JpbmQgPSBiaXRtYXNrICYgV1JBUF9CSU5EX0ZMQUcsXG4gICAgICAgICAgQ3RvciA9IGNyZWF0ZUN0b3IoZnVuYyk7XG5cbiAgICAgIGZ1bmN0aW9uIHdyYXBwZXIoKSB7XG4gICAgICAgIHZhciBhcmdzSW5kZXggPSAtMSxcbiAgICAgICAgICAgIGFyZ3NMZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoLFxuICAgICAgICAgICAgbGVmdEluZGV4ID0gLTEsXG4gICAgICAgICAgICBsZWZ0TGVuZ3RoID0gcGFydGlhbHMubGVuZ3RoLFxuICAgICAgICAgICAgYXJncyA9IEFycmF5KGxlZnRMZW5ndGggKyBhcmdzTGVuZ3RoKSxcbiAgICAgICAgICAgIGZuID0gKHRoaXMgJiYgdGhpcyAhPT0gcm9vdCAmJiB0aGlzIGluc3RhbmNlb2Ygd3JhcHBlcikgPyBDdG9yIDogZnVuYztcblxuICAgICAgICB3aGlsZSAoKytsZWZ0SW5kZXggPCBsZWZ0TGVuZ3RoKSB7XG4gICAgICAgICAgYXJnc1tsZWZ0SW5kZXhdID0gcGFydGlhbHNbbGVmdEluZGV4XTtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoYXJnc0xlbmd0aC0tKSB7XG4gICAgICAgICAgYXJnc1tsZWZ0SW5kZXgrK10gPSBhcmd1bWVudHNbKythcmdzSW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcHBseShmbiwgaXNCaW5kID8gdGhpc0FyZyA6IHRoaXMsIGFyZ3MpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHdyYXBwZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBfLnJhbmdlYCBvciBgXy5yYW5nZVJpZ2h0YCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcmFuZ2UgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlUmFuZ2UoZnJvbVJpZ2h0KSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oc3RhcnQsIGVuZCwgc3RlcCkge1xuICAgICAgICBpZiAoc3RlcCAmJiB0eXBlb2Ygc3RlcCAhPSAnbnVtYmVyJyAmJiBpc0l0ZXJhdGVlQ2FsbChzdGFydCwgZW5kLCBzdGVwKSkge1xuICAgICAgICAgIGVuZCA9IHN0ZXAgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRW5zdXJlIHRoZSBzaWduIG9mIGAtMGAgaXMgcHJlc2VydmVkLlxuICAgICAgICBzdGFydCA9IHRvRmluaXRlKHN0YXJ0KTtcbiAgICAgICAgaWYgKGVuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgZW5kID0gc3RhcnQ7XG4gICAgICAgICAgc3RhcnQgPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVuZCA9IHRvRmluaXRlKGVuZCk7XG4gICAgICAgIH1cbiAgICAgICAgc3RlcCA9IHN0ZXAgPT09IHVuZGVmaW5lZCA/IChzdGFydCA8IGVuZCA/IDEgOiAtMSkgOiB0b0Zpbml0ZShzdGVwKTtcbiAgICAgICAgcmV0dXJuIGJhc2VSYW5nZShzdGFydCwgZW5kLCBzdGVwLCBmcm9tUmlnaHQpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwZXJmb3JtcyBhIHJlbGF0aW9uYWwgb3BlcmF0aW9uIG9uIHR3byB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IG9wZXJhdG9yIFRoZSBmdW5jdGlvbiB0byBwZXJmb3JtIHRoZSBvcGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcmVsYXRpb25hbCBvcGVyYXRpb24gZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbihvcGVyYXRvcikge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlLCBvdGhlcikge1xuICAgICAgICBpZiAoISh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgJiYgdHlwZW9mIG90aGVyID09ICdzdHJpbmcnKSkge1xuICAgICAgICAgIHZhbHVlID0gdG9OdW1iZXIodmFsdWUpO1xuICAgICAgICAgIG90aGVyID0gdG9OdW1iZXIob3RoZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvcGVyYXRvcih2YWx1ZSwgb3RoZXIpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCB3cmFwcyBgZnVuY2AgdG8gY29udGludWUgY3VycnlpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB3cmFwRnVuYyBUaGUgZnVuY3Rpb24gdG8gY3JlYXRlIHRoZSBgZnVuY2Agd3JhcHBlci5cbiAgICAgKiBAcGFyYW0geyp9IHBsYWNlaG9sZGVyIFRoZSBwbGFjZWhvbGRlciB2YWx1ZS5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBwcmVwZW5kIHRvIHRob3NlIHByb3ZpZGVkIHRvXG4gICAgICogIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2hvbGRlcnNdIFRoZSBgcGFydGlhbHNgIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2FyZ1Bvc10gVGhlIGFyZ3VtZW50IHBvc2l0aW9ucyBvZiB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJ5XSBUaGUgYXJpdHkgY2FwIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyaXR5XSBUaGUgYXJpdHkgb2YgYGZ1bmNgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlUmVjdXJyeShmdW5jLCBiaXRtYXNrLCB3cmFwRnVuYywgcGxhY2Vob2xkZXIsIHRoaXNBcmcsIHBhcnRpYWxzLCBob2xkZXJzLCBhcmdQb3MsIGFyeSwgYXJpdHkpIHtcbiAgICAgIHZhciBpc0N1cnJ5ID0gYml0bWFzayAmIFdSQVBfQ1VSUllfRkxBRyxcbiAgICAgICAgICBuZXdIb2xkZXJzID0gaXNDdXJyeSA/IGhvbGRlcnMgOiB1bmRlZmluZWQsXG4gICAgICAgICAgbmV3SG9sZGVyc1JpZ2h0ID0gaXNDdXJyeSA/IHVuZGVmaW5lZCA6IGhvbGRlcnMsXG4gICAgICAgICAgbmV3UGFydGlhbHMgPSBpc0N1cnJ5ID8gcGFydGlhbHMgOiB1bmRlZmluZWQsXG4gICAgICAgICAgbmV3UGFydGlhbHNSaWdodCA9IGlzQ3VycnkgPyB1bmRlZmluZWQgOiBwYXJ0aWFscztcblxuICAgICAgYml0bWFzayB8PSAoaXNDdXJyeSA/IFdSQVBfUEFSVElBTF9GTEFHIDogV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUcpO1xuICAgICAgYml0bWFzayAmPSB+KGlzQ3VycnkgPyBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRyA6IFdSQVBfUEFSVElBTF9GTEFHKTtcblxuICAgICAgaWYgKCEoYml0bWFzayAmIFdSQVBfQ1VSUllfQk9VTkRfRkxBRykpIHtcbiAgICAgICAgYml0bWFzayAmPSB+KFdSQVBfQklORF9GTEFHIHwgV1JBUF9CSU5EX0tFWV9GTEFHKTtcbiAgICAgIH1cbiAgICAgIHZhciBuZXdEYXRhID0gW1xuICAgICAgICBmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBuZXdQYXJ0aWFscywgbmV3SG9sZGVycywgbmV3UGFydGlhbHNSaWdodCxcbiAgICAgICAgbmV3SG9sZGVyc1JpZ2h0LCBhcmdQb3MsIGFyeSwgYXJpdHlcbiAgICAgIF07XG5cbiAgICAgIHZhciByZXN1bHQgPSB3cmFwRnVuYy5hcHBseSh1bmRlZmluZWQsIG5ld0RhdGEpO1xuICAgICAgaWYgKGlzTGF6aWFibGUoZnVuYykpIHtcbiAgICAgICAgc2V0RGF0YShyZXN1bHQsIG5ld0RhdGEpO1xuICAgICAgfVxuICAgICAgcmVzdWx0LnBsYWNlaG9sZGVyID0gcGxhY2Vob2xkZXI7XG4gICAgICByZXR1cm4gc2V0V3JhcFRvU3RyaW5nKHJlc3VsdCwgZnVuYywgYml0bWFzayk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8ucm91bmRgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kTmFtZSBUaGUgbmFtZSBvZiB0aGUgYE1hdGhgIG1ldGhvZCB0byB1c2Ugd2hlbiByb3VuZGluZy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByb3VuZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVSb3VuZChtZXRob2ROYW1lKSB7XG4gICAgICB2YXIgZnVuYyA9IE1hdGhbbWV0aG9kTmFtZV07XG4gICAgICByZXR1cm4gZnVuY3Rpb24obnVtYmVyLCBwcmVjaXNpb24pIHtcbiAgICAgICAgbnVtYmVyID0gdG9OdW1iZXIobnVtYmVyKTtcbiAgICAgICAgcHJlY2lzaW9uID0gcHJlY2lzaW9uID09IG51bGwgPyAwIDogbmF0aXZlTWluKHRvSW50ZWdlcihwcmVjaXNpb24pLCAyOTIpO1xuICAgICAgICBpZiAocHJlY2lzaW9uICYmIG5hdGl2ZUlzRmluaXRlKG51bWJlcikpIHtcbiAgICAgICAgICAvLyBTaGlmdCB3aXRoIGV4cG9uZW50aWFsIG5vdGF0aW9uIHRvIGF2b2lkIGZsb2F0aW5nLXBvaW50IGlzc3Vlcy5cbiAgICAgICAgICAvLyBTZWUgW01ETl0oaHR0cHM6Ly9tZG4uaW8vcm91bmQjRXhhbXBsZXMpIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICAgICAgdmFyIHBhaXIgPSAodG9TdHJpbmcobnVtYmVyKSArICdlJykuc3BsaXQoJ2UnKSxcbiAgICAgICAgICAgICAgdmFsdWUgPSBmdW5jKHBhaXJbMF0gKyAnZScgKyAoK3BhaXJbMV0gKyBwcmVjaXNpb24pKTtcblxuICAgICAgICAgIHBhaXIgPSAodG9TdHJpbmcodmFsdWUpICsgJ2UnKS5zcGxpdCgnZScpO1xuICAgICAgICAgIHJldHVybiArKHBhaXJbMF0gKyAnZScgKyAoK3BhaXJbMV0gLSBwcmVjaXNpb24pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnVuYyhudW1iZXIpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2V0IG9iamVjdCBvZiBgdmFsdWVzYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gYWRkIHRvIHRoZSBzZXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IHNldC5cbiAgICAgKi9cbiAgICB2YXIgY3JlYXRlU2V0ID0gIShTZXQgJiYgKDEgLyBzZXRUb0FycmF5KG5ldyBTZXQoWywtMF0pKVsxXSkgPT0gSU5GSU5JVFkpID8gbm9vcCA6IGZ1bmN0aW9uKHZhbHVlcykge1xuICAgICAgcmV0dXJuIG5ldyBTZXQodmFsdWVzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBfLnRvUGFpcnNgIG9yIGBfLnRvUGFpcnNJbmAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGtleXNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIGtleXMgb2YgYSBnaXZlbiBvYmplY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcGFpcnMgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlVG9QYWlycyhrZXlzRnVuYykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICB2YXIgdGFnID0gZ2V0VGFnKG9iamVjdCk7XG4gICAgICAgIGlmICh0YWcgPT0gbWFwVGFnKSB7XG4gICAgICAgICAgcmV0dXJuIG1hcFRvQXJyYXkob2JqZWN0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGFnID09IHNldFRhZykge1xuICAgICAgICAgIHJldHVybiBzZXRUb1BhaXJzKG9iamVjdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJhc2VUb1BhaXJzKG9iamVjdCwga2V5c0Z1bmMob2JqZWN0KSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGVpdGhlciBjdXJyaWVzIG9yIGludm9rZXMgYGZ1bmNgIHdpdGggb3B0aW9uYWxcbiAgICAgKiBgdGhpc2AgYmluZGluZyBhbmQgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufHN0cmluZ30gZnVuYyBUaGUgZnVuY3Rpb24gb3IgbWV0aG9kIG5hbWUgdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy5cbiAgICAgKiAgICAxIC0gYF8uYmluZGBcbiAgICAgKiAgICAyIC0gYF8uYmluZEtleWBcbiAgICAgKiAgICA0IC0gYF8uY3VycnlgIG9yIGBfLmN1cnJ5UmlnaHRgIG9mIGEgYm91bmQgZnVuY3Rpb25cbiAgICAgKiAgICA4IC0gYF8uY3VycnlgXG4gICAgICogICAxNiAtIGBfLmN1cnJ5UmlnaHRgXG4gICAgICogICAzMiAtIGBfLnBhcnRpYWxgXG4gICAgICogICA2NCAtIGBfLnBhcnRpYWxSaWdodGBcbiAgICAgKiAgMTI4IC0gYF8ucmVhcmdgXG4gICAgICogIDI1NiAtIGBfLmFyeWBcbiAgICAgKiAgNTEyIC0gYF8uZmxpcGBcbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBiZSBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbaG9sZGVyc10gVGhlIGBwYXJ0aWFsc2AgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbYXJnUG9zXSBUaGUgYXJndW1lbnQgcG9zaXRpb25zIG9mIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcnldIFRoZSBhcml0eSBjYXAgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHldIFRoZSBhcml0eSBvZiBgZnVuY2AuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVXcmFwKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzLCBob2xkZXJzLCBhcmdQb3MsIGFyeSwgYXJpdHkpIHtcbiAgICAgIHZhciBpc0JpbmRLZXkgPSBiaXRtYXNrICYgV1JBUF9CSU5EX0tFWV9GTEFHO1xuICAgICAgaWYgKCFpc0JpbmRLZXkgJiYgdHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICB2YXIgbGVuZ3RoID0gcGFydGlhbHMgPyBwYXJ0aWFscy5sZW5ndGggOiAwO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgYml0bWFzayAmPSB+KFdSQVBfUEFSVElBTF9GTEFHIHwgV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUcpO1xuICAgICAgICBwYXJ0aWFscyA9IGhvbGRlcnMgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBhcnkgPSBhcnkgPT09IHVuZGVmaW5lZCA/IGFyeSA6IG5hdGl2ZU1heCh0b0ludGVnZXIoYXJ5KSwgMCk7XG4gICAgICBhcml0eSA9IGFyaXR5ID09PSB1bmRlZmluZWQgPyBhcml0eSA6IHRvSW50ZWdlcihhcml0eSk7XG4gICAgICBsZW5ndGggLT0gaG9sZGVycyA/IGhvbGRlcnMubGVuZ3RoIDogMDtcblxuICAgICAgaWYgKGJpdG1hc2sgJiBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRykge1xuICAgICAgICB2YXIgcGFydGlhbHNSaWdodCA9IHBhcnRpYWxzLFxuICAgICAgICAgICAgaG9sZGVyc1JpZ2h0ID0gaG9sZGVycztcblxuICAgICAgICBwYXJ0aWFscyA9IGhvbGRlcnMgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICB2YXIgZGF0YSA9IGlzQmluZEtleSA/IHVuZGVmaW5lZCA6IGdldERhdGEoZnVuYyk7XG5cbiAgICAgIHZhciBuZXdEYXRhID0gW1xuICAgICAgICBmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBwYXJ0aWFscywgaG9sZGVycywgcGFydGlhbHNSaWdodCwgaG9sZGVyc1JpZ2h0LFxuICAgICAgICBhcmdQb3MsIGFyeSwgYXJpdHlcbiAgICAgIF07XG5cbiAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgIG1lcmdlRGF0YShuZXdEYXRhLCBkYXRhKTtcbiAgICAgIH1cbiAgICAgIGZ1bmMgPSBuZXdEYXRhWzBdO1xuICAgICAgYml0bWFzayA9IG5ld0RhdGFbMV07XG4gICAgICB0aGlzQXJnID0gbmV3RGF0YVsyXTtcbiAgICAgIHBhcnRpYWxzID0gbmV3RGF0YVszXTtcbiAgICAgIGhvbGRlcnMgPSBuZXdEYXRhWzRdO1xuICAgICAgYXJpdHkgPSBuZXdEYXRhWzldID0gbmV3RGF0YVs5XSA9PT0gdW5kZWZpbmVkXG4gICAgICAgID8gKGlzQmluZEtleSA/IDAgOiBmdW5jLmxlbmd0aClcbiAgICAgICAgOiBuYXRpdmVNYXgobmV3RGF0YVs5XSAtIGxlbmd0aCwgMCk7XG5cbiAgICAgIGlmICghYXJpdHkgJiYgYml0bWFzayAmIChXUkFQX0NVUlJZX0ZMQUcgfCBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcpKSB7XG4gICAgICAgIGJpdG1hc2sgJj0gfihXUkFQX0NVUlJZX0ZMQUcgfCBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcpO1xuICAgICAgfVxuICAgICAgaWYgKCFiaXRtYXNrIHx8IGJpdG1hc2sgPT0gV1JBUF9CSU5EX0ZMQUcpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGNyZWF0ZUJpbmQoZnVuYywgYml0bWFzaywgdGhpc0FyZyk7XG4gICAgICB9IGVsc2UgaWYgKGJpdG1hc2sgPT0gV1JBUF9DVVJSWV9GTEFHIHx8IGJpdG1hc2sgPT0gV1JBUF9DVVJSWV9SSUdIVF9GTEFHKSB7XG4gICAgICAgIHJlc3VsdCA9IGNyZWF0ZUN1cnJ5KGZ1bmMsIGJpdG1hc2ssIGFyaXR5KTtcbiAgICAgIH0gZWxzZSBpZiAoKGJpdG1hc2sgPT0gV1JBUF9QQVJUSUFMX0ZMQUcgfHwgYml0bWFzayA9PSAoV1JBUF9CSU5EX0ZMQUcgfCBXUkFQX1BBUlRJQUxfRkxBRykpICYmICFob2xkZXJzLmxlbmd0aCkge1xuICAgICAgICByZXN1bHQgPSBjcmVhdGVQYXJ0aWFsKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IGNyZWF0ZUh5YnJpZC5hcHBseSh1bmRlZmluZWQsIG5ld0RhdGEpO1xuICAgICAgfVxuICAgICAgdmFyIHNldHRlciA9IGRhdGEgPyBiYXNlU2V0RGF0YSA6IHNldERhdGE7XG4gICAgICByZXR1cm4gc2V0V3JhcFRvU3RyaW5nKHNldHRlcihyZXN1bHQsIG5ld0RhdGEpLCBmdW5jLCBiaXRtYXNrKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIGJ5IGBfLmRlZmF1bHRzYCB0byBjdXN0b21pemUgaXRzIGBfLmFzc2lnbkluYCB1c2UgdG8gYXNzaWduIHByb3BlcnRpZXNcbiAgICAgKiBvZiBzb3VyY2Ugb2JqZWN0cyB0byB0aGUgZGVzdGluYXRpb24gb2JqZWN0IGZvciBhbGwgZGVzdGluYXRpb24gcHJvcGVydGllc1xuICAgICAqIHRoYXQgcmVzb2x2ZSB0byBgdW5kZWZpbmVkYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSBvYmpWYWx1ZSBUaGUgZGVzdGluYXRpb24gdmFsdWUuXG4gICAgICogQHBhcmFtIHsqfSBzcmNWYWx1ZSBUaGUgc291cmNlIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHBhcmVudCBvYmplY3Qgb2YgYG9ialZhbHVlYC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgdmFsdWUgdG8gYXNzaWduLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGN1c3RvbURlZmF1bHRzQXNzaWduSW4ob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCkge1xuICAgICAgaWYgKG9ialZhbHVlID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAoZXEob2JqVmFsdWUsIG9iamVjdFByb3RvW2tleV0pICYmICFoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkpIHtcbiAgICAgICAgcmV0dXJuIHNyY1ZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9ialZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZWQgYnkgYF8uZGVmYXVsdHNEZWVwYCB0byBjdXN0b21pemUgaXRzIGBfLm1lcmdlYCB1c2UgdG8gbWVyZ2Ugc291cmNlXG4gICAgICogb2JqZWN0cyBpbnRvIGRlc3RpbmF0aW9uIG9iamVjdHMgdGhhdCBhcmUgcGFzc2VkIHRocnUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gb2JqVmFsdWUgVGhlIGRlc3RpbmF0aW9uIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7Kn0gc3JjVmFsdWUgVGhlIHNvdXJjZSB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIG1lcmdlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHBhcmVudCBvYmplY3Qgb2YgYG9ialZhbHVlYC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBwYXJlbnQgb2JqZWN0IG9mIGBzcmNWYWx1ZWAuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBzb3VyY2UgdmFsdWVzIGFuZCB0aGVpciBtZXJnZWRcbiAgICAgKiAgY291bnRlcnBhcnRzLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3VzdG9tRGVmYXVsdHNNZXJnZShvYmpWYWx1ZSwgc3JjVmFsdWUsIGtleSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKSB7XG4gICAgICBpZiAoaXNPYmplY3Qob2JqVmFsdWUpICYmIGlzT2JqZWN0KHNyY1ZhbHVlKSkge1xuICAgICAgICAvLyBSZWN1cnNpdmVseSBtZXJnZSBvYmplY3RzIGFuZCBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgc3RhY2suc2V0KHNyY1ZhbHVlLCBvYmpWYWx1ZSk7XG4gICAgICAgIGJhc2VNZXJnZShvYmpWYWx1ZSwgc3JjVmFsdWUsIHVuZGVmaW5lZCwgY3VzdG9tRGVmYXVsdHNNZXJnZSwgc3RhY2spO1xuICAgICAgICBzdGFja1snZGVsZXRlJ10oc3JjVmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9ialZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZWQgYnkgYF8ub21pdGAgdG8gY3VzdG9taXplIGl0cyBgXy5jbG9uZURlZXBgIHVzZSB0byBvbmx5IGNsb25lIHBsYWluXG4gICAgICogb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHVuY2xvbmVkIHZhbHVlIG9yIGB1bmRlZmluZWRgIHRvIGRlZmVyIGNsb25pbmcgdG8gYF8uY2xvbmVEZWVwYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjdXN0b21PbWl0Q2xvbmUodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc1BsYWluT2JqZWN0KHZhbHVlKSA/IHVuZGVmaW5lZCA6IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3IgYXJyYXlzIHdpdGggc3VwcG9ydCBmb3JcbiAgICAgKiBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IG90aGVyIFRoZSBvdGhlciBhcnJheSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN0YWNrIFRyYWNrcyB0cmF2ZXJzZWQgYGFycmF5YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYXJyYXlzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXF1YWxBcnJheXMoYXJyYXksIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gICAgICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHLFxuICAgICAgICAgIGFyckxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICBvdGhMZW5ndGggPSBvdGhlci5sZW5ndGg7XG5cbiAgICAgIGlmIChhcnJMZW5ndGggIT0gb3RoTGVuZ3RoICYmICEoaXNQYXJ0aWFsICYmIG90aExlbmd0aCA+IGFyckxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgLy8gQ2hlY2sgdGhhdCBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgICAgIHZhciBhcnJTdGFja2VkID0gc3RhY2suZ2V0KGFycmF5KTtcbiAgICAgIHZhciBvdGhTdGFja2VkID0gc3RhY2suZ2V0KG90aGVyKTtcbiAgICAgIGlmIChhcnJTdGFja2VkICYmIG90aFN0YWNrZWQpIHtcbiAgICAgICAgcmV0dXJuIGFyclN0YWNrZWQgPT0gb3RoZXIgJiYgb3RoU3RhY2tlZCA9PSBhcnJheTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIHJlc3VsdCA9IHRydWUsXG4gICAgICAgICAgc2VlbiA9IChiaXRtYXNrICYgQ09NUEFSRV9VTk9SREVSRURfRkxBRykgPyBuZXcgU2V0Q2FjaGUgOiB1bmRlZmluZWQ7XG5cbiAgICAgIHN0YWNrLnNldChhcnJheSwgb3RoZXIpO1xuICAgICAgc3RhY2suc2V0KG90aGVyLCBhcnJheSk7XG5cbiAgICAgIC8vIElnbm9yZSBub24taW5kZXggcHJvcGVydGllcy5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgYXJyTGVuZ3RoKSB7XG4gICAgICAgIHZhciBhcnJWYWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICAgIG90aFZhbHVlID0gb3RoZXJbaW5kZXhdO1xuXG4gICAgICAgIGlmIChjdXN0b21pemVyKSB7XG4gICAgICAgICAgdmFyIGNvbXBhcmVkID0gaXNQYXJ0aWFsXG4gICAgICAgICAgICA/IGN1c3RvbWl6ZXIob3RoVmFsdWUsIGFyclZhbHVlLCBpbmRleCwgb3RoZXIsIGFycmF5LCBzdGFjaylcbiAgICAgICAgICAgIDogY3VzdG9taXplcihhcnJWYWx1ZSwgb3RoVmFsdWUsIGluZGV4LCBhcnJheSwgb3RoZXIsIHN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29tcGFyZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmIChjb21wYXJlZCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIGlmIChzZWVuKSB7XG4gICAgICAgICAgaWYgKCFhcnJheVNvbWUob3RoZXIsIGZ1bmN0aW9uKG90aFZhbHVlLCBvdGhJbmRleCkge1xuICAgICAgICAgICAgICAgIGlmICghY2FjaGVIYXMoc2Vlbiwgb3RoSW5kZXgpICYmXG4gICAgICAgICAgICAgICAgICAgIChhcnJWYWx1ZSA9PT0gb3RoVmFsdWUgfHwgZXF1YWxGdW5jKGFyclZhbHVlLCBvdGhWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spKSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlZW4ucHVzaChvdGhJbmRleCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KSkge1xuICAgICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoIShcbiAgICAgICAgICAgICAgYXJyVmFsdWUgPT09IG90aFZhbHVlIHx8XG4gICAgICAgICAgICAgICAgZXF1YWxGdW5jKGFyclZhbHVlLCBvdGhWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spXG4gICAgICAgICAgICApKSB7XG4gICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHN0YWNrWydkZWxldGUnXShhcnJheSk7XG4gICAgICBzdGFja1snZGVsZXRlJ10ob3RoZXIpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsRGVlcGAgZm9yIGNvbXBhcmluZyBvYmplY3RzIG9mXG4gICAgICogdGhlIHNhbWUgYHRvU3RyaW5nVGFnYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIGZ1bmN0aW9uIG9ubHkgc3VwcG9ydHMgY29tcGFyaW5nIHZhbHVlcyB3aXRoIHRhZ3Mgb2ZcbiAgICAgKiBgQm9vbGVhbmAsIGBEYXRlYCwgYEVycm9yYCwgYE51bWJlcmAsIGBSZWdFeHBgLCBvciBgU3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFnIFRoZSBgdG9TdHJpbmdUYWdgIG9mIHRoZSBvYmplY3RzIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgb2JqZWN0YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVxdWFsQnlUYWcob2JqZWN0LCBvdGhlciwgdGFnLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gICAgICBzd2l0Y2ggKHRhZykge1xuICAgICAgICBjYXNlIGRhdGFWaWV3VGFnOlxuICAgICAgICAgIGlmICgob2JqZWN0LmJ5dGVMZW5ndGggIT0gb3RoZXIuYnl0ZUxlbmd0aCkgfHxcbiAgICAgICAgICAgICAgKG9iamVjdC5ieXRlT2Zmc2V0ICE9IG90aGVyLmJ5dGVPZmZzZXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIG9iamVjdCA9IG9iamVjdC5idWZmZXI7XG4gICAgICAgICAgb3RoZXIgPSBvdGhlci5idWZmZXI7XG5cbiAgICAgICAgY2FzZSBhcnJheUJ1ZmZlclRhZzpcbiAgICAgICAgICBpZiAoKG9iamVjdC5ieXRlTGVuZ3RoICE9IG90aGVyLmJ5dGVMZW5ndGgpIHx8XG4gICAgICAgICAgICAgICFlcXVhbEZ1bmMobmV3IFVpbnQ4QXJyYXkob2JqZWN0KSwgbmV3IFVpbnQ4QXJyYXkob3RoZXIpKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgICBjYXNlIGJvb2xUYWc6XG4gICAgICAgIGNhc2UgZGF0ZVRhZzpcbiAgICAgICAgY2FzZSBudW1iZXJUYWc6XG4gICAgICAgICAgLy8gQ29lcmNlIGJvb2xlYW5zIHRvIGAxYCBvciBgMGAgYW5kIGRhdGVzIHRvIG1pbGxpc2Vjb25kcy5cbiAgICAgICAgICAvLyBJbnZhbGlkIGRhdGVzIGFyZSBjb2VyY2VkIHRvIGBOYU5gLlxuICAgICAgICAgIHJldHVybiBlcSgrb2JqZWN0LCArb3RoZXIpO1xuXG4gICAgICAgIGNhc2UgZXJyb3JUYWc6XG4gICAgICAgICAgcmV0dXJuIG9iamVjdC5uYW1lID09IG90aGVyLm5hbWUgJiYgb2JqZWN0Lm1lc3NhZ2UgPT0gb3RoZXIubWVzc2FnZTtcblxuICAgICAgICBjYXNlIHJlZ2V4cFRhZzpcbiAgICAgICAgY2FzZSBzdHJpbmdUYWc6XG4gICAgICAgICAgLy8gQ29lcmNlIHJlZ2V4ZXMgdG8gc3RyaW5ncyBhbmQgdHJlYXQgc3RyaW5ncywgcHJpbWl0aXZlcyBhbmQgb2JqZWN0cyxcbiAgICAgICAgICAvLyBhcyBlcXVhbC4gU2VlIGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1yZWdleHAucHJvdG90eXBlLnRvc3RyaW5nXG4gICAgICAgICAgLy8gZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgICAgICByZXR1cm4gb2JqZWN0ID09IChvdGhlciArICcnKTtcblxuICAgICAgICBjYXNlIG1hcFRhZzpcbiAgICAgICAgICB2YXIgY29udmVydCA9IG1hcFRvQXJyYXk7XG5cbiAgICAgICAgY2FzZSBzZXRUYWc6XG4gICAgICAgICAgdmFyIGlzUGFydGlhbCA9IGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRztcbiAgICAgICAgICBjb252ZXJ0IHx8IChjb252ZXJ0ID0gc2V0VG9BcnJheSk7XG5cbiAgICAgICAgICBpZiAob2JqZWN0LnNpemUgIT0gb3RoZXIuc2l6ZSAmJiAhaXNQYXJ0aWFsKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIEFzc3VtZSBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgICAgICAgICB2YXIgc3RhY2tlZCA9IHN0YWNrLmdldChvYmplY3QpO1xuICAgICAgICAgIGlmIChzdGFja2VkKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RhY2tlZCA9PSBvdGhlcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgYml0bWFzayB8PSBDT01QQVJFX1VOT1JERVJFRF9GTEFHO1xuXG4gICAgICAgICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBvYmplY3RzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgICAgc3RhY2suc2V0KG9iamVjdCwgb3RoZXIpO1xuICAgICAgICAgIHZhciByZXN1bHQgPSBlcXVhbEFycmF5cyhjb252ZXJ0KG9iamVjdCksIGNvbnZlcnQob3RoZXIpLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKTtcbiAgICAgICAgICBzdGFja1snZGVsZXRlJ10ob2JqZWN0KTtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuXG4gICAgICAgIGNhc2Ugc3ltYm9sVGFnOlxuICAgICAgICAgIGlmIChzeW1ib2xWYWx1ZU9mKSB7XG4gICAgICAgICAgICByZXR1cm4gc3ltYm9sVmFsdWVPZi5jYWxsKG9iamVjdCkgPT0gc3ltYm9sVmFsdWVPZi5jYWxsKG90aGVyKTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbERlZXBgIGZvciBvYmplY3RzIHdpdGggc3VwcG9ydCBmb3JcbiAgICAgKiBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgb2JqZWN0YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVxdWFsT2JqZWN0cyhvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gICAgICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHLFxuICAgICAgICAgIG9ialByb3BzID0gZ2V0QWxsS2V5cyhvYmplY3QpLFxuICAgICAgICAgIG9iakxlbmd0aCA9IG9ialByb3BzLmxlbmd0aCxcbiAgICAgICAgICBvdGhQcm9wcyA9IGdldEFsbEtleXMob3RoZXIpLFxuICAgICAgICAgIG90aExlbmd0aCA9IG90aFByb3BzLmxlbmd0aDtcblxuICAgICAgaWYgKG9iakxlbmd0aCAhPSBvdGhMZW5ndGggJiYgIWlzUGFydGlhbCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBvYmpMZW5ndGg7XG4gICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICB2YXIga2V5ID0gb2JqUHJvcHNbaW5kZXhdO1xuICAgICAgICBpZiAoIShpc1BhcnRpYWwgPyBrZXkgaW4gb3RoZXIgOiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG90aGVyLCBrZXkpKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gQ2hlY2sgdGhhdCBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgICAgIHZhciBvYmpTdGFja2VkID0gc3RhY2suZ2V0KG9iamVjdCk7XG4gICAgICB2YXIgb3RoU3RhY2tlZCA9IHN0YWNrLmdldChvdGhlcik7XG4gICAgICBpZiAob2JqU3RhY2tlZCAmJiBvdGhTdGFja2VkKSB7XG4gICAgICAgIHJldHVybiBvYmpTdGFja2VkID09IG90aGVyICYmIG90aFN0YWNrZWQgPT0gb2JqZWN0O1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IHRydWU7XG4gICAgICBzdGFjay5zZXQob2JqZWN0LCBvdGhlcik7XG4gICAgICBzdGFjay5zZXQob3RoZXIsIG9iamVjdCk7XG5cbiAgICAgIHZhciBza2lwQ3RvciA9IGlzUGFydGlhbDtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgb2JqTGVuZ3RoKSB7XG4gICAgICAgIGtleSA9IG9ialByb3BzW2luZGV4XTtcbiAgICAgICAgdmFyIG9ialZhbHVlID0gb2JqZWN0W2tleV0sXG4gICAgICAgICAgICBvdGhWYWx1ZSA9IG90aGVyW2tleV07XG5cbiAgICAgICAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICAgICAgICB2YXIgY29tcGFyZWQgPSBpc1BhcnRpYWxcbiAgICAgICAgICAgID8gY3VzdG9taXplcihvdGhWYWx1ZSwgb2JqVmFsdWUsIGtleSwgb3RoZXIsIG9iamVjdCwgc3RhY2spXG4gICAgICAgICAgICA6IGN1c3RvbWl6ZXIob2JqVmFsdWUsIG90aFZhbHVlLCBrZXksIG9iamVjdCwgb3RoZXIsIHN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIG9iamVjdHMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgaWYgKCEoY29tcGFyZWQgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICA/IChvYmpWYWx1ZSA9PT0gb3RoVmFsdWUgfHwgZXF1YWxGdW5jKG9ialZhbHVlLCBvdGhWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spKVxuICAgICAgICAgICAgICA6IGNvbXBhcmVkXG4gICAgICAgICAgICApKSB7XG4gICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgc2tpcEN0b3IgfHwgKHNraXBDdG9yID0ga2V5ID09ICdjb25zdHJ1Y3RvcicpO1xuICAgICAgfVxuICAgICAgaWYgKHJlc3VsdCAmJiAhc2tpcEN0b3IpIHtcbiAgICAgICAgdmFyIG9iakN0b3IgPSBvYmplY3QuY29uc3RydWN0b3IsXG4gICAgICAgICAgICBvdGhDdG9yID0gb3RoZXIuY29uc3RydWN0b3I7XG5cbiAgICAgICAgLy8gTm9uIGBPYmplY3RgIG9iamVjdCBpbnN0YW5jZXMgd2l0aCBkaWZmZXJlbnQgY29uc3RydWN0b3JzIGFyZSBub3QgZXF1YWwuXG4gICAgICAgIGlmIChvYmpDdG9yICE9IG90aEN0b3IgJiZcbiAgICAgICAgICAgICgnY29uc3RydWN0b3InIGluIG9iamVjdCAmJiAnY29uc3RydWN0b3InIGluIG90aGVyKSAmJlxuICAgICAgICAgICAgISh0eXBlb2Ygb2JqQ3RvciA9PSAnZnVuY3Rpb24nICYmIG9iakN0b3IgaW5zdGFuY2VvZiBvYmpDdG9yICYmXG4gICAgICAgICAgICAgIHR5cGVvZiBvdGhDdG9yID09ICdmdW5jdGlvbicgJiYgb3RoQ3RvciBpbnN0YW5jZW9mIG90aEN0b3IpKSB7XG4gICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHN0YWNrWydkZWxldGUnXShvYmplY3QpO1xuICAgICAgc3RhY2tbJ2RlbGV0ZSddKG90aGVyKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlUmVzdGAgd2hpY2ggZmxhdHRlbnMgdGhlIHJlc3QgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdFJlc3QoZnVuYykge1xuICAgICAgcmV0dXJuIHNldFRvU3RyaW5nKG92ZXJSZXN0KGZ1bmMsIHVuZGVmaW5lZCwgZmxhdHRlbiksIGZ1bmMgKyAnJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBvd24gZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBhbmQgc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0QWxsS2V5cyhvYmplY3QpIHtcbiAgICAgIHJldHVybiBiYXNlR2V0QWxsS2V5cyhvYmplY3QsIGtleXMsIGdldFN5bWJvbHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBhbmRcbiAgICAgKiBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcyBhbmQgc3ltYm9scy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRBbGxLZXlzSW4ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gYmFzZUdldEFsbEtleXMob2JqZWN0LCBrZXlzSW4sIGdldFN5bWJvbHNJbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBtZXRhZGF0YSBmb3IgYGZ1bmNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWV0YWRhdGEgZm9yIGBmdW5jYC5cbiAgICAgKi9cbiAgICB2YXIgZ2V0RGF0YSA9ICFtZXRhTWFwID8gbm9vcCA6IGZ1bmN0aW9uKGZ1bmMpIHtcbiAgICAgIHJldHVybiBtZXRhTWFwLmdldChmdW5jKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbmFtZSBvZiBgZnVuY2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGZ1bmN0aW9uIG5hbWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0RnVuY05hbWUoZnVuYykge1xuICAgICAgdmFyIHJlc3VsdCA9IChmdW5jLm5hbWUgKyAnJyksXG4gICAgICAgICAgYXJyYXkgPSByZWFsTmFtZXNbcmVzdWx0XSxcbiAgICAgICAgICBsZW5ndGggPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHJlYWxOYW1lcywgcmVzdWx0KSA/IGFycmF5Lmxlbmd0aCA6IDA7XG5cbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICB2YXIgZGF0YSA9IGFycmF5W2xlbmd0aF0sXG4gICAgICAgICAgICBvdGhlckZ1bmMgPSBkYXRhLmZ1bmM7XG4gICAgICAgIGlmIChvdGhlckZ1bmMgPT0gbnVsbCB8fCBvdGhlckZ1bmMgPT0gZnVuYykge1xuICAgICAgICAgIHJldHVybiBkYXRhLm5hbWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgYXJndW1lbnQgcGxhY2Vob2xkZXIgdmFsdWUgZm9yIGBmdW5jYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcGxhY2Vob2xkZXIgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0SG9sZGVyKGZ1bmMpIHtcbiAgICAgIHZhciBvYmplY3QgPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKGxvZGFzaCwgJ3BsYWNlaG9sZGVyJykgPyBsb2Rhc2ggOiBmdW5jO1xuICAgICAgcmV0dXJuIG9iamVjdC5wbGFjZWhvbGRlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBhcHByb3ByaWF0ZSBcIml0ZXJhdGVlXCIgZnVuY3Rpb24uIElmIGBfLml0ZXJhdGVlYCBpcyBjdXN0b21pemVkLFxuICAgICAqIHRoaXMgZnVuY3Rpb24gcmV0dXJucyB0aGUgY3VzdG9tIG1ldGhvZCwgb3RoZXJ3aXNlIGl0IHJldHVybnMgYGJhc2VJdGVyYXRlZWAuXG4gICAgICogSWYgYXJndW1lbnRzIGFyZSBwcm92aWRlZCwgdGhlIGNob3NlbiBmdW5jdGlvbiBpcyBpbnZva2VkIHdpdGggdGhlbSBhbmRcbiAgICAgKiBpdHMgcmVzdWx0IGlzIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IFt2YWx1ZV0gVGhlIHZhbHVlIHRvIGNvbnZlcnQgdG8gYW4gaXRlcmF0ZWUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eV0gVGhlIGFyaXR5IG9mIHRoZSBjcmVhdGVkIGl0ZXJhdGVlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgY2hvc2VuIGZ1bmN0aW9uIG9yIGl0cyByZXN1bHQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0SXRlcmF0ZWUoKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbG9kYXNoLml0ZXJhdGVlIHx8IGl0ZXJhdGVlO1xuICAgICAgcmVzdWx0ID0gcmVzdWx0ID09PSBpdGVyYXRlZSA/IGJhc2VJdGVyYXRlZSA6IHJlc3VsdDtcbiAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gcmVzdWx0KGFyZ3VtZW50c1swXSwgYXJndW1lbnRzWzFdKSA6IHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBkYXRhIGZvciBgbWFwYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG1hcCBUaGUgbWFwIHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIHJlZmVyZW5jZSBrZXkuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1hcCBkYXRhLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldE1hcERhdGEobWFwLCBrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gbWFwLl9fZGF0YV9fO1xuICAgICAgcmV0dXJuIGlzS2V5YWJsZShrZXkpXG4gICAgICAgID8gZGF0YVt0eXBlb2Yga2V5ID09ICdzdHJpbmcnID8gJ3N0cmluZycgOiAnaGFzaCddXG4gICAgICAgIDogZGF0YS5tYXA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgcHJvcGVydHkgbmFtZXMsIHZhbHVlcywgYW5kIGNvbXBhcmUgZmxhZ3Mgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG1hdGNoIGRhdGEgb2YgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0TWF0Y2hEYXRhKG9iamVjdCkge1xuICAgICAgdmFyIHJlc3VsdCA9IGtleXMob2JqZWN0KSxcbiAgICAgICAgICBsZW5ndGggPSByZXN1bHQubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgdmFyIGtleSA9IHJlc3VsdFtsZW5ndGhdLFxuICAgICAgICAgICAgdmFsdWUgPSBvYmplY3Rba2V5XTtcblxuICAgICAgICByZXN1bHRbbGVuZ3RoXSA9IFtrZXksIHZhbHVlLCBpc1N0cmljdENvbXBhcmFibGUodmFsdWUpXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbmF0aXZlIGZ1bmN0aW9uIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBtZXRob2QgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBpZiBpdCdzIG5hdGl2ZSwgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXROYXRpdmUob2JqZWN0LCBrZXkpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGdldFZhbHVlKG9iamVjdCwga2V5KTtcbiAgICAgIHJldHVybiBiYXNlSXNOYXRpdmUodmFsdWUpID8gdmFsdWUgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlR2V0VGFnYCB3aGljaCBpZ25vcmVzIGBTeW1ib2wudG9TdHJpbmdUYWdgIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcmF3IGB0b1N0cmluZ1RhZ2AuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0UmF3VGFnKHZhbHVlKSB7XG4gICAgICB2YXIgaXNPd24gPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBzeW1Ub1N0cmluZ1RhZyksXG4gICAgICAgICAgdGFnID0gdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuXG4gICAgICB0cnkge1xuICAgICAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB1bmRlZmluZWQ7XG4gICAgICAgIHZhciB1bm1hc2tlZCA9IHRydWU7XG4gICAgICB9IGNhdGNoIChlKSB7fVxuXG4gICAgICB2YXIgcmVzdWx0ID0gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gICAgICBpZiAodW5tYXNrZWQpIHtcbiAgICAgICAgaWYgKGlzT3duKSB7XG4gICAgICAgICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdGFnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlbGV0ZSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2Ygc3ltYm9scy5cbiAgICAgKi9cbiAgICB2YXIgZ2V0U3ltYm9scyA9ICFuYXRpdmVHZXRTeW1ib2xzID8gc3R1YkFycmF5IDogZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG4gICAgICByZXR1cm4gYXJyYXlGaWx0ZXIobmF0aXZlR2V0U3ltYm9scyhvYmplY3QpLCBmdW5jdGlvbihzeW1ib2wpIHtcbiAgICAgICAgcmV0dXJuIHByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwob2JqZWN0LCBzeW1ib2wpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2Ygc3ltYm9scy5cbiAgICAgKi9cbiAgICB2YXIgZ2V0U3ltYm9sc0luID0gIW5hdGl2ZUdldFN5bWJvbHMgPyBzdHViQXJyYXkgOiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIHdoaWxlIChvYmplY3QpIHtcbiAgICAgICAgYXJyYXlQdXNoKHJlc3VsdCwgZ2V0U3ltYm9scyhvYmplY3QpKTtcbiAgICAgICAgb2JqZWN0ID0gZ2V0UHJvdG90eXBlKG9iamVjdCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBgdG9TdHJpbmdUYWdgIG9mIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGB0b1N0cmluZ1RhZ2AuXG4gICAgICovXG4gICAgdmFyIGdldFRhZyA9IGJhc2VHZXRUYWc7XG5cbiAgICAvLyBGYWxsYmFjayBmb3IgZGF0YSB2aWV3cywgbWFwcywgc2V0cywgYW5kIHdlYWsgbWFwcyBpbiBJRSAxMSBhbmQgcHJvbWlzZXMgaW4gTm9kZS5qcyA8IDYuXG4gICAgaWYgKChEYXRhVmlldyAmJiBnZXRUYWcobmV3IERhdGFWaWV3KG5ldyBBcnJheUJ1ZmZlcigxKSkpICE9IGRhdGFWaWV3VGFnKSB8fFxuICAgICAgICAoTWFwICYmIGdldFRhZyhuZXcgTWFwKSAhPSBtYXBUYWcpIHx8XG4gICAgICAgIChQcm9taXNlICYmIGdldFRhZyhQcm9taXNlLnJlc29sdmUoKSkgIT0gcHJvbWlzZVRhZykgfHxcbiAgICAgICAgKFNldCAmJiBnZXRUYWcobmV3IFNldCkgIT0gc2V0VGFnKSB8fFxuICAgICAgICAoV2Vha01hcCAmJiBnZXRUYWcobmV3IFdlYWtNYXApICE9IHdlYWtNYXBUYWcpKSB7XG4gICAgICBnZXRUYWcgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gYmFzZUdldFRhZyh2YWx1ZSksXG4gICAgICAgICAgICBDdG9yID0gcmVzdWx0ID09IG9iamVjdFRhZyA/IHZhbHVlLmNvbnN0cnVjdG9yIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgY3RvclN0cmluZyA9IEN0b3IgPyB0b1NvdXJjZShDdG9yKSA6ICcnO1xuXG4gICAgICAgIGlmIChjdG9yU3RyaW5nKSB7XG4gICAgICAgICAgc3dpdGNoIChjdG9yU3RyaW5nKSB7XG4gICAgICAgICAgICBjYXNlIGRhdGFWaWV3Q3RvclN0cmluZzogcmV0dXJuIGRhdGFWaWV3VGFnO1xuICAgICAgICAgICAgY2FzZSBtYXBDdG9yU3RyaW5nOiByZXR1cm4gbWFwVGFnO1xuICAgICAgICAgICAgY2FzZSBwcm9taXNlQ3RvclN0cmluZzogcmV0dXJuIHByb21pc2VUYWc7XG4gICAgICAgICAgICBjYXNlIHNldEN0b3JTdHJpbmc6IHJldHVybiBzZXRUYWc7XG4gICAgICAgICAgICBjYXNlIHdlYWtNYXBDdG9yU3RyaW5nOiByZXR1cm4gd2Vha01hcFRhZztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdmlldywgYXBwbHlpbmcgYW55IGB0cmFuc2Zvcm1zYCB0byB0aGUgYHN0YXJ0YCBhbmQgYGVuZGAgcG9zaXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgVGhlIHN0YXJ0IG9mIHRoZSB2aWV3LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgVGhlIGVuZCBvZiB0aGUgdmlldy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB0cmFuc2Zvcm1zIFRoZSB0cmFuc2Zvcm1hdGlvbnMgdG8gYXBwbHkgdG8gdGhlIHZpZXcuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgYHN0YXJ0YCBhbmQgYGVuZGBcbiAgICAgKiAgcG9zaXRpb25zIG9mIHRoZSB2aWV3LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldFZpZXcoc3RhcnQsIGVuZCwgdHJhbnNmb3Jtcykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gdHJhbnNmb3Jtcy5sZW5ndGg7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBkYXRhID0gdHJhbnNmb3Jtc1tpbmRleF0sXG4gICAgICAgICAgICBzaXplID0gZGF0YS5zaXplO1xuXG4gICAgICAgIHN3aXRjaCAoZGF0YS50eXBlKSB7XG4gICAgICAgICAgY2FzZSAnZHJvcCc6ICAgICAgc3RhcnQgKz0gc2l6ZTsgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnZHJvcFJpZ2h0JzogZW5kIC09IHNpemU7IGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ3Rha2UnOiAgICAgIGVuZCA9IG5hdGl2ZU1pbihlbmQsIHN0YXJ0ICsgc2l6ZSk7IGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ3Rha2VSaWdodCc6IHN0YXJ0ID0gbmF0aXZlTWF4KHN0YXJ0LCBlbmQgLSBzaXplKTsgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB7ICdzdGFydCc6IHN0YXJ0LCAnZW5kJzogZW5kIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXh0cmFjdHMgd3JhcHBlciBkZXRhaWxzIGZyb20gdGhlIGBzb3VyY2VgIGJvZHkgY29tbWVudC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNvdXJjZSBUaGUgc291cmNlIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB3cmFwcGVyIGRldGFpbHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0V3JhcERldGFpbHMoc291cmNlKSB7XG4gICAgICB2YXIgbWF0Y2ggPSBzb3VyY2UubWF0Y2gocmVXcmFwRGV0YWlscyk7XG4gICAgICByZXR1cm4gbWF0Y2ggPyBtYXRjaFsxXS5zcGxpdChyZVNwbGl0RGV0YWlscykgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHBhdGhgIGV4aXN0cyBvbiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGhhc0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGNoZWNrIHByb3BlcnRpZXMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBwYXRoYCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNQYXRoKG9iamVjdCwgcGF0aCwgaGFzRnVuYykge1xuICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG5cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGgubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIga2V5ID0gdG9LZXkocGF0aFtpbmRleF0pO1xuICAgICAgICBpZiAoIShyZXN1bHQgPSBvYmplY3QgIT0gbnVsbCAmJiBoYXNGdW5jKG9iamVjdCwga2V5KSkpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBvYmplY3QgPSBvYmplY3Rba2V5XTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXN1bHQgfHwgKytpbmRleCAhPSBsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGxlbmd0aCA9IG9iamVjdCA9PSBudWxsID8gMCA6IG9iamVjdC5sZW5ndGg7XG4gICAgICByZXR1cm4gISFsZW5ndGggJiYgaXNMZW5ndGgobGVuZ3RoKSAmJiBpc0luZGV4KGtleSwgbGVuZ3RoKSAmJlxuICAgICAgICAoaXNBcnJheShvYmplY3QpIHx8IGlzQXJndW1lbnRzKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIGFuIGFycmF5IGNsb25lLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBpbml0aWFsaXplZCBjbG9uZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbml0Q2xvbmVBcnJheShhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSBuZXcgYXJyYXkuY29uc3RydWN0b3IobGVuZ3RoKTtcblxuICAgICAgLy8gQWRkIHByb3BlcnRpZXMgYXNzaWduZWQgYnkgYFJlZ0V4cCNleGVjYC5cbiAgICAgIGlmIChsZW5ndGggJiYgdHlwZW9mIGFycmF5WzBdID09ICdzdHJpbmcnICYmIGhhc093blByb3BlcnR5LmNhbGwoYXJyYXksICdpbmRleCcpKSB7XG4gICAgICAgIHJlc3VsdC5pbmRleCA9IGFycmF5LmluZGV4O1xuICAgICAgICByZXN1bHQuaW5wdXQgPSBhcnJheS5pbnB1dDtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgYW4gb2JqZWN0IGNsb25lLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaW5pdGlhbGl6ZWQgY2xvbmUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5pdENsb25lT2JqZWN0KG9iamVjdCkge1xuICAgICAgcmV0dXJuICh0eXBlb2Ygb2JqZWN0LmNvbnN0cnVjdG9yID09ICdmdW5jdGlvbicgJiYgIWlzUHJvdG90eXBlKG9iamVjdCkpXG4gICAgICAgID8gYmFzZUNyZWF0ZShnZXRQcm90b3R5cGUob2JqZWN0KSlcbiAgICAgICAgOiB7fTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyBhbiBvYmplY3QgY2xvbmUgYmFzZWQgb24gaXRzIGB0b1N0cmluZ1RhZ2AuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBmdW5jdGlvbiBvbmx5IHN1cHBvcnRzIGNsb25pbmcgdmFsdWVzIHdpdGggdGFncyBvZlxuICAgICAqIGBCb29sZWFuYCwgYERhdGVgLCBgRXJyb3JgLCBgTWFwYCwgYE51bWJlcmAsIGBSZWdFeHBgLCBgU2V0YCwgb3IgYFN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFnIFRoZSBgdG9TdHJpbmdUYWdgIG9mIHRoZSBvYmplY3QgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBpbml0aWFsaXplZCBjbG9uZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbml0Q2xvbmVCeVRhZyhvYmplY3QsIHRhZywgaXNEZWVwKSB7XG4gICAgICB2YXIgQ3RvciA9IG9iamVjdC5jb25zdHJ1Y3RvcjtcbiAgICAgIHN3aXRjaCAodGFnKSB7XG4gICAgICAgIGNhc2UgYXJyYXlCdWZmZXJUYWc6XG4gICAgICAgICAgcmV0dXJuIGNsb25lQXJyYXlCdWZmZXIob2JqZWN0KTtcblxuICAgICAgICBjYXNlIGJvb2xUYWc6XG4gICAgICAgIGNhc2UgZGF0ZVRhZzpcbiAgICAgICAgICByZXR1cm4gbmV3IEN0b3IoK29iamVjdCk7XG5cbiAgICAgICAgY2FzZSBkYXRhVmlld1RhZzpcbiAgICAgICAgICByZXR1cm4gY2xvbmVEYXRhVmlldyhvYmplY3QsIGlzRGVlcCk7XG5cbiAgICAgICAgY2FzZSBmbG9hdDMyVGFnOiBjYXNlIGZsb2F0NjRUYWc6XG4gICAgICAgIGNhc2UgaW50OFRhZzogY2FzZSBpbnQxNlRhZzogY2FzZSBpbnQzMlRhZzpcbiAgICAgICAgY2FzZSB1aW50OFRhZzogY2FzZSB1aW50OENsYW1wZWRUYWc6IGNhc2UgdWludDE2VGFnOiBjYXNlIHVpbnQzMlRhZzpcbiAgICAgICAgICByZXR1cm4gY2xvbmVUeXBlZEFycmF5KG9iamVjdCwgaXNEZWVwKTtcblxuICAgICAgICBjYXNlIG1hcFRhZzpcbiAgICAgICAgICByZXR1cm4gbmV3IEN0b3I7XG5cbiAgICAgICAgY2FzZSBudW1iZXJUYWc6XG4gICAgICAgIGNhc2Ugc3RyaW5nVGFnOlxuICAgICAgICAgIHJldHVybiBuZXcgQ3RvcihvYmplY3QpO1xuXG4gICAgICAgIGNhc2UgcmVnZXhwVGFnOlxuICAgICAgICAgIHJldHVybiBjbG9uZVJlZ0V4cChvYmplY3QpO1xuXG4gICAgICAgIGNhc2Ugc2V0VGFnOlxuICAgICAgICAgIHJldHVybiBuZXcgQ3RvcjtcblxuICAgICAgICBjYXNlIHN5bWJvbFRhZzpcbiAgICAgICAgICByZXR1cm4gY2xvbmVTeW1ib2wob2JqZWN0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnNlcnRzIHdyYXBwZXIgYGRldGFpbHNgIGluIGEgY29tbWVudCBhdCB0aGUgdG9wIG9mIHRoZSBgc291cmNlYCBib2R5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc291cmNlIFRoZSBzb3VyY2UgdG8gbW9kaWZ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gZGV0YWlscyBUaGUgZGV0YWlscyB0byBpbnNlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgbW9kaWZpZWQgc291cmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluc2VydFdyYXBEZXRhaWxzKHNvdXJjZSwgZGV0YWlscykge1xuICAgICAgdmFyIGxlbmd0aCA9IGRldGFpbHMubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZTtcbiAgICAgIH1cbiAgICAgIHZhciBsYXN0SW5kZXggPSBsZW5ndGggLSAxO1xuICAgICAgZGV0YWlsc1tsYXN0SW5kZXhdID0gKGxlbmd0aCA+IDEgPyAnJiAnIDogJycpICsgZGV0YWlsc1tsYXN0SW5kZXhdO1xuICAgICAgZGV0YWlscyA9IGRldGFpbHMuam9pbihsZW5ndGggPiAyID8gJywgJyA6ICcgJyk7XG4gICAgICByZXR1cm4gc291cmNlLnJlcGxhY2UocmVXcmFwQ29tbWVudCwgJ3tcXG4vKiBbd3JhcHBlZCB3aXRoICcgKyBkZXRhaWxzICsgJ10gKi9cXG4nKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGZsYXR0ZW5hYmxlIGBhcmd1bWVudHNgIG9iamVjdCBvciBhcnJheS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZmxhdHRlbmFibGUsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0ZsYXR0ZW5hYmxlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNBcnJheSh2YWx1ZSkgfHwgaXNBcmd1bWVudHModmFsdWUpIHx8XG4gICAgICAgICEhKHNwcmVhZGFibGVTeW1ib2wgJiYgdmFsdWUgJiYgdmFsdWVbc3ByZWFkYWJsZVN5bWJvbF0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBpbmRleC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9TUFYX1NBRkVfSU5URUdFUl0gVGhlIHVwcGVyIGJvdW5kcyBvZiBhIHZhbGlkIGluZGV4LlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgaW5kZXgsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0luZGV4KHZhbHVlLCBsZW5ndGgpIHtcbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICAgICAgbGVuZ3RoID0gbGVuZ3RoID09IG51bGwgPyBNQVhfU0FGRV9JTlRFR0VSIDogbGVuZ3RoO1xuXG4gICAgICByZXR1cm4gISFsZW5ndGggJiZcbiAgICAgICAgKHR5cGUgPT0gJ251bWJlcicgfHxcbiAgICAgICAgICAodHlwZSAhPSAnc3ltYm9sJyAmJiByZUlzVWludC50ZXN0KHZhbHVlKSkpICYmXG4gICAgICAgICAgICAodmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8IGxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHRoZSBnaXZlbiBhcmd1bWVudHMgYXJlIGZyb20gYW4gaXRlcmF0ZWUgY2FsbC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIHZhbHVlIGFyZ3VtZW50LlxuICAgICAqIEBwYXJhbSB7Kn0gaW5kZXggVGhlIHBvdGVudGlhbCBpdGVyYXRlZSBpbmRleCBvciBrZXkgYXJndW1lbnQuXG4gICAgICogQHBhcmFtIHsqfSBvYmplY3QgVGhlIHBvdGVudGlhbCBpdGVyYXRlZSBvYmplY3QgYXJndW1lbnQuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBhcmd1bWVudHMgYXJlIGZyb20gYW4gaXRlcmF0ZWUgY2FsbCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzSXRlcmF0ZWVDYWxsKHZhbHVlLCBpbmRleCwgb2JqZWN0KSB7XG4gICAgICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgaW5kZXg7XG4gICAgICBpZiAodHlwZSA9PSAnbnVtYmVyJ1xuICAgICAgICAgICAgPyAoaXNBcnJheUxpa2Uob2JqZWN0KSAmJiBpc0luZGV4KGluZGV4LCBvYmplY3QubGVuZ3RoKSlcbiAgICAgICAgICAgIDogKHR5cGUgPT0gJ3N0cmluZycgJiYgaW5kZXggaW4gb2JqZWN0KVxuICAgICAgICAgICkge1xuICAgICAgICByZXR1cm4gZXEob2JqZWN0W2luZGV4XSwgdmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgcHJvcGVydHkgbmFtZSBhbmQgbm90IGEgcHJvcGVydHkgcGF0aC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkga2V5cyBvbi5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHByb3BlcnR5IG5hbWUsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0tleSh2YWx1ZSwgb2JqZWN0KSB7XG4gICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gICAgICBpZiAodHlwZSA9PSAnbnVtYmVyJyB8fCB0eXBlID09ICdzeW1ib2wnIHx8IHR5cGUgPT0gJ2Jvb2xlYW4nIHx8XG4gICAgICAgICAgdmFsdWUgPT0gbnVsbCB8fCBpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVJc1BsYWluUHJvcC50ZXN0KHZhbHVlKSB8fCAhcmVJc0RlZXBQcm9wLnRlc3QodmFsdWUpIHx8XG4gICAgICAgIChvYmplY3QgIT0gbnVsbCAmJiB2YWx1ZSBpbiBPYmplY3Qob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUgZm9yIHVzZSBhcyB1bmlxdWUgb2JqZWN0IGtleS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0tleWFibGUodmFsdWUpIHtcbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICAgICAgcmV0dXJuICh0eXBlID09ICdzdHJpbmcnIHx8IHR5cGUgPT0gJ251bWJlcicgfHwgdHlwZSA9PSAnc3ltYm9sJyB8fCB0eXBlID09ICdib29sZWFuJylcbiAgICAgICAgPyAodmFsdWUgIT09ICdfX3Byb3RvX18nKVxuICAgICAgICA6ICh2YWx1ZSA9PT0gbnVsbCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBmdW5jYCBoYXMgYSBsYXp5IGNvdW50ZXJwYXJ0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGZ1bmNgIGhhcyBhIGxhenkgY291bnRlcnBhcnQsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0xhemlhYmxlKGZ1bmMpIHtcbiAgICAgIHZhciBmdW5jTmFtZSA9IGdldEZ1bmNOYW1lKGZ1bmMpLFxuICAgICAgICAgIG90aGVyID0gbG9kYXNoW2Z1bmNOYW1lXTtcblxuICAgICAgaWYgKHR5cGVvZiBvdGhlciAhPSAnZnVuY3Rpb24nIHx8ICEoZnVuY05hbWUgaW4gTGF6eVdyYXBwZXIucHJvdG90eXBlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoZnVuYyA9PT0gb3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICB2YXIgZGF0YSA9IGdldERhdGEob3RoZXIpO1xuICAgICAgcmV0dXJuICEhZGF0YSAmJiBmdW5jID09PSBkYXRhWzBdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgZnVuY2AgaGFzIGl0cyBzb3VyY2UgbWFza2VkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGZ1bmNgIGlzIG1hc2tlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTWFza2VkKGZ1bmMpIHtcbiAgICAgIHJldHVybiAhIW1hc2tTcmNLZXkgJiYgKG1hc2tTcmNLZXkgaW4gZnVuYyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBmdW5jYCBpcyBjYXBhYmxlIG9mIGJlaW5nIG1hc2tlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBmdW5jYCBpcyBtYXNrYWJsZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIHZhciBpc01hc2thYmxlID0gY29yZUpzRGF0YSA/IGlzRnVuY3Rpb24gOiBzdHViRmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYSBwcm90b3R5cGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHByb3RvdHlwZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzUHJvdG90eXBlKHZhbHVlKSB7XG4gICAgICB2YXIgQ3RvciA9IHZhbHVlICYmIHZhbHVlLmNvbnN0cnVjdG9yLFxuICAgICAgICAgIHByb3RvID0gKHR5cGVvZiBDdG9yID09ICdmdW5jdGlvbicgJiYgQ3Rvci5wcm90b3R5cGUpIHx8IG9iamVjdFByb3RvO1xuXG4gICAgICByZXR1cm4gdmFsdWUgPT09IHByb3RvO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlIGZvciBzdHJpY3QgZXF1YWxpdHkgY29tcGFyaXNvbnMsIGkuZS4gYD09PWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlmIHN1aXRhYmxlIGZvciBzdHJpY3RcbiAgICAgKiAgZXF1YWxpdHkgY29tcGFyaXNvbnMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1N0cmljdENvbXBhcmFibGUodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gdmFsdWUgJiYgIWlzT2JqZWN0KHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYG1hdGNoZXNQcm9wZXJ0eWAgZm9yIHNvdXJjZSB2YWx1ZXMgc3VpdGFibGVcbiAgICAgKiBmb3Igc3RyaWN0IGVxdWFsaXR5IGNvbXBhcmlzb25zLCBpLmUuIGA9PT1gLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcGFyYW0geyp9IHNyY1ZhbHVlIFRoZSB2YWx1ZSB0byBtYXRjaC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hdGNoZXNTdHJpY3RDb21wYXJhYmxlKGtleSwgc3JjVmFsdWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmplY3Rba2V5XSA9PT0gc3JjVmFsdWUgJiZcbiAgICAgICAgICAoc3JjVmFsdWUgIT09IHVuZGVmaW5lZCB8fCAoa2V5IGluIE9iamVjdChvYmplY3QpKSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5tZW1vaXplYCB3aGljaCBjbGVhcnMgdGhlIG1lbW9pemVkIGZ1bmN0aW9uJ3NcbiAgICAgKiBjYWNoZSB3aGVuIGl0IGV4Y2VlZHMgYE1BWF9NRU1PSVpFX1NJWkVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBoYXZlIGl0cyBvdXRwdXQgbWVtb2l6ZWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgbWVtb2l6ZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWVtb2l6ZUNhcHBlZChmdW5jKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbWVtb2l6ZShmdW5jLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgaWYgKGNhY2hlLnNpemUgPT09IE1BWF9NRU1PSVpFX1NJWkUpIHtcbiAgICAgICAgICBjYWNoZS5jbGVhcigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBrZXk7XG4gICAgICB9KTtcblxuICAgICAgdmFyIGNhY2hlID0gcmVzdWx0LmNhY2hlO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNZXJnZXMgdGhlIGZ1bmN0aW9uIG1ldGFkYXRhIG9mIGBzb3VyY2VgIGludG8gYGRhdGFgLlxuICAgICAqXG4gICAgICogTWVyZ2luZyBtZXRhZGF0YSByZWR1Y2VzIHRoZSBudW1iZXIgb2Ygd3JhcHBlcnMgdXNlZCB0byBpbnZva2UgYSBmdW5jdGlvbi5cbiAgICAgKiBUaGlzIGlzIHBvc3NpYmxlIGJlY2F1c2UgbWV0aG9kcyBsaWtlIGBfLmJpbmRgLCBgXy5jdXJyeWAsIGFuZCBgXy5wYXJ0aWFsYFxuICAgICAqIG1heSBiZSBhcHBsaWVkIHJlZ2FyZGxlc3Mgb2YgZXhlY3V0aW9uIG9yZGVyLiBNZXRob2RzIGxpa2UgYF8uYXJ5YCBhbmRcbiAgICAgKiBgXy5yZWFyZ2AgbW9kaWZ5IGZ1bmN0aW9uIGFyZ3VtZW50cywgbWFraW5nIHRoZSBvcmRlciBpbiB3aGljaCB0aGV5IGFyZVxuICAgICAqIGV4ZWN1dGVkIGltcG9ydGFudCwgcHJldmVudGluZyB0aGUgbWVyZ2luZyBvZiBtZXRhZGF0YS4gSG93ZXZlciwgd2UgbWFrZVxuICAgICAqIGFuIGV4Y2VwdGlvbiBmb3IgYSBzYWZlIGNvbWJpbmVkIGNhc2Ugd2hlcmUgY3VycmllZCBmdW5jdGlvbnMgaGF2ZSBgXy5hcnlgXG4gICAgICogYW5kIG9yIGBfLnJlYXJnYCBhcHBsaWVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBkYXRhIFRoZSBkZXN0aW5hdGlvbiBtZXRhZGF0YS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBzb3VyY2UgVGhlIHNvdXJjZSBtZXRhZGF0YS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGRhdGFgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1lcmdlRGF0YShkYXRhLCBzb3VyY2UpIHtcbiAgICAgIHZhciBiaXRtYXNrID0gZGF0YVsxXSxcbiAgICAgICAgICBzcmNCaXRtYXNrID0gc291cmNlWzFdLFxuICAgICAgICAgIG5ld0JpdG1hc2sgPSBiaXRtYXNrIHwgc3JjQml0bWFzayxcbiAgICAgICAgICBpc0NvbW1vbiA9IG5ld0JpdG1hc2sgPCAoV1JBUF9CSU5EX0ZMQUcgfCBXUkFQX0JJTkRfS0VZX0ZMQUcgfCBXUkFQX0FSWV9GTEFHKTtcblxuICAgICAgdmFyIGlzQ29tYm8gPVxuICAgICAgICAoKHNyY0JpdG1hc2sgPT0gV1JBUF9BUllfRkxBRykgJiYgKGJpdG1hc2sgPT0gV1JBUF9DVVJSWV9GTEFHKSkgfHxcbiAgICAgICAgKChzcmNCaXRtYXNrID09IFdSQVBfQVJZX0ZMQUcpICYmIChiaXRtYXNrID09IFdSQVBfUkVBUkdfRkxBRykgJiYgKGRhdGFbN10ubGVuZ3RoIDw9IHNvdXJjZVs4XSkpIHx8XG4gICAgICAgICgoc3JjQml0bWFzayA9PSAoV1JBUF9BUllfRkxBRyB8IFdSQVBfUkVBUkdfRkxBRykpICYmIChzb3VyY2VbN10ubGVuZ3RoIDw9IHNvdXJjZVs4XSkgJiYgKGJpdG1hc2sgPT0gV1JBUF9DVVJSWV9GTEFHKSk7XG5cbiAgICAgIC8vIEV4aXQgZWFybHkgaWYgbWV0YWRhdGEgY2FuJ3QgYmUgbWVyZ2VkLlxuICAgICAgaWYgKCEoaXNDb21tb24gfHwgaXNDb21ibykpIHtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICB9XG4gICAgICAvLyBVc2Ugc291cmNlIGB0aGlzQXJnYCBpZiBhdmFpbGFibGUuXG4gICAgICBpZiAoc3JjQml0bWFzayAmIFdSQVBfQklORF9GTEFHKSB7XG4gICAgICAgIGRhdGFbMl0gPSBzb3VyY2VbMl07XG4gICAgICAgIC8vIFNldCB3aGVuIGN1cnJ5aW5nIGEgYm91bmQgZnVuY3Rpb24uXG4gICAgICAgIG5ld0JpdG1hc2sgfD0gYml0bWFzayAmIFdSQVBfQklORF9GTEFHID8gMCA6IFdSQVBfQ1VSUllfQk9VTkRfRkxBRztcbiAgICAgIH1cbiAgICAgIC8vIENvbXBvc2UgcGFydGlhbCBhcmd1bWVudHMuXG4gICAgICB2YXIgdmFsdWUgPSBzb3VyY2VbM107XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgdmFyIHBhcnRpYWxzID0gZGF0YVszXTtcbiAgICAgICAgZGF0YVszXSA9IHBhcnRpYWxzID8gY29tcG9zZUFyZ3MocGFydGlhbHMsIHZhbHVlLCBzb3VyY2VbNF0pIDogdmFsdWU7XG4gICAgICAgIGRhdGFbNF0gPSBwYXJ0aWFscyA/IHJlcGxhY2VIb2xkZXJzKGRhdGFbM10sIFBMQUNFSE9MREVSKSA6IHNvdXJjZVs0XTtcbiAgICAgIH1cbiAgICAgIC8vIENvbXBvc2UgcGFydGlhbCByaWdodCBhcmd1bWVudHMuXG4gICAgICB2YWx1ZSA9IHNvdXJjZVs1XTtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICBwYXJ0aWFscyA9IGRhdGFbNV07XG4gICAgICAgIGRhdGFbNV0gPSBwYXJ0aWFscyA/IGNvbXBvc2VBcmdzUmlnaHQocGFydGlhbHMsIHZhbHVlLCBzb3VyY2VbNl0pIDogdmFsdWU7XG4gICAgICAgIGRhdGFbNl0gPSBwYXJ0aWFscyA/IHJlcGxhY2VIb2xkZXJzKGRhdGFbNV0sIFBMQUNFSE9MREVSKSA6IHNvdXJjZVs2XTtcbiAgICAgIH1cbiAgICAgIC8vIFVzZSBzb3VyY2UgYGFyZ1Bvc2AgaWYgYXZhaWxhYmxlLlxuICAgICAgdmFsdWUgPSBzb3VyY2VbN107XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgZGF0YVs3XSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgLy8gVXNlIHNvdXJjZSBgYXJ5YCBpZiBpdCdzIHNtYWxsZXIuXG4gICAgICBpZiAoc3JjQml0bWFzayAmIFdSQVBfQVJZX0ZMQUcpIHtcbiAgICAgICAgZGF0YVs4XSA9IGRhdGFbOF0gPT0gbnVsbCA/IHNvdXJjZVs4XSA6IG5hdGl2ZU1pbihkYXRhWzhdLCBzb3VyY2VbOF0pO1xuICAgICAgfVxuICAgICAgLy8gVXNlIHNvdXJjZSBgYXJpdHlgIGlmIG9uZSBpcyBub3QgcHJvdmlkZWQuXG4gICAgICBpZiAoZGF0YVs5XSA9PSBudWxsKSB7XG4gICAgICAgIGRhdGFbOV0gPSBzb3VyY2VbOV07XG4gICAgICB9XG4gICAgICAvLyBVc2Ugc291cmNlIGBmdW5jYCBhbmQgbWVyZ2UgYml0bWFza3MuXG4gICAgICBkYXRhWzBdID0gc291cmNlWzBdO1xuICAgICAgZGF0YVsxXSA9IG5ld0JpdG1hc2s7XG5cbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZVxuICAgICAqIFtgT2JqZWN0LmtleXNgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3Qua2V5cylcbiAgICAgKiBleGNlcHQgdGhhdCBpdCBpbmNsdWRlcyBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBuYXRpdmVLZXlzSW4ob2JqZWN0KSB7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICBpZiAob2JqZWN0ICE9IG51bGwpIHtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIE9iamVjdChvYmplY3QpKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nIHVzaW5nIGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9iamVjdFRvU3RyaW5nKHZhbHVlKSB7XG4gICAgICByZXR1cm4gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlUmVzdGAgd2hpY2ggdHJhbnNmb3JtcyB0aGUgcmVzdCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PWZ1bmMubGVuZ3RoLTFdIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgcmVzdCBwYXJhbWV0ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdHJhbnNmb3JtIFRoZSByZXN0IGFycmF5IHRyYW5zZm9ybS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvdmVyUmVzdChmdW5jLCBzdGFydCwgdHJhbnNmb3JtKSB7XG4gICAgICBzdGFydCA9IG5hdGl2ZU1heChzdGFydCA9PT0gdW5kZWZpbmVkID8gKGZ1bmMubGVuZ3RoIC0gMSkgOiBzdGFydCwgMCk7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1heChhcmdzLmxlbmd0aCAtIHN0YXJ0LCAwKSxcbiAgICAgICAgICAgIGFycmF5ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIGFycmF5W2luZGV4XSA9IGFyZ3Nbc3RhcnQgKyBpbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgaW5kZXggPSAtMTtcbiAgICAgICAgdmFyIG90aGVyQXJncyA9IEFycmF5KHN0YXJ0ICsgMSk7XG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgc3RhcnQpIHtcbiAgICAgICAgICBvdGhlckFyZ3NbaW5kZXhdID0gYXJnc1tpbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgb3RoZXJBcmdzW3N0YXJ0XSA9IHRyYW5zZm9ybShhcnJheSk7XG4gICAgICAgIHJldHVybiBhcHBseShmdW5jLCB0aGlzLCBvdGhlckFyZ3MpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBwYXJlbnQgdmFsdWUgYXQgYHBhdGhgIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheX0gcGF0aCBUaGUgcGF0aCB0byBnZXQgdGhlIHBhcmVudCB2YWx1ZSBvZi5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcGFyZW50IHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhcmVudChvYmplY3QsIHBhdGgpIHtcbiAgICAgIHJldHVybiBwYXRoLmxlbmd0aCA8IDIgPyBvYmplY3QgOiBiYXNlR2V0KG9iamVjdCwgYmFzZVNsaWNlKHBhdGgsIDAsIC0xKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVvcmRlciBgYXJyYXlgIGFjY29yZGluZyB0byB0aGUgc3BlY2lmaWVkIGluZGV4ZXMgd2hlcmUgdGhlIGVsZW1lbnQgYXRcbiAgICAgKiB0aGUgZmlyc3QgaW5kZXggaXMgYXNzaWduZWQgYXMgdGhlIGZpcnN0IGVsZW1lbnQsIHRoZSBlbGVtZW50IGF0XG4gICAgICogdGhlIHNlY29uZCBpbmRleCBpcyBhc3NpZ25lZCBhcyB0aGUgc2Vjb25kIGVsZW1lbnQsIGFuZCBzbyBvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHJlb3JkZXIuXG4gICAgICogQHBhcmFtIHtBcnJheX0gaW5kZXhlcyBUaGUgYXJyYW5nZWQgYXJyYXkgaW5kZXhlcy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZW9yZGVyKGFycmF5LCBpbmRleGVzKSB7XG4gICAgICB2YXIgYXJyTGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1pbihpbmRleGVzLmxlbmd0aCwgYXJyTGVuZ3RoKSxcbiAgICAgICAgICBvbGRBcnJheSA9IGNvcHlBcnJheShhcnJheSk7XG5cbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICB2YXIgaW5kZXggPSBpbmRleGVzW2xlbmd0aF07XG4gICAgICAgIGFycmF5W2xlbmd0aF0gPSBpc0luZGV4KGluZGV4LCBhcnJMZW5ndGgpID8gb2xkQXJyYXlbaW5kZXhdIDogdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHZhbHVlIGF0IGBrZXlgLCB1bmxlc3MgYGtleWAgaXMgXCJfX3Byb3RvX19cIiBvciBcImNvbnN0cnVjdG9yXCIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcHJvcGVydHkgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2FmZUdldChvYmplY3QsIGtleSkge1xuICAgICAgaWYgKGtleSA9PT0gJ2NvbnN0cnVjdG9yJyAmJiB0eXBlb2Ygb2JqZWN0W2tleV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoa2V5ID09ICdfX3Byb3RvX18nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9iamVjdFtrZXldO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgbWV0YWRhdGEgZm9yIGBmdW5jYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBJZiB0aGlzIGZ1bmN0aW9uIGJlY29tZXMgaG90LCBpLmUuIGlzIGludm9rZWQgYSBsb3QgaW4gYSBzaG9ydFxuICAgICAqIHBlcmlvZCBvZiB0aW1lLCBpdCB3aWxsIHRyaXAgaXRzIGJyZWFrZXIgYW5kIHRyYW5zaXRpb24gdG8gYW4gaWRlbnRpdHlcbiAgICAgKiBmdW5jdGlvbiB0byBhdm9pZCBnYXJiYWdlIGNvbGxlY3Rpb24gcGF1c2VzIGluIFY4LiBTZWVcbiAgICAgKiBbVjggaXNzdWUgMjA3MF0oaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MjA3MClcbiAgICAgKiBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhc3NvY2lhdGUgbWV0YWRhdGEgd2l0aC5cbiAgICAgKiBAcGFyYW0geyp9IGRhdGEgVGhlIG1ldGFkYXRhLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgZnVuY2AuXG4gICAgICovXG4gICAgdmFyIHNldERhdGEgPSBzaG9ydE91dChiYXNlU2V0RGF0YSk7XG5cbiAgICAvKipcbiAgICAgKiBBIHNpbXBsZSB3cmFwcGVyIGFyb3VuZCB0aGUgZ2xvYmFsIFtgc2V0VGltZW91dGBdKGh0dHBzOi8vbWRuLmlvL3NldFRpbWVvdXQpLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWxheS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2FpdCBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheSBpbnZvY2F0aW9uLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ8T2JqZWN0fSBSZXR1cm5zIHRoZSB0aW1lciBpZCBvciB0aW1lb3V0IG9iamVjdC5cbiAgICAgKi9cbiAgICB2YXIgc2V0VGltZW91dCA9IGN0eFNldFRpbWVvdXQgfHwgZnVuY3Rpb24oZnVuYywgd2FpdCkge1xuICAgICAgcmV0dXJuIHJvb3Quc2V0VGltZW91dChmdW5jLCB3YWl0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYHRvU3RyaW5nYCBtZXRob2Qgb2YgYGZ1bmNgIHRvIHJldHVybiBgc3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHN0cmluZyBUaGUgYHRvU3RyaW5nYCByZXN1bHQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAgICAgKi9cbiAgICB2YXIgc2V0VG9TdHJpbmcgPSBzaG9ydE91dChiYXNlU2V0VG9TdHJpbmcpO1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYHRvU3RyaW5nYCBtZXRob2Qgb2YgYHdyYXBwZXJgIHRvIG1pbWljIHRoZSBzb3VyY2Ugb2YgYHJlZmVyZW5jZWBcbiAgICAgKiB3aXRoIHdyYXBwZXIgZGV0YWlscyBpbiBhIGNvbW1lbnQgYXQgdGhlIHRvcCBvZiB0aGUgc291cmNlIGJvZHkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHdyYXBwZXIgVGhlIGZ1bmN0aW9uIHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWZlcmVuY2UgVGhlIHJlZmVyZW5jZSBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgd3JhcHBlcmAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0V3JhcFRvU3RyaW5nKHdyYXBwZXIsIHJlZmVyZW5jZSwgYml0bWFzaykge1xuICAgICAgdmFyIHNvdXJjZSA9IChyZWZlcmVuY2UgKyAnJyk7XG4gICAgICByZXR1cm4gc2V0VG9TdHJpbmcod3JhcHBlciwgaW5zZXJ0V3JhcERldGFpbHMoc291cmNlLCB1cGRhdGVXcmFwRGV0YWlscyhnZXRXcmFwRGV0YWlscyhzb3VyY2UpLCBiaXRtYXNrKSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0J2xsIHNob3J0IG91dCBhbmQgaW52b2tlIGBpZGVudGl0eWAgaW5zdGVhZFxuICAgICAqIG9mIGBmdW5jYCB3aGVuIGl0J3MgY2FsbGVkIGBIT1RfQ09VTlRgIG9yIG1vcmUgdGltZXMgaW4gYEhPVF9TUEFOYFxuICAgICAqIG1pbGxpc2Vjb25kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVzdHJpY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc2hvcnRhYmxlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNob3J0T3V0KGZ1bmMpIHtcbiAgICAgIHZhciBjb3VudCA9IDAsXG4gICAgICAgICAgbGFzdENhbGxlZCA9IDA7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHN0YW1wID0gbmF0aXZlTm93KCksXG4gICAgICAgICAgICByZW1haW5pbmcgPSBIT1RfU1BBTiAtIChzdGFtcCAtIGxhc3RDYWxsZWQpO1xuXG4gICAgICAgIGxhc3RDYWxsZWQgPSBzdGFtcDtcbiAgICAgICAgaWYgKHJlbWFpbmluZyA+IDApIHtcbiAgICAgICAgICBpZiAoKytjb3VudCA+PSBIT1RfQ09VTlQpIHtcbiAgICAgICAgICAgIHJldHVybiBhcmd1bWVudHNbMF07XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvdW50ID0gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnVuYy5hcHBseSh1bmRlZmluZWQsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5zaHVmZmxlYCB3aGljaCBtdXRhdGVzIGFuZCBzZXRzIHRoZSBzaXplIG9mIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzaHVmZmxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2l6ZT1hcnJheS5sZW5ndGhdIFRoZSBzaXplIG9mIGBhcnJheWAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2h1ZmZsZVNlbGYoYXJyYXksIHNpemUpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICBsYXN0SW5kZXggPSBsZW5ndGggLSAxO1xuXG4gICAgICBzaXplID0gc2l6ZSA9PT0gdW5kZWZpbmVkID8gbGVuZ3RoIDogc2l6ZTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgc2l6ZSkge1xuICAgICAgICB2YXIgcmFuZCA9IGJhc2VSYW5kb20oaW5kZXgsIGxhc3RJbmRleCksXG4gICAgICAgICAgICB2YWx1ZSA9IGFycmF5W3JhbmRdO1xuXG4gICAgICAgIGFycmF5W3JhbmRdID0gYXJyYXlbaW5kZXhdO1xuICAgICAgICBhcnJheVtpbmRleF0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGFycmF5Lmxlbmd0aCA9IHNpemU7XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AgdG8gYSBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHByb3BlcnR5IHBhdGggYXJyYXkuXG4gICAgICovXG4gICAgdmFyIHN0cmluZ1RvUGF0aCA9IG1lbW9pemVDYXBwZWQoZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICBpZiAoc3RyaW5nLmNoYXJDb2RlQXQoMCkgPT09IDQ2IC8qIC4gKi8pIHtcbiAgICAgICAgcmVzdWx0LnB1c2goJycpO1xuICAgICAgfVxuICAgICAgc3RyaW5nLnJlcGxhY2UocmVQcm9wTmFtZSwgZnVuY3Rpb24obWF0Y2gsIG51bWJlciwgcXVvdGUsIHN1YlN0cmluZykge1xuICAgICAgICByZXN1bHQucHVzaChxdW90ZSA/IHN1YlN0cmluZy5yZXBsYWNlKHJlRXNjYXBlQ2hhciwgJyQxJykgOiAobnVtYmVyIHx8IG1hdGNoKSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nIGtleSBpZiBpdCdzIG5vdCBhIHN0cmluZyBvciBzeW1ib2wuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge3N0cmluZ3xzeW1ib2x9IFJldHVybnMgdGhlIGtleS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0tleSh2YWx1ZSkge1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyB8fCBpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9ICh2YWx1ZSArICcnKTtcbiAgICAgIHJldHVybiAocmVzdWx0ID09ICcwJyAmJiAoMSAvIHZhbHVlKSA9PSAtSU5GSU5JVFkpID8gJy0wJyA6IHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgZnVuY2AgdG8gaXRzIHNvdXJjZSBjb2RlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHNvdXJjZSBjb2RlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvU291cmNlKGZ1bmMpIHtcbiAgICAgIGlmIChmdW5jICE9IG51bGwpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gZnVuY1RvU3RyaW5nLmNhbGwoZnVuYyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIChmdW5jICsgJycpO1xuICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgfVxuICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgd3JhcHBlciBgZGV0YWlsc2AgYmFzZWQgb24gYGJpdG1hc2tgIGZsYWdzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IGRldGFpbHMgVGhlIGRldGFpbHMgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBkZXRhaWxzYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1cGRhdGVXcmFwRGV0YWlscyhkZXRhaWxzLCBiaXRtYXNrKSB7XG4gICAgICBhcnJheUVhY2god3JhcEZsYWdzLCBmdW5jdGlvbihwYWlyKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9ICdfLicgKyBwYWlyWzBdO1xuICAgICAgICBpZiAoKGJpdG1hc2sgJiBwYWlyWzFdKSAmJiAhYXJyYXlJbmNsdWRlcyhkZXRhaWxzLCB2YWx1ZSkpIHtcbiAgICAgICAgICBkZXRhaWxzLnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBkZXRhaWxzLnNvcnQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgYHdyYXBwZXJgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gd3JhcHBlciBUaGUgd3JhcHBlciB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgd3JhcHBlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyQ2xvbmUod3JhcHBlcikge1xuICAgICAgaWYgKHdyYXBwZXIgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcikge1xuICAgICAgICByZXR1cm4gd3JhcHBlci5jbG9uZSgpO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IG5ldyBMb2Rhc2hXcmFwcGVyKHdyYXBwZXIuX193cmFwcGVkX18sIHdyYXBwZXIuX19jaGFpbl9fKTtcbiAgICAgIHJlc3VsdC5fX2FjdGlvbnNfXyA9IGNvcHlBcnJheSh3cmFwcGVyLl9fYWN0aW9uc19fKTtcbiAgICAgIHJlc3VsdC5fX2luZGV4X18gID0gd3JhcHBlci5fX2luZGV4X187XG4gICAgICByZXN1bHQuX192YWx1ZXNfXyA9IHdyYXBwZXIuX192YWx1ZXNfXztcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBlbGVtZW50cyBzcGxpdCBpbnRvIGdyb3VwcyB0aGUgbGVuZ3RoIG9mIGBzaXplYC5cbiAgICAgKiBJZiBgYXJyYXlgIGNhbid0IGJlIHNwbGl0IGV2ZW5seSwgdGhlIGZpbmFsIGNodW5rIHdpbGwgYmUgdGhlIHJlbWFpbmluZ1xuICAgICAqIGVsZW1lbnRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHByb2Nlc3MuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzaXplPTFdIFRoZSBsZW5ndGggb2YgZWFjaCBjaHVua1xuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgY2h1bmtzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNodW5rKFsnYScsICdiJywgJ2MnLCAnZCddLCAyKTtcbiAgICAgKiAvLyA9PiBbWydhJywgJ2InXSwgWydjJywgJ2QnXV1cbiAgICAgKlxuICAgICAqIF8uY2h1bmsoWydhJywgJ2InLCAnYycsICdkJ10sIDMpO1xuICAgICAqIC8vID0+IFtbJ2EnLCAnYicsICdjJ10sIFsnZCddXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNodW5rKGFycmF5LCBzaXplLCBndWFyZCkge1xuICAgICAgaWYgKChndWFyZCA/IGlzSXRlcmF0ZWVDYWxsKGFycmF5LCBzaXplLCBndWFyZCkgOiBzaXplID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIHNpemUgPSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2l6ZSA9IG5hdGl2ZU1heCh0b0ludGVnZXIoc2l6ZSksIDApO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGggfHwgc2l6ZSA8IDEpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gMCxcbiAgICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkobmF0aXZlQ2VpbChsZW5ndGggLyBzaXplKSk7XG5cbiAgICAgIHdoaWxlIChpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSBiYXNlU2xpY2UoYXJyYXksIGluZGV4LCAoaW5kZXggKz0gc2l6ZSkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IHdpdGggYWxsIGZhbHNleSB2YWx1ZXMgcmVtb3ZlZC4gVGhlIHZhbHVlcyBgZmFsc2VgLCBgbnVsbGAsXG4gICAgICogYDBgLCBgXCJcImAsIGB1bmRlZmluZWRgLCBhbmQgYE5hTmAgYXJlIGZhbHNleS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBjb21wYWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jb21wYWN0KFswLCAxLCBmYWxzZSwgMiwgJycsIDNdKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wYWN0KGFycmF5KSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBhcnJheSBjb25jYXRlbmF0aW5nIGBhcnJheWAgd2l0aCBhbnkgYWRkaXRpb25hbCBhcnJheXNcbiAgICAgKiBhbmQvb3IgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNvbmNhdGVuYXRlLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBjb25jYXRlbmF0ZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBjb25jYXRlbmF0ZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxXTtcbiAgICAgKiB2YXIgb3RoZXIgPSBfLmNvbmNhdChhcnJheSwgMiwgWzNdLCBbWzRdXSk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvdGhlcik7XG4gICAgICogLy8gPT4gWzEsIDIsIDMsIFs0XV1cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25jYXQoKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciBhcmdzID0gQXJyYXkobGVuZ3RoIC0gMSksXG4gICAgICAgICAgYXJyYXkgPSBhcmd1bWVudHNbMF0sXG4gICAgICAgICAgaW5kZXggPSBsZW5ndGg7XG5cbiAgICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICAgIGFyZ3NbaW5kZXggLSAxXSA9IGFyZ3VtZW50c1tpbmRleF07XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXlQdXNoKGlzQXJyYXkoYXJyYXkpID8gY29weUFycmF5KGFycmF5KSA6IFthcnJheV0sIGJhc2VGbGF0dGVuKGFyZ3MsIDEpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGBhcnJheWAgdmFsdWVzIG5vdCBpbmNsdWRlZCBpbiB0aGUgb3RoZXIgZ2l2ZW4gYXJyYXlzXG4gICAgICogdXNpbmcgW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuIFRoZSBvcmRlciBhbmQgcmVmZXJlbmNlcyBvZiByZXN1bHQgdmFsdWVzIGFyZVxuICAgICAqIGRldGVybWluZWQgYnkgdGhlIGZpcnN0IGFycmF5LlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5wdWxsQWxsYCwgdGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gZXhjbHVkZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQHNlZSBfLndpdGhvdXQsIF8ueG9yXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGlmZmVyZW5jZShbMiwgMV0sIFsyLCAzXSk7XG4gICAgICogLy8gPT4gWzFdXG4gICAgICovXG4gICAgdmFyIGRpZmZlcmVuY2UgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheSwgdmFsdWVzKSB7XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QoYXJyYXkpXG4gICAgICAgID8gYmFzZURpZmZlcmVuY2UoYXJyYXksIGJhc2VGbGF0dGVuKHZhbHVlcywgMSwgaXNBcnJheUxpa2VPYmplY3QsIHRydWUpKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5kaWZmZXJlbmNlYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgb2YgYGFycmF5YCBhbmQgYHZhbHVlc2AgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvblxuICAgICAqIGJ5IHdoaWNoIHRoZXkncmUgY29tcGFyZWQuIFRoZSBvcmRlciBhbmQgcmVmZXJlbmNlcyBvZiByZXN1bHQgdmFsdWVzIGFyZVxuICAgICAqIGRldGVybWluZWQgYnkgdGhlIGZpcnN0IGFycmF5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDpcbiAgICAgKiAodmFsdWUpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5wdWxsQWxsQnlgLCB0aGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBleGNsdWRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGlmZmVyZW5jZUJ5KFsyLjEsIDEuMl0sIFsyLjMsIDMuNF0sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IFsxLjJdXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRpZmZlcmVuY2VCeShbeyAneCc6IDIgfSwgeyAneCc6IDEgfV0sIFt7ICd4JzogMSB9XSwgJ3gnKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDIgfV1cbiAgICAgKi9cbiAgICB2YXIgZGlmZmVyZW5jZUJ5ID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXksIHZhbHVlcykge1xuICAgICAgdmFyIGl0ZXJhdGVlID0gbGFzdCh2YWx1ZXMpO1xuICAgICAgaWYgKGlzQXJyYXlMaWtlT2JqZWN0KGl0ZXJhdGVlKSkge1xuICAgICAgICBpdGVyYXRlZSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpc0FycmF5TGlrZU9iamVjdChhcnJheSlcbiAgICAgICAgPyBiYXNlRGlmZmVyZW5jZShhcnJheSwgYmFzZUZsYXR0ZW4odmFsdWVzLCAxLCBpc0FycmF5TGlrZU9iamVjdCwgdHJ1ZSksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSlcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZGlmZmVyZW5jZWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY29tcGFyYXRvcmBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIHRvIGNvbXBhcmUgZWxlbWVudHMgb2YgYGFycmF5YCB0byBgdmFsdWVzYC4gVGhlIG9yZGVyIGFuZFxuICAgICAqIHJlZmVyZW5jZXMgb2YgcmVzdWx0IHZhbHVlcyBhcmUgZGV0ZXJtaW5lZCBieSB0aGUgZmlyc3QgYXJyYXkuIFRoZSBjb21wYXJhdG9yXG4gICAgICogaXMgaW52b2tlZCB3aXRoIHR3byBhcmd1bWVudHM6IChhcnJWYWwsIG90aFZhbCkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLnB1bGxBbGxXaXRoYCwgdGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gZXhjbHVkZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9XTtcbiAgICAgKlxuICAgICAqIF8uZGlmZmVyZW5jZVdpdGgob2JqZWN0cywgW3sgJ3gnOiAxLCAneSc6IDIgfV0sIF8uaXNFcXVhbCk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAyLCAneSc6IDEgfV1cbiAgICAgKi9cbiAgICB2YXIgZGlmZmVyZW5jZVdpdGggPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheSwgdmFsdWVzKSB7XG4gICAgICB2YXIgY29tcGFyYXRvciA9IGxhc3QodmFsdWVzKTtcbiAgICAgIGlmIChpc0FycmF5TGlrZU9iamVjdChjb21wYXJhdG9yKSkge1xuICAgICAgICBjb21wYXJhdG9yID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGlzQXJyYXlMaWtlT2JqZWN0KGFycmF5KVxuICAgICAgICA/IGJhc2VEaWZmZXJlbmNlKGFycmF5LCBiYXNlRmxhdHRlbih2YWx1ZXMsIDEsIGlzQXJyYXlMaWtlT2JqZWN0LCB0cnVlKSwgdW5kZWZpbmVkLCBjb21wYXJhdG9yKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgd2l0aCBgbmAgZWxlbWVudHMgZHJvcHBlZCBmcm9tIHRoZSBiZWdpbm5pbmcuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC41LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gZHJvcC5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kcm9wKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gWzIsIDNdXG4gICAgICpcbiAgICAgKiBfLmRyb3AoWzEsIDIsIDNdLCAyKTtcbiAgICAgKiAvLyA9PiBbM11cbiAgICAgKlxuICAgICAqIF8uZHJvcChbMSwgMiwgM10sIDUpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICpcbiAgICAgKiBfLmRyb3AoWzEsIDIsIDNdLCAwKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkcm9wKGFycmF5LCBuLCBndWFyZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgbiA9IChndWFyZCB8fCBuID09PSB1bmRlZmluZWQpID8gMSA6IHRvSW50ZWdlcihuKTtcbiAgICAgIHJldHVybiBiYXNlU2xpY2UoYXJyYXksIG4gPCAwID8gMCA6IG4sIGxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgd2l0aCBgbmAgZWxlbWVudHMgZHJvcHBlZCBmcm9tIHRoZSBlbmQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gZHJvcC5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kcm9wUmlnaHQoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIF8uZHJvcFJpZ2h0KFsxLCAyLCAzXSwgMik7XG4gICAgICogLy8gPT4gWzFdXG4gICAgICpcbiAgICAgKiBfLmRyb3BSaWdodChbMSwgMiwgM10sIDUpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICpcbiAgICAgKiBfLmRyb3BSaWdodChbMSwgMiwgM10sIDApO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRyb3BSaWdodChhcnJheSwgbiwgZ3VhcmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIG4gPSAoZ3VhcmQgfHwgbiA9PT0gdW5kZWZpbmVkKSA/IDEgOiB0b0ludGVnZXIobik7XG4gICAgICBuID0gbGVuZ3RoIC0gbjtcbiAgICAgIHJldHVybiBiYXNlU2xpY2UoYXJyYXksIDAsIG4gPCAwID8gMCA6IG4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIGV4Y2x1ZGluZyBlbGVtZW50cyBkcm9wcGVkIGZyb20gdGhlIGVuZC5cbiAgICAgKiBFbGVtZW50cyBhcmUgZHJvcHBlZCB1bnRpbCBgcHJlZGljYXRlYCByZXR1cm5zIGZhbHNleS4gVGhlIHByZWRpY2F0ZSBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmRyb3BSaWdodFdoaWxlKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiAhby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kcm9wUmlnaHRXaGlsZSh1c2VycywgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5JywgJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZHJvcFJpZ2h0V2hpbGUodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRyb3BSaWdodFdoaWxlKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknLCAnZnJlZCcsICdwZWJibGVzJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkcm9wUmlnaHRXaGlsZShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlV2hpbGUoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIHRydWUsIHRydWUpXG4gICAgICAgIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgZXhjbHVkaW5nIGVsZW1lbnRzIGRyb3BwZWQgZnJvbSB0aGUgYmVnaW5uaW5nLlxuICAgICAqIEVsZW1lbnRzIGFyZSBkcm9wcGVkIHVudGlsIGBwcmVkaWNhdGVgIHJldHVybnMgZmFsc2V5LiBUaGUgcHJlZGljYXRlIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZHJvcFdoaWxlKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiAhby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsncGViYmxlcyddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZHJvcFdoaWxlKHVzZXJzLCB7ICd1c2VyJzogJ2Jhcm5leScsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnLCAncGViYmxlcyddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kcm9wV2hpbGUodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kcm9wV2hpbGUodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leScsICdmcmVkJywgJ3BlYmJsZXMnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRyb3BXaGlsZShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlV2hpbGUoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIHRydWUpXG4gICAgICAgIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmlsbHMgZWxlbWVudHMgb2YgYGFycmF5YCB3aXRoIGB2YWx1ZWAgZnJvbSBgc3RhcnRgIHVwIHRvLCBidXQgbm90XG4gICAgICogaW5jbHVkaW5nLCBgZW5kYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmlsbC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBmaWxsIGBhcnJheWAgd2l0aC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2VuZD1hcnJheS5sZW5ndGhdIFRoZSBlbmQgcG9zaXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyLCAzXTtcbiAgICAgKlxuICAgICAqIF8uZmlsbChhcnJheSwgJ2EnKTtcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWydhJywgJ2EnLCAnYSddXG4gICAgICpcbiAgICAgKiBfLmZpbGwoQXJyYXkoMyksIDIpO1xuICAgICAqIC8vID0+IFsyLCAyLCAyXVxuICAgICAqXG4gICAgICogXy5maWxsKFs0LCA2LCA4LCAxMF0sICcqJywgMSwgMyk7XG4gICAgICogLy8gPT4gWzQsICcqJywgJyonLCAxMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaWxsKGFycmF5LCB2YWx1ZSwgc3RhcnQsIGVuZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgaWYgKHN0YXJ0ICYmIHR5cGVvZiBzdGFydCAhPSAnbnVtYmVyJyAmJiBpc0l0ZXJhdGVlQ2FsbChhcnJheSwgdmFsdWUsIHN0YXJ0KSkge1xuICAgICAgICBzdGFydCA9IDA7XG4gICAgICAgIGVuZCA9IGxlbmd0aDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlRmlsbChhcnJheSwgdmFsdWUsIHN0YXJ0LCBlbmQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmluZGAgZXhjZXB0IHRoYXQgaXQgcmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGZpcnN0XG4gICAgICogZWxlbWVudCBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IgaW5zdGVhZCBvZiB0aGUgZWxlbWVudCBpdHNlbGYuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9MF0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBmb3VuZCBlbGVtZW50LCBlbHNlIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmluZEluZGV4KHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLnVzZXIgPT0gJ2Jhcm5leSc7IH0pO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kSW5kZXgodXNlcnMsIHsgJ3VzZXInOiAnZnJlZCcsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kSW5kZXgodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRJbmRleCh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IDJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaW5kSW5kZXgoYXJyYXksIHByZWRpY2F0ZSwgZnJvbUluZGV4KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBmcm9tSW5kZXggPT0gbnVsbCA/IDAgOiB0b0ludGVnZXIoZnJvbUluZGV4KTtcbiAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgaW5kZXggPSBuYXRpdmVNYXgobGVuZ3RoICsgaW5kZXgsIDApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VGaW5kSW5kZXgoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIGluZGV4KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZpbmRJbmRleGAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50c1xuICAgICAqIG9mIGBjb2xsZWN0aW9uYCBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9YXJyYXkubGVuZ3RoLTFdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgZm91bmQgZWxlbWVudCwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbmRMYXN0SW5kZXgodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8udXNlciA9PSAncGViYmxlcyc7IH0pO1xuICAgICAqIC8vID0+IDJcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEluZGV4KHVzZXJzLCB7ICd1c2VyJzogJ2Jhcm5leScsICdhY3RpdmUnOiB0cnVlIH0pO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRMYXN0SW5kZXgodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRMYXN0SW5kZXgodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZExhc3RJbmRleChhcnJheSwgcHJlZGljYXRlLCBmcm9tSW5kZXgpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IGxlbmd0aCAtIDE7XG4gICAgICBpZiAoZnJvbUluZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaW5kZXggPSB0b0ludGVnZXIoZnJvbUluZGV4KTtcbiAgICAgICAgaW5kZXggPSBmcm9tSW5kZXggPCAwXG4gICAgICAgICAgPyBuYXRpdmVNYXgobGVuZ3RoICsgaW5kZXgsIDApXG4gICAgICAgICAgOiBuYXRpdmVNaW4oaW5kZXgsIGxlbmd0aCAtIDEpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VGaW5kSW5kZXgoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIGluZGV4LCB0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGbGF0dGVucyBgYXJyYXlgIGEgc2luZ2xlIGxldmVsIGRlZXAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmxhdHRlbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZmxhdHRlbihbMSwgWzIsIFszLCBbNF1dLCA1XV0pO1xuICAgICAqIC8vID0+IFsxLCAyLCBbMywgWzRdXSwgNV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0dGVuKGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICByZXR1cm4gbGVuZ3RoID8gYmFzZUZsYXR0ZW4oYXJyYXksIDEpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVjdXJzaXZlbHkgZmxhdHRlbnMgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmbGF0dGVuLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mbGF0dGVuRGVlcChbMSwgWzIsIFszLCBbNF1dLCA1XV0pO1xuICAgICAqIC8vID0+IFsxLCAyLCAzLCA0LCA1XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXR0ZW5EZWVwKGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICByZXR1cm4gbGVuZ3RoID8gYmFzZUZsYXR0ZW4oYXJyYXksIElORklOSVRZKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlY3Vyc2l2ZWx5IGZsYXR0ZW4gYGFycmF5YCB1cCB0byBgZGVwdGhgIHRpbWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZsYXR0ZW4uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtkZXB0aD0xXSBUaGUgbWF4aW11bSByZWN1cnNpb24gZGVwdGguXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgWzIsIFszLCBbNF1dLCA1XV07XG4gICAgICpcbiAgICAgKiBfLmZsYXR0ZW5EZXB0aChhcnJheSwgMSk7XG4gICAgICogLy8gPT4gWzEsIDIsIFszLCBbNF1dLCA1XVxuICAgICAqXG4gICAgICogXy5mbGF0dGVuRGVwdGgoYXJyYXksIDIpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzLCBbNF0sIDVdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdHRlbkRlcHRoKGFycmF5LCBkZXB0aCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgZGVwdGggPSBkZXB0aCA9PT0gdW5kZWZpbmVkID8gMSA6IHRvSW50ZWdlcihkZXB0aCk7XG4gICAgICByZXR1cm4gYmFzZUZsYXR0ZW4oYXJyYXksIGRlcHRoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaW52ZXJzZSBvZiBgXy50b1BhaXJzYDsgdGhpcyBtZXRob2QgcmV0dXJucyBhbiBvYmplY3QgY29tcG9zZWRcbiAgICAgKiBmcm9tIGtleS12YWx1ZSBgcGFpcnNgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gcGFpcnMgVGhlIGtleS12YWx1ZSBwYWlycy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZyb21QYWlycyhbWydhJywgMV0sIFsnYicsIDJdXSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gZnJvbVBhaXJzKHBhaXJzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwYWlycyA9PSBudWxsID8gMCA6IHBhaXJzLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSB7fTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHBhaXIgPSBwYWlyc1tpbmRleF07XG4gICAgICAgIHJlc3VsdFtwYWlyWzBdXSA9IHBhaXJbMV07XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGZpcnN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBhbGlhcyBmaXJzdFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZmlyc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmhlYWQoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICpcbiAgICAgKiBfLmhlYWQoW10pO1xuICAgICAqIC8vID0+IHVuZGVmaW5lZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhlYWQoYXJyYXkpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSA/IGFycmF5WzBdIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGluZGV4IGF0IHdoaWNoIHRoZSBmaXJzdCBvY2N1cnJlbmNlIG9mIGB2YWx1ZWAgaXMgZm91bmQgaW4gYGFycmF5YFxuICAgICAqIHVzaW5nIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLiBJZiBgZnJvbUluZGV4YCBpcyBuZWdhdGl2ZSwgaXQncyB1c2VkIGFzIHRoZVxuICAgICAqIG9mZnNldCBmcm9tIHRoZSBlbmQgb2YgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9MF0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW5kZXhPZihbMSwgMiwgMSwgMl0sIDIpO1xuICAgICAqIC8vID0+IDFcbiAgICAgKlxuICAgICAqIC8vIFNlYXJjaCBmcm9tIHRoZSBgZnJvbUluZGV4YC5cbiAgICAgKiBfLmluZGV4T2YoWzEsIDIsIDEsIDJdLCAyLCAyKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gZnJvbUluZGV4ID09IG51bGwgPyAwIDogdG9JbnRlZ2VyKGZyb21JbmRleCk7XG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgIGluZGV4ID0gbmF0aXZlTWF4KGxlbmd0aCArIGluZGV4LCAwKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlSW5kZXhPZihhcnJheSwgdmFsdWUsIGluZGV4KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGFsbCBidXQgdGhlIGxhc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbml0aWFsKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5pdGlhbChhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgcmV0dXJuIGxlbmd0aCA/IGJhc2VTbGljZShhcnJheSwgMCwgLTEpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB1bmlxdWUgdmFsdWVzIHRoYXQgYXJlIGluY2x1ZGVkIGluIGFsbCBnaXZlbiBhcnJheXNcbiAgICAgKiB1c2luZyBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy4gVGhlIG9yZGVyIGFuZCByZWZlcmVuY2VzIG9mIHJlc3VsdCB2YWx1ZXMgYXJlXG4gICAgICogZGV0ZXJtaW5lZCBieSB0aGUgZmlyc3QgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgaW50ZXJzZWN0aW5nIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbnRlcnNlY3Rpb24oWzIsIDFdLCBbMiwgM10pO1xuICAgICAqIC8vID0+IFsyXVxuICAgICAqL1xuICAgIHZhciBpbnRlcnNlY3Rpb24gPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBtYXBwZWQgPSBhcnJheU1hcChhcnJheXMsIGNhc3RBcnJheUxpa2VPYmplY3QpO1xuICAgICAgcmV0dXJuIChtYXBwZWQubGVuZ3RoICYmIG1hcHBlZFswXSA9PT0gYXJyYXlzWzBdKVxuICAgICAgICA/IGJhc2VJbnRlcnNlY3Rpb24obWFwcGVkKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pbnRlcnNlY3Rpb25gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBvZiBlYWNoIGBhcnJheXNgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb25cbiAgICAgKiBieSB3aGljaCB0aGV5J3JlIGNvbXBhcmVkLiBUaGUgb3JkZXIgYW5kIHJlZmVyZW5jZXMgb2YgcmVzdWx0IHZhbHVlcyBhcmVcbiAgICAgKiBkZXRlcm1pbmVkIGJ5IHRoZSBmaXJzdCBhcnJheS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6XG4gICAgICogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgaW50ZXJzZWN0aW5nIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbnRlcnNlY3Rpb25CeShbMi4xLCAxLjJdLCBbMi4zLCAzLjRdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiBbMi4xXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5pbnRlcnNlY3Rpb25CeShbeyAneCc6IDEgfV0sIFt7ICd4JzogMiB9LCB7ICd4JzogMSB9XSwgJ3gnKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEgfV1cbiAgICAgKi9cbiAgICB2YXIgaW50ZXJzZWN0aW9uQnkgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBpdGVyYXRlZSA9IGxhc3QoYXJyYXlzKSxcbiAgICAgICAgICBtYXBwZWQgPSBhcnJheU1hcChhcnJheXMsIGNhc3RBcnJheUxpa2VPYmplY3QpO1xuXG4gICAgICBpZiAoaXRlcmF0ZWUgPT09IGxhc3QobWFwcGVkKSkge1xuICAgICAgICBpdGVyYXRlZSA9IHVuZGVmaW5lZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1hcHBlZC5wb3AoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAobWFwcGVkLmxlbmd0aCAmJiBtYXBwZWRbMF0gPT09IGFycmF5c1swXSlcbiAgICAgICAgPyBiYXNlSW50ZXJzZWN0aW9uKG1hcHBlZCwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pbnRlcnNlY3Rpb25gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheXNgLiBUaGUgb3JkZXIgYW5kIHJlZmVyZW5jZXNcbiAgICAgKiBvZiByZXN1bHQgdmFsdWVzIGFyZSBkZXRlcm1pbmVkIGJ5IHRoZSBmaXJzdCBhcnJheS4gVGhlIGNvbXBhcmF0b3IgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdHdvIGFyZ3VtZW50czogKGFyclZhbCwgb3RoVmFsKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBpbnRlcnNlY3RpbmcgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfV07XG4gICAgICogdmFyIG90aGVycyA9IFt7ICd4JzogMSwgJ3knOiAxIH0sIHsgJ3gnOiAxLCAneSc6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLmludGVyc2VjdGlvbldpdGgob2JqZWN0cywgb3RoZXJzLCBfLmlzRXF1YWwpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSwgJ3knOiAyIH1dXG4gICAgICovXG4gICAgdmFyIGludGVyc2VjdGlvbldpdGggPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBjb21wYXJhdG9yID0gbGFzdChhcnJheXMpLFxuICAgICAgICAgIG1hcHBlZCA9IGFycmF5TWFwKGFycmF5cywgY2FzdEFycmF5TGlrZU9iamVjdCk7XG5cbiAgICAgIGNvbXBhcmF0b3IgPSB0eXBlb2YgY29tcGFyYXRvciA9PSAnZnVuY3Rpb24nID8gY29tcGFyYXRvciA6IHVuZGVmaW5lZDtcbiAgICAgIGlmIChjb21wYXJhdG9yKSB7XG4gICAgICAgIG1hcHBlZC5wb3AoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAobWFwcGVkLmxlbmd0aCAmJiBtYXBwZWRbMF0gPT09IGFycmF5c1swXSlcbiAgICAgICAgPyBiYXNlSW50ZXJzZWN0aW9uKG1hcHBlZCwgdW5kZWZpbmVkLCBjb21wYXJhdG9yKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYWxsIGVsZW1lbnRzIGluIGBhcnJheWAgaW50byBhIHN0cmluZyBzZXBhcmF0ZWQgYnkgYHNlcGFyYXRvcmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY29udmVydC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3NlcGFyYXRvcj0nLCddIFRoZSBlbGVtZW50IHNlcGFyYXRvci5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBqb2luZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmpvaW4oWydhJywgJ2InLCAnYyddLCAnficpO1xuICAgICAqIC8vID0+ICdhfmJ+YydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBqb2luKGFycmF5LCBzZXBhcmF0b3IpIHtcbiAgICAgIHJldHVybiBhcnJheSA9PSBudWxsID8gJycgOiBuYXRpdmVKb2luLmNhbGwoYXJyYXksIHNlcGFyYXRvcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbGFzdCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGxhc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmxhc3QoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGFzdChhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgcmV0dXJuIGxlbmd0aCA/IGFycmF5W2xlbmd0aCAtIDFdIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaW5kZXhPZmAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZlxuICAgICAqIGBhcnJheWAgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD1hcnJheS5sZW5ndGgtMV0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubGFzdEluZGV4T2YoWzEsIDIsIDEsIDJdLCAyKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiAvLyBTZWFyY2ggZnJvbSB0aGUgYGZyb21JbmRleGAuXG4gICAgICogXy5sYXN0SW5kZXhPZihbMSwgMiwgMSwgMl0sIDIsIDIpO1xuICAgICAqIC8vID0+IDFcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsYXN0SW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gbGVuZ3RoO1xuICAgICAgaWYgKGZyb21JbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGluZGV4ID0gdG9JbnRlZ2VyKGZyb21JbmRleCk7XG4gICAgICAgIGluZGV4ID0gaW5kZXggPCAwID8gbmF0aXZlTWF4KGxlbmd0aCArIGluZGV4LCAwKSA6IG5hdGl2ZU1pbihpbmRleCwgbGVuZ3RoIC0gMSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWUgPT09IHZhbHVlXG4gICAgICAgID8gc3RyaWN0TGFzdEluZGV4T2YoYXJyYXksIHZhbHVlLCBpbmRleClcbiAgICAgICAgOiBiYXNlRmluZEluZGV4KGFycmF5LCBiYXNlSXNOYU4sIGluZGV4LCB0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBlbGVtZW50IGF0IGluZGV4IGBuYCBvZiBgYXJyYXlgLiBJZiBgbmAgaXMgbmVnYXRpdmUsIHRoZSBudGhcbiAgICAgKiBlbGVtZW50IGZyb20gdGhlIGVuZCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjExLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTBdIFRoZSBpbmRleCBvZiB0aGUgZWxlbWVudCB0byByZXR1cm4uXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG50aCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsnYScsICdiJywgJ2MnLCAnZCddO1xuICAgICAqXG4gICAgICogXy5udGgoYXJyYXksIDEpO1xuICAgICAqIC8vID0+ICdiJ1xuICAgICAqXG4gICAgICogXy5udGgoYXJyYXksIC0yKTtcbiAgICAgKiAvLyA9PiAnYyc7XG4gICAgICovXG4gICAgZnVuY3Rpb24gbnRoKGFycmF5LCBuKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkgPyBiYXNlTnRoKGFycmF5LCB0b0ludGVnZXIobikpIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGdpdmVuIHZhbHVlcyBmcm9tIGBhcnJheWAgdXNpbmdcbiAgICAgKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8ud2l0aG91dGAsIHRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC4gVXNlIGBfLnJlbW92ZWBcbiAgICAgKiB0byByZW1vdmUgZWxlbWVudHMgZnJvbSBhbiBhcnJheSBieSBwcmVkaWNhdGUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsnYScsICdiJywgJ2MnLCAnYScsICdiJywgJ2MnXTtcbiAgICAgKlxuICAgICAqIF8ucHVsbChhcnJheSwgJ2EnLCAnYycpO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbJ2InLCAnYiddXG4gICAgICovXG4gICAgdmFyIHB1bGwgPSBiYXNlUmVzdChwdWxsQWxsKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucHVsbGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBhbiBhcnJheSBvZiB2YWx1ZXMgdG8gcmVtb3ZlLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5kaWZmZXJlbmNlYCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsnYScsICdiJywgJ2MnLCAnYScsICdiJywgJ2MnXTtcbiAgICAgKlxuICAgICAqIF8ucHVsbEFsbChhcnJheSwgWydhJywgJ2MnXSk7XG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsnYicsICdiJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwdWxsQWxsKGFycmF5LCB2YWx1ZXMpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoICYmIHZhbHVlcyAmJiB2YWx1ZXMubGVuZ3RoKVxuICAgICAgICA/IGJhc2VQdWxsQWxsKGFycmF5LCB2YWx1ZXMpXG4gICAgICAgIDogYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5wdWxsQWxsYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgb2YgYGFycmF5YCBhbmQgYHZhbHVlc2AgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvblxuICAgICAqIGJ5IHdoaWNoIHRoZXkncmUgY29tcGFyZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5kaWZmZXJlbmNlQnlgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIHJlbW92ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFt7ICd4JzogMSB9LCB7ICd4JzogMiB9LCB7ICd4JzogMyB9LCB7ICd4JzogMSB9XTtcbiAgICAgKlxuICAgICAqIF8ucHVsbEFsbEJ5KGFycmF5LCBbeyAneCc6IDEgfSwgeyAneCc6IDMgfV0sICd4Jyk7XG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMiB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHB1bGxBbGxCeShhcnJheSwgdmFsdWVzLCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGggJiYgdmFsdWVzICYmIHZhbHVlcy5sZW5ndGgpXG4gICAgICAgID8gYmFzZVB1bGxBbGwoYXJyYXksIHZhbHVlcywgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKVxuICAgICAgICA6IGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucHVsbEFsbGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY29tcGFyYXRvcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIGNvbXBhcmUgZWxlbWVudHMgb2YgYGFycmF5YCB0byBgdmFsdWVzYC4gVGhlIGNvbXBhcmF0b3IgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdHdvIGFyZ3VtZW50czogKGFyclZhbCwgb3RoVmFsKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8uZGlmZmVyZW5jZVdpdGhgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC42LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIHJlbW92ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDMsICd5JzogNCB9LCB7ICd4JzogNSwgJ3knOiA2IH1dO1xuICAgICAqXG4gICAgICogXy5wdWxsQWxsV2l0aChhcnJheSwgW3sgJ3gnOiAzLCAneSc6IDQgfV0sIF8uaXNFcXVhbCk7XG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiA1LCAneSc6IDYgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwdWxsQWxsV2l0aChhcnJheSwgdmFsdWVzLCBjb21wYXJhdG9yKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCAmJiB2YWx1ZXMgJiYgdmFsdWVzLmxlbmd0aClcbiAgICAgICAgPyBiYXNlUHVsbEFsbChhcnJheSwgdmFsdWVzLCB1bmRlZmluZWQsIGNvbXBhcmF0b3IpXG4gICAgICAgIDogYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBlbGVtZW50cyBmcm9tIGBhcnJheWAgY29ycmVzcG9uZGluZyB0byBgaW5kZXhlc2AgYW5kIHJldHVybnMgYW5cbiAgICAgKiBhcnJheSBvZiByZW1vdmVkIGVsZW1lbnRzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5hdGAsIHRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHsuLi4obnVtYmVyfG51bWJlcltdKX0gW2luZGV4ZXNdIFRoZSBpbmRleGVzIG9mIGVsZW1lbnRzIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiByZW1vdmVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbJ2EnLCAnYicsICdjJywgJ2QnXTtcbiAgICAgKiB2YXIgcHVsbGVkID0gXy5wdWxsQXQoYXJyYXksIFsxLCAzXSk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWydhJywgJ2MnXVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2cocHVsbGVkKTtcbiAgICAgKiAvLyA9PiBbJ2InLCAnZCddXG4gICAgICovXG4gICAgdmFyIHB1bGxBdCA9IGZsYXRSZXN0KGZ1bmN0aW9uKGFycmF5LCBpbmRleGVzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gYmFzZUF0KGFycmF5LCBpbmRleGVzKTtcblxuICAgICAgYmFzZVB1bGxBdChhcnJheSwgYXJyYXlNYXAoaW5kZXhlcywgZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGlzSW5kZXgoaW5kZXgsIGxlbmd0aCkgPyAraW5kZXggOiBpbmRleDtcbiAgICAgIH0pLnNvcnQoY29tcGFyZUFzY2VuZGluZykpO1xuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgZWxlbWVudHMgZnJvbSBgYXJyYXlgIHRoYXQgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yXG4gICAgICogYW5kIHJldHVybnMgYW4gYXJyYXkgb2YgdGhlIHJlbW92ZWQgZWxlbWVudHMuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4LCBhcnJheSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLmZpbHRlcmAsIHRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC4gVXNlIGBfLnB1bGxgXG4gICAgICogdG8gcHVsbCBlbGVtZW50cyBmcm9tIGFuIGFycmF5IGJ5IHZhbHVlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgcmVtb3ZlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIDIsIDMsIDRdO1xuICAgICAqIHZhciBldmVucyA9IF8ucmVtb3ZlKGFycmF5LCBmdW5jdGlvbihuKSB7XG4gICAgICogICByZXR1cm4gbiAlIDIgPT0gMDtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMSwgM11cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGV2ZW5zKTtcbiAgICAgKiAvLyA9PiBbMiwgNF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZW1vdmUoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgaWYgKCEoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgaW5kZXhlcyA9IFtdLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgICAgcHJlZGljYXRlID0gZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgICBpbmRleGVzLnB1c2goaW5kZXgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBiYXNlUHVsbEF0KGFycmF5LCBpbmRleGVzKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV2ZXJzZXMgYGFycmF5YCBzbyB0aGF0IHRoZSBmaXJzdCBlbGVtZW50IGJlY29tZXMgdGhlIGxhc3QsIHRoZSBzZWNvbmRcbiAgICAgKiBlbGVtZW50IGJlY29tZXMgdGhlIHNlY29uZCB0byBsYXN0LCBhbmQgc28gb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgIGFuZCBpcyBiYXNlZCBvblxuICAgICAqIFtgQXJyYXkjcmV2ZXJzZWBdKGh0dHBzOi8vbWRuLmlvL0FycmF5L3JldmVyc2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIDIsIDNdO1xuICAgICAqXG4gICAgICogXy5yZXZlcnNlKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMywgMiwgMV1cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMywgMiwgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZXZlcnNlKGFycmF5KSB7XG4gICAgICByZXR1cm4gYXJyYXkgPT0gbnVsbCA/IGFycmF5IDogbmF0aXZlUmV2ZXJzZS5jYWxsKGFycmF5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCBmcm9tIGBzdGFydGAgdXAgdG8sIGJ1dCBub3QgaW5jbHVkaW5nLCBgZW5kYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyB1c2VkIGluc3RlYWQgb2ZcbiAgICAgKiBbYEFycmF5I3NsaWNlYF0oaHR0cHM6Ly9tZG4uaW8vQXJyYXkvc2xpY2UpIHRvIGVuc3VyZSBkZW5zZSBhcnJheXMgYXJlXG4gICAgICogcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2xpY2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmQ9YXJyYXkubGVuZ3RoXSBUaGUgZW5kIHBvc2l0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzbGljZShhcnJheSwgc3RhcnQsIGVuZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgaWYgKGVuZCAmJiB0eXBlb2YgZW5kICE9ICdudW1iZXInICYmIGlzSXRlcmF0ZWVDYWxsKGFycmF5LCBzdGFydCwgZW5kKSkge1xuICAgICAgICBzdGFydCA9IDA7XG4gICAgICAgIGVuZCA9IGxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBzdGFydCA9IHN0YXJ0ID09IG51bGwgPyAwIDogdG9JbnRlZ2VyKHN0YXJ0KTtcbiAgICAgICAgZW5kID0gZW5kID09PSB1bmRlZmluZWQgPyBsZW5ndGggOiB0b0ludGVnZXIoZW5kKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlU2xpY2UoYXJyYXksIHN0YXJ0LCBlbmQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZXMgYSBiaW5hcnkgc2VhcmNoIHRvIGRldGVybWluZSB0aGUgbG93ZXN0IGluZGV4IGF0IHdoaWNoIGB2YWx1ZWBcbiAgICAgKiBzaG91bGQgYmUgaW5zZXJ0ZWQgaW50byBgYXJyYXlgIGluIG9yZGVyIHRvIG1haW50YWluIGl0cyBzb3J0IG9yZGVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIHNvcnRlZCBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGV2YWx1YXRlLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0ZWRJbmRleChbMzAsIDUwXSwgNDApO1xuICAgICAqIC8vID0+IDFcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRJbmRleChhcnJheSwgdmFsdWUpIHtcbiAgICAgIHJldHVybiBiYXNlU29ydGVkSW5kZXgoYXJyYXksIHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnNvcnRlZEluZGV4YCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIGZvciBgdmFsdWVgIGFuZCBlYWNoIGVsZW1lbnQgb2YgYGFycmF5YCB0byBjb21wdXRlIHRoZWlyXG4gICAgICogc29ydCByYW5raW5nLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBzb3J0ZWQgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAgICAgKiAgaW50byBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogNCB9LCB7ICd4JzogNSB9XTtcbiAgICAgKlxuICAgICAqIF8uc29ydGVkSW5kZXhCeShvYmplY3RzLCB7ICd4JzogNCB9LCBmdW5jdGlvbihvKSB7IHJldHVybiBvLng7IH0pO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uc29ydGVkSW5kZXhCeShvYmplY3RzLCB7ICd4JzogNCB9LCAneCcpO1xuICAgICAqIC8vID0+IDBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRJbmRleEJ5KGFycmF5LCB2YWx1ZSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBiYXNlU29ydGVkSW5kZXhCeShhcnJheSwgdmFsdWUsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pbmRleE9mYCBleGNlcHQgdGhhdCBpdCBwZXJmb3JtcyBhIGJpbmFyeVxuICAgICAqIHNlYXJjaCBvbiBhIHNvcnRlZCBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvcnRlZEluZGV4T2YoWzQsIDUsIDUsIDUsIDZdLCA1KTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkSW5kZXhPZihhcnJheSwgdmFsdWUpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmIChsZW5ndGgpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gYmFzZVNvcnRlZEluZGV4KGFycmF5LCB2YWx1ZSk7XG4gICAgICAgIGlmIChpbmRleCA8IGxlbmd0aCAmJiBlcShhcnJheVtpbmRleF0sIHZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc29ydGVkSW5kZXhgIGV4Y2VwdCB0aGF0IGl0IHJldHVybnMgdGhlIGhpZ2hlc3RcbiAgICAgKiBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZCBpbnRvIGBhcnJheWAgaW4gb3JkZXIgdG9cbiAgICAgKiBtYWludGFpbiBpdHMgc29ydCBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBzb3J0ZWQgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZFxuICAgICAqICBpbnRvIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29ydGVkTGFzdEluZGV4KFs0LCA1LCA1LCA1LCA2XSwgNSk7XG4gICAgICogLy8gPT4gNFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZExhc3RJbmRleChhcnJheSwgdmFsdWUpIHtcbiAgICAgIHJldHVybiBiYXNlU29ydGVkSW5kZXgoYXJyYXksIHZhbHVlLCB0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnNvcnRlZExhc3RJbmRleGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCBmb3IgYHZhbHVlYCBhbmQgZWFjaCBlbGVtZW50IG9mIGBhcnJheWAgdG8gY29tcHV0ZSB0aGVpclxuICAgICAqIHNvcnQgcmFua2luZy4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDQgfSwgeyAneCc6IDUgfV07XG4gICAgICpcbiAgICAgKiBfLnNvcnRlZExhc3RJbmRleEJ5KG9iamVjdHMsIHsgJ3gnOiA0IH0sIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8ueDsgfSk7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zb3J0ZWRMYXN0SW5kZXhCeShvYmplY3RzLCB7ICd4JzogNCB9LCAneCcpO1xuICAgICAqIC8vID0+IDFcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRMYXN0SW5kZXhCeShhcnJheSwgdmFsdWUsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gYmFzZVNvcnRlZEluZGV4QnkoYXJyYXksIHZhbHVlLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMiksIHRydWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ubGFzdEluZGV4T2ZgIGV4Y2VwdCB0aGF0IGl0IHBlcmZvcm1zIGEgYmluYXJ5XG4gICAgICogc2VhcmNoIG9uIGEgc29ydGVkIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29ydGVkTGFzdEluZGV4T2YoWzQsIDUsIDUsIDUsIDZdLCA1KTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkTGFzdEluZGV4T2YoYXJyYXksIHZhbHVlKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGJhc2VTb3J0ZWRJbmRleChhcnJheSwgdmFsdWUsIHRydWUpIC0gMTtcbiAgICAgICAgaWYgKGVxKGFycmF5W2luZGV4XSwgdmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bmlxYCBleGNlcHQgdGhhdCBpdCdzIGRlc2lnbmVkIGFuZCBvcHRpbWl6ZWRcbiAgICAgKiBmb3Igc29ydGVkIGFycmF5cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvcnRlZFVuaXEoWzEsIDEsIDJdKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRVbmlxKGFycmF5KSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlU29ydGVkVW5pcShhcnJheSlcbiAgICAgICAgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuaXFCeWAgZXhjZXB0IHRoYXQgaXQncyBkZXNpZ25lZCBhbmQgb3B0aW1pemVkXG4gICAgICogZm9yIHNvcnRlZCBhcnJheXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvcnRlZFVuaXFCeShbMS4xLCAxLjIsIDIuMywgMi40XSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4gWzEuMSwgMi4zXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZFVuaXFCeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VTb3J0ZWRVbmlxKGFycmF5LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpXG4gICAgICAgIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhbGwgYnV0IHRoZSBmaXJzdCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRhaWwoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0YWlsKGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICByZXR1cm4gbGVuZ3RoID8gYmFzZVNsaWNlKGFycmF5LCAxLCBsZW5ndGgpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgd2l0aCBgbmAgZWxlbWVudHMgdGFrZW4gZnJvbSB0aGUgYmVnaW5uaW5nLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHRha2UuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGFrZShbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFsxXVxuICAgICAqXG4gICAgICogXy50YWtlKFsxLCAyLCAzXSwgMik7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiBfLnRha2UoWzEsIDIsIDNdLCA1KTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIF8udGFrZShbMSwgMiwgM10sIDApO1xuICAgICAqIC8vID0+IFtdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGFrZShhcnJheSwgbiwgZ3VhcmQpIHtcbiAgICAgIGlmICghKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgbiA9IChndWFyZCB8fCBuID09PSB1bmRlZmluZWQpID8gMSA6IHRvSW50ZWdlcihuKTtcbiAgICAgIHJldHVybiBiYXNlU2xpY2UoYXJyYXksIDAsIG4gPCAwID8gMCA6IG4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIHdpdGggYG5gIGVsZW1lbnRzIHRha2VuIGZyb20gdGhlIGVuZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MV0gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byB0YWtlLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRha2VSaWdodChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFszXVxuICAgICAqXG4gICAgICogXy50YWtlUmlnaHQoWzEsIDIsIDNdLCAyKTtcbiAgICAgKiAvLyA9PiBbMiwgM11cbiAgICAgKlxuICAgICAqIF8udGFrZVJpZ2h0KFsxLCAyLCAzXSwgNSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBfLnRha2VSaWdodChbMSwgMiwgM10sIDApO1xuICAgICAqIC8vID0+IFtdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGFrZVJpZ2h0KGFycmF5LCBuLCBndWFyZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgbiA9IChndWFyZCB8fCBuID09PSB1bmRlZmluZWQpID8gMSA6IHRvSW50ZWdlcihuKTtcbiAgICAgIG4gPSBsZW5ndGggLSBuO1xuICAgICAgcmV0dXJuIGJhc2VTbGljZShhcnJheSwgbiA8IDAgPyAwIDogbiwgbGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCB3aXRoIGVsZW1lbnRzIHRha2VuIGZyb20gdGhlIGVuZC4gRWxlbWVudHMgYXJlXG4gICAgICogdGFrZW4gdW50aWwgYHByZWRpY2F0ZWAgcmV0dXJucyBmYWxzZXkuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoXG4gICAgICogdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4LCBhcnJheSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy50YWtlUmlnaHRXaGlsZSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnLCAncGViYmxlcyddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udGFrZVJpZ2h0V2hpbGUodXNlcnMsIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udGFrZVJpZ2h0V2hpbGUodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnLCAncGViYmxlcyddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnRha2VSaWdodFdoaWxlKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0YWtlUmlnaHRXaGlsZShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlV2hpbGUoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIGZhbHNlLCB0cnVlKVxuICAgICAgICA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIHdpdGggZWxlbWVudHMgdGFrZW4gZnJvbSB0aGUgYmVnaW5uaW5nLiBFbGVtZW50c1xuICAgICAqIGFyZSB0YWtlbiB1bnRpbCBgcHJlZGljYXRlYCByZXR1cm5zIGZhbHNleS4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGhcbiAgICAgKiB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLnRha2VXaGlsZSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leScsICdmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy50YWtlV2hpbGUodXNlcnMsIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnRha2VXaGlsZSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5JywgJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy50YWtlV2hpbGUodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRha2VXaGlsZShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlV2hpbGUoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMykpXG4gICAgICAgIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB1bmlxdWUgdmFsdWVzLCBpbiBvcmRlciwgZnJvbSBhbGwgZ2l2ZW4gYXJyYXlzIHVzaW5nXG4gICAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgY29tYmluZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVuaW9uKFsyXSwgWzEsIDJdKTtcbiAgICAgKiAvLyA9PiBbMiwgMV1cbiAgICAgKi9cbiAgICB2YXIgdW5pb24gPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHJldHVybiBiYXNlVW5pcShiYXNlRmxhdHRlbihhcnJheXMsIDEsIGlzQXJyYXlMaWtlT2JqZWN0LCB0cnVlKSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuaW9uYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgb2YgZWFjaCBgYXJyYXlzYCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uIGJ5XG4gICAgICogd2hpY2ggdW5pcXVlbmVzcyBpcyBjb21wdXRlZC4gUmVzdWx0IHZhbHVlcyBhcmUgY2hvc2VuIGZyb20gdGhlIGZpcnN0XG4gICAgICogYXJyYXkgaW4gd2hpY2ggdGhlIHZhbHVlIG9jY3Vycy4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6XG4gICAgICogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgY29tYmluZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVuaW9uQnkoWzIuMV0sIFsxLjIsIDIuM10sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IFsyLjEsIDEuMl1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udW5pb25CeShbeyAneCc6IDEgfV0sIFt7ICd4JzogMiB9LCB7ICd4JzogMSB9XSwgJ3gnKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEgfSwgeyAneCc6IDIgfV1cbiAgICAgKi9cbiAgICB2YXIgdW5pb25CeSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGl0ZXJhdGVlID0gbGFzdChhcnJheXMpO1xuICAgICAgaWYgKGlzQXJyYXlMaWtlT2JqZWN0KGl0ZXJhdGVlKSkge1xuICAgICAgICBpdGVyYXRlZSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlVW5pcShiYXNlRmxhdHRlbihhcnJheXMsIDEsIGlzQXJyYXlMaWtlT2JqZWN0LCB0cnVlKSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW5pb25gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheXNgLiBSZXN1bHQgdmFsdWVzIGFyZSBjaG9zZW4gZnJvbVxuICAgICAqIHRoZSBmaXJzdCBhcnJheSBpbiB3aGljaCB0aGUgdmFsdWUgb2NjdXJzLiBUaGUgY29tcGFyYXRvciBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0d28gYXJndW1lbnRzOiAoYXJyVmFsLCBvdGhWYWwpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNvbWJpbmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH1dO1xuICAgICAqIHZhciBvdGhlcnMgPSBbeyAneCc6IDEsICd5JzogMSB9LCB7ICd4JzogMSwgJ3knOiAyIH1dO1xuICAgICAqXG4gICAgICogXy51bmlvbldpdGgob2JqZWN0cywgb3RoZXJzLCBfLmlzRXF1YWwpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfSwgeyAneCc6IDEsICd5JzogMSB9XVxuICAgICAqL1xuICAgIHZhciB1bmlvbldpdGggPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBjb21wYXJhdG9yID0gbGFzdChhcnJheXMpO1xuICAgICAgY29tcGFyYXRvciA9IHR5cGVvZiBjb21wYXJhdG9yID09ICdmdW5jdGlvbicgPyBjb21wYXJhdG9yIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIGJhc2VVbmlxKGJhc2VGbGF0dGVuKGFycmF5cywgMSwgaXNBcnJheUxpa2VPYmplY3QsIHRydWUpLCB1bmRlZmluZWQsIGNvbXBhcmF0b3IpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGR1cGxpY2F0ZS1mcmVlIHZlcnNpb24gb2YgYW4gYXJyYXksIHVzaW5nXG4gICAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMsIGluIHdoaWNoIG9ubHkgdGhlIGZpcnN0IG9jY3VycmVuY2Ugb2YgZWFjaCBlbGVtZW50XG4gICAgICogaXMga2VwdC4gVGhlIG9yZGVyIG9mIHJlc3VsdCB2YWx1ZXMgaXMgZGV0ZXJtaW5lZCBieSB0aGUgb3JkZXIgdGhleSBvY2N1clxuICAgICAqIGluIHRoZSBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVuaXEoWzIsIDEsIDJdKTtcbiAgICAgKiAvLyA9PiBbMiwgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmlxKGFycmF5KSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkgPyBiYXNlVW5pcShhcnJheSkgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuaXFgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBpbiBgYXJyYXlgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb24gYnkgd2hpY2hcbiAgICAgKiB1bmlxdWVuZXNzIGlzIGNvbXB1dGVkLiBUaGUgb3JkZXIgb2YgcmVzdWx0IHZhbHVlcyBpcyBkZXRlcm1pbmVkIGJ5IHRoZVxuICAgICAqIG9yZGVyIHRoZXkgb2NjdXIgaW4gdGhlIGFycmF5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDpcbiAgICAgKiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVuaXFCeShbMi4xLCAxLjIsIDIuM10sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IFsyLjEsIDEuMl1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udW5pcUJ5KFt7ICd4JzogMSB9LCB7ICd4JzogMiB9LCB7ICd4JzogMSB9XSwgJ3gnKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEgfSwgeyAneCc6IDIgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmlxQnkoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkgPyBiYXNlVW5pcShhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW5pcWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY29tcGFyYXRvcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIGNvbXBhcmUgZWxlbWVudHMgb2YgYGFycmF5YC4gVGhlIG9yZGVyIG9mIHJlc3VsdCB2YWx1ZXMgaXNcbiAgICAgKiBkZXRlcm1pbmVkIGJ5IHRoZSBvcmRlciB0aGV5IG9jY3VyIGluIHRoZSBhcnJheS5UaGUgY29tcGFyYXRvciBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0d28gYXJndW1lbnRzOiAoYXJyVmFsLCBvdGhWYWwpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZHVwbGljYXRlIGZyZWUgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9LCB7ICd4JzogMSwgJ3knOiAyIH1dO1xuICAgICAqXG4gICAgICogXy51bmlxV2l0aChvYmplY3RzLCBfLmlzRXF1YWwpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmlxV2l0aChhcnJheSwgY29tcGFyYXRvcikge1xuICAgICAgY29tcGFyYXRvciA9IHR5cGVvZiBjb21wYXJhdG9yID09ICdmdW5jdGlvbicgPyBjb21wYXJhdG9yIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpID8gYmFzZVVuaXEoYXJyYXksIHVuZGVmaW5lZCwgY29tcGFyYXRvcikgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnppcGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBhbiBhcnJheSBvZiBncm91cGVkXG4gICAgICogZWxlbWVudHMgYW5kIGNyZWF0ZXMgYW4gYXJyYXkgcmVncm91cGluZyB0aGUgZWxlbWVudHMgdG8gdGhlaXIgcHJlLXppcFxuICAgICAqIGNvbmZpZ3VyYXRpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cyB0byBwcm9jZXNzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHJlZ3JvdXBlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHppcHBlZCA9IF8uemlwKFsnYScsICdiJ10sIFsxLCAyXSwgW3RydWUsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gW1snYScsIDEsIHRydWVdLCBbJ2InLCAyLCBmYWxzZV1dXG4gICAgICpcbiAgICAgKiBfLnVuemlwKHppcHBlZCk7XG4gICAgICogLy8gPT4gW1snYScsICdiJ10sIFsxLCAyXSwgW3RydWUsIGZhbHNlXV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bnppcChhcnJheSkge1xuICAgICAgaWYgKCEoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgbGVuZ3RoID0gMDtcbiAgICAgIGFycmF5ID0gYXJyYXlGaWx0ZXIoYXJyYXksIGZ1bmN0aW9uKGdyb3VwKSB7XG4gICAgICAgIGlmIChpc0FycmF5TGlrZU9iamVjdChncm91cCkpIHtcbiAgICAgICAgICBsZW5ndGggPSBuYXRpdmVNYXgoZ3JvdXAubGVuZ3RoLCBsZW5ndGgpO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBiYXNlVGltZXMobGVuZ3RoLCBmdW5jdGlvbihpbmRleCkge1xuICAgICAgICByZXR1cm4gYXJyYXlNYXAoYXJyYXksIGJhc2VQcm9wZXJ0eShpbmRleCkpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bnppcGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHRvIHNwZWNpZnlcbiAgICAgKiBob3cgcmVncm91cGVkIHZhbHVlcyBzaG91bGQgYmUgY29tYmluZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhlXG4gICAgICogZWxlbWVudHMgb2YgZWFjaCBncm91cDogKC4uLmdyb3VwKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjguMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzIHRvIHByb2Nlc3MuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiB0byBjb21iaW5lXG4gICAgICogIHJlZ3JvdXBlZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgcmVncm91cGVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgemlwcGVkID0gXy56aXAoWzEsIDJdLCBbMTAsIDIwXSwgWzEwMCwgMjAwXSk7XG4gICAgICogLy8gPT4gW1sxLCAxMCwgMTAwXSwgWzIsIDIwLCAyMDBdXVxuICAgICAqXG4gICAgICogXy51bnppcFdpdGgoemlwcGVkLCBfLmFkZCk7XG4gICAgICogLy8gPT4gWzMsIDMwLCAzMDBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW56aXBXaXRoKGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgaWYgKCEoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gdW56aXAoYXJyYXkpO1xuICAgICAgaWYgKGl0ZXJhdGVlID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheU1hcChyZXN1bHQsIGZ1bmN0aW9uKGdyb3VwKSB7XG4gICAgICAgIHJldHVybiBhcHBseShpdGVyYXRlZSwgdW5kZWZpbmVkLCBncm91cCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IGV4Y2x1ZGluZyBhbGwgZ2l2ZW4gdmFsdWVzIHVzaW5nXG4gICAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLnB1bGxgLCB0aGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGV4Y2x1ZGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBzZWUgXy5kaWZmZXJlbmNlLCBfLnhvclxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLndpdGhvdXQoWzIsIDEsIDIsIDNdLCAxLCAyKTtcbiAgICAgKiAvLyA9PiBbM11cbiAgICAgKi9cbiAgICB2YXIgd2l0aG91dCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5LCB2YWx1ZXMpIHtcbiAgICAgIHJldHVybiBpc0FycmF5TGlrZU9iamVjdChhcnJheSlcbiAgICAgICAgPyBiYXNlRGlmZmVyZW5jZShhcnJheSwgdmFsdWVzKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB1bmlxdWUgdmFsdWVzIHRoYXQgaXMgdGhlXG4gICAgICogW3N5bW1ldHJpYyBkaWZmZXJlbmNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TeW1tZXRyaWNfZGlmZmVyZW5jZSlcbiAgICAgKiBvZiB0aGUgZ2l2ZW4gYXJyYXlzLiBUaGUgb3JkZXIgb2YgcmVzdWx0IHZhbHVlcyBpcyBkZXRlcm1pbmVkIGJ5IHRoZSBvcmRlclxuICAgICAqIHRoZXkgb2NjdXIgaW4gdGhlIGFycmF5cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjQuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQHNlZSBfLmRpZmZlcmVuY2UsIF8ud2l0aG91dFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnhvcihbMiwgMV0sIFsyLCAzXSk7XG4gICAgICogLy8gPT4gWzEsIDNdXG4gICAgICovXG4gICAgdmFyIHhvciA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgcmV0dXJuIGJhc2VYb3IoYXJyYXlGaWx0ZXIoYXJyYXlzLCBpc0FycmF5TGlrZU9iamVjdCkpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy54b3JgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBvZiBlYWNoIGBhcnJheXNgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb24gYnlcbiAgICAgKiB3aGljaCBieSB3aGljaCB0aGV5J3JlIGNvbXBhcmVkLiBUaGUgb3JkZXIgb2YgcmVzdWx0IHZhbHVlcyBpcyBkZXRlcm1pbmVkXG4gICAgICogYnkgdGhlIG9yZGVyIHRoZXkgb2NjdXIgaW4gdGhlIGFycmF5cy4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmVcbiAgICAgKiBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnhvckJ5KFsyLjEsIDEuMl0sIFsyLjMsIDMuNF0sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IFsxLjIsIDMuNF1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ueG9yQnkoW3sgJ3gnOiAxIH1dLCBbeyAneCc6IDIgfSwgeyAneCc6IDEgfV0sICd4Jyk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAyIH1dXG4gICAgICovXG4gICAgdmFyIHhvckJ5ID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgaXRlcmF0ZWUgPSBsYXN0KGFycmF5cyk7XG4gICAgICBpZiAoaXNBcnJheUxpa2VPYmplY3QoaXRlcmF0ZWUpKSB7XG4gICAgICAgIGl0ZXJhdGVlID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VYb3IoYXJyYXlGaWx0ZXIoYXJyYXlzLCBpc0FycmF5TGlrZU9iamVjdCksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnhvcmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY29tcGFyYXRvcmAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIHRvIGNvbXBhcmUgZWxlbWVudHMgb2YgYGFycmF5c2AuIFRoZSBvcmRlciBvZiByZXN1bHQgdmFsdWVzIGlzXG4gICAgICogZGV0ZXJtaW5lZCBieSB0aGUgb3JkZXIgdGhleSBvY2N1ciBpbiB0aGUgYXJyYXlzLiBUaGUgY29tcGFyYXRvciBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0d28gYXJndW1lbnRzOiAoYXJyVmFsLCBvdGhWYWwpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH1dO1xuICAgICAqIHZhciBvdGhlcnMgPSBbeyAneCc6IDEsICd5JzogMSB9LCB7ICd4JzogMSwgJ3knOiAyIH1dO1xuICAgICAqXG4gICAgICogXy54b3JXaXRoKG9iamVjdHMsIG90aGVycywgXy5pc0VxdWFsKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDIsICd5JzogMSB9LCB7ICd4JzogMSwgJ3knOiAxIH1dXG4gICAgICovXG4gICAgdmFyIHhvcldpdGggPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBjb21wYXJhdG9yID0gbGFzdChhcnJheXMpO1xuICAgICAgY29tcGFyYXRvciA9IHR5cGVvZiBjb21wYXJhdG9yID09ICdmdW5jdGlvbicgPyBjb21wYXJhdG9yIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIGJhc2VYb3IoYXJyYXlGaWx0ZXIoYXJyYXlzLCBpc0FycmF5TGlrZU9iamVjdCksIHVuZGVmaW5lZCwgY29tcGFyYXRvcik7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMsIHRoZSBmaXJzdCBvZiB3aGljaCBjb250YWlucyB0aGVcbiAgICAgKiBmaXJzdCBlbGVtZW50cyBvZiB0aGUgZ2l2ZW4gYXJyYXlzLCB0aGUgc2Vjb25kIG9mIHdoaWNoIGNvbnRhaW5zIHRoZVxuICAgICAqIHNlY29uZCBlbGVtZW50cyBvZiB0aGUgZ2l2ZW4gYXJyYXlzLCBhbmQgc28gb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIHByb2Nlc3MuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy56aXAoWydhJywgJ2InXSwgWzEsIDJdLCBbdHJ1ZSwgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBbWydhJywgMSwgdHJ1ZV0sIFsnYicsIDIsIGZhbHNlXV1cbiAgICAgKi9cbiAgICB2YXIgemlwID0gYmFzZVJlc3QodW56aXApO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mcm9tUGFpcnNgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgdHdvIGFycmF5cyxcbiAgICAgKiBvbmUgb2YgcHJvcGVydHkgaWRlbnRpZmllcnMgYW5kIG9uZSBvZiBjb3JyZXNwb25kaW5nIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjQuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wcz1bXV0gVGhlIHByb3BlcnR5IGlkZW50aWZpZXJzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFt2YWx1ZXM9W11dIFRoZSBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy56aXBPYmplY3QoWydhJywgJ2InXSwgWzEsIDJdKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB6aXBPYmplY3QocHJvcHMsIHZhbHVlcykge1xuICAgICAgcmV0dXJuIGJhc2VaaXBPYmplY3QocHJvcHMgfHwgW10sIHZhbHVlcyB8fCBbXSwgYXNzaWduVmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uemlwT2JqZWN0YCBleGNlcHQgdGhhdCBpdCBzdXBwb3J0cyBwcm9wZXJ0eSBwYXRocy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wcz1bXV0gVGhlIHByb3BlcnR5IGlkZW50aWZpZXJzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFt2YWx1ZXM9W11dIFRoZSBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy56aXBPYmplY3REZWVwKFsnYS5iWzBdLmMnLCAnYS5iWzFdLmQnXSwgWzEsIDJdKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogeyAnYic6IFt7ICdjJzogMSB9LCB7ICdkJzogMiB9XSB9IH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB6aXBPYmplY3REZWVwKHByb3BzLCB2YWx1ZXMpIHtcbiAgICAgIHJldHVybiBiYXNlWmlwT2JqZWN0KHByb3BzIHx8IFtdLCB2YWx1ZXMgfHwgW10sIGJhc2VTZXQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uemlwYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgdG8gc3BlY2lmeVxuICAgICAqIGhvdyBncm91cGVkIHZhbHVlcyBzaG91bGQgYmUgY29tYmluZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhlXG4gICAgICogZWxlbWVudHMgb2YgZWFjaCBncm91cDogKC4uLmdyb3VwKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjguMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIHRvIGNvbWJpbmVcbiAgICAgKiAgZ3JvdXBlZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy56aXBXaXRoKFsxLCAyXSwgWzEwLCAyMF0sIFsxMDAsIDIwMF0sIGZ1bmN0aW9uKGEsIGIsIGMpIHtcbiAgICAgKiAgIHJldHVybiBhICsgYiArIGM7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gWzExMSwgMjIyXVxuICAgICAqL1xuICAgIHZhciB6aXBXaXRoID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXlzLmxlbmd0aCxcbiAgICAgICAgICBpdGVyYXRlZSA9IGxlbmd0aCA+IDEgPyBhcnJheXNbbGVuZ3RoIC0gMV0gOiB1bmRlZmluZWQ7XG5cbiAgICAgIGl0ZXJhdGVlID0gdHlwZW9mIGl0ZXJhdGVlID09ICdmdW5jdGlvbicgPyAoYXJyYXlzLnBvcCgpLCBpdGVyYXRlZSkgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gdW56aXBXaXRoKGFycmF5cywgaXRlcmF0ZWUpO1xuICAgIH0pO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UgdGhhdCB3cmFwcyBgdmFsdWVgIHdpdGggZXhwbGljaXQgbWV0aG9kXG4gICAgICogY2hhaW4gc2VxdWVuY2VzIGVuYWJsZWQuIFRoZSByZXN1bHQgb2Ygc3VjaCBzZXF1ZW5jZXMgbXVzdCBiZSB1bndyYXBwZWRcbiAgICAgKiB3aXRoIGBfI3ZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjMuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB3cmFwLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWdlJzogMzYgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhZ2UnOiA0MCB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FnZSc6IDEgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiB2YXIgeW91bmdlc3QgPSBfXG4gICAgICogICAuY2hhaW4odXNlcnMpXG4gICAgICogICAuc29ydEJ5KCdhZ2UnKVxuICAgICAqICAgLm1hcChmdW5jdGlvbihvKSB7XG4gICAgICogICAgIHJldHVybiBvLnVzZXIgKyAnIGlzICcgKyBvLmFnZTtcbiAgICAgKiAgIH0pXG4gICAgICogICAuaGVhZCgpXG4gICAgICogICAudmFsdWUoKTtcbiAgICAgKiAvLyA9PiAncGViYmxlcyBpcyAxJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNoYWluKHZhbHVlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbG9kYXNoKHZhbHVlKTtcbiAgICAgIHJlc3VsdC5fX2NoYWluX18gPSB0cnVlO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpbnZva2VzIGBpbnRlcmNlcHRvcmAgYW5kIHJldHVybnMgYHZhbHVlYC4gVGhlIGludGVyY2VwdG9yXG4gICAgICogaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDsgKHZhbHVlKS4gVGhlIHB1cnBvc2Ugb2YgdGhpcyBtZXRob2QgaXMgdG9cbiAgICAgKiBcInRhcCBpbnRvXCIgYSBtZXRob2QgY2hhaW4gc2VxdWVuY2UgaW4gb3JkZXIgdG8gbW9kaWZ5IGludGVybWVkaWF0ZSByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb3ZpZGUgdG8gYGludGVyY2VwdG9yYC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpbnRlcmNlcHRvciBUaGUgZnVuY3Rpb24gdG8gaW52b2tlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIGB2YWx1ZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8oWzEsIDIsIDNdKVxuICAgICAqICAudGFwKGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgICogICAgLy8gTXV0YXRlIGlucHV0IGFycmF5LlxuICAgICAqICAgIGFycmF5LnBvcCgpO1xuICAgICAqICB9KVxuICAgICAqICAucmV2ZXJzZSgpXG4gICAgICogIC52YWx1ZSgpO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRhcCh2YWx1ZSwgaW50ZXJjZXB0b3IpIHtcbiAgICAgIGludGVyY2VwdG9yKHZhbHVlKTtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnRhcGAgZXhjZXB0IHRoYXQgaXQgcmV0dXJucyB0aGUgcmVzdWx0IG9mIGBpbnRlcmNlcHRvcmAuXG4gICAgICogVGhlIHB1cnBvc2Ugb2YgdGhpcyBtZXRob2QgaXMgdG8gXCJwYXNzIHRocnVcIiB2YWx1ZXMgcmVwbGFjaW5nIGludGVybWVkaWF0ZVxuICAgICAqIHJlc3VsdHMgaW4gYSBtZXRob2QgY2hhaW4gc2VxdWVuY2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvdmlkZSB0byBgaW50ZXJjZXB0b3JgLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGludGVyY2VwdG9yIFRoZSBmdW5jdGlvbiB0byBpbnZva2UuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc3VsdCBvZiBgaW50ZXJjZXB0b3JgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfKCcgIGFiYyAgJylcbiAgICAgKiAgLmNoYWluKClcbiAgICAgKiAgLnRyaW0oKVxuICAgICAqICAudGhydShmdW5jdGlvbih2YWx1ZSkge1xuICAgICAqICAgIHJldHVybiBbdmFsdWVdO1xuICAgICAqICB9KVxuICAgICAqICAudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbJ2FiYyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGhydSh2YWx1ZSwgaW50ZXJjZXB0b3IpIHtcbiAgICAgIHJldHVybiBpbnRlcmNlcHRvcih2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgdGhlIHdyYXBwZXIgdmVyc2lvbiBvZiBgXy5hdGAuXG4gICAgICpcbiAgICAgKiBAbmFtZSBhdFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMC4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEBwYXJhbSB7Li4uKHN0cmluZ3xzdHJpbmdbXSl9IFtwYXRoc10gVGhlIHByb3BlcnR5IHBhdGhzIHRvIHBpY2suXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH0sIDRdIH07XG4gICAgICpcbiAgICAgKiBfKG9iamVjdCkuYXQoWydhWzBdLmIuYycsICdhWzFdJ10pLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWzMsIDRdXG4gICAgICovXG4gICAgdmFyIHdyYXBwZXJBdCA9IGZsYXRSZXN0KGZ1bmN0aW9uKHBhdGhzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gcGF0aHMubGVuZ3RoLFxuICAgICAgICAgIHN0YXJ0ID0gbGVuZ3RoID8gcGF0aHNbMF0gOiAwLFxuICAgICAgICAgIHZhbHVlID0gdGhpcy5fX3dyYXBwZWRfXyxcbiAgICAgICAgICBpbnRlcmNlcHRvciA9IGZ1bmN0aW9uKG9iamVjdCkgeyByZXR1cm4gYmFzZUF0KG9iamVjdCwgcGF0aHMpOyB9O1xuXG4gICAgICBpZiAobGVuZ3RoID4gMSB8fCB0aGlzLl9fYWN0aW9uc19fLmxlbmd0aCB8fFxuICAgICAgICAgICEodmFsdWUgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcikgfHwgIWlzSW5kZXgoc3RhcnQpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRocnUoaW50ZXJjZXB0b3IpO1xuICAgICAgfVxuICAgICAgdmFsdWUgPSB2YWx1ZS5zbGljZShzdGFydCwgK3N0YXJ0ICsgKGxlbmd0aCA/IDEgOiAwKSk7XG4gICAgICB2YWx1ZS5fX2FjdGlvbnNfXy5wdXNoKHtcbiAgICAgICAgJ2Z1bmMnOiB0aHJ1LFxuICAgICAgICAnYXJncyc6IFtpbnRlcmNlcHRvcl0sXG4gICAgICAgICd0aGlzQXJnJzogdW5kZWZpbmVkXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBuZXcgTG9kYXNoV3JhcHBlcih2YWx1ZSwgdGhpcy5fX2NoYWluX18pLnRocnUoZnVuY3Rpb24oYXJyYXkpIHtcbiAgICAgICAgaWYgKGxlbmd0aCAmJiAhYXJyYXkubGVuZ3RoKSB7XG4gICAgICAgICAgYXJyYXkucHVzaCh1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcnJheTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2Ugd2l0aCBleHBsaWNpdCBtZXRob2QgY2hhaW4gc2VxdWVuY2VzIGVuYWJsZWQuXG4gICAgICpcbiAgICAgKiBAbmFtZSBjaGFpblxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyBBIHNlcXVlbmNlIHdpdGhvdXQgZXhwbGljaXQgY2hhaW5pbmcuXG4gICAgICogXyh1c2VycykuaGVhZCgpO1xuICAgICAqIC8vID0+IHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2IH1cbiAgICAgKlxuICAgICAqIC8vIEEgc2VxdWVuY2Ugd2l0aCBleHBsaWNpdCBjaGFpbmluZy5cbiAgICAgKiBfKHVzZXJzKVxuICAgICAqICAgLmNoYWluKClcbiAgICAgKiAgIC5oZWFkKClcbiAgICAgKiAgIC5waWNrKCd1c2VyJylcbiAgICAgKiAgIC52YWx1ZSgpO1xuICAgICAqIC8vID0+IHsgJ3VzZXInOiAnYmFybmV5JyB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlckNoYWluKCkge1xuICAgICAgcmV0dXJuIGNoYWluKHRoaXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4ZWN1dGVzIHRoZSBjaGFpbiBzZXF1ZW5jZSBhbmQgcmV0dXJucyB0aGUgd3JhcHBlZCByZXN1bHQuXG4gICAgICpcbiAgICAgKiBAbmFtZSBjb21taXRcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjIuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIDJdO1xuICAgICAqIHZhciB3cmFwcGVkID0gXyhhcnJheSkucHVzaCgzKTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIHdyYXBwZWQgPSB3cmFwcGVkLmNvbW1pdCgpO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIHdyYXBwZWQubGFzdCgpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyQ29tbWl0KCkge1xuICAgICAgcmV0dXJuIG5ldyBMb2Rhc2hXcmFwcGVyKHRoaXMudmFsdWUoKSwgdGhpcy5fX2NoYWluX18pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG5leHQgdmFsdWUgb24gYSB3cmFwcGVkIG9iamVjdCBmb2xsb3dpbmcgdGhlXG4gICAgICogW2l0ZXJhdG9yIHByb3RvY29sXShodHRwczovL21kbi5pby9pdGVyYXRpb25fcHJvdG9jb2xzI2l0ZXJhdG9yKS5cbiAgICAgKlxuICAgICAqIEBuYW1lIG5leHRcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXh0IGl0ZXJhdG9yIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgd3JhcHBlZCA9IF8oWzEsIDJdKTtcbiAgICAgKlxuICAgICAqIHdyYXBwZWQubmV4dCgpO1xuICAgICAqIC8vID0+IHsgJ2RvbmUnOiBmYWxzZSwgJ3ZhbHVlJzogMSB9XG4gICAgICpcbiAgICAgKiB3cmFwcGVkLm5leHQoKTtcbiAgICAgKiAvLyA9PiB7ICdkb25lJzogZmFsc2UsICd2YWx1ZSc6IDIgfVxuICAgICAqXG4gICAgICogd3JhcHBlZC5uZXh0KCk7XG4gICAgICogLy8gPT4geyAnZG9uZSc6IHRydWUsICd2YWx1ZSc6IHVuZGVmaW5lZCB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlck5leHQoKSB7XG4gICAgICBpZiAodGhpcy5fX3ZhbHVlc19fID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5fX3ZhbHVlc19fID0gdG9BcnJheSh0aGlzLnZhbHVlKCkpO1xuICAgICAgfVxuICAgICAgdmFyIGRvbmUgPSB0aGlzLl9faW5kZXhfXyA+PSB0aGlzLl9fdmFsdWVzX18ubGVuZ3RoLFxuICAgICAgICAgIHZhbHVlID0gZG9uZSA/IHVuZGVmaW5lZCA6IHRoaXMuX192YWx1ZXNfX1t0aGlzLl9faW5kZXhfXysrXTtcblxuICAgICAgcmV0dXJuIHsgJ2RvbmUnOiBkb25lLCAndmFsdWUnOiB2YWx1ZSB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgdGhlIHdyYXBwZXIgdG8gYmUgaXRlcmFibGUuXG4gICAgICpcbiAgICAgKiBAbmFtZSBTeW1ib2wuaXRlcmF0b3JcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSB3cmFwcGVyIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHdyYXBwZWQgPSBfKFsxLCAyXSk7XG4gICAgICpcbiAgICAgKiB3cmFwcGVkW1N5bWJvbC5pdGVyYXRvcl0oKSA9PT0gd3JhcHBlZDtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBBcnJheS5mcm9tKHdyYXBwZWQpO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJUb0l0ZXJhdG9yKCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoZSBjaGFpbiBzZXF1ZW5jZSBwbGFudGluZyBgdmFsdWVgIGFzIHRoZSB3cmFwcGVkIHZhbHVlLlxuICAgICAqXG4gICAgICogQG5hbWUgcGxhbnRcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjIuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwbGFudC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gc3F1YXJlKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICogbjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgd3JhcHBlZCA9IF8oWzEsIDJdKS5tYXAoc3F1YXJlKTtcbiAgICAgKiB2YXIgb3RoZXIgPSB3cmFwcGVkLnBsYW50KFszLCA0XSk7XG4gICAgICpcbiAgICAgKiBvdGhlci52YWx1ZSgpO1xuICAgICAqIC8vID0+IFs5LCAxNl1cbiAgICAgKlxuICAgICAqIHdyYXBwZWQudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbMSwgNF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyUGxhbnQodmFsdWUpIHtcbiAgICAgIHZhciByZXN1bHQsXG4gICAgICAgICAgcGFyZW50ID0gdGhpcztcblxuICAgICAgd2hpbGUgKHBhcmVudCBpbnN0YW5jZW9mIGJhc2VMb2Rhc2gpIHtcbiAgICAgICAgdmFyIGNsb25lID0gd3JhcHBlckNsb25lKHBhcmVudCk7XG4gICAgICAgIGNsb25lLl9faW5kZXhfXyA9IDA7XG4gICAgICAgIGNsb25lLl9fdmFsdWVzX18gPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBwcmV2aW91cy5fX3dyYXBwZWRfXyA9IGNsb25lO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc3VsdCA9IGNsb25lO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwcmV2aW91cyA9IGNsb25lO1xuICAgICAgICBwYXJlbnQgPSBwYXJlbnQuX193cmFwcGVkX187XG4gICAgICB9XG4gICAgICBwcmV2aW91cy5fX3dyYXBwZWRfXyA9IHZhbHVlO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB0aGUgd3JhcHBlciB2ZXJzaW9uIG9mIGBfLnJldmVyc2VgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgdGhlIHdyYXBwZWQgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAbmFtZSByZXZlcnNlXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyLCAzXTtcbiAgICAgKlxuICAgICAqIF8oYXJyYXkpLnJldmVyc2UoKS52YWx1ZSgpXG4gICAgICogLy8gPT4gWzMsIDIsIDFdXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzMsIDIsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlclJldmVyc2UoKSB7XG4gICAgICB2YXIgdmFsdWUgPSB0aGlzLl9fd3JhcHBlZF9fO1xuICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgTGF6eVdyYXBwZXIpIHtcbiAgICAgICAgdmFyIHdyYXBwZWQgPSB2YWx1ZTtcbiAgICAgICAgaWYgKHRoaXMuX19hY3Rpb25zX18ubGVuZ3RoKSB7XG4gICAgICAgICAgd3JhcHBlZCA9IG5ldyBMYXp5V3JhcHBlcih0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB3cmFwcGVkID0gd3JhcHBlZC5yZXZlcnNlKCk7XG4gICAgICAgIHdyYXBwZWQuX19hY3Rpb25zX18ucHVzaCh7XG4gICAgICAgICAgJ2Z1bmMnOiB0aHJ1LFxuICAgICAgICAgICdhcmdzJzogW3JldmVyc2VdLFxuICAgICAgICAgICd0aGlzQXJnJzogdW5kZWZpbmVkXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbmV3IExvZGFzaFdyYXBwZXIod3JhcHBlZCwgdGhpcy5fX2NoYWluX18pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMudGhydShyZXZlcnNlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlcyB0aGUgY2hhaW4gc2VxdWVuY2UgdG8gcmVzb2x2ZSB0aGUgdW53cmFwcGVkIHZhbHVlLlxuICAgICAqXG4gICAgICogQG5hbWUgdmFsdWVcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBhbGlhcyB0b0pTT04sIHZhbHVlT2ZcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXyhbMSwgMiwgM10pLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlclZhbHVlKCkge1xuICAgICAgcmV0dXJuIGJhc2VXcmFwcGVyVmFsdWUodGhpcy5fX3dyYXBwZWRfXywgdGhpcy5fX2FjdGlvbnNfXyk7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2Yga2V5cyBnZW5lcmF0ZWQgZnJvbSB0aGUgcmVzdWx0cyBvZiBydW5uaW5nXG4gICAgICogZWFjaCBlbGVtZW50IG9mIGBjb2xsZWN0aW9uYCB0aHJ1IGBpdGVyYXRlZWAuIFRoZSBjb3JyZXNwb25kaW5nIHZhbHVlIG9mXG4gICAgICogZWFjaCBrZXkgaXMgdGhlIG51bWJlciBvZiB0aW1lcyB0aGUga2V5IHdhcyByZXR1cm5lZCBieSBgaXRlcmF0ZWVgLiBUaGVcbiAgICAgKiBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSB0byB0cmFuc2Zvcm0ga2V5cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjb21wb3NlZCBhZ2dyZWdhdGUgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNvdW50QnkoWzYuMSwgNC4yLCA2LjNdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiB7ICc0JzogMSwgJzYnOiAyIH1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uY291bnRCeShbJ29uZScsICd0d28nLCAndGhyZWUnXSwgJ2xlbmd0aCcpO1xuICAgICAqIC8vID0+IHsgJzMnOiAyLCAnNSc6IDEgfVxuICAgICAqL1xuICAgIHZhciBjb3VudEJ5ID0gY3JlYXRlQWdncmVnYXRvcihmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHJlc3VsdCwga2V5KSkge1xuICAgICAgICArK3Jlc3VsdFtrZXldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKHJlc3VsdCwga2V5LCAxKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IgKiphbGwqKiBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmAuXG4gICAgICogSXRlcmF0aW9uIGlzIHN0b3BwZWQgb25jZSBgcHJlZGljYXRlYCByZXR1cm5zIGZhbHNleS4gVGhlIHByZWRpY2F0ZSBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCByZXR1cm5zIGB0cnVlYCBmb3JcbiAgICAgKiBbZW1wdHkgY29sbGVjdGlvbnNdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0VtcHR5X3NldCkgYmVjYXVzZVxuICAgICAqIFtldmVyeXRoaW5nIGlzIHRydWVdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1ZhY3VvdXNfdHJ1dGgpIG9mXG4gICAgICogZWxlbWVudHMgb2YgZW1wdHkgY29sbGVjdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYWxsIGVsZW1lbnRzIHBhc3MgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmV2ZXJ5KFt0cnVlLCAxLCBudWxsLCAneWVzJ10sIEJvb2xlYW4pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmV2ZXJ5KHVzZXJzLCB7ICd1c2VyJzogJ2Jhcm5leScsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZXZlcnkodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmV2ZXJ5KHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBldmVyeShjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGd1YXJkKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUV2ZXJ5IDogYmFzZUV2ZXJ5O1xuICAgICAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZ3VhcmQpKSB7XG4gICAgICAgIHByZWRpY2F0ZSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2YgYGNvbGxlY3Rpb25gLCByZXR1cm5pbmcgYW4gYXJyYXkgb2YgYWxsIGVsZW1lbnRzXG4gICAgICogYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yLiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aCB0aHJlZVxuICAgICAqIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5yZW1vdmVgLCB0aGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZpbHRlcmVkIGFycmF5LlxuICAgICAqIEBzZWUgXy5yZWplY3RcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maWx0ZXIodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuICFvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maWx0ZXIodXNlcnMsIHsgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maWx0ZXIodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maWx0ZXIodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICpcbiAgICAgKiAvLyBDb21iaW5pbmcgc2V2ZXJhbCBwcmVkaWNhdGVzIHVzaW5nIGBfLm92ZXJFdmVyeWAgb3IgYF8ub3ZlclNvbWVgLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCBfLm92ZXJTb21lKFt7ICdhZ2UnOiAzNiB9LCBbJ2FnZScsIDQwXV0pKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnLCAnYmFybmV5J11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaWx0ZXIoY29sbGVjdGlvbiwgcHJlZGljYXRlKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUZpbHRlciA6IGJhc2VGaWx0ZXI7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mIGBjb2xsZWN0aW9uYCwgcmV0dXJuaW5nIHRoZSBmaXJzdCBlbGVtZW50XG4gICAgICogYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yLiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aCB0aHJlZVxuICAgICAqIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD0wXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1hdGNoZWQgZWxlbWVudCwgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhZ2UnOiAxLCAgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbmQodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8uYWdlIDwgNDA7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdCBmb3IgJ2Jhcm5leSdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kKHVzZXJzLCB7ICdhZ2UnOiAxLCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3QgZm9yICdwZWJibGVzJ1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZCh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdCBmb3IgJ2ZyZWQnXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmQodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBvYmplY3QgZm9yICdiYXJuZXknXG4gICAgICovXG4gICAgdmFyIGZpbmQgPSBjcmVhdGVGaW5kKGZpbmRJbmRleCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZpbmRgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2ZcbiAgICAgKiBgY29sbGVjdGlvbmAgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD1jb2xsZWN0aW9uLmxlbmd0aC0xXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1hdGNoZWQgZWxlbWVudCwgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5maW5kTGFzdChbMSwgMiwgMywgNF0sIGZ1bmN0aW9uKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICUgMiA9PSAxO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICB2YXIgZmluZExhc3QgPSBjcmVhdGVGaW5kKGZpbmRMYXN0SW5kZXgpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZsYXR0ZW5lZCBhcnJheSBvZiB2YWx1ZXMgYnkgcnVubmluZyBlYWNoIGVsZW1lbnQgaW4gYGNvbGxlY3Rpb25gXG4gICAgICogdGhydSBgaXRlcmF0ZWVgIGFuZCBmbGF0dGVuaW5nIHRoZSBtYXBwZWQgcmVzdWx0cy4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBkdXBsaWNhdGUobikge1xuICAgICAqICAgcmV0dXJuIFtuLCBuXTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLmZsYXRNYXAoWzEsIDJdLCBkdXBsaWNhdGUpO1xuICAgICAqIC8vID0+IFsxLCAxLCAyLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXRNYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBiYXNlRmxhdHRlbihtYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpLCAxKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZsYXRNYXBgIGV4Y2VwdCB0aGF0IGl0IHJlY3Vyc2l2ZWx5IGZsYXR0ZW5zIHRoZVxuICAgICAqIG1hcHBlZCByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNy4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBkdXBsaWNhdGUobikge1xuICAgICAqICAgcmV0dXJuIFtbW24sIG5dXV07XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5mbGF0TWFwRGVlcChbMSwgMl0sIGR1cGxpY2F0ZSk7XG4gICAgICogLy8gPT4gWzEsIDEsIDIsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdE1hcERlZXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBiYXNlRmxhdHRlbihtYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpLCBJTkZJTklUWSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mbGF0TWFwYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBmbGF0dGVucyB0aGVcbiAgICAgKiBtYXBwZWQgcmVzdWx0cyB1cCB0byBgZGVwdGhgIHRpbWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNy4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtkZXB0aD0xXSBUaGUgbWF4aW11bSByZWN1cnNpb24gZGVwdGguXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBkdXBsaWNhdGUobikge1xuICAgICAqICAgcmV0dXJuIFtbW24sIG5dXV07XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5mbGF0TWFwRGVwdGgoWzEsIDJdLCBkdXBsaWNhdGUsIDIpO1xuICAgICAqIC8vID0+IFtbMSwgMV0sIFsyLCAyXV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0TWFwRGVwdGgoY29sbGVjdGlvbiwgaXRlcmF0ZWUsIGRlcHRoKSB7XG4gICAgICBkZXB0aCA9IGRlcHRoID09PSB1bmRlZmluZWQgPyAxIDogdG9JbnRlZ2VyKGRlcHRoKTtcbiAgICAgIHJldHVybiBiYXNlRmxhdHRlbihtYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpLCBkZXB0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmAgYW5kIGludm9rZXMgYGl0ZXJhdGVlYCBmb3IgZWFjaCBlbGVtZW50LlxuICAgICAqIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICogSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0IGl0ZXJhdGlvbiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIEFzIHdpdGggb3RoZXIgXCJDb2xsZWN0aW9uc1wiIG1ldGhvZHMsIG9iamVjdHMgd2l0aCBhIFwibGVuZ3RoXCJcbiAgICAgKiBwcm9wZXJ0eSBhcmUgaXRlcmF0ZWQgbGlrZSBhcnJheXMuIFRvIGF2b2lkIHRoaXMgYmVoYXZpb3IgdXNlIGBfLmZvckluYFxuICAgICAqIG9yIGBfLmZvck93bmAgZm9yIG9iamVjdCBpdGVyYXRpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAYWxpYXMgZWFjaFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheXxPYmplY3R9IFJldHVybnMgYGNvbGxlY3Rpb25gLlxuICAgICAqIEBzZWUgXy5mb3JFYWNoUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mb3JFYWNoKFsxLCAyXSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKHZhbHVlKTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzIGAxYCB0aGVuIGAyYC5cbiAgICAgKlxuICAgICAqIF8uZm9yRWFjaCh7ICdhJzogMSwgJ2InOiAyIH0sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnYScgdGhlbiAnYicgKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZCkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9yRWFjaChjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlFYWNoIDogYmFzZUVhY2g7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZm9yRWFjaGAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZlxuICAgICAqIGBjb2xsZWN0aW9uYCBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAYWxpYXMgZWFjaFJpZ2h0XG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fE9iamVjdH0gUmV0dXJucyBgY29sbGVjdGlvbmAuXG4gICAgICogQHNlZSBfLmZvckVhY2hcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mb3JFYWNoUmlnaHQoWzEsIDJdLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAqICAgY29uc29sZS5sb2codmFsdWUpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgYDJgIHRoZW4gYDFgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvckVhY2hSaWdodChjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlFYWNoUmlnaHQgOiBiYXNlRWFjaFJpZ2h0O1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiBrZXlzIGdlbmVyYXRlZCBmcm9tIHRoZSByZXN1bHRzIG9mIHJ1bm5pbmdcbiAgICAgKiBlYWNoIGVsZW1lbnQgb2YgYGNvbGxlY3Rpb25gIHRocnUgYGl0ZXJhdGVlYC4gVGhlIG9yZGVyIG9mIGdyb3VwZWQgdmFsdWVzXG4gICAgICogaXMgZGV0ZXJtaW5lZCBieSB0aGUgb3JkZXIgdGhleSBvY2N1ciBpbiBgY29sbGVjdGlvbmAuIFRoZSBjb3JyZXNwb25kaW5nXG4gICAgICogdmFsdWUgb2YgZWFjaCBrZXkgaXMgYW4gYXJyYXkgb2YgZWxlbWVudHMgcmVzcG9uc2libGUgZm9yIGdlbmVyYXRpbmcgdGhlXG4gICAgICoga2V5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIGtleXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY29tcG9zZWQgYWdncmVnYXRlIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5ncm91cEJ5KFs2LjEsIDQuMiwgNi4zXSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4geyAnNCc6IFs0LjJdLCAnNic6IFs2LjEsIDYuM10gfVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5ncm91cEJ5KFsnb25lJywgJ3R3bycsICd0aHJlZSddLCAnbGVuZ3RoJyk7XG4gICAgICogLy8gPT4geyAnMyc6IFsnb25lJywgJ3R3byddLCAnNSc6IFsndGhyZWUnXSB9XG4gICAgICovXG4gICAgdmFyIGdyb3VwQnkgPSBjcmVhdGVBZ2dyZWdhdG9yKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwocmVzdWx0LCBrZXkpKSB7XG4gICAgICAgIHJlc3VsdFtrZXldLnB1c2godmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKHJlc3VsdCwga2V5LCBbdmFsdWVdKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGluIGBjb2xsZWN0aW9uYC4gSWYgYGNvbGxlY3Rpb25gIGlzIGEgc3RyaW5nLCBpdCdzXG4gICAgICogY2hlY2tlZCBmb3IgYSBzdWJzdHJpbmcgb2YgYHZhbHVlYCwgb3RoZXJ3aXNlXG4gICAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBpcyB1c2VkIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy4gSWYgYGZyb21JbmRleGAgaXMgbmVnYXRpdmUsIGl0J3MgdXNlZCBhc1xuICAgICAqIHRoZSBvZmZzZXQgZnJvbSB0aGUgZW5kIG9mIGBjb2xsZWN0aW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD0wXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ucmVkdWNlYC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmluY2x1ZGVzKFsxLCAyLCAzXSwgMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pbmNsdWRlcyhbMSwgMiwgM10sIDEsIDIpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmluY2x1ZGVzKHsgJ2EnOiAxLCAnYic6IDIgfSwgMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pbmNsdWRlcygnYWJjZCcsICdiYycpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbmNsdWRlcyhjb2xsZWN0aW9uLCB2YWx1ZSwgZnJvbUluZGV4LCBndWFyZCkge1xuICAgICAgY29sbGVjdGlvbiA9IGlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pID8gY29sbGVjdGlvbiA6IHZhbHVlcyhjb2xsZWN0aW9uKTtcbiAgICAgIGZyb21JbmRleCA9IChmcm9tSW5kZXggJiYgIWd1YXJkKSA/IHRvSW50ZWdlcihmcm9tSW5kZXgpIDogMDtcblxuICAgICAgdmFyIGxlbmd0aCA9IGNvbGxlY3Rpb24ubGVuZ3RoO1xuICAgICAgaWYgKGZyb21JbmRleCA8IDApIHtcbiAgICAgICAgZnJvbUluZGV4ID0gbmF0aXZlTWF4KGxlbmd0aCArIGZyb21JbmRleCwgMCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXNTdHJpbmcoY29sbGVjdGlvbilcbiAgICAgICAgPyAoZnJvbUluZGV4IDw9IGxlbmd0aCAmJiBjb2xsZWN0aW9uLmluZGV4T2YodmFsdWUsIGZyb21JbmRleCkgPiAtMSlcbiAgICAgICAgOiAoISFsZW5ndGggJiYgYmFzZUluZGV4T2YoY29sbGVjdGlvbiwgdmFsdWUsIGZyb21JbmRleCkgPiAtMSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW52b2tlcyB0aGUgbWV0aG9kIGF0IGBwYXRoYCBvZiBlYWNoIGVsZW1lbnQgaW4gYGNvbGxlY3Rpb25gLCByZXR1cm5pbmdcbiAgICAgKiBhbiBhcnJheSBvZiB0aGUgcmVzdWx0cyBvZiBlYWNoIGludm9rZWQgbWV0aG9kLiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHNcbiAgICAgKiBhcmUgcHJvdmlkZWQgdG8gZWFjaCBpbnZva2VkIG1ldGhvZC4gSWYgYHBhdGhgIGlzIGEgZnVuY3Rpb24sIGl0J3MgaW52b2tlZFxuICAgICAqIGZvciwgYW5kIGB0aGlzYCBib3VuZCB0bywgZWFjaCBlbGVtZW50IGluIGBjb2xsZWN0aW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7QXJyYXl8RnVuY3Rpb258c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBtZXRob2QgdG8gaW52b2tlIG9yXG4gICAgICogIHRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgZWFjaCBtZXRob2Qgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHJlc3VsdHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW52b2tlTWFwKFtbNSwgMSwgN10sIFszLCAyLCAxXV0sICdzb3J0Jyk7XG4gICAgICogLy8gPT4gW1sxLCA1LCA3XSwgWzEsIDIsIDNdXVxuICAgICAqXG4gICAgICogXy5pbnZva2VNYXAoWzEyMywgNDU2XSwgU3RyaW5nLnByb3RvdHlwZS5zcGxpdCwgJycpO1xuICAgICAqIC8vID0+IFtbJzEnLCAnMicsICczJ10sIFsnNCcsICc1JywgJzYnXV1cbiAgICAgKi9cbiAgICB2YXIgaW52b2tlTWFwID0gYmFzZVJlc3QoZnVuY3Rpb24oY29sbGVjdGlvbiwgcGF0aCwgYXJncykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgaXNGdW5jID0gdHlwZW9mIHBhdGggPT0gJ2Z1bmN0aW9uJyxcbiAgICAgICAgICByZXN1bHQgPSBpc0FycmF5TGlrZShjb2xsZWN0aW9uKSA/IEFycmF5KGNvbGxlY3Rpb24ubGVuZ3RoKSA6IFtdO1xuXG4gICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXN1bHRbKytpbmRleF0gPSBpc0Z1bmMgPyBhcHBseShwYXRoLCB2YWx1ZSwgYXJncykgOiBiYXNlSW52b2tlKHZhbHVlLCBwYXRoLCBhcmdzKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIGtleXMgZ2VuZXJhdGVkIGZyb20gdGhlIHJlc3VsdHMgb2YgcnVubmluZ1xuICAgICAqIGVhY2ggZWxlbWVudCBvZiBgY29sbGVjdGlvbmAgdGhydSBgaXRlcmF0ZWVgLiBUaGUgY29ycmVzcG9uZGluZyB2YWx1ZSBvZlxuICAgICAqIGVhY2gga2V5IGlzIHRoZSBsYXN0IGVsZW1lbnQgcmVzcG9uc2libGUgZm9yIGdlbmVyYXRpbmcgdGhlIGtleS4gVGhlXG4gICAgICogaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIGtleXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY29tcG9zZWQgYWdncmVnYXRlIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gW1xuICAgICAqICAgeyAnZGlyJzogJ2xlZnQnLCAnY29kZSc6IDk3IH0sXG4gICAgICogICB7ICdkaXInOiAncmlnaHQnLCAnY29kZSc6IDEwMCB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8ua2V5QnkoYXJyYXksIGZ1bmN0aW9uKG8pIHtcbiAgICAgKiAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKG8uY29kZSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4geyAnYSc6IHsgJ2Rpcic6ICdsZWZ0JywgJ2NvZGUnOiA5NyB9LCAnZCc6IHsgJ2Rpcic6ICdyaWdodCcsICdjb2RlJzogMTAwIH0gfVxuICAgICAqXG4gICAgICogXy5rZXlCeShhcnJheSwgJ2RpcicpO1xuICAgICAqIC8vID0+IHsgJ2xlZnQnOiB7ICdkaXInOiAnbGVmdCcsICdjb2RlJzogOTcgfSwgJ3JpZ2h0JzogeyAnZGlyJzogJ3JpZ2h0JywgJ2NvZGUnOiAxMDAgfSB9XG4gICAgICovXG4gICAgdmFyIGtleUJ5ID0gY3JlYXRlQWdncmVnYXRvcihmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgIGJhc2VBc3NpZ25WYWx1ZShyZXN1bHQsIGtleSwgdmFsdWUpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB2YWx1ZXMgYnkgcnVubmluZyBlYWNoIGVsZW1lbnQgaW4gYGNvbGxlY3Rpb25gIHRocnVcbiAgICAgKiBgaXRlcmF0ZWVgLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czpcbiAgICAgKiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBNYW55IGxvZGFzaCBtZXRob2RzIGFyZSBndWFyZGVkIHRvIHdvcmsgYXMgaXRlcmF0ZWVzIGZvciBtZXRob2RzIGxpa2VcbiAgICAgKiBgXy5ldmVyeWAsIGBfLmZpbHRlcmAsIGBfLm1hcGAsIGBfLm1hcFZhbHVlc2AsIGBfLnJlamVjdGAsIGFuZCBgXy5zb21lYC5cbiAgICAgKlxuICAgICAqIFRoZSBndWFyZGVkIG1ldGhvZHMgYXJlOlxuICAgICAqIGBhcnlgLCBgY2h1bmtgLCBgY3VycnlgLCBgY3VycnlSaWdodGAsIGBkcm9wYCwgYGRyb3BSaWdodGAsIGBldmVyeWAsXG4gICAgICogYGZpbGxgLCBgaW52ZXJ0YCwgYHBhcnNlSW50YCwgYHJhbmRvbWAsIGByYW5nZWAsIGByYW5nZVJpZ2h0YCwgYHJlcGVhdGAsXG4gICAgICogYHNhbXBsZVNpemVgLCBgc2xpY2VgLCBgc29tZWAsIGBzb3J0QnlgLCBgc3BsaXRgLCBgdGFrZWAsIGB0YWtlUmlnaHRgLFxuICAgICAqIGB0ZW1wbGF0ZWAsIGB0cmltYCwgYHRyaW1FbmRgLCBgdHJpbVN0YXJ0YCwgYW5kIGB3b3Jkc2BcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gc3F1YXJlKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICogbjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLm1hcChbNCwgOF0sIHNxdWFyZSk7XG4gICAgICogLy8gPT4gWzE2LCA2NF1cbiAgICAgKlxuICAgICAqIF8ubWFwKHsgJ2EnOiA0LCAnYic6IDggfSwgc3F1YXJlKTtcbiAgICAgKiAvLyA9PiBbMTYsIDY0XSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5tYXAodXNlcnMsICd1c2VyJyk7XG4gICAgICogLy8gPT4gWydiYXJuZXknLCAnZnJlZCddXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheU1hcCA6IGJhc2VNYXA7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc29ydEJ5YCBleGNlcHQgdGhhdCBpdCBhbGxvd3Mgc3BlY2lmeWluZyB0aGUgc29ydFxuICAgICAqIG9yZGVycyBvZiB0aGUgaXRlcmF0ZWVzIHRvIHNvcnQgYnkuIElmIGBvcmRlcnNgIGlzIHVuc3BlY2lmaWVkLCBhbGwgdmFsdWVzXG4gICAgICogYXJlIHNvcnRlZCBpbiBhc2NlbmRpbmcgb3JkZXIuIE90aGVyd2lzZSwgc3BlY2lmeSBhbiBvcmRlciBvZiBcImRlc2NcIiBmb3JcbiAgICAgKiBkZXNjZW5kaW5nIG9yIFwiYXNjXCIgZm9yIGFzY2VuZGluZyBzb3J0IG9yZGVyIG9mIGNvcnJlc3BvbmRpbmcgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtBcnJheVtdfEZ1bmN0aW9uW118T2JqZWN0W118c3RyaW5nW119IFtpdGVyYXRlZXM9W18uaWRlbnRpdHldXVxuICAgICAqICBUaGUgaXRlcmF0ZWVzIHRvIHNvcnQgYnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gW29yZGVyc10gVGhlIHNvcnQgb3JkZXJzIG9mIGBpdGVyYXRlZXNgLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLnJlZHVjZWAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgc29ydGVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0OCB9LFxuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzQgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIFNvcnQgYnkgYHVzZXJgIGluIGFzY2VuZGluZyBvcmRlciBhbmQgYnkgYGFnZWAgaW4gZGVzY2VuZGluZyBvcmRlci5cbiAgICAgKiBfLm9yZGVyQnkodXNlcnMsIFsndXNlcicsICdhZ2UnXSwgWydhc2MnLCAnZGVzYyddKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydiYXJuZXknLCAzNl0sIFsnYmFybmV5JywgMzRdLCBbJ2ZyZWQnLCA0OF0sIFsnZnJlZCcsIDQwXV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvcmRlckJ5KGNvbGxlY3Rpb24sIGl0ZXJhdGVlcywgb3JkZXJzLCBndWFyZCkge1xuICAgICAgaWYgKGNvbGxlY3Rpb24gPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBpZiAoIWlzQXJyYXkoaXRlcmF0ZWVzKSkge1xuICAgICAgICBpdGVyYXRlZXMgPSBpdGVyYXRlZXMgPT0gbnVsbCA/IFtdIDogW2l0ZXJhdGVlc107XG4gICAgICB9XG4gICAgICBvcmRlcnMgPSBndWFyZCA/IHVuZGVmaW5lZCA6IG9yZGVycztcbiAgICAgIGlmICghaXNBcnJheShvcmRlcnMpKSB7XG4gICAgICAgIG9yZGVycyA9IG9yZGVycyA9PSBudWxsID8gW10gOiBbb3JkZXJzXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlT3JkZXJCeShjb2xsZWN0aW9uLCBpdGVyYXRlZXMsIG9yZGVycyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBlbGVtZW50cyBzcGxpdCBpbnRvIHR3byBncm91cHMsIHRoZSBmaXJzdCBvZiB3aGljaFxuICAgICAqIGNvbnRhaW5zIGVsZW1lbnRzIGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvciwgdGhlIHNlY29uZCBvZiB3aGljaFxuICAgICAqIGNvbnRhaW5zIGVsZW1lbnRzIGBwcmVkaWNhdGVgIHJldHVybnMgZmFsc2V5IGZvci4gVGhlIHByZWRpY2F0ZSBpc1xuICAgICAqIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWdlJzogMzYsICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FnZSc6IDEsICAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLnBhcnRpdGlvbih1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2ZyZWQnXSwgWydiYXJuZXknLCAncGViYmxlcyddXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnBhcnRpdGlvbih1c2VycywgeyAnYWdlJzogMSwgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ3BlYmJsZXMnXSwgWydiYXJuZXknLCAnZnJlZCddXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ucGFydGl0aW9uKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1snYmFybmV5JywgJ3BlYmJsZXMnXSwgWydmcmVkJ11dXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnBhcnRpdGlvbih1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2ZyZWQnXSwgWydiYXJuZXknLCAncGViYmxlcyddXVxuICAgICAqL1xuICAgIHZhciBwYXJ0aXRpb24gPSBjcmVhdGVBZ2dyZWdhdG9yKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgcmVzdWx0W2tleSA/IDAgOiAxXS5wdXNoKHZhbHVlKTtcbiAgICB9LCBmdW5jdGlvbigpIHsgcmV0dXJuIFtbXSwgW11dOyB9KTtcblxuICAgIC8qKlxuICAgICAqIFJlZHVjZXMgYGNvbGxlY3Rpb25gIHRvIGEgdmFsdWUgd2hpY2ggaXMgdGhlIGFjY3VtdWxhdGVkIHJlc3VsdCBvZiBydW5uaW5nXG4gICAgICogZWFjaCBlbGVtZW50IGluIGBjb2xsZWN0aW9uYCB0aHJ1IGBpdGVyYXRlZWAsIHdoZXJlIGVhY2ggc3VjY2Vzc2l2ZVxuICAgICAqIGludm9jYXRpb24gaXMgc3VwcGxpZWQgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgcHJldmlvdXMuIElmIGBhY2N1bXVsYXRvcmBcbiAgICAgKiBpcyBub3QgZ2l2ZW4sIHRoZSBmaXJzdCBlbGVtZW50IG9mIGBjb2xsZWN0aW9uYCBpcyB1c2VkIGFzIHRoZSBpbml0aWFsXG4gICAgICogdmFsdWUuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggZm91ciBhcmd1bWVudHM6XG4gICAgICogKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqIE1hbnkgbG9kYXNoIG1ldGhvZHMgYXJlIGd1YXJkZWQgdG8gd29yayBhcyBpdGVyYXRlZXMgZm9yIG1ldGhvZHMgbGlrZVxuICAgICAqIGBfLnJlZHVjZWAsIGBfLnJlZHVjZVJpZ2h0YCwgYW5kIGBfLnRyYW5zZm9ybWAuXG4gICAgICpcbiAgICAgKiBUaGUgZ3VhcmRlZCBtZXRob2RzIGFyZTpcbiAgICAgKiBgYXNzaWduYCwgYGRlZmF1bHRzYCwgYGRlZmF1bHRzRGVlcGAsIGBpbmNsdWRlc2AsIGBtZXJnZWAsIGBvcmRlckJ5YCxcbiAgICAgKiBhbmQgYHNvcnRCeWBcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Kn0gW2FjY3VtdWxhdG9yXSBUaGUgaW5pdGlhbCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAgICogQHNlZSBfLnJlZHVjZVJpZ2h0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucmVkdWNlKFsxLCAyXSwgZnVuY3Rpb24oc3VtLCBuKSB7XG4gICAgICogICByZXR1cm4gc3VtICsgbjtcbiAgICAgKiB9LCAwKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLnJlZHVjZSh7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDEgfSwgZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICogICAocmVzdWx0W3ZhbHVlXSB8fCAocmVzdWx0W3ZhbHVlXSA9IFtdKSkucHVzaChrZXkpO1xuICAgICAqICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgKiB9LCB7fSk7XG4gICAgICogLy8gPT4geyAnMSc6IFsnYScsICdjJ10sICcyJzogWydiJ10gfSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlZHVjZShjb2xsZWN0aW9uLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5UmVkdWNlIDogYmFzZVJlZHVjZSxcbiAgICAgICAgICBpbml0QWNjdW0gPSBhcmd1bWVudHMubGVuZ3RoIDwgMztcblxuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDQpLCBhY2N1bXVsYXRvciwgaW5pdEFjY3VtLCBiYXNlRWFjaCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5yZWR1Y2VgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2ZcbiAgICAgKiBgY29sbGVjdGlvbmAgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIFRoZSBpbml0aWFsIHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICAgKiBAc2VlIF8ucmVkdWNlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFtbMCwgMV0sIFsyLCAzXSwgWzQsIDVdXTtcbiAgICAgKlxuICAgICAqIF8ucmVkdWNlUmlnaHQoYXJyYXksIGZ1bmN0aW9uKGZsYXR0ZW5lZCwgb3RoZXIpIHtcbiAgICAgKiAgIHJldHVybiBmbGF0dGVuZWQuY29uY2F0KG90aGVyKTtcbiAgICAgKiB9LCBbXSk7XG4gICAgICogLy8gPT4gWzQsIDUsIDIsIDMsIDAsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVkdWNlUmlnaHQoY29sbGVjdGlvbiwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheVJlZHVjZVJpZ2h0IDogYmFzZVJlZHVjZSxcbiAgICAgICAgICBpbml0QWNjdW0gPSBhcmd1bWVudHMubGVuZ3RoIDwgMztcblxuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDQpLCBhY2N1bXVsYXRvciwgaW5pdEFjY3VtLCBiYXNlRWFjaFJpZ2h0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8uZmlsdGVyYDsgdGhpcyBtZXRob2QgcmV0dXJucyB0aGUgZWxlbWVudHMgb2YgYGNvbGxlY3Rpb25gXG4gICAgICogdGhhdCBgcHJlZGljYXRlYCBkb2VzICoqbm90KiogcmV0dXJuIHRydXRoeSBmb3IuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmlsdGVyZWQgYXJyYXkuXG4gICAgICogQHNlZSBfLmZpbHRlclxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLnJlamVjdCh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnJlamVjdCh1c2VycywgeyAnYWdlJzogNDAsICdhY3RpdmUnOiB0cnVlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnJlamVjdCh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnJlamVjdCh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZWplY3QoY29sbGVjdGlvbiwgcHJlZGljYXRlKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUZpbHRlciA6IGJhc2VGaWx0ZXI7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBuZWdhdGUoZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYSByYW5kb20gZWxlbWVudCBmcm9tIGBjb2xsZWN0aW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2FtcGxlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zYW1wbGUoWzEsIDIsIDMsIDRdKTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2FtcGxlKGNvbGxlY3Rpb24pIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5U2FtcGxlIDogYmFzZVNhbXBsZTtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYG5gIHJhbmRvbSBlbGVtZW50cyBhdCB1bmlxdWUga2V5cyBmcm9tIGBjb2xsZWN0aW9uYCB1cCB0byB0aGVcbiAgICAgKiBzaXplIG9mIGBjb2xsZWN0aW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2FtcGxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHNhbXBsZS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcmFuZG9tIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNhbXBsZVNpemUoWzEsIDIsIDNdLCAyKTtcbiAgICAgKiAvLyA9PiBbMywgMV1cbiAgICAgKlxuICAgICAqIF8uc2FtcGxlU2l6ZShbMSwgMiwgM10sIDQpO1xuICAgICAqIC8vID0+IFsyLCAzLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNhbXBsZVNpemUoY29sbGVjdGlvbiwgbiwgZ3VhcmQpIHtcbiAgICAgIGlmICgoZ3VhcmQgPyBpc0l0ZXJhdGVlQ2FsbChjb2xsZWN0aW9uLCBuLCBndWFyZCkgOiBuID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIG4gPSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIH1cbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5U2FtcGxlU2l6ZSA6IGJhc2VTYW1wbGVTaXplO1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBzaHVmZmxlZCB2YWx1ZXMsIHVzaW5nIGEgdmVyc2lvbiBvZiB0aGVcbiAgICAgKiBbRmlzaGVyLVlhdGVzIHNodWZmbGVdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Zpc2hlci1ZYXRlc19zaHVmZmxlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2h1ZmZsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzaHVmZmxlZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zaHVmZmxlKFsxLCAyLCAzLCA0XSk7XG4gICAgICogLy8gPT4gWzQsIDEsIDMsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2h1ZmZsZShjb2xsZWN0aW9uKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheVNodWZmbGUgOiBiYXNlU2h1ZmZsZTtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHNpemUgb2YgYGNvbGxlY3Rpb25gIGJ5IHJldHVybmluZyBpdHMgbGVuZ3RoIGZvciBhcnJheS1saWtlXG4gICAgICogdmFsdWVzIG9yIHRoZSBudW1iZXIgb2Ygb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgZm9yIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbGxlY3Rpb24gc2l6ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zaXplKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5zaXplKHsgJ2EnOiAxLCAnYic6IDIgfSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqXG4gICAgICogXy5zaXplKCdwZWJibGVzJyk7XG4gICAgICogLy8gPT4gN1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNpemUoY29sbGVjdGlvbikge1xuICAgICAgaWYgKGNvbGxlY3Rpb24gPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cbiAgICAgIGlmIChpc0FycmF5TGlrZShjb2xsZWN0aW9uKSkge1xuICAgICAgICByZXR1cm4gaXNTdHJpbmcoY29sbGVjdGlvbikgPyBzdHJpbmdTaXplKGNvbGxlY3Rpb24pIDogY29sbGVjdGlvbi5sZW5ndGg7XG4gICAgICB9XG4gICAgICB2YXIgdGFnID0gZ2V0VGFnKGNvbGxlY3Rpb24pO1xuICAgICAgaWYgKHRhZyA9PSBtYXBUYWcgfHwgdGFnID09IHNldFRhZykge1xuICAgICAgICByZXR1cm4gY29sbGVjdGlvbi5zaXplO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VLZXlzKGNvbGxlY3Rpb24pLmxlbmd0aDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yICoqYW55KiogZWxlbWVudCBvZiBgY29sbGVjdGlvbmAuXG4gICAgICogSXRlcmF0aW9uIGlzIHN0b3BwZWQgb25jZSBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeS4gVGhlIHByZWRpY2F0ZSBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbnkgZWxlbWVudCBwYXNzZXMgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvbWUoW251bGwsIDAsICd5ZXMnLCBmYWxzZV0sIEJvb2xlYW4pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnNvbWUodXNlcnMsIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zb21lKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zb21lKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvbWUoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBndWFyZCkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlTb21lIDogYmFzZVNvbWU7XG4gICAgICBpZiAoZ3VhcmQgJiYgaXNJdGVyYXRlZUNhbGwoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBndWFyZCkpIHtcbiAgICAgICAgcHJlZGljYXRlID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBlbGVtZW50cywgc29ydGVkIGluIGFzY2VuZGluZyBvcmRlciBieSB0aGUgcmVzdWx0cyBvZlxuICAgICAqIHJ1bm5pbmcgZWFjaCBlbGVtZW50IGluIGEgY29sbGVjdGlvbiB0aHJ1IGVhY2ggaXRlcmF0ZWUuIFRoaXMgbWV0aG9kXG4gICAgICogcGVyZm9ybXMgYSBzdGFibGUgc29ydCwgdGhhdCBpcywgaXQgcHJlc2VydmVzIHRoZSBvcmlnaW5hbCBzb3J0IG9yZGVyIG9mXG4gICAgICogZXF1YWwgZWxlbWVudHMuIFRoZSBpdGVyYXRlZXMgYXJlIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW2l0ZXJhdGVlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBpdGVyYXRlZXMgdG8gc29ydCBieS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzb3J0ZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQ4IH0sXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogMzAgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM0IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5zb3J0QnkodXNlcnMsIFtmdW5jdGlvbihvKSB7IHJldHVybiBvLnVzZXI7IH1dKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydiYXJuZXknLCAzNl0sIFsnYmFybmV5JywgMzRdLCBbJ2ZyZWQnLCA0OF0sIFsnZnJlZCcsIDMwXV1cbiAgICAgKlxuICAgICAqIF8uc29ydEJ5KHVzZXJzLCBbJ3VzZXInLCAnYWdlJ10pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2Jhcm5leScsIDM0XSwgWydiYXJuZXknLCAzNl0sIFsnZnJlZCcsIDMwXSwgWydmcmVkJywgNDhdXVxuICAgICAqL1xuICAgIHZhciBzb3J0QnkgPSBiYXNlUmVzdChmdW5jdGlvbihjb2xsZWN0aW9uLCBpdGVyYXRlZXMpIHtcbiAgICAgIGlmIChjb2xsZWN0aW9uID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IGl0ZXJhdGVlcy5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoID4gMSAmJiBpc0l0ZXJhdGVlQ2FsbChjb2xsZWN0aW9uLCBpdGVyYXRlZXNbMF0sIGl0ZXJhdGVlc1sxXSkpIHtcbiAgICAgICAgaXRlcmF0ZWVzID0gW107XG4gICAgICB9IGVsc2UgaWYgKGxlbmd0aCA+IDIgJiYgaXNJdGVyYXRlZUNhbGwoaXRlcmF0ZWVzWzBdLCBpdGVyYXRlZXNbMV0sIGl0ZXJhdGVlc1syXSkpIHtcbiAgICAgICAgaXRlcmF0ZWVzID0gW2l0ZXJhdGVlc1swXV07XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZU9yZGVyQnkoY29sbGVjdGlvbiwgYmFzZUZsYXR0ZW4oaXRlcmF0ZWVzLCAxKSwgW10pO1xuICAgIH0pO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdGltZXN0YW1wIG9mIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRoYXQgaGF2ZSBlbGFwc2VkIHNpbmNlXG4gICAgICogdGhlIFVuaXggZXBvY2ggKDEgSmFudWFyeSAxOTcwIDAwOjAwOjAwIFVUQykuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi40LjBcbiAgICAgKiBAY2F0ZWdvcnkgRGF0ZVxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHRpbWVzdGFtcC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWZlcihmdW5jdGlvbihzdGFtcCkge1xuICAgICAqICAgY29uc29sZS5sb2coXy5ub3coKSAtIHN0YW1wKTtcbiAgICAgKiB9LCBfLm5vdygpKTtcbiAgICAgKiAvLyA9PiBMb2dzIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIGl0IHRvb2sgZm9yIHRoZSBkZWZlcnJlZCBpbnZvY2F0aW9uLlxuICAgICAqL1xuICAgIHZhciBub3cgPSBjdHhOb3cgfHwgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gcm9vdC5EYXRlLm5vdygpO1xuICAgIH07XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8uYmVmb3JlYDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlc1xuICAgICAqIGBmdW5jYCBvbmNlIGl0J3MgY2FsbGVkIGBuYCBvciBtb3JlIHRpbWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiBjYWxscyBiZWZvcmUgYGZ1bmNgIGlzIGludm9rZWQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVzdHJpY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcmVzdHJpY3RlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHNhdmVzID0gWydwcm9maWxlJywgJ3NldHRpbmdzJ107XG4gICAgICpcbiAgICAgKiB2YXIgZG9uZSA9IF8uYWZ0ZXIoc2F2ZXMubGVuZ3RoLCBmdW5jdGlvbigpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKCdkb25lIHNhdmluZyEnKTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIF8uZm9yRWFjaChzYXZlcywgZnVuY3Rpb24odHlwZSkge1xuICAgICAqICAgYXN5bmNTYXZlKHsgJ3R5cGUnOiB0eXBlLCAnY29tcGxldGUnOiBkb25lIH0pO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgJ2RvbmUgc2F2aW5nIScgYWZ0ZXIgdGhlIHR3byBhc3luYyBzYXZlcyBoYXZlIGNvbXBsZXRlZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhZnRlcihuLCBmdW5jKSB7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICBuID0gdG9JbnRlZ2VyKG4pO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoLS1uIDwgMSkge1xuICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2AsIHdpdGggdXAgdG8gYG5gIGFyZ3VtZW50cyxcbiAgICAgKiBpZ25vcmluZyBhbnkgYWRkaXRpb25hbCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjYXAgYXJndW1lbnRzIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249ZnVuYy5sZW5ndGhdIFRoZSBhcml0eSBjYXAuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXBwZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWFwKFsnNicsICc4JywgJzEwJ10sIF8uYXJ5KHBhcnNlSW50LCAxKSk7XG4gICAgICogLy8gPT4gWzYsIDgsIDEwXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFyeShmdW5jLCBuLCBndWFyZCkge1xuICAgICAgbiA9IGd1YXJkID8gdW5kZWZpbmVkIDogbjtcbiAgICAgIG4gPSAoZnVuYyAmJiBuID09IG51bGwpID8gZnVuYy5sZW5ndGggOiBuO1xuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9BUllfRkxBRywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBuKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCwgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgYW5kIGFyZ3VtZW50c1xuICAgICAqIG9mIHRoZSBjcmVhdGVkIGZ1bmN0aW9uLCB3aGlsZSBpdCdzIGNhbGxlZCBsZXNzIHRoYW4gYG5gIHRpbWVzLiBTdWJzZXF1ZW50XG4gICAgICogY2FsbHMgdG8gdGhlIGNyZWF0ZWQgZnVuY3Rpb24gcmV0dXJuIHRoZSByZXN1bHQgb2YgdGhlIGxhc3QgYGZ1bmNgIGludm9jYXRpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIGNhbGxzIGF0IHdoaWNoIGBmdW5jYCBpcyBubyBsb25nZXIgaW52b2tlZC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZXN0cmljdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByZXN0cmljdGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgXy5iZWZvcmUoNSwgYWRkQ29udGFjdFRvTGlzdCkpO1xuICAgICAqIC8vID0+IEFsbG93cyBhZGRpbmcgdXAgdG8gNCBjb250YWN0cyB0byB0aGUgbGlzdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiZWZvcmUobiwgZnVuYykge1xuICAgICAgdmFyIHJlc3VsdDtcbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIG4gPSB0b0ludGVnZXIobik7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgtLW4gPiAwKSB7XG4gICAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuIDw9IDEpIHtcbiAgICAgICAgICBmdW5jID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIGB0aGlzQXJnYFxuICAgICAqIGFuZCBgcGFydGlhbHNgIHByZXBlbmRlZCB0byB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzLlxuICAgICAqXG4gICAgICogVGhlIGBfLmJpbmQucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpYyBidWlsZHMsXG4gICAgICogbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBuYXRpdmUgYEZ1bmN0aW9uI2JpbmRgLCB0aGlzIG1ldGhvZCBkb2Vzbid0IHNldCB0aGUgXCJsZW5ndGhcIlxuICAgICAqIHByb3BlcnR5IG9mIGJvdW5kIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGJpbmQuXG4gICAgICogQHBhcmFtIHsqfSB0aGlzQXJnIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gYmUgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYm91bmQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGdyZWV0KGdyZWV0aW5nLCBwdW5jdHVhdGlvbikge1xuICAgICAqICAgcmV0dXJuIGdyZWV0aW5nICsgJyAnICsgdGhpcy51c2VyICsgcHVuY3R1YXRpb247XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ3VzZXInOiAnZnJlZCcgfTtcbiAgICAgKlxuICAgICAqIHZhciBib3VuZCA9IF8uYmluZChncmVldCwgb2JqZWN0LCAnaGknKTtcbiAgICAgKiBib3VuZCgnIScpO1xuICAgICAqIC8vID0+ICdoaSBmcmVkISdcbiAgICAgKlxuICAgICAqIC8vIEJvdW5kIHdpdGggcGxhY2Vob2xkZXJzLlxuICAgICAqIHZhciBib3VuZCA9IF8uYmluZChncmVldCwgb2JqZWN0LCBfLCAnIScpO1xuICAgICAqIGJvdW5kKCdoaScpO1xuICAgICAqIC8vID0+ICdoaSBmcmVkISdcbiAgICAgKi9cbiAgICB2YXIgYmluZCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGZ1bmMsIHRoaXNBcmcsIHBhcnRpYWxzKSB7XG4gICAgICB2YXIgYml0bWFzayA9IFdSQVBfQklORF9GTEFHO1xuICAgICAgaWYgKHBhcnRpYWxzLmxlbmd0aCkge1xuICAgICAgICB2YXIgaG9sZGVycyA9IHJlcGxhY2VIb2xkZXJzKHBhcnRpYWxzLCBnZXRIb2xkZXIoYmluZCkpO1xuICAgICAgICBiaXRtYXNrIHw9IFdSQVBfUEFSVElBTF9GTEFHO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMsIGhvbGRlcnMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyB0aGUgbWV0aG9kIGF0IGBvYmplY3Rba2V5XWAgd2l0aCBgcGFydGlhbHNgXG4gICAgICogcHJlcGVuZGVkIHRvIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBkaWZmZXJzIGZyb20gYF8uYmluZGAgYnkgYWxsb3dpbmcgYm91bmQgZnVuY3Rpb25zIHRvIHJlZmVyZW5jZVxuICAgICAqIG1ldGhvZHMgdGhhdCBtYXkgYmUgcmVkZWZpbmVkIG9yIGRvbid0IHlldCBleGlzdC4gU2VlXG4gICAgICogW1BldGVyIE1pY2hhdXgncyBhcnRpY2xlXShodHRwOi8vcGV0ZXIubWljaGF1eC5jYS9hcnRpY2xlcy9sYXp5LWZ1bmN0aW9uLWRlZmluaXRpb24tcGF0dGVybilcbiAgICAgKiBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqXG4gICAgICogVGhlIGBfLmJpbmRLZXkucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpY1xuICAgICAqIGJ1aWxkcywgbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnZva2UgdGhlIG1ldGhvZCBvbi5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIG1ldGhvZC5cbiAgICAgKiBAcGFyYW0gey4uLip9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBiZSBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBib3VuZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHtcbiAgICAgKiAgICd1c2VyJzogJ2ZyZWQnLFxuICAgICAqICAgJ2dyZWV0JzogZnVuY3Rpb24oZ3JlZXRpbmcsIHB1bmN0dWF0aW9uKSB7XG4gICAgICogICAgIHJldHVybiBncmVldGluZyArICcgJyArIHRoaXMudXNlciArIHB1bmN0dWF0aW9uO1xuICAgICAqICAgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgYm91bmQgPSBfLmJpbmRLZXkob2JqZWN0LCAnZ3JlZXQnLCAnaGknKTtcbiAgICAgKiBib3VuZCgnIScpO1xuICAgICAqIC8vID0+ICdoaSBmcmVkISdcbiAgICAgKlxuICAgICAqIG9iamVjdC5ncmVldCA9IGZ1bmN0aW9uKGdyZWV0aW5nLCBwdW5jdHVhdGlvbikge1xuICAgICAqICAgcmV0dXJuIGdyZWV0aW5nICsgJ3lhICcgKyB0aGlzLnVzZXIgKyBwdW5jdHVhdGlvbjtcbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogYm91bmQoJyEnKTtcbiAgICAgKiAvLyA9PiAnaGl5YSBmcmVkISdcbiAgICAgKlxuICAgICAqIC8vIEJvdW5kIHdpdGggcGxhY2Vob2xkZXJzLlxuICAgICAqIHZhciBib3VuZCA9IF8uYmluZEtleShvYmplY3QsICdncmVldCcsIF8sICchJyk7XG4gICAgICogYm91bmQoJ2hpJyk7XG4gICAgICogLy8gPT4gJ2hpeWEgZnJlZCEnXG4gICAgICovXG4gICAgdmFyIGJpbmRLZXkgPSBiYXNlUmVzdChmdW5jdGlvbihvYmplY3QsIGtleSwgcGFydGlhbHMpIHtcbiAgICAgIHZhciBiaXRtYXNrID0gV1JBUF9CSU5EX0ZMQUcgfCBXUkFQX0JJTkRfS0VZX0ZMQUc7XG4gICAgICBpZiAocGFydGlhbHMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBob2xkZXJzID0gcmVwbGFjZUhvbGRlcnMocGFydGlhbHMsIGdldEhvbGRlcihiaW5kS2V5KSk7XG4gICAgICAgIGJpdG1hc2sgfD0gV1JBUF9QQVJUSUFMX0ZMQUc7XG4gICAgICB9XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChrZXksIGJpdG1hc2ssIG9iamVjdCwgcGFydGlhbHMsIGhvbGRlcnMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgYWNjZXB0cyBhcmd1bWVudHMgb2YgYGZ1bmNgIGFuZCBlaXRoZXIgaW52b2tlc1xuICAgICAqIGBmdW5jYCByZXR1cm5pbmcgaXRzIHJlc3VsdCwgaWYgYXQgbGVhc3QgYGFyaXR5YCBudW1iZXIgb2YgYXJndW1lbnRzIGhhdmVcbiAgICAgKiBiZWVuIHByb3ZpZGVkLCBvciByZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIHRoZSByZW1haW5pbmcgYGZ1bmNgXG4gICAgICogYXJndW1lbnRzLCBhbmQgc28gb24uIFRoZSBhcml0eSBvZiBgZnVuY2AgbWF5IGJlIHNwZWNpZmllZCBpZiBgZnVuYy5sZW5ndGhgXG4gICAgICogaXMgbm90IHN1ZmZpY2llbnQuXG4gICAgICpcbiAgICAgKiBUaGUgYF8uY3VycnkucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpYyBidWlsZHMsXG4gICAgICogbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcHJvdmlkZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGRvZXNuJ3Qgc2V0IHRoZSBcImxlbmd0aFwiIHByb3BlcnR5IG9mIGN1cnJpZWQgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY3VycnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eT1mdW5jLmxlbmd0aF0gVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGN1cnJpZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhYmMgPSBmdW5jdGlvbihhLCBiLCBjKSB7XG4gICAgICogICByZXR1cm4gW2EsIGIsIGNdO1xuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgY3VycmllZCA9IF8uY3VycnkoYWJjKTtcbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMSkoMikoMyk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDEsIDIpKDMpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogY3VycmllZCgxLCAyLCAzKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIC8vIEN1cnJpZWQgd2l0aCBwbGFjZWhvbGRlcnMuXG4gICAgICogY3VycmllZCgxKShfLCAzKSgyKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjdXJyeShmdW5jLCBhcml0eSwgZ3VhcmQpIHtcbiAgICAgIGFyaXR5ID0gZ3VhcmQgPyB1bmRlZmluZWQgOiBhcml0eTtcbiAgICAgIHZhciByZXN1bHQgPSBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfQ1VSUllfRkxBRywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGFyaXR5KTtcbiAgICAgIHJlc3VsdC5wbGFjZWhvbGRlciA9IGN1cnJ5LnBsYWNlaG9sZGVyO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmN1cnJ5YCBleGNlcHQgdGhhdCBhcmd1bWVudHMgYXJlIGFwcGxpZWQgdG8gYGZ1bmNgXG4gICAgICogaW4gdGhlIG1hbm5lciBvZiBgXy5wYXJ0aWFsUmlnaHRgIGluc3RlYWQgb2YgYF8ucGFydGlhbGAuXG4gICAgICpcbiAgICAgKiBUaGUgYF8uY3VycnlSaWdodC5wbGFjZWhvbGRlcmAgdmFsdWUsIHdoaWNoIGRlZmF1bHRzIHRvIGBfYCBpbiBtb25vbGl0aGljXG4gICAgICogYnVpbGRzLCBtYXkgYmUgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGZvciBwcm92aWRlZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgb2YgY3VycmllZCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjdXJyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyaXR5PWZ1bmMubGVuZ3RoXSBUaGUgYXJpdHkgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY3VycmllZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFiYyA9IGZ1bmN0aW9uKGEsIGIsIGMpIHtcbiAgICAgKiAgIHJldHVybiBbYSwgYiwgY107XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIHZhciBjdXJyaWVkID0gXy5jdXJyeVJpZ2h0KGFiYyk7XG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDMpKDIpKDEpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogY3VycmllZCgyLCAzKSgxKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMSwgMiwgMyk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiAvLyBDdXJyaWVkIHdpdGggcGxhY2Vob2xkZXJzLlxuICAgICAqIGN1cnJpZWQoMykoMSwgXykoMik7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3VycnlSaWdodChmdW5jLCBhcml0eSwgZ3VhcmQpIHtcbiAgICAgIGFyaXR5ID0gZ3VhcmQgPyB1bmRlZmluZWQgOiBhcml0eTtcbiAgICAgIHZhciByZXN1bHQgPSBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfQ1VSUllfUklHSFRfRkxBRywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGFyaXR5KTtcbiAgICAgIHJlc3VsdC5wbGFjZWhvbGRlciA9IGN1cnJ5UmlnaHQucGxhY2Vob2xkZXI7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBkZWJvdW5jZWQgZnVuY3Rpb24gdGhhdCBkZWxheXMgaW52b2tpbmcgYGZ1bmNgIHVudGlsIGFmdGVyIGB3YWl0YFxuICAgICAqIG1pbGxpc2Vjb25kcyBoYXZlIGVsYXBzZWQgc2luY2UgdGhlIGxhc3QgdGltZSB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uIHdhc1xuICAgICAqIGludm9rZWQuIFRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gY29tZXMgd2l0aCBhIGBjYW5jZWxgIG1ldGhvZCB0byBjYW5jZWxcbiAgICAgKiBkZWxheWVkIGBmdW5jYCBpbnZvY2F0aW9ucyBhbmQgYSBgZmx1c2hgIG1ldGhvZCB0byBpbW1lZGlhdGVseSBpbnZva2UgdGhlbS5cbiAgICAgKiBQcm92aWRlIGBvcHRpb25zYCB0byBpbmRpY2F0ZSB3aGV0aGVyIGBmdW5jYCBzaG91bGQgYmUgaW52b2tlZCBvbiB0aGVcbiAgICAgKiBsZWFkaW5nIGFuZC9vciB0cmFpbGluZyBlZGdlIG9mIHRoZSBgd2FpdGAgdGltZW91dC4gVGhlIGBmdW5jYCBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aGUgbGFzdCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIGRlYm91bmNlZCBmdW5jdGlvbi4gU3Vic2VxdWVudFxuICAgICAqIGNhbGxzIHRvIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gcmV0dXJuIHRoZSByZXN1bHQgb2YgdGhlIGxhc3QgYGZ1bmNgXG4gICAgICogaW52b2NhdGlvbi5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBJZiBgbGVhZGluZ2AgYW5kIGB0cmFpbGluZ2Agb3B0aW9ucyBhcmUgYHRydWVgLCBgZnVuY2AgaXNcbiAgICAgKiBpbnZva2VkIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0IG9ubHkgaWYgdGhlIGRlYm91bmNlZCBmdW5jdGlvblxuICAgICAqIGlzIGludm9rZWQgbW9yZSB0aGFuIG9uY2UgZHVyaW5nIHRoZSBgd2FpdGAgdGltZW91dC5cbiAgICAgKlxuICAgICAqIElmIGB3YWl0YCBpcyBgMGAgYW5kIGBsZWFkaW5nYCBpcyBgZmFsc2VgLCBgZnVuY2AgaW52b2NhdGlvbiBpcyBkZWZlcnJlZFxuICAgICAqIHVudGlsIHRvIHRoZSBuZXh0IHRpY2ssIHNpbWlsYXIgdG8gYHNldFRpbWVvdXRgIHdpdGggYSB0aW1lb3V0IG9mIGAwYC5cbiAgICAgKlxuICAgICAqIFNlZSBbRGF2aWQgQ29yYmFjaG8ncyBhcnRpY2xlXShodHRwczovL2Nzcy10cmlja3MuY29tL2RlYm91bmNpbmctdGhyb3R0bGluZy1leHBsYWluZWQtZXhhbXBsZXMvKVxuICAgICAqIGZvciBkZXRhaWxzIG92ZXIgdGhlIGRpZmZlcmVuY2VzIGJldHdlZW4gYF8uZGVib3VuY2VgIGFuZCBgXy50aHJvdHRsZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWJvdW5jZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3dhaXQ9MF0gVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5sZWFkaW5nPWZhbHNlXVxuICAgICAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSBsZWFkaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heFdhaXRdXG4gICAgICogIFRoZSBtYXhpbXVtIHRpbWUgYGZ1bmNgIGlzIGFsbG93ZWQgdG8gYmUgZGVsYXllZCBiZWZvcmUgaXQncyBpbnZva2VkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhaWxpbmc9dHJ1ZV1cbiAgICAgKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBkZWJvdW5jZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIC8vIEF2b2lkIGNvc3RseSBjYWxjdWxhdGlvbnMgd2hpbGUgdGhlIHdpbmRvdyBzaXplIGlzIGluIGZsdXguXG4gICAgICogalF1ZXJ5KHdpbmRvdykub24oJ3Jlc2l6ZScsIF8uZGVib3VuY2UoY2FsY3VsYXRlTGF5b3V0LCAxNTApKTtcbiAgICAgKlxuICAgICAqIC8vIEludm9rZSBgc2VuZE1haWxgIHdoZW4gY2xpY2tlZCwgZGVib3VuY2luZyBzdWJzZXF1ZW50IGNhbGxzLlxuICAgICAqIGpRdWVyeShlbGVtZW50KS5vbignY2xpY2snLCBfLmRlYm91bmNlKHNlbmRNYWlsLCAzMDAsIHtcbiAgICAgKiAgICdsZWFkaW5nJzogdHJ1ZSxcbiAgICAgKiAgICd0cmFpbGluZyc6IGZhbHNlXG4gICAgICogfSkpO1xuICAgICAqXG4gICAgICogLy8gRW5zdXJlIGBiYXRjaExvZ2AgaXMgaW52b2tlZCBvbmNlIGFmdGVyIDEgc2Vjb25kIG9mIGRlYm91bmNlZCBjYWxscy5cbiAgICAgKiB2YXIgZGVib3VuY2VkID0gXy5kZWJvdW5jZShiYXRjaExvZywgMjUwLCB7ICdtYXhXYWl0JzogMTAwMCB9KTtcbiAgICAgKiB2YXIgc291cmNlID0gbmV3IEV2ZW50U291cmNlKCcvc3RyZWFtJyk7XG4gICAgICogalF1ZXJ5KHNvdXJjZSkub24oJ21lc3NhZ2UnLCBkZWJvdW5jZWQpO1xuICAgICAqXG4gICAgICogLy8gQ2FuY2VsIHRoZSB0cmFpbGluZyBkZWJvdW5jZWQgaW52b2NhdGlvbi5cbiAgICAgKiBqUXVlcnkod2luZG93KS5vbigncG9wc3RhdGUnLCBkZWJvdW5jZWQuY2FuY2VsKTtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkZWJvdW5jZShmdW5jLCB3YWl0LCBvcHRpb25zKSB7XG4gICAgICB2YXIgbGFzdEFyZ3MsXG4gICAgICAgICAgbGFzdFRoaXMsXG4gICAgICAgICAgbWF4V2FpdCxcbiAgICAgICAgICByZXN1bHQsXG4gICAgICAgICAgdGltZXJJZCxcbiAgICAgICAgICBsYXN0Q2FsbFRpbWUsXG4gICAgICAgICAgbGFzdEludm9rZVRpbWUgPSAwLFxuICAgICAgICAgIGxlYWRpbmcgPSBmYWxzZSxcbiAgICAgICAgICBtYXhpbmcgPSBmYWxzZSxcbiAgICAgICAgICB0cmFpbGluZyA9IHRydWU7XG5cbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHdhaXQgPSB0b051bWJlcih3YWl0KSB8fCAwO1xuICAgICAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgICAgIGxlYWRpbmcgPSAhIW9wdGlvbnMubGVhZGluZztcbiAgICAgICAgbWF4aW5nID0gJ21heFdhaXQnIGluIG9wdGlvbnM7XG4gICAgICAgIG1heFdhaXQgPSBtYXhpbmcgPyBuYXRpdmVNYXgodG9OdW1iZXIob3B0aW9ucy5tYXhXYWl0KSB8fCAwLCB3YWl0KSA6IG1heFdhaXQ7XG4gICAgICAgIHRyYWlsaW5nID0gJ3RyYWlsaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLnRyYWlsaW5nIDogdHJhaWxpbmc7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGludm9rZUZ1bmModGltZSkge1xuICAgICAgICB2YXIgYXJncyA9IGxhc3RBcmdzLFxuICAgICAgICAgICAgdGhpc0FyZyA9IGxhc3RUaGlzO1xuXG4gICAgICAgIGxhc3RBcmdzID0gbGFzdFRoaXMgPSB1bmRlZmluZWQ7XG4gICAgICAgIGxhc3RJbnZva2VUaW1lID0gdGltZTtcbiAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gbGVhZGluZ0VkZ2UodGltZSkge1xuICAgICAgICAvLyBSZXNldCBhbnkgYG1heFdhaXRgIHRpbWVyLlxuICAgICAgICBsYXN0SW52b2tlVGltZSA9IHRpbWU7XG4gICAgICAgIC8vIFN0YXJ0IHRoZSB0aW1lciBmb3IgdGhlIHRyYWlsaW5nIGVkZ2UuXG4gICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgICAgIC8vIEludm9rZSB0aGUgbGVhZGluZyBlZGdlLlxuICAgICAgICByZXR1cm4gbGVhZGluZyA/IGludm9rZUZ1bmModGltZSkgOiByZXN1bHQ7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHJlbWFpbmluZ1dhaXQodGltZSkge1xuICAgICAgICB2YXIgdGltZVNpbmNlTGFzdENhbGwgPSB0aW1lIC0gbGFzdENhbGxUaW1lLFxuICAgICAgICAgICAgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZSxcbiAgICAgICAgICAgIHRpbWVXYWl0aW5nID0gd2FpdCAtIHRpbWVTaW5jZUxhc3RDYWxsO1xuXG4gICAgICAgIHJldHVybiBtYXhpbmdcbiAgICAgICAgICA/IG5hdGl2ZU1pbih0aW1lV2FpdGluZywgbWF4V2FpdCAtIHRpbWVTaW5jZUxhc3RJbnZva2UpXG4gICAgICAgICAgOiB0aW1lV2FpdGluZztcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gc2hvdWxkSW52b2tlKHRpbWUpIHtcbiAgICAgICAgdmFyIHRpbWVTaW5jZUxhc3RDYWxsID0gdGltZSAtIGxhc3RDYWxsVGltZSxcbiAgICAgICAgICAgIHRpbWVTaW5jZUxhc3RJbnZva2UgPSB0aW1lIC0gbGFzdEludm9rZVRpbWU7XG5cbiAgICAgICAgLy8gRWl0aGVyIHRoaXMgaXMgdGhlIGZpcnN0IGNhbGwsIGFjdGl2aXR5IGhhcyBzdG9wcGVkIGFuZCB3ZSdyZSBhdCB0aGVcbiAgICAgICAgLy8gdHJhaWxpbmcgZWRnZSwgdGhlIHN5c3RlbSB0aW1lIGhhcyBnb25lIGJhY2t3YXJkcyBhbmQgd2UncmUgdHJlYXRpbmdcbiAgICAgICAgLy8gaXQgYXMgdGhlIHRyYWlsaW5nIGVkZ2UsIG9yIHdlJ3ZlIGhpdCB0aGUgYG1heFdhaXRgIGxpbWl0LlxuICAgICAgICByZXR1cm4gKGxhc3RDYWxsVGltZSA9PT0gdW5kZWZpbmVkIHx8ICh0aW1lU2luY2VMYXN0Q2FsbCA+PSB3YWl0KSB8fFxuICAgICAgICAgICh0aW1lU2luY2VMYXN0Q2FsbCA8IDApIHx8IChtYXhpbmcgJiYgdGltZVNpbmNlTGFzdEludm9rZSA+PSBtYXhXYWl0KSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHRpbWVyRXhwaXJlZCgpIHtcbiAgICAgICAgdmFyIHRpbWUgPSBub3coKTtcbiAgICAgICAgaWYgKHNob3VsZEludm9rZSh0aW1lKSkge1xuICAgICAgICAgIHJldHVybiB0cmFpbGluZ0VkZ2UodGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVzdGFydCB0aGUgdGltZXIuXG4gICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgcmVtYWluaW5nV2FpdCh0aW1lKSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHRyYWlsaW5nRWRnZSh0aW1lKSB7XG4gICAgICAgIHRpbWVySWQgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgLy8gT25seSBpbnZva2UgaWYgd2UgaGF2ZSBgbGFzdEFyZ3NgIHdoaWNoIG1lYW5zIGBmdW5jYCBoYXMgYmVlblxuICAgICAgICAvLyBkZWJvdW5jZWQgYXQgbGVhc3Qgb25jZS5cbiAgICAgICAgaWYgKHRyYWlsaW5nICYmIGxhc3RBcmdzKSB7XG4gICAgICAgICAgcmV0dXJuIGludm9rZUZ1bmModGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgbGFzdEFyZ3MgPSBsYXN0VGhpcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gY2FuY2VsKCkge1xuICAgICAgICBpZiAodGltZXJJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVySWQpO1xuICAgICAgICB9XG4gICAgICAgIGxhc3RJbnZva2VUaW1lID0gMDtcbiAgICAgICAgbGFzdEFyZ3MgPSBsYXN0Q2FsbFRpbWUgPSBsYXN0VGhpcyA9IHRpbWVySWQgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGZsdXNoKCkge1xuICAgICAgICByZXR1cm4gdGltZXJJZCA9PT0gdW5kZWZpbmVkID8gcmVzdWx0IDogdHJhaWxpbmdFZGdlKG5vdygpKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZGVib3VuY2VkKCkge1xuICAgICAgICB2YXIgdGltZSA9IG5vdygpLFxuICAgICAgICAgICAgaXNJbnZva2luZyA9IHNob3VsZEludm9rZSh0aW1lKTtcblxuICAgICAgICBsYXN0QXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgbGFzdFRoaXMgPSB0aGlzO1xuICAgICAgICBsYXN0Q2FsbFRpbWUgPSB0aW1lO1xuXG4gICAgICAgIGlmIChpc0ludm9raW5nKSB7XG4gICAgICAgICAgaWYgKHRpbWVySWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGxlYWRpbmdFZGdlKGxhc3RDYWxsVGltZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChtYXhpbmcpIHtcbiAgICAgICAgICAgIC8vIEhhbmRsZSBpbnZvY2F0aW9ucyBpbiBhIHRpZ2h0IGxvb3AuXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgICAgICAgICAgcmV0dXJuIGludm9rZUZ1bmMobGFzdENhbGxUaW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRpbWVySWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGRlYm91bmNlZC5jYW5jZWwgPSBjYW5jZWw7XG4gICAgICBkZWJvdW5jZWQuZmx1c2ggPSBmbHVzaDtcbiAgICAgIHJldHVybiBkZWJvdW5jZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVmZXJzIGludm9raW5nIHRoZSBgZnVuY2AgdW50aWwgdGhlIGN1cnJlbnQgY2FsbCBzdGFjayBoYXMgY2xlYXJlZC4gQW55XG4gICAgICogYWRkaXRpb25hbCBhcmd1bWVudHMgYXJlIHByb3ZpZGVkIHRvIGBmdW5jYCB3aGVuIGl0J3MgaW52b2tlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlZmVyLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHRpbWVyIGlkLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlZmVyKGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKHRleHQpO1xuICAgICAqIH0sICdkZWZlcnJlZCcpO1xuICAgICAqIC8vID0+IExvZ3MgJ2RlZmVycmVkJyBhZnRlciBvbmUgbWlsbGlzZWNvbmQuXG4gICAgICovXG4gICAgdmFyIGRlZmVyID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgYXJncykge1xuICAgICAgcmV0dXJuIGJhc2VEZWxheShmdW5jLCAxLCBhcmdzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEludm9rZXMgYGZ1bmNgIGFmdGVyIGB3YWl0YCBtaWxsaXNlY29uZHMuIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyBhcmVcbiAgICAgKiBwcm92aWRlZCB0byBgZnVuY2Agd2hlbiBpdCdzIGludm9rZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWxheS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2FpdCBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheSBpbnZvY2F0aW9uLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHRpbWVyIGlkLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlbGF5KGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKHRleHQpO1xuICAgICAqIH0sIDEwMDAsICdsYXRlcicpO1xuICAgICAqIC8vID0+IExvZ3MgJ2xhdGVyJyBhZnRlciBvbmUgc2Vjb25kLlxuICAgICAqL1xuICAgIHZhciBkZWxheSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGZ1bmMsIHdhaXQsIGFyZ3MpIHtcbiAgICAgIHJldHVybiBiYXNlRGVsYXkoZnVuYywgdG9OdW1iZXIod2FpdCkgfHwgMCwgYXJncyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGFyZ3VtZW50cyByZXZlcnNlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGZsaXAgYXJndW1lbnRzIGZvci5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmbGlwcGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZmxpcHBlZCA9IF8uZmxpcChmdW5jdGlvbigpIHtcbiAgICAgKiAgIHJldHVybiBfLnRvQXJyYXkoYXJndW1lbnRzKTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIGZsaXBwZWQoJ2EnLCAnYicsICdjJywgJ2QnKTtcbiAgICAgKiAvLyA9PiBbJ2QnLCAnYycsICdiJywgJ2EnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsaXAoZnVuYykge1xuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9GTElQX0ZMQUcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IG1lbW9pemVzIHRoZSByZXN1bHQgb2YgYGZ1bmNgLiBJZiBgcmVzb2x2ZXJgIGlzXG4gICAgICogcHJvdmlkZWQsIGl0IGRldGVybWluZXMgdGhlIGNhY2hlIGtleSBmb3Igc3RvcmluZyB0aGUgcmVzdWx0IGJhc2VkIG9uIHRoZVxuICAgICAqIGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24uIEJ5IGRlZmF1bHQsIHRoZSBmaXJzdCBhcmd1bWVudFxuICAgICAqIHByb3ZpZGVkIHRvIHRoZSBtZW1vaXplZCBmdW5jdGlvbiBpcyB1c2VkIGFzIHRoZSBtYXAgY2FjaGUga2V5LiBUaGUgYGZ1bmNgXG4gICAgICogaXMgaW52b2tlZCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhlIGNhY2hlIGlzIGV4cG9zZWQgYXMgdGhlIGBjYWNoZWAgcHJvcGVydHkgb24gdGhlIG1lbW9pemVkXG4gICAgICogZnVuY3Rpb24uIEl0cyBjcmVhdGlvbiBtYXkgYmUgY3VzdG9taXplZCBieSByZXBsYWNpbmcgdGhlIGBfLm1lbW9pemUuQ2FjaGVgXG4gICAgICogY29uc3RydWN0b3Igd2l0aCBvbmUgd2hvc2UgaW5zdGFuY2VzIGltcGxlbWVudCB0aGVcbiAgICAgKiBbYE1hcGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXByb3BlcnRpZXMtb2YtdGhlLW1hcC1wcm90b3R5cGUtb2JqZWN0KVxuICAgICAqIG1ldGhvZCBpbnRlcmZhY2Ugb2YgYGNsZWFyYCwgYGRlbGV0ZWAsIGBnZXRgLCBgaGFzYCwgYW5kIGBzZXRgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaGF2ZSBpdHMgb3V0cHV0IG1lbW9pemVkLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtyZXNvbHZlcl0gVGhlIGZ1bmN0aW9uIHRvIHJlc29sdmUgdGhlIGNhY2hlIGtleS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBtZW1vaXplZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6IDIgfTtcbiAgICAgKiB2YXIgb3RoZXIgPSB7ICdjJzogMywgJ2QnOiA0IH07XG4gICAgICpcbiAgICAgKiB2YXIgdmFsdWVzID0gXy5tZW1vaXplKF8udmFsdWVzKTtcbiAgICAgKiB2YWx1ZXMob2JqZWN0KTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIHZhbHVlcyhvdGhlcik7XG4gICAgICogLy8gPT4gWzMsIDRdXG4gICAgICpcbiAgICAgKiBvYmplY3QuYSA9IDI7XG4gICAgICogdmFsdWVzKG9iamVjdCk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiAvLyBNb2RpZnkgdGhlIHJlc3VsdCBjYWNoZS5cbiAgICAgKiB2YWx1ZXMuY2FjaGUuc2V0KG9iamVjdCwgWydhJywgJ2InXSk7XG4gICAgICogdmFsdWVzKG9iamVjdCk7XG4gICAgICogLy8gPT4gWydhJywgJ2InXVxuICAgICAqXG4gICAgICogLy8gUmVwbGFjZSBgXy5tZW1vaXplLkNhY2hlYC5cbiAgICAgKiBfLm1lbW9pemUuQ2FjaGUgPSBXZWFrTWFwO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1lbW9pemUoZnVuYywgcmVzb2x2ZXIpIHtcbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nIHx8IChyZXNvbHZlciAhPSBudWxsICYmIHR5cGVvZiByZXNvbHZlciAhPSAnZnVuY3Rpb24nKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICB2YXIgbWVtb2l6ZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgICAgICBrZXkgPSByZXNvbHZlciA/IHJlc29sdmVyLmFwcGx5KHRoaXMsIGFyZ3MpIDogYXJnc1swXSxcbiAgICAgICAgICAgIGNhY2hlID0gbWVtb2l6ZWQuY2FjaGU7XG5cbiAgICAgICAgaWYgKGNhY2hlLmhhcyhrZXkpKSB7XG4gICAgICAgICAgcmV0dXJuIGNhY2hlLmdldChrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICBtZW1vaXplZC5jYWNoZSA9IGNhY2hlLnNldChrZXksIHJlc3VsdCkgfHwgY2FjaGU7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgICAgbWVtb2l6ZWQuY2FjaGUgPSBuZXcgKG1lbW9pemUuQ2FjaGUgfHwgTWFwQ2FjaGUpO1xuICAgICAgcmV0dXJuIG1lbW9pemVkO1xuICAgIH1cblxuICAgIC8vIEV4cG9zZSBgTWFwQ2FjaGVgLlxuICAgIG1lbW9pemUuQ2FjaGUgPSBNYXBDYWNoZTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IG5lZ2F0ZXMgdGhlIHJlc3VsdCBvZiB0aGUgcHJlZGljYXRlIGBmdW5jYC4gVGhlXG4gICAgICogYGZ1bmNgIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIGFuZCBhcmd1bWVudHMgb2YgdGhlXG4gICAgICogY3JlYXRlZCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgcHJlZGljYXRlIHRvIG5lZ2F0ZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBuZWdhdGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBpc0V2ZW4obikge1xuICAgICAqICAgcmV0dXJuIG4gJSAyID09IDA7XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5maWx0ZXIoWzEsIDIsIDMsIDQsIDUsIDZdLCBfLm5lZ2F0ZShpc0V2ZW4pKTtcbiAgICAgKiAvLyA9PiBbMSwgMywgNV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBuZWdhdGUocHJlZGljYXRlKSB7XG4gICAgICBpZiAodHlwZW9mIHByZWRpY2F0ZSAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICAgICAgICBjYXNlIDA6IHJldHVybiAhcHJlZGljYXRlLmNhbGwodGhpcyk7XG4gICAgICAgICAgY2FzZSAxOiByZXR1cm4gIXByZWRpY2F0ZS5jYWxsKHRoaXMsIGFyZ3NbMF0pO1xuICAgICAgICAgIGNhc2UgMjogcmV0dXJuICFwcmVkaWNhdGUuY2FsbCh0aGlzLCBhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICAgICAgICBjYXNlIDM6IHJldHVybiAhcHJlZGljYXRlLmNhbGwodGhpcywgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICFwcmVkaWNhdGUuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGlzIHJlc3RyaWN0ZWQgdG8gaW52b2tpbmcgYGZ1bmNgIG9uY2UuIFJlcGVhdCBjYWxsc1xuICAgICAqIHRvIHRoZSBmdW5jdGlvbiByZXR1cm4gdGhlIHZhbHVlIG9mIHRoZSBmaXJzdCBpbnZvY2F0aW9uLiBUaGUgYGZ1bmNgIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBhbmQgYXJndW1lbnRzIG9mIHRoZSBjcmVhdGVkIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVzdHJpY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcmVzdHJpY3RlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGluaXRpYWxpemUgPSBfLm9uY2UoY3JlYXRlQXBwbGljYXRpb24pO1xuICAgICAqIGluaXRpYWxpemUoKTtcbiAgICAgKiBpbml0aWFsaXplKCk7XG4gICAgICogLy8gPT4gYGNyZWF0ZUFwcGxpY2F0aW9uYCBpcyBpbnZva2VkIG9uY2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvbmNlKGZ1bmMpIHtcbiAgICAgIHJldHVybiBiZWZvcmUoMiwgZnVuYyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBpdHMgYXJndW1lbnRzIHRyYW5zZm9ybWVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW3RyYW5zZm9ybXM9W18uaWRlbnRpdHldXVxuICAgICAqICBUaGUgYXJndW1lbnQgdHJhbnNmb3Jtcy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gZG91YmxlZChuKSB7XG4gICAgICogICByZXR1cm4gbiAqIDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gc3F1YXJlKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICogbjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ub3ZlckFyZ3MoZnVuY3Rpb24oeCwgeSkge1xuICAgICAqICAgcmV0dXJuIFt4LCB5XTtcbiAgICAgKiB9LCBbc3F1YXJlLCBkb3VibGVkXSk7XG4gICAgICpcbiAgICAgKiBmdW5jKDksIDMpO1xuICAgICAqIC8vID0+IFs4MSwgNl1cbiAgICAgKlxuICAgICAqIGZ1bmMoMTAsIDUpO1xuICAgICAqIC8vID0+IFsxMDAsIDEwXVxuICAgICAqL1xuICAgIHZhciBvdmVyQXJncyA9IGNhc3RSZXN0KGZ1bmN0aW9uKGZ1bmMsIHRyYW5zZm9ybXMpIHtcbiAgICAgIHRyYW5zZm9ybXMgPSAodHJhbnNmb3Jtcy5sZW5ndGggPT0gMSAmJiBpc0FycmF5KHRyYW5zZm9ybXNbMF0pKVxuICAgICAgICA/IGFycmF5TWFwKHRyYW5zZm9ybXNbMF0sIGJhc2VVbmFyeShnZXRJdGVyYXRlZSgpKSlcbiAgICAgICAgOiBhcnJheU1hcChiYXNlRmxhdHRlbih0cmFuc2Zvcm1zLCAxKSwgYmFzZVVuYXJ5KGdldEl0ZXJhdGVlKCkpKTtcblxuICAgICAgdmFyIGZ1bmNzTGVuZ3RoID0gdHJhbnNmb3Jtcy5sZW5ndGg7XG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1pbihhcmdzLmxlbmd0aCwgZnVuY3NMZW5ndGgpO1xuXG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgYXJnc1tpbmRleF0gPSB0cmFuc2Zvcm1zW2luZGV4XS5jYWxsKHRoaXMsIGFyZ3NbaW5kZXhdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXBwbHkoZnVuYywgdGhpcywgYXJncyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggYHBhcnRpYWxzYCBwcmVwZW5kZWQgdG8gdGhlXG4gICAgICogYXJndW1lbnRzIGl0IHJlY2VpdmVzLiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmJpbmRgIGV4Y2VwdCBpdCBkb2VzICoqbm90KipcbiAgICAgKiBhbHRlciB0aGUgYHRoaXNgIGJpbmRpbmcuXG4gICAgICpcbiAgICAgKiBUaGUgYF8ucGFydGlhbC5wbGFjZWhvbGRlcmAgdmFsdWUsIHdoaWNoIGRlZmF1bHRzIHRvIGBfYCBpbiBtb25vbGl0aGljXG4gICAgICogYnVpbGRzLCBtYXkgYmUgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGZvciBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgb2YgcGFydGlhbGx5XG4gICAgICogYXBwbGllZCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBwYXJ0aWFsbHkgYXBwbHkgYXJndW1lbnRzIHRvLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHBhcnRpYWxseSBhcHBsaWVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBncmVldChncmVldGluZywgbmFtZSkge1xuICAgICAqICAgcmV0dXJuIGdyZWV0aW5nICsgJyAnICsgbmFtZTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgc2F5SGVsbG9UbyA9IF8ucGFydGlhbChncmVldCwgJ2hlbGxvJyk7XG4gICAgICogc2F5SGVsbG9UbygnZnJlZCcpO1xuICAgICAqIC8vID0+ICdoZWxsbyBmcmVkJ1xuICAgICAqXG4gICAgICogLy8gUGFydGlhbGx5IGFwcGxpZWQgd2l0aCBwbGFjZWhvbGRlcnMuXG4gICAgICogdmFyIGdyZWV0RnJlZCA9IF8ucGFydGlhbChncmVldCwgXywgJ2ZyZWQnKTtcbiAgICAgKiBncmVldEZyZWQoJ2hpJyk7XG4gICAgICogLy8gPT4gJ2hpIGZyZWQnXG4gICAgICovXG4gICAgdmFyIHBhcnRpYWwgPSBiYXNlUmVzdChmdW5jdGlvbihmdW5jLCBwYXJ0aWFscykge1xuICAgICAgdmFyIGhvbGRlcnMgPSByZXBsYWNlSG9sZGVycyhwYXJ0aWFscywgZ2V0SG9sZGVyKHBhcnRpYWwpKTtcbiAgICAgIHJldHVybiBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfUEFSVElBTF9GTEFHLCB1bmRlZmluZWQsIHBhcnRpYWxzLCBob2xkZXJzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucGFydGlhbGAgZXhjZXB0IHRoYXQgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzXG4gICAgICogYXJlIGFwcGVuZGVkIHRvIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBUaGUgYF8ucGFydGlhbFJpZ2h0LnBsYWNlaG9sZGVyYCB2YWx1ZSwgd2hpY2ggZGVmYXVsdHMgdG8gYF9gIGluIG1vbm9saXRoaWNcbiAgICAgKiBidWlsZHMsIG1heSBiZSB1c2VkIGFzIGEgcGxhY2Vob2xkZXIgZm9yIHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBkb2Vzbid0IHNldCB0aGUgXCJsZW5ndGhcIiBwcm9wZXJ0eSBvZiBwYXJ0aWFsbHlcbiAgICAgKiBhcHBsaWVkIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHBhcnRpYWxseSBhcHBseSBhcmd1bWVudHMgdG8uXG4gICAgICogQHBhcmFtIHsuLi4qfSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gYmUgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcGFydGlhbGx5IGFwcGxpZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGdyZWV0KGdyZWV0aW5nLCBuYW1lKSB7XG4gICAgICogICByZXR1cm4gZ3JlZXRpbmcgKyAnICcgKyBuYW1lO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBncmVldEZyZWQgPSBfLnBhcnRpYWxSaWdodChncmVldCwgJ2ZyZWQnKTtcbiAgICAgKiBncmVldEZyZWQoJ2hpJyk7XG4gICAgICogLy8gPT4gJ2hpIGZyZWQnXG4gICAgICpcbiAgICAgKiAvLyBQYXJ0aWFsbHkgYXBwbGllZCB3aXRoIHBsYWNlaG9sZGVycy5cbiAgICAgKiB2YXIgc2F5SGVsbG9UbyA9IF8ucGFydGlhbFJpZ2h0KGdyZWV0LCAnaGVsbG8nLCBfKTtcbiAgICAgKiBzYXlIZWxsb1RvKCdmcmVkJyk7XG4gICAgICogLy8gPT4gJ2hlbGxvIGZyZWQnXG4gICAgICovXG4gICAgdmFyIHBhcnRpYWxSaWdodCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGZ1bmMsIHBhcnRpYWxzKSB7XG4gICAgICB2YXIgaG9sZGVycyA9IHJlcGxhY2VIb2xkZXJzKHBhcnRpYWxzLCBnZXRIb2xkZXIocGFydGlhbFJpZ2h0KSk7XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChmdW5jLCBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRywgdW5kZWZpbmVkLCBwYXJ0aWFscywgaG9sZGVycyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGFyZ3VtZW50cyBhcnJhbmdlZCBhY2NvcmRpbmdcbiAgICAgKiB0byB0aGUgc3BlY2lmaWVkIGBpbmRleGVzYCB3aGVyZSB0aGUgYXJndW1lbnQgdmFsdWUgYXQgdGhlIGZpcnN0IGluZGV4IGlzXG4gICAgICogcHJvdmlkZWQgYXMgdGhlIGZpcnN0IGFyZ3VtZW50LCB0aGUgYXJndW1lbnQgdmFsdWUgYXQgdGhlIHNlY29uZCBpbmRleCBpc1xuICAgICAqIHByb3ZpZGVkIGFzIHRoZSBzZWNvbmQgYXJndW1lbnQsIGFuZCBzbyBvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHJlYXJyYW5nZSBhcmd1bWVudHMgZm9yLlxuICAgICAqIEBwYXJhbSB7Li4uKG51bWJlcnxudW1iZXJbXSl9IGluZGV4ZXMgVGhlIGFycmFuZ2VkIGFyZ3VtZW50IGluZGV4ZXMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciByZWFyZ2VkID0gXy5yZWFyZyhmdW5jdGlvbihhLCBiLCBjKSB7XG4gICAgICogICByZXR1cm4gW2EsIGIsIGNdO1xuICAgICAqIH0sIFsyLCAwLCAxXSk7XG4gICAgICpcbiAgICAgKiByZWFyZ2VkKCdiJywgJ2MnLCAnYScpXG4gICAgICogLy8gPT4gWydhJywgJ2InLCAnYyddXG4gICAgICovXG4gICAgdmFyIHJlYXJnID0gZmxhdFJlc3QoZnVuY3Rpb24oZnVuYywgaW5kZXhlcykge1xuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9SRUFSR19GTEFHLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBpbmRleGVzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZVxuICAgICAqIGNyZWF0ZWQgZnVuY3Rpb24gYW5kIGFyZ3VtZW50cyBmcm9tIGBzdGFydGAgYW5kIGJleW9uZCBwcm92aWRlZCBhc1xuICAgICAqIGFuIGFycmF5LlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uIHRoZVxuICAgICAqIFtyZXN0IHBhcmFtZXRlcl0oaHR0cHM6Ly9tZG4uaW8vcmVzdF9wYXJhbWV0ZXJzKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD1mdW5jLmxlbmd0aC0xXSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHJlc3QgcGFyYW1ldGVyLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgc2F5ID0gXy5yZXN0KGZ1bmN0aW9uKHdoYXQsIG5hbWVzKSB7XG4gICAgICogICByZXR1cm4gd2hhdCArICcgJyArIF8uaW5pdGlhbChuYW1lcykuam9pbignLCAnKSArXG4gICAgICogICAgIChfLnNpemUobmFtZXMpID4gMSA/ICcsICYgJyA6ICcnKSArIF8ubGFzdChuYW1lcyk7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBzYXkoJ2hlbGxvJywgJ2ZyZWQnLCAnYmFybmV5JywgJ3BlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVzdChmdW5jLCBzdGFydCkge1xuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgc3RhcnQgPSBzdGFydCA9PT0gdW5kZWZpbmVkID8gc3RhcnQgOiB0b0ludGVnZXIoc3RhcnQpO1xuICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmMsIHN0YXJ0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiB0aGVcbiAgICAgKiBjcmVhdGUgZnVuY3Rpb24gYW5kIGFuIGFycmF5IG9mIGFyZ3VtZW50cyBtdWNoIGxpa2VcbiAgICAgKiBbYEZ1bmN0aW9uI2FwcGx5YF0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb24gdGhlXG4gICAgICogW3NwcmVhZCBvcGVyYXRvcl0oaHR0cHM6Ly9tZG4uaW8vc3ByZWFkX29wZXJhdG9yKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjIuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHNwcmVhZCBhcmd1bWVudHMgb3Zlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgc3ByZWFkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgc2F5ID0gXy5zcHJlYWQoZnVuY3Rpb24od2hvLCB3aGF0KSB7XG4gICAgICogICByZXR1cm4gd2hvICsgJyBzYXlzICcgKyB3aGF0O1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogc2F5KFsnZnJlZCcsICdoZWxsbyddKTtcbiAgICAgKiAvLyA9PiAnZnJlZCBzYXlzIGhlbGxvJ1xuICAgICAqXG4gICAgICogdmFyIG51bWJlcnMgPSBQcm9taXNlLmFsbChbXG4gICAgICogICBQcm9taXNlLnJlc29sdmUoNDApLFxuICAgICAqICAgUHJvbWlzZS5yZXNvbHZlKDM2KVxuICAgICAqIF0pO1xuICAgICAqXG4gICAgICogbnVtYmVycy50aGVuKF8uc3ByZWFkKGZ1bmN0aW9uKHgsIHkpIHtcbiAgICAgKiAgIHJldHVybiB4ICsgeTtcbiAgICAgKiB9KSk7XG4gICAgICogLy8gPT4gYSBQcm9taXNlIG9mIDc2XG4gICAgICovXG4gICAgZnVuY3Rpb24gc3ByZWFkKGZ1bmMsIHN0YXJ0KSB7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICBzdGFydCA9IHN0YXJ0ID09IG51bGwgPyAwIDogbmF0aXZlTWF4KHRvSW50ZWdlcihzdGFydCksIDApO1xuICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgdmFyIGFycmF5ID0gYXJnc1tzdGFydF0sXG4gICAgICAgICAgICBvdGhlckFyZ3MgPSBjYXN0U2xpY2UoYXJncywgMCwgc3RhcnQpO1xuXG4gICAgICAgIGlmIChhcnJheSkge1xuICAgICAgICAgIGFycmF5UHVzaChvdGhlckFyZ3MsIGFycmF5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXBwbHkoZnVuYywgdGhpcywgb3RoZXJBcmdzKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSB0aHJvdHRsZWQgZnVuY3Rpb24gdGhhdCBvbmx5IGludm9rZXMgYGZ1bmNgIGF0IG1vc3Qgb25jZSBwZXJcbiAgICAgKiBldmVyeSBgd2FpdGAgbWlsbGlzZWNvbmRzLiBUaGUgdGhyb3R0bGVkIGZ1bmN0aW9uIGNvbWVzIHdpdGggYSBgY2FuY2VsYFxuICAgICAqIG1ldGhvZCB0byBjYW5jZWwgZGVsYXllZCBgZnVuY2AgaW52b2NhdGlvbnMgYW5kIGEgYGZsdXNoYCBtZXRob2QgdG9cbiAgICAgKiBpbW1lZGlhdGVseSBpbnZva2UgdGhlbS4gUHJvdmlkZSBgb3B0aW9uc2AgdG8gaW5kaWNhdGUgd2hldGhlciBgZnVuY2BcbiAgICAgKiBzaG91bGQgYmUgaW52b2tlZCBvbiB0aGUgbGVhZGluZyBhbmQvb3IgdHJhaWxpbmcgZWRnZSBvZiB0aGUgYHdhaXRgXG4gICAgICogdGltZW91dC4gVGhlIGBmdW5jYCBpcyBpbnZva2VkIHdpdGggdGhlIGxhc3QgYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZVxuICAgICAqIHRocm90dGxlZCBmdW5jdGlvbi4gU3Vic2VxdWVudCBjYWxscyB0byB0aGUgdGhyb3R0bGVkIGZ1bmN0aW9uIHJldHVybiB0aGVcbiAgICAgKiByZXN1bHQgb2YgdGhlIGxhc3QgYGZ1bmNgIGludm9jYXRpb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogSWYgYGxlYWRpbmdgIGFuZCBgdHJhaWxpbmdgIG9wdGlvbnMgYXJlIGB0cnVlYCwgYGZ1bmNgIGlzXG4gICAgICogaW52b2tlZCBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dCBvbmx5IGlmIHRoZSB0aHJvdHRsZWQgZnVuY3Rpb25cbiAgICAgKiBpcyBpbnZva2VkIG1vcmUgdGhhbiBvbmNlIGR1cmluZyB0aGUgYHdhaXRgIHRpbWVvdXQuXG4gICAgICpcbiAgICAgKiBJZiBgd2FpdGAgaXMgYDBgIGFuZCBgbGVhZGluZ2AgaXMgYGZhbHNlYCwgYGZ1bmNgIGludm9jYXRpb24gaXMgZGVmZXJyZWRcbiAgICAgKiB1bnRpbCB0byB0aGUgbmV4dCB0aWNrLCBzaW1pbGFyIHRvIGBzZXRUaW1lb3V0YCB3aXRoIGEgdGltZW91dCBvZiBgMGAuXG4gICAgICpcbiAgICAgKiBTZWUgW0RhdmlkIENvcmJhY2hvJ3MgYXJ0aWNsZV0oaHR0cHM6Ly9jc3MtdHJpY2tzLmNvbS9kZWJvdW5jaW5nLXRocm90dGxpbmctZXhwbGFpbmVkLWV4YW1wbGVzLylcbiAgICAgKiBmb3IgZGV0YWlscyBvdmVyIHRoZSBkaWZmZXJlbmNlcyBiZXR3ZWVuIGBfLnRocm90dGxlYCBhbmQgYF8uZGVib3VuY2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gdGhyb3R0bGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3YWl0PTBdIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIHRocm90dGxlIGludm9jYXRpb25zIHRvLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubGVhZGluZz10cnVlXVxuICAgICAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSBsZWFkaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFpbGluZz10cnVlXVxuICAgICAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHRocm90dGxlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogLy8gQXZvaWQgZXhjZXNzaXZlbHkgdXBkYXRpbmcgdGhlIHBvc2l0aW9uIHdoaWxlIHNjcm9sbGluZy5cbiAgICAgKiBqUXVlcnkod2luZG93KS5vbignc2Nyb2xsJywgXy50aHJvdHRsZSh1cGRhdGVQb3NpdGlvbiwgMTAwKSk7XG4gICAgICpcbiAgICAgKiAvLyBJbnZva2UgYHJlbmV3VG9rZW5gIHdoZW4gdGhlIGNsaWNrIGV2ZW50IGlzIGZpcmVkLCBidXQgbm90IG1vcmUgdGhhbiBvbmNlIGV2ZXJ5IDUgbWludXRlcy5cbiAgICAgKiB2YXIgdGhyb3R0bGVkID0gXy50aHJvdHRsZShyZW5ld1Rva2VuLCAzMDAwMDAsIHsgJ3RyYWlsaW5nJzogZmFsc2UgfSk7XG4gICAgICogalF1ZXJ5KGVsZW1lbnQpLm9uKCdjbGljaycsIHRocm90dGxlZCk7XG4gICAgICpcbiAgICAgKiAvLyBDYW5jZWwgdGhlIHRyYWlsaW5nIHRocm90dGxlZCBpbnZvY2F0aW9uLlxuICAgICAqIGpRdWVyeSh3aW5kb3cpLm9uKCdwb3BzdGF0ZScsIHRocm90dGxlZC5jYW5jZWwpO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRocm90dGxlKGZ1bmMsIHdhaXQsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBsZWFkaW5nID0gdHJ1ZSxcbiAgICAgICAgICB0cmFpbGluZyA9IHRydWU7XG5cbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgICAgICBsZWFkaW5nID0gJ2xlYWRpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMubGVhZGluZyA6IGxlYWRpbmc7XG4gICAgICAgIHRyYWlsaW5nID0gJ3RyYWlsaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLnRyYWlsaW5nIDogdHJhaWxpbmc7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGVib3VuY2UoZnVuYywgd2FpdCwge1xuICAgICAgICAnbGVhZGluZyc6IGxlYWRpbmcsXG4gICAgICAgICdtYXhXYWl0Jzogd2FpdCxcbiAgICAgICAgJ3RyYWlsaW5nJzogdHJhaWxpbmdcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGFjY2VwdHMgdXAgdG8gb25lIGFyZ3VtZW50LCBpZ25vcmluZyBhbnlcbiAgICAgKiBhZGRpdGlvbmFsIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNhcCBhcmd1bWVudHMgZm9yLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNhcHBlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5tYXAoWyc2JywgJzgnLCAnMTAnXSwgXy51bmFyeShwYXJzZUludCkpO1xuICAgICAqIC8vID0+IFs2LCA4LCAxMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmFyeShmdW5jKSB7XG4gICAgICByZXR1cm4gYXJ5KGZ1bmMsIDEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHByb3ZpZGVzIGB2YWx1ZWAgdG8gYHdyYXBwZXJgIGFzIGl0cyBmaXJzdFxuICAgICAqIGFyZ3VtZW50LiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIGZ1bmN0aW9uIGFyZSBhcHBlbmRlZFxuICAgICAqIHRvIHRob3NlIHByb3ZpZGVkIHRvIHRoZSBgd3JhcHBlcmAuIFRoZSB3cmFwcGVyIGlzIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgXG4gICAgICogYmluZGluZyBvZiB0aGUgY3JlYXRlZCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3dyYXBwZXI9aWRlbnRpdHldIFRoZSB3cmFwcGVyIGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgcCA9IF8ud3JhcChfLmVzY2FwZSwgZnVuY3Rpb24oZnVuYywgdGV4dCkge1xuICAgICAqICAgcmV0dXJuICc8cD4nICsgZnVuYyh0ZXh0KSArICc8L3A+JztcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIHAoJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJyk7XG4gICAgICogLy8gPT4gJzxwPmZyZWQsIGJhcm5leSwgJmFtcDsgcGViYmxlczwvcD4nXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcCh2YWx1ZSwgd3JhcHBlcikge1xuICAgICAgcmV0dXJuIHBhcnRpYWwoY2FzdEZ1bmN0aW9uKHdyYXBwZXIpLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ2FzdHMgYHZhbHVlYCBhcyBhbiBhcnJheSBpZiBpdCdzIG5vdCBvbmUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC40LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjYXN0IGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNhc3RBcnJheSgxKTtcbiAgICAgKiAvLyA9PiBbMV1cbiAgICAgKlxuICAgICAqIF8uY2FzdEFycmF5KHsgJ2EnOiAxIH0pO1xuICAgICAqIC8vID0+IFt7ICdhJzogMSB9XVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkoJ2FiYycpO1xuICAgICAqIC8vID0+IFsnYWJjJ11cbiAgICAgKlxuICAgICAqIF8uY2FzdEFycmF5KG51bGwpO1xuICAgICAqIC8vID0+IFtudWxsXVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkodW5kZWZpbmVkKTtcbiAgICAgKiAvLyA9PiBbdW5kZWZpbmVkXVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkoKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIDIsIDNdO1xuICAgICAqIGNvbnNvbGUubG9nKF8uY2FzdEFycmF5KGFycmF5KSA9PT0gYXJyYXkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXN0QXJyYXkoKSB7XG4gICAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIHZhbHVlID0gYXJndW1lbnRzWzBdO1xuICAgICAgcmV0dXJuIGlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbdmFsdWVdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzaGFsbG93IGNsb25lIG9mIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvbiB0aGVcbiAgICAgKiBbc3RydWN0dXJlZCBjbG9uZSBhbGdvcml0aG1dKGh0dHBzOi8vbWRuLmlvL1N0cnVjdHVyZWRfY2xvbmVfYWxnb3JpdGhtKVxuICAgICAqIGFuZCBzdXBwb3J0cyBjbG9uaW5nIGFycmF5cywgYXJyYXkgYnVmZmVycywgYm9vbGVhbnMsIGRhdGUgb2JqZWN0cywgbWFwcyxcbiAgICAgKiBudW1iZXJzLCBgT2JqZWN0YCBvYmplY3RzLCByZWdleGVzLCBzZXRzLCBzdHJpbmdzLCBzeW1ib2xzLCBhbmQgdHlwZWRcbiAgICAgKiBhcnJheXMuIFRoZSBvd24gZW51bWVyYWJsZSBwcm9wZXJ0aWVzIG9mIGBhcmd1bWVudHNgIG9iamVjdHMgYXJlIGNsb25lZFxuICAgICAqIGFzIHBsYWluIG9iamVjdHMuIEFuIGVtcHR5IG9iamVjdCBpcyByZXR1cm5lZCBmb3IgdW5jbG9uZWFibGUgdmFsdWVzIHN1Y2hcbiAgICAgKiBhcyBlcnJvciBvYmplY3RzLCBmdW5jdGlvbnMsIERPTSBub2RlcywgYW5kIFdlYWtNYXBzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgY2xvbmVkIHZhbHVlLlxuICAgICAqIEBzZWUgXy5jbG9uZURlZXBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnYSc6IDEgfSwgeyAnYic6IDIgfV07XG4gICAgICpcbiAgICAgKiB2YXIgc2hhbGxvdyA9IF8uY2xvbmUob2JqZWN0cyk7XG4gICAgICogY29uc29sZS5sb2coc2hhbGxvd1swXSA9PT0gb2JqZWN0c1swXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lKHZhbHVlKSB7XG4gICAgICByZXR1cm4gYmFzZUNsb25lKHZhbHVlLCBDTE9ORV9TWU1CT0xTX0ZMQUcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uY2xvbmVgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBwcm9kdWNlIHRoZSBjbG9uZWQgdmFsdWUuIElmIGBjdXN0b21pemVyYCByZXR1cm5zIGB1bmRlZmluZWRgLFxuICAgICAqIGNsb25pbmcgaXMgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZCB3aXRoXG4gICAgICogdXAgdG8gZm91ciBhcmd1bWVudHM7ICh2YWx1ZSBbLCBpbmRleHxrZXksIG9iamVjdCwgc3RhY2tdKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY2xvbmluZy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgY2xvbmVkIHZhbHVlLlxuICAgICAqIEBzZWUgXy5jbG9uZURlZXBXaXRoXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIodmFsdWUpIHtcbiAgICAgKiAgIGlmIChfLmlzRWxlbWVudCh2YWx1ZSkpIHtcbiAgICAgKiAgICAgcmV0dXJuIHZhbHVlLmNsb25lTm9kZShmYWxzZSk7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGVsID0gXy5jbG9uZVdpdGgoZG9jdW1lbnQuYm9keSwgY3VzdG9taXplcik7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhlbCA9PT0gZG9jdW1lbnQuYm9keSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKiBjb25zb2xlLmxvZyhlbC5ub2RlTmFtZSk7XG4gICAgICogLy8gPT4gJ0JPRFknXG4gICAgICogY29uc29sZS5sb2coZWwuY2hpbGROb2Rlcy5sZW5ndGgpO1xuICAgICAqIC8vID0+IDBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZVdpdGgodmFsdWUsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nID8gY3VzdG9taXplciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBiYXNlQ2xvbmUodmFsdWUsIENMT05FX1NZTUJPTFNfRkxBRywgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5jbG9uZWAgZXhjZXB0IHRoYXQgaXQgcmVjdXJzaXZlbHkgY2xvbmVzIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHJlY3Vyc2l2ZWx5IGNsb25lLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBkZWVwIGNsb25lZCB2YWx1ZS5cbiAgICAgKiBAc2VlIF8uY2xvbmVcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnYSc6IDEgfSwgeyAnYic6IDIgfV07XG4gICAgICpcbiAgICAgKiB2YXIgZGVlcCA9IF8uY2xvbmVEZWVwKG9iamVjdHMpO1xuICAgICAqIGNvbnNvbGUubG9nKGRlZXBbMF0gPT09IG9iamVjdHNbMF0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVEZWVwKHZhbHVlKSB7XG4gICAgICByZXR1cm4gYmFzZUNsb25lKHZhbHVlLCBDTE9ORV9ERUVQX0ZMQUcgfCBDTE9ORV9TWU1CT0xTX0ZMQUcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uY2xvbmVXaXRoYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBjbG9uZXMgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcmVjdXJzaXZlbHkgY2xvbmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY2xvbmluZy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZGVlcCBjbG9uZWQgdmFsdWUuXG4gICAgICogQHNlZSBfLmNsb25lV2l0aFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKHZhbHVlKSB7XG4gICAgICogICBpZiAoXy5pc0VsZW1lbnQodmFsdWUpKSB7XG4gICAgICogICAgIHJldHVybiB2YWx1ZS5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGVsID0gXy5jbG9uZURlZXBXaXRoKGRvY3VtZW50LmJvZHksIGN1c3RvbWl6ZXIpO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coZWwgPT09IGRvY3VtZW50LmJvZHkpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICogY29uc29sZS5sb2coZWwubm9kZU5hbWUpO1xuICAgICAqIC8vID0+ICdCT0RZJ1xuICAgICAqIGNvbnNvbGUubG9nKGVsLmNoaWxkTm9kZXMubGVuZ3RoKTtcbiAgICAgKiAvLyA9PiAyMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lRGVlcFdpdGgodmFsdWUsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nID8gY3VzdG9taXplciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBiYXNlQ2xvbmUodmFsdWUsIENMT05FX0RFRVBfRkxBRyB8IENMT05FX1NZTUJPTFNfRkxBRywgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBvYmplY3RgIGNvbmZvcm1zIHRvIGBzb3VyY2VgIGJ5IGludm9raW5nIHRoZSBwcmVkaWNhdGVcbiAgICAgKiBwcm9wZXJ0aWVzIG9mIGBzb3VyY2VgIHdpdGggdGhlIGNvcnJlc3BvbmRpbmcgcHJvcGVydHkgdmFsdWVzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGVxdWl2YWxlbnQgdG8gYF8uY29uZm9ybXNgIHdoZW4gYHNvdXJjZWAgaXNcbiAgICAgKiBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjE0LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSBwcmVkaWNhdGVzIHRvIGNvbmZvcm0gdG8uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBvYmplY3RgIGNvbmZvcm1zLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAyIH07XG4gICAgICpcbiAgICAgKiBfLmNvbmZvcm1zVG8ob2JqZWN0LCB7ICdiJzogZnVuY3Rpb24obikgeyByZXR1cm4gbiA+IDE7IH0gfSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5jb25mb3Jtc1RvKG9iamVjdCwgeyAnYic6IGZ1bmN0aW9uKG4pIHsgcmV0dXJuIG4gPiAyOyB9IH0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uZm9ybXNUbyhvYmplY3QsIHNvdXJjZSkge1xuICAgICAgcmV0dXJuIHNvdXJjZSA9PSBudWxsIHx8IGJhc2VDb25mb3Jtc1RvKG9iamVjdCwgc291cmNlLCBrZXlzKHNvdXJjZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGFcbiAgICAgKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGNvbXBhcmlzb24gYmV0d2VlbiB0d28gdmFsdWVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZSBlcXVpdmFsZW50LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gICAgICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAgICAgKlxuICAgICAqIF8uZXEob2JqZWN0LCBvYmplY3QpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uZXEob2JqZWN0LCBvdGhlcik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uZXEoJ2EnLCAnYScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uZXEoJ2EnLCBPYmplY3QoJ2EnKSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uZXEoTmFOLCBOYU4pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlcSh2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gb3RoZXIgfHwgKHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGdyZWF0ZXIgdGhhbiBgb3RoZXJgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZ3JlYXRlciB0aGFuIGBvdGhlcmAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAc2VlIF8ubHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5ndCgzLCAxKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmd0KDMsIDMpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmd0KDEsIDMpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGd0ID0gY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbihiYXNlR3QpO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIGBvdGhlcmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy45LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG9cbiAgICAgKiAgYG90aGVyYCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBzZWUgXy5sdGVcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5ndGUoMywgMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5ndGUoMywgMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5ndGUoMSwgMyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgZ3RlID0gY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbihmdW5jdGlvbih2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA+PSBvdGhlcjtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhbiBgYXJndW1lbnRzYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGBhcmd1bWVudHNgIG9iamVjdCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQXJndW1lbnRzKGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcmd1bWVudHMoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc0FyZ3VtZW50cyA9IGJhc2VJc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKSA/IGJhc2VJc0FyZ3VtZW50cyA6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCAnY2FsbGVlJykgJiZcbiAgICAgICAgIXByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwodmFsdWUsICdjYWxsZWUnKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhbiBgQXJyYXlgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoJ2FiYycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoXy5ub29wKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYW4gYEFycmF5QnVmZmVyYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5IGJ1ZmZlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlCdWZmZXIobmV3IEFycmF5QnVmZmVyKDIpKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlCdWZmZXIobmV3IEFycmF5KDIpKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc0FycmF5QnVmZmVyID0gbm9kZUlzQXJyYXlCdWZmZXIgPyBiYXNlVW5hcnkobm9kZUlzQXJyYXlCdWZmZXIpIDogYmFzZUlzQXJyYXlCdWZmZXI7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLiBBIHZhbHVlIGlzIGNvbnNpZGVyZWQgYXJyYXktbGlrZSBpZiBpdCdzXG4gICAgICogbm90IGEgZnVuY3Rpb24gYW5kIGhhcyBhIGB2YWx1ZS5sZW5ndGhgIHRoYXQncyBhbiBpbnRlZ2VyIGdyZWF0ZXIgdGhhbiBvclxuICAgICAqIGVxdWFsIHRvIGAwYCBhbmQgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIGBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZShbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2UoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZSgnYWJjJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZShfLm5vb3ApO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNBcnJheUxpa2UodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIGlzTGVuZ3RoKHZhbHVlLmxlbmd0aCkgJiYgIWlzRnVuY3Rpb24odmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaXNBcnJheUxpa2VgIGV4Y2VwdCB0aGF0IGl0IGFsc28gY2hlY2tzIGlmIGB2YWx1ZWBcbiAgICAgKiBpcyBhbiBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LWxpa2Ugb2JqZWN0LFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2VPYmplY3QoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlT2JqZWN0KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2VPYmplY3QoJ2FiYycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlT2JqZWN0KF8ubm9vcCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0FycmF5TGlrZU9iamVjdCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgaXNBcnJheUxpa2UodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBib29sZWFuIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgYm9vbGVhbiwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQm9vbGVhbihmYWxzZSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0Jvb2xlYW4obnVsbCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0Jvb2xlYW4odmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gdHJ1ZSB8fCB2YWx1ZSA9PT0gZmFsc2UgfHxcbiAgICAgICAgKGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gYm9vbFRhZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBidWZmZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgYnVmZmVyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNCdWZmZXIobmV3IEJ1ZmZlcigyKSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0J1ZmZlcihuZXcgVWludDhBcnJheSgyKSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNCdWZmZXIgPSBuYXRpdmVJc0J1ZmZlciB8fCBzdHViRmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYERhdGVgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBkYXRlIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRGF0ZShuZXcgRGF0ZSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0RhdGUoJ01vbiBBcHJpbCAyMyAyMDEyJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNEYXRlID0gbm9kZUlzRGF0ZSA/IGJhc2VVbmFyeShub2RlSXNEYXRlKSA6IGJhc2VJc0RhdGU7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYSBET00gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBET00gZWxlbWVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRWxlbWVudChkb2N1bWVudC5ib2R5KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRWxlbWVudCgnPGJvZHk+Jyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0VsZW1lbnQodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIHZhbHVlLm5vZGVUeXBlID09PSAxICYmICFpc1BsYWluT2JqZWN0KHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhbiBlbXB0eSBvYmplY3QsIGNvbGxlY3Rpb24sIG1hcCwgb3Igc2V0LlxuICAgICAqXG4gICAgICogT2JqZWN0cyBhcmUgY29uc2lkZXJlZCBlbXB0eSBpZiB0aGV5IGhhdmUgbm8gb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkXG4gICAgICogcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqIEFycmF5LWxpa2UgdmFsdWVzIHN1Y2ggYXMgYGFyZ3VtZW50c2Agb2JqZWN0cywgYXJyYXlzLCBidWZmZXJzLCBzdHJpbmdzLCBvclxuICAgICAqIGpRdWVyeS1saWtlIGNvbGxlY3Rpb25zIGFyZSBjb25zaWRlcmVkIGVtcHR5IGlmIHRoZXkgaGF2ZSBhIGBsZW5ndGhgIG9mIGAwYC5cbiAgICAgKiBTaW1pbGFybHksIG1hcHMgYW5kIHNldHMgYXJlIGNvbnNpZGVyZWQgZW1wdHkgaWYgdGhleSBoYXZlIGEgYHNpemVgIG9mIGAwYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZW1wdHksIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0VtcHR5KG51bGwpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNFbXB0eSh0cnVlKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRW1wdHkoMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0VtcHR5KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNFbXB0eSh7ICdhJzogMSB9KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRW1wdHkodmFsdWUpIHtcbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKGlzQXJyYXlMaWtlKHZhbHVlKSAmJlxuICAgICAgICAgIChpc0FycmF5KHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgfHwgdHlwZW9mIHZhbHVlLnNwbGljZSA9PSAnZnVuY3Rpb24nIHx8XG4gICAgICAgICAgICBpc0J1ZmZlcih2YWx1ZSkgfHwgaXNUeXBlZEFycmF5KHZhbHVlKSB8fCBpc0FyZ3VtZW50cyh2YWx1ZSkpKSB7XG4gICAgICAgIHJldHVybiAhdmFsdWUubGVuZ3RoO1xuICAgICAgfVxuICAgICAgdmFyIHRhZyA9IGdldFRhZyh2YWx1ZSk7XG4gICAgICBpZiAodGFnID09IG1hcFRhZyB8fCB0YWcgPT0gc2V0VGFnKSB7XG4gICAgICAgIHJldHVybiAhdmFsdWUuc2l6ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1Byb3RvdHlwZSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuICFiYXNlS2V5cyh2YWx1ZSkubGVuZ3RoO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIga2V5IGluIHZhbHVlKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrZXkpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBhIGRlZXAgY29tcGFyaXNvbiBiZXR3ZWVuIHR3byB2YWx1ZXMgdG8gZGV0ZXJtaW5lIGlmIHRoZXkgYXJlXG4gICAgICogZXF1aXZhbGVudC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBzdXBwb3J0cyBjb21wYXJpbmcgYXJyYXlzLCBhcnJheSBidWZmZXJzLCBib29sZWFucyxcbiAgICAgKiBkYXRlIG9iamVjdHMsIGVycm9yIG9iamVjdHMsIG1hcHMsIG51bWJlcnMsIGBPYmplY3RgIG9iamVjdHMsIHJlZ2V4ZXMsXG4gICAgICogc2V0cywgc3RyaW5ncywgc3ltYm9scywgYW5kIHR5cGVkIGFycmF5cy4gYE9iamVjdGAgb2JqZWN0cyBhcmUgY29tcGFyZWRcbiAgICAgKiBieSB0aGVpciBvd24sIG5vdCBpbmhlcml0ZWQsIGVudW1lcmFibGUgcHJvcGVydGllcy4gRnVuY3Rpb25zIGFuZCBET01cbiAgICAgKiBub2RlcyBhcmUgY29tcGFyZWQgYnkgc3RyaWN0IGVxdWFsaXR5LCBpLmUuIGA9PT1gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gICAgICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAgICAgKlxuICAgICAqIF8uaXNFcXVhbChvYmplY3QsIG90aGVyKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBvYmplY3QgPT09IG90aGVyO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNFcXVhbCh2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiBiYXNlSXNFcXVhbCh2YWx1ZSwgb3RoZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaXNFcXVhbGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIGNvbXBhcmUgdmFsdWVzLiBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYCwgY29tcGFyaXNvbnNcbiAgICAgKiBhcmUgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZCB3aXRoIHVwIHRvXG4gICAgICogc2l4IGFyZ3VtZW50czogKG9ialZhbHVlLCBvdGhWYWx1ZSBbLCBpbmRleHxrZXksIG9iamVjdCwgb3RoZXIsIHN0YWNrXSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBpc0dyZWV0aW5nKHZhbHVlKSB7XG4gICAgICogICByZXR1cm4gL15oKD86aXxlbGxvKSQvLnRlc3QodmFsdWUpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIob2JqVmFsdWUsIG90aFZhbHVlKSB7XG4gICAgICogICBpZiAoaXNHcmVldGluZyhvYmpWYWx1ZSkgJiYgaXNHcmVldGluZyhvdGhWYWx1ZSkpIHtcbiAgICAgKiAgICAgcmV0dXJuIHRydWU7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWydoZWxsbycsICdnb29kYnllJ107XG4gICAgICogdmFyIG90aGVyID0gWydoaScsICdnb29kYnllJ107XG4gICAgICpcbiAgICAgKiBfLmlzRXF1YWxXaXRoKGFycmF5LCBvdGhlciwgY3VzdG9taXplcik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRXF1YWxXaXRoKHZhbHVlLCBvdGhlciwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgdmFyIHJlc3VsdCA9IGN1c3RvbWl6ZXIgPyBjdXN0b21pemVyKHZhbHVlLCBvdGhlcikgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gcmVzdWx0ID09PSB1bmRlZmluZWQgPyBiYXNlSXNFcXVhbCh2YWx1ZSwgb3RoZXIsIHVuZGVmaW5lZCwgY3VzdG9taXplcikgOiAhIXJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhbiBgRXJyb3JgLCBgRXZhbEVycm9yYCwgYFJhbmdlRXJyb3JgLCBgUmVmZXJlbmNlRXJyb3JgLFxuICAgICAqIGBTeW50YXhFcnJvcmAsIGBUeXBlRXJyb3JgLCBvciBgVVJJRXJyb3JgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gZXJyb3Igb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNFcnJvcihuZXcgRXJyb3IpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNFcnJvcihFcnJvcik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0Vycm9yKHZhbHVlKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIHRhZyA9IGJhc2VHZXRUYWcodmFsdWUpO1xuICAgICAgcmV0dXJuIHRhZyA9PSBlcnJvclRhZyB8fCB0YWcgPT0gZG9tRXhjVGFnIHx8XG4gICAgICAgICh0eXBlb2YgdmFsdWUubWVzc2FnZSA9PSAnc3RyaW5nJyAmJiB0eXBlb2YgdmFsdWUubmFtZSA9PSAnc3RyaW5nJyAmJiAhaXNQbGFpbk9iamVjdCh2YWx1ZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgZmluaXRlIHByaW1pdGl2ZSBudW1iZXIuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYE51bWJlci5pc0Zpbml0ZWBdKGh0dHBzOi8vbWRuLmlvL051bWJlci9pc0Zpbml0ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZmluaXRlIG51bWJlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRmluaXRlKDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNGaW5pdGUoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0Zpbml0ZShJbmZpbml0eSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNGaW5pdGUoJzMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRmluaXRlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmIG5hdGl2ZUlzRmluaXRlKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYEZ1bmN0aW9uYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZnVuY3Rpb24sIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0Z1bmN0aW9uKF8pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNGdW5jdGlvbigvYWJjLyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICAvLyBUaGUgdXNlIG9mIGBPYmplY3QjdG9TdHJpbmdgIGF2b2lkcyBpc3N1ZXMgd2l0aCB0aGUgYHR5cGVvZmAgb3BlcmF0b3JcbiAgICAgIC8vIGluIFNhZmFyaSA5IHdoaWNoIHJldHVybnMgJ29iamVjdCcgZm9yIHR5cGVkIGFycmF5cyBhbmQgb3RoZXIgY29uc3RydWN0b3JzLlxuICAgICAgdmFyIHRhZyA9IGJhc2VHZXRUYWcodmFsdWUpO1xuICAgICAgcmV0dXJuIHRhZyA9PSBmdW5jVGFnIHx8IHRhZyA9PSBnZW5UYWcgfHwgdGFnID09IGFzeW5jVGFnIHx8IHRhZyA9PSBwcm94eVRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhbiBpbnRlZ2VyLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG4gICAgICogW2BOdW1iZXIuaXNJbnRlZ2VyYF0oaHR0cHM6Ly9tZG4uaW8vTnVtYmVyL2lzSW50ZWdlcikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGludGVnZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0ludGVnZXIoMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0ludGVnZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNJbnRlZ2VyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0ludGVnZXIoJzMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzSW50ZWdlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJiB2YWx1ZSA9PSB0b0ludGVnZXIodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBsZW5ndGguXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvblxuICAgICAqIFtgVG9MZW5ndGhgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10b2xlbmd0aCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgbGVuZ3RoLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNMZW5ndGgoMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0xlbmd0aChOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0xlbmd0aChJbmZpbml0eSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNMZW5ndGgoJzMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTGVuZ3RoKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmXG4gICAgICAgIHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPD0gTUFYX1NBRkVfSU5URUdFUjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGVcbiAgICAgKiBbbGFuZ3VhZ2UgdHlwZV0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMpXG4gICAgICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdCh7fSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3QoXy5ub29wKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0KG51bGwpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICAgICAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAgICAgKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3RMaWtlKHt9KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBNYXBgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjMuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBtYXAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc01hcChuZXcgTWFwKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTWFwKG5ldyBXZWFrTWFwKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc01hcCA9IG5vZGVJc01hcCA/IGJhc2VVbmFyeShub2RlSXNNYXApIDogYmFzZUlzTWFwO1xuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgYSBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbiBiZXR3ZWVuIGBvYmplY3RgIGFuZCBgc291cmNlYCB0b1xuICAgICAqIGRldGVybWluZSBpZiBgb2JqZWN0YCBjb250YWlucyBlcXVpdmFsZW50IHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBlcXVpdmFsZW50IHRvIGBfLm1hdGNoZXNgIHdoZW4gYHNvdXJjZWAgaXNcbiAgICAgKiBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKlxuICAgICAqIFBhcnRpYWwgY29tcGFyaXNvbnMgd2lsbCBtYXRjaCBlbXB0eSBhcnJheSBhbmQgZW1wdHkgb2JqZWN0IGBzb3VyY2VgXG4gICAgICogdmFsdWVzIGFnYWluc3QgYW55IGFycmF5IG9yIG9iamVjdCB2YWx1ZSwgcmVzcGVjdGl2ZWx5LiBTZWUgYF8uaXNFcXVhbGBcbiAgICAgKiBmb3IgYSBsaXN0IG9mIHN1cHBvcnRlZCB2YWx1ZSBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHZhbHVlcyB0byBtYXRjaC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG9iamVjdGAgaXMgYSBtYXRjaCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiB9O1xuICAgICAqXG4gICAgICogXy5pc01hdGNoKG9iamVjdCwgeyAnYic6IDIgfSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc01hdGNoKG9iamVjdCwgeyAnYic6IDEgfSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc01hdGNoKG9iamVjdCwgc291cmNlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09PSBzb3VyY2UgfHwgYmFzZUlzTWF0Y2gob2JqZWN0LCBzb3VyY2UsIGdldE1hdGNoRGF0YShzb3VyY2UpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmlzTWF0Y2hgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBjb21wYXJlIHZhbHVlcy4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnMgYHVuZGVmaW5lZGAsIGNvbXBhcmlzb25zXG4gICAgICogYXJlIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgIGlzIGludm9rZWQgd2l0aCBmaXZlXG4gICAgICogYXJndW1lbnRzOiAob2JqVmFsdWUsIHNyY1ZhbHVlLCBpbmRleHxrZXksIG9iamVjdCwgc291cmNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHZhbHVlcyB0byBtYXRjaC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG9iamVjdGAgaXMgYSBtYXRjaCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBpc0dyZWV0aW5nKHZhbHVlKSB7XG4gICAgICogICByZXR1cm4gL15oKD86aXxlbGxvKSQvLnRlc3QodmFsdWUpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlKSB7XG4gICAgICogICBpZiAoaXNHcmVldGluZyhvYmpWYWx1ZSkgJiYgaXNHcmVldGluZyhzcmNWYWx1ZSkpIHtcbiAgICAgKiAgICAgcmV0dXJuIHRydWU7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2dyZWV0aW5nJzogJ2hlbGxvJyB9O1xuICAgICAqIHZhciBzb3VyY2UgPSB7ICdncmVldGluZyc6ICdoaScgfTtcbiAgICAgKlxuICAgICAqIF8uaXNNYXRjaFdpdGgob2JqZWN0LCBzb3VyY2UsIGN1c3RvbWl6ZXIpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc01hdGNoV2l0aChvYmplY3QsIHNvdXJjZSwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIGJhc2VJc01hdGNoKG9iamVjdCwgc291cmNlLCBnZXRNYXRjaERhdGEoc291cmNlKSwgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYE5hTmAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYE51bWJlci5pc05hTmBdKGh0dHBzOi8vbWRuLmlvL051bWJlci9pc05hTikgYW5kIGlzIG5vdCB0aGUgc2FtZSBhc1xuICAgICAqIGdsb2JhbCBbYGlzTmFOYF0oaHR0cHM6Ly9tZG4uaW8vaXNOYU4pIHdoaWNoIHJldHVybnMgYHRydWVgIGZvclxuICAgICAqIGB1bmRlZmluZWRgIGFuZCBvdGhlciBub24tbnVtYmVyIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYE5hTmAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc05hTihOYU4pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOYU4obmV3IE51bWJlcihOYU4pKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBpc05hTih1bmRlZmluZWQpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOYU4odW5kZWZpbmVkKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTmFOKHZhbHVlKSB7XG4gICAgICAvLyBBbiBgTmFOYCBwcmltaXRpdmUgaXMgdGhlIG9ubHkgdmFsdWUgdGhhdCBpcyBub3QgZXF1YWwgdG8gaXRzZWxmLlxuICAgICAgLy8gUGVyZm9ybSB0aGUgYHRvU3RyaW5nVGFnYCBjaGVjayBmaXJzdCB0byBhdm9pZCBlcnJvcnMgd2l0aCBzb21lXG4gICAgICAvLyBBY3RpdmVYIG9iamVjdHMgaW4gSUUuXG4gICAgICByZXR1cm4gaXNOdW1iZXIodmFsdWUpICYmIHZhbHVlICE9ICt2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHByaXN0aW5lIG5hdGl2ZSBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBjYW4ndCByZWxpYWJseSBkZXRlY3QgbmF0aXZlIGZ1bmN0aW9ucyBpbiB0aGUgcHJlc2VuY2VcbiAgICAgKiBvZiB0aGUgY29yZS1qcyBwYWNrYWdlIGJlY2F1c2UgY29yZS1qcyBjaXJjdW12ZW50cyB0aGlzIGtpbmQgb2YgZGV0ZWN0aW9uLlxuICAgICAqIERlc3BpdGUgbXVsdGlwbGUgcmVxdWVzdHMsIHRoZSBjb3JlLWpzIG1haW50YWluZXIgaGFzIG1hZGUgaXQgY2xlYXI6IGFueVxuICAgICAqIGF0dGVtcHQgdG8gZml4IHRoZSBkZXRlY3Rpb24gd2lsbCBiZSBvYnN0cnVjdGVkLiBBcyBhIHJlc3VsdCwgd2UncmUgbGVmdFxuICAgICAqIHdpdGggbGl0dGxlIGNob2ljZSBidXQgdG8gdGhyb3cgYW4gZXJyb3IuIFVuZm9ydHVuYXRlbHksIHRoaXMgYWxzbyBhZmZlY3RzXG4gICAgICogcGFja2FnZXMsIGxpa2UgW2JhYmVsLXBvbHlmaWxsXShodHRwczovL3d3dy5ucG1qcy5jb20vcGFja2FnZS9iYWJlbC1wb2x5ZmlsbCksXG4gICAgICogd2hpY2ggcmVseSBvbiBjb3JlLWpzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbixcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTmF0aXZlKEFycmF5LnByb3RvdHlwZS5wdXNoKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTmF0aXZlKF8pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNOYXRpdmUodmFsdWUpIHtcbiAgICAgIGlmIChpc01hc2thYmxlKHZhbHVlKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoQ09SRV9FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlSXNOYXRpdmUodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGBudWxsYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYG51bGxgLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNOdWxsKG51bGwpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOdWxsKHZvaWQgMCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc051bGwodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBgbnVsbGAgb3IgYHVuZGVmaW5lZGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG51bGxpc2gsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc05pbChudWxsKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTmlsKHZvaWQgMCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc05pbChOYU4pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNOaWwodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgTnVtYmVyYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRvIGV4Y2x1ZGUgYEluZmluaXR5YCwgYC1JbmZpbml0eWAsIGFuZCBgTmFOYCwgd2hpY2ggYXJlXG4gICAgICogY2xhc3NpZmllZCBhcyBudW1iZXJzLCB1c2UgdGhlIGBfLmlzRmluaXRlYCBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbnVtYmVyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNOdW1iZXIoMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc051bWJlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTnVtYmVyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTnVtYmVyKCczJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc051bWJlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyB8fFxuICAgICAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBudW1iZXJUYWcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgcGxhaW4gb2JqZWN0LCB0aGF0IGlzLCBhbiBvYmplY3QgY3JlYXRlZCBieSB0aGVcbiAgICAgKiBgT2JqZWN0YCBjb25zdHJ1Y3RvciBvciBvbmUgd2l0aCBhIGBbW1Byb3RvdHlwZV1dYCBvZiBgbnVsbGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC44LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcGxhaW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5pc1BsYWluT2JqZWN0KG5ldyBGb28pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzUGxhaW5PYmplY3QoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc1BsYWluT2JqZWN0KHsgJ3gnOiAwLCAneSc6IDAgfSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1BsYWluT2JqZWN0KE9iamVjdC5jcmVhdGUobnVsbCkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1BsYWluT2JqZWN0KHZhbHVlKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkgfHwgYmFzZUdldFRhZyh2YWx1ZSkgIT0gb2JqZWN0VGFnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBwcm90byA9IGdldFByb3RvdHlwZSh2YWx1ZSk7XG4gICAgICBpZiAocHJvdG8gPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICB2YXIgQ3RvciA9IGhhc093blByb3BlcnR5LmNhbGwocHJvdG8sICdjb25zdHJ1Y3RvcicpICYmIHByb3RvLmNvbnN0cnVjdG9yO1xuICAgICAgcmV0dXJuIHR5cGVvZiBDdG9yID09ICdmdW5jdGlvbicgJiYgQ3RvciBpbnN0YW5jZW9mIEN0b3IgJiZcbiAgICAgICAgZnVuY1RvU3RyaW5nLmNhbGwoQ3RvcikgPT0gb2JqZWN0Q3RvclN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFJlZ0V4cGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHJlZ2V4cCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzUmVnRXhwKC9hYmMvKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzUmVnRXhwKCcvYWJjLycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzUmVnRXhwID0gbm9kZUlzUmVnRXhwID8gYmFzZVVuYXJ5KG5vZGVJc1JlZ0V4cCkgOiBiYXNlSXNSZWdFeHA7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHNhZmUgaW50ZWdlci4gQW4gaW50ZWdlciBpcyBzYWZlIGlmIGl0J3MgYW4gSUVFRS03NTRcbiAgICAgKiBkb3VibGUgcHJlY2lzaW9uIG51bWJlciB3aGljaCBpc24ndCB0aGUgcmVzdWx0IG9mIGEgcm91bmRlZCB1bnNhZmUgaW50ZWdlci5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgTnVtYmVyLmlzU2FmZUludGVnZXJgXShodHRwczovL21kbi5pby9OdW1iZXIvaXNTYWZlSW50ZWdlcikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc2FmZSBpbnRlZ2VyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNTYWZlSW50ZWdlcigzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzU2FmZUludGVnZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNTYWZlSW50ZWdlcihJbmZpbml0eSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNTYWZlSW50ZWdlcignMycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNTYWZlSW50ZWdlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzSW50ZWdlcih2YWx1ZSkgJiYgdmFsdWUgPj0gLU1BWF9TQUZFX0lOVEVHRVIgJiYgdmFsdWUgPD0gTUFYX1NBRkVfSU5URUdFUjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFNldGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMy4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHNldCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzU2V0KG5ldyBTZXQpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNTZXQobmV3IFdlYWtTZXQpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzU2V0ID0gbm9kZUlzU2V0ID8gYmFzZVVuYXJ5KG5vZGVJc1NldCkgOiBiYXNlSXNTZXQ7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFN0cmluZ2AgcHJpbWl0aXZlIG9yIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzdHJpbmcsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1N0cmluZygnYWJjJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1N0cmluZygxKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzU3RyaW5nKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdzdHJpbmcnIHx8XG4gICAgICAgICghaXNBcnJheSh2YWx1ZSkgJiYgaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBzdHJpbmdUYWcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU3ltYm9sYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHN5bWJvbCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzU3ltYm9sKFN5bWJvbC5pdGVyYXRvcik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1N5bWJvbCgnYWJjJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1N5bWJvbCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnc3ltYm9sJyB8fFxuICAgICAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBzeW1ib2xUYWcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSB0eXBlZCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB0eXBlZCBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzVHlwZWRBcnJheShuZXcgVWludDhBcnJheSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1R5cGVkQXJyYXkoW10pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzVHlwZWRBcnJheSA9IG5vZGVJc1R5cGVkQXJyYXkgPyBiYXNlVW5hcnkobm9kZUlzVHlwZWRBcnJheSkgOiBiYXNlSXNUeXBlZEFycmF5O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYHVuZGVmaW5lZGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGB1bmRlZmluZWRgLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNVbmRlZmluZWQodm9pZCAwKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzVW5kZWZpbmVkKG51bGwpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNVbmRlZmluZWQodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgV2Vha01hcGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMy4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHdlYWsgbWFwLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNXZWFrTWFwKG5ldyBXZWFrTWFwKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzV2Vha01hcChuZXcgTWFwKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzV2Vha01hcCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgZ2V0VGFnKHZhbHVlKSA9PSB3ZWFrTWFwVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgV2Vha1NldGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMy4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHdlYWsgc2V0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNXZWFrU2V0KG5ldyBXZWFrU2V0KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzV2Vha1NldChuZXcgU2V0KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzV2Vha1NldCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gd2Vha1NldFRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsZXNzIHRoYW4gYG90aGVyYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjkuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGxlc3MgdGhhbiBgb3RoZXJgLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQHNlZSBfLmd0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubHQoMSwgMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5sdCgzLCAzKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5sdCgzLCAxKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBsdCA9IGNyZWF0ZVJlbGF0aW9uYWxPcGVyYXRpb24oYmFzZUx0KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxlc3MgdGhhbiBvciBlcXVhbCB0byBgb3RoZXJgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgbGVzcyB0aGFuIG9yIGVxdWFsIHRvXG4gICAgICogIGBvdGhlcmAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAc2VlIF8uZ3RlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubHRlKDEsIDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8ubHRlKDMsIDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8ubHRlKDMsIDEpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGx0ZSA9IGNyZWF0ZVJlbGF0aW9uYWxPcGVyYXRpb24oZnVuY3Rpb24odmFsdWUsIG90aGVyKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPD0gb3RoZXI7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGFuIGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvQXJyYXkoeyAnYSc6IDEsICdiJzogMiB9KTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIF8udG9BcnJheSgnYWJjJyk7XG4gICAgICogLy8gPT4gWydhJywgJ2InLCAnYyddXG4gICAgICpcbiAgICAgKiBfLnRvQXJyYXkoMSk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKlxuICAgICAqIF8udG9BcnJheShudWxsKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvQXJyYXkodmFsdWUpIHtcbiAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgaWYgKGlzQXJyYXlMaWtlKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gaXNTdHJpbmcodmFsdWUpID8gc3RyaW5nVG9BcnJheSh2YWx1ZSkgOiBjb3B5QXJyYXkodmFsdWUpO1xuICAgICAgfVxuICAgICAgaWYgKHN5bUl0ZXJhdG9yICYmIHZhbHVlW3N5bUl0ZXJhdG9yXSkge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JUb0FycmF5KHZhbHVlW3N5bUl0ZXJhdG9yXSgpKTtcbiAgICAgIH1cbiAgICAgIHZhciB0YWcgPSBnZXRUYWcodmFsdWUpLFxuICAgICAgICAgIGZ1bmMgPSB0YWcgPT0gbWFwVGFnID8gbWFwVG9BcnJheSA6ICh0YWcgPT0gc2V0VGFnID8gc2V0VG9BcnJheSA6IHZhbHVlcyk7XG5cbiAgICAgIHJldHVybiBmdW5jKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgZmluaXRlIG51bWJlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEyLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b0Zpbml0ZSgzLjIpO1xuICAgICAqIC8vID0+IDMuMlxuICAgICAqXG4gICAgICogXy50b0Zpbml0ZShOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiA1ZS0zMjRcbiAgICAgKlxuICAgICAqIF8udG9GaW5pdGUoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4XG4gICAgICpcbiAgICAgKiBfLnRvRmluaXRlKCczLjInKTtcbiAgICAgKiAvLyA9PiAzLjJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0Zpbml0ZSh2YWx1ZSkge1xuICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgPT09IDAgPyB2YWx1ZSA6IDA7XG4gICAgICB9XG4gICAgICB2YWx1ZSA9IHRvTnVtYmVyKHZhbHVlKTtcbiAgICAgIGlmICh2YWx1ZSA9PT0gSU5GSU5JVFkgfHwgdmFsdWUgPT09IC1JTkZJTklUWSkge1xuICAgICAgICB2YXIgc2lnbiA9ICh2YWx1ZSA8IDAgPyAtMSA6IDEpO1xuICAgICAgICByZXR1cm4gc2lnbiAqIE1BWF9JTlRFR0VSO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlID09PSB2YWx1ZSA/IHZhbHVlIDogMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGFuIGludGVnZXIuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvblxuICAgICAqIFtgVG9JbnRlZ2VyYF0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvaW50ZWdlcikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIGludGVnZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9JbnRlZ2VyKDMuMik7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy50b0ludGVnZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogXy50b0ludGVnZXIoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4XG4gICAgICpcbiAgICAgKiBfLnRvSW50ZWdlcignMy4yJyk7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvSW50ZWdlcih2YWx1ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IHRvRmluaXRlKHZhbHVlKSxcbiAgICAgICAgICByZW1haW5kZXIgPSByZXN1bHQgJSAxO1xuXG4gICAgICByZXR1cm4gcmVzdWx0ID09PSByZXN1bHQgPyAocmVtYWluZGVyID8gcmVzdWx0IC0gcmVtYWluZGVyIDogcmVzdWx0KSA6IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhbiBpbnRlZ2VyIHN1aXRhYmxlIGZvciB1c2UgYXMgdGhlIGxlbmd0aCBvZiBhblxuICAgICAqIGFycmF5LWxpa2Ugb2JqZWN0LlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG4gICAgICogW2BUb0xlbmd0aGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvbGVuZ3RoKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgaW50ZWdlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b0xlbmd0aCgzLjIpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8udG9MZW5ndGgoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogXy50b0xlbmd0aChJbmZpbml0eSk7XG4gICAgICogLy8gPT4gNDI5NDk2NzI5NVxuICAgICAqXG4gICAgICogXy50b0xlbmd0aCgnMy4yJyk7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvTGVuZ3RoKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPyBiYXNlQ2xhbXAodG9JbnRlZ2VyKHZhbHVlKSwgMCwgTUFYX0FSUkFZX0xFTkdUSCkgOiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBudW1iZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbnVtYmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvTnVtYmVyKDMuMik7XG4gICAgICogLy8gPT4gMy4yXG4gICAgICpcbiAgICAgKiBfLnRvTnVtYmVyKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IDVlLTMyNFxuICAgICAqXG4gICAgICogXy50b051bWJlcihJbmZpbml0eSk7XG4gICAgICogLy8gPT4gSW5maW5pdHlcbiAgICAgKlxuICAgICAqIF8udG9OdW1iZXIoJzMuMicpO1xuICAgICAqIC8vID0+IDMuMlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvTnVtYmVyKHZhbHVlKSB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIE5BTjtcbiAgICAgIH1cbiAgICAgIGlmIChpc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgdmFyIG90aGVyID0gdHlwZW9mIHZhbHVlLnZhbHVlT2YgPT0gJ2Z1bmN0aW9uJyA/IHZhbHVlLnZhbHVlT2YoKSA6IHZhbHVlO1xuICAgICAgICB2YWx1ZSA9IGlzT2JqZWN0KG90aGVyKSA/IChvdGhlciArICcnKSA6IG90aGVyO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gdmFsdWUgPT09IDAgPyB2YWx1ZSA6ICt2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHZhbHVlID0gYmFzZVRyaW0odmFsdWUpO1xuICAgICAgdmFyIGlzQmluYXJ5ID0gcmVJc0JpbmFyeS50ZXN0KHZhbHVlKTtcbiAgICAgIHJldHVybiAoaXNCaW5hcnkgfHwgcmVJc09jdGFsLnRlc3QodmFsdWUpKVxuICAgICAgICA/IGZyZWVQYXJzZUludCh2YWx1ZS5zbGljZSgyKSwgaXNCaW5hcnkgPyAyIDogOClcbiAgICAgICAgOiAocmVJc0JhZEhleC50ZXN0KHZhbHVlKSA/IE5BTiA6ICt2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIHBsYWluIG9iamVjdCBmbGF0dGVuaW5nIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZ1xuICAgICAqIGtleWVkIHByb3BlcnRpZXMgb2YgYHZhbHVlYCB0byBvd24gcHJvcGVydGllcyBvZiB0aGUgcGxhaW4gb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBwbGFpbiBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8uYXNzaWduKHsgJ2EnOiAxIH0sIG5ldyBGb28pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqXG4gICAgICogXy5hc3NpZ24oeyAnYSc6IDEgfSwgXy50b1BsYWluT2JqZWN0KG5ldyBGb28pKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDMgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvUGxhaW5PYmplY3QodmFsdWUpIHtcbiAgICAgIHJldHVybiBjb3B5T2JqZWN0KHZhbHVlLCBrZXlzSW4odmFsdWUpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc2FmZSBpbnRlZ2VyLiBBIHNhZmUgaW50ZWdlciBjYW4gYmUgY29tcGFyZWQgYW5kXG4gICAgICogcmVwcmVzZW50ZWQgY29ycmVjdGx5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBpbnRlZ2VyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvU2FmZUludGVnZXIoMy4yKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLnRvU2FmZUludGVnZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogXy50b1NhZmVJbnRlZ2VyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiA5MDA3MTk5MjU0NzQwOTkxXG4gICAgICpcbiAgICAgKiBfLnRvU2FmZUludGVnZXIoJzMuMicpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1NhZmVJbnRlZ2VyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWVcbiAgICAgICAgPyBiYXNlQ2xhbXAodG9JbnRlZ2VyKHZhbHVlKSwgLU1BWF9TQUZFX0lOVEVHRVIsIE1BWF9TQUZFX0lOVEVHRVIpXG4gICAgICAgIDogKHZhbHVlID09PSAwID8gdmFsdWUgOiAwKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nLiBBbiBlbXB0eSBzdHJpbmcgaXMgcmV0dXJuZWQgZm9yIGBudWxsYFxuICAgICAqIGFuZCBgdW5kZWZpbmVkYCB2YWx1ZXMuIFRoZSBzaWduIG9mIGAtMGAgaXMgcHJlc2VydmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9TdHJpbmcobnVsbCk7XG4gICAgICogLy8gPT4gJydcbiAgICAgKlxuICAgICAqIF8udG9TdHJpbmcoLTApO1xuICAgICAqIC8vID0+ICctMCdcbiAgICAgKlxuICAgICAqIF8udG9TdHJpbmcoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiAnMSwyLDMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9TdHJpbmcodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PSBudWxsID8gJycgOiBiYXNlVG9TdHJpbmcodmFsdWUpO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIEFzc2lnbnMgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2Ygc291cmNlIG9iamVjdHMgdG8gdGhlXG4gICAgICogZGVzdGluYXRpb24gb2JqZWN0LiBTb3VyY2Ugb2JqZWN0cyBhcmUgYXBwbGllZCBmcm9tIGxlZnQgdG8gcmlnaHQuXG4gICAgICogU3Vic2VxdWVudCBzb3VyY2VzIG92ZXJ3cml0ZSBwcm9wZXJ0eSBhc3NpZ25tZW50cyBvZiBwcmV2aW91cyBzb3VyY2VzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAgYW5kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAgICAgKiBbYE9iamVjdC5hc3NpZ25gXShodHRwczovL21kbi5pby9PYmplY3QvYXNzaWduKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEwLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlc10gVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmFzc2lnbkluXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gQmFyKCkge1xuICAgICAqICAgdGhpcy5jID0gMztcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmIgPSAyO1xuICAgICAqIEJhci5wcm90b3R5cGUuZCA9IDQ7XG4gICAgICpcbiAgICAgKiBfLmFzc2lnbih7ICdhJzogMCB9LCBuZXcgRm9vLCBuZXcgQmFyKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2MnOiAzIH1cbiAgICAgKi9cbiAgICB2YXIgYXNzaWduID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UpIHtcbiAgICAgIGlmIChpc1Byb3RvdHlwZShzb3VyY2UpIHx8IGlzQXJyYXlMaWtlKHNvdXJjZSkpIHtcbiAgICAgICAgY29weU9iamVjdChzb3VyY2UsIGtleXMoc291cmNlKSwgb2JqZWN0KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICBhc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgc291cmNlW2tleV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmFzc2lnbmAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBvd24gYW5kXG4gICAgICogaW5oZXJpdGVkIHNvdXJjZSBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAYWxpYXMgZXh0ZW5kXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5hc3NpZ25cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBCYXIoKSB7XG4gICAgICogICB0aGlzLmMgPSAzO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYiA9IDI7XG4gICAgICogQmFyLnByb3RvdHlwZS5kID0gNDtcbiAgICAgKlxuICAgICAqIF8uYXNzaWduSW4oeyAnYSc6IDAgfSwgbmV3IEZvbywgbmV3IEJhcik7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzLCAnZCc6IDQgfVxuICAgICAqL1xuICAgIHZhciBhc3NpZ25JbiA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlKSB7XG4gICAgICBjb3B5T2JqZWN0KHNvdXJjZSwga2V5c0luKHNvdXJjZSksIG9iamVjdCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmFzc2lnbkluYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgdG8gcHJvZHVjZSB0aGUgYXNzaWduZWQgdmFsdWVzLiBJZiBgY3VzdG9taXplcmAgcmV0dXJuc1xuICAgICAqIGB1bmRlZmluZWRgLCBhc3NpZ25tZW50IGlzIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgXG4gICAgICogaXMgaW52b2tlZCB3aXRoIGZpdmUgYXJndW1lbnRzOiAob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCwgc291cmNlKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGFsaWFzIGV4dGVuZFdpdGhcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBzb3VyY2VzIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uYXNzaWduV2l0aFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSkge1xuICAgICAqICAgcmV0dXJuIF8uaXNVbmRlZmluZWQob2JqVmFsdWUpID8gc3JjVmFsdWUgOiBvYmpWYWx1ZTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgZGVmYXVsdHMgPSBfLnBhcnRpYWxSaWdodChfLmFzc2lnbkluV2l0aCwgY3VzdG9taXplcik7XG4gICAgICpcbiAgICAgKiBkZWZhdWx0cyh7ICdhJzogMSB9LCB7ICdiJzogMiB9LCB7ICdhJzogMyB9KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKi9cbiAgICB2YXIgYXNzaWduSW5XaXRoID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyKSB7XG4gICAgICBjb3B5T2JqZWN0KHNvdXJjZSwga2V5c0luKHNvdXJjZSksIG9iamVjdCwgY3VzdG9taXplcik7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmFzc2lnbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIHRvIHByb2R1Y2UgdGhlIGFzc2lnbmVkIHZhbHVlcy4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnNcbiAgICAgKiBgdW5kZWZpbmVkYCwgYXNzaWdubWVudCBpcyBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYFxuICAgICAqIGlzIGludm9rZWQgd2l0aCBmaXZlIGFyZ3VtZW50czogKG9ialZhbHVlLCBzcmNWYWx1ZSwga2V5LCBvYmplY3QsIHNvdXJjZSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IHNvdXJjZXMgVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5hc3NpZ25JbldpdGhcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcihvYmpWYWx1ZSwgc3JjVmFsdWUpIHtcbiAgICAgKiAgIHJldHVybiBfLmlzVW5kZWZpbmVkKG9ialZhbHVlKSA/IHNyY1ZhbHVlIDogb2JqVmFsdWU7XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGRlZmF1bHRzID0gXy5wYXJ0aWFsUmlnaHQoXy5hc3NpZ25XaXRoLCBjdXN0b21pemVyKTtcbiAgICAgKlxuICAgICAqIGRlZmF1bHRzKHsgJ2EnOiAxIH0sIHsgJ2InOiAyIH0sIHsgJ2EnOiAzIH0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqL1xuICAgIHZhciBhc3NpZ25XaXRoID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyKSB7XG4gICAgICBjb3B5T2JqZWN0KHNvdXJjZSwga2V5cyhzb3VyY2UpLCBvYmplY3QsIGN1c3RvbWl6ZXIpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB2YWx1ZXMgY29ycmVzcG9uZGluZyB0byBgcGF0aHNgIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHsuLi4oc3RyaW5nfHN0cmluZ1tdKX0gW3BhdGhzXSBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHBpY2tlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH0sIDRdIH07XG4gICAgICpcbiAgICAgKiBfLmF0KG9iamVjdCwgWydhWzBdLmIuYycsICdhWzFdJ10pO1xuICAgICAqIC8vID0+IFszLCA0XVxuICAgICAqL1xuICAgIHZhciBhdCA9IGZsYXRSZXN0KGJhc2VBdCk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCB0aGF0IGluaGVyaXRzIGZyb20gdGhlIGBwcm90b3R5cGVgIG9iamVjdC4gSWYgYVxuICAgICAqIGBwcm9wZXJ0aWVzYCBvYmplY3QgaXMgZ2l2ZW4sIGl0cyBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllc1xuICAgICAqIGFyZSBhc3NpZ25lZCB0byB0aGUgY3JlYXRlZCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByb3RvdHlwZSBUaGUgb2JqZWN0IHRvIGluaGVyaXQgZnJvbS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3Byb3BlcnRpZXNdIFRoZSBwcm9wZXJ0aWVzIHRvIGFzc2lnbiB0byB0aGUgb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIFNoYXBlKCkge1xuICAgICAqICAgdGhpcy54ID0gMDtcbiAgICAgKiAgIHRoaXMueSA9IDA7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gQ2lyY2xlKCkge1xuICAgICAqICAgU2hhcGUuY2FsbCh0aGlzKTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBDaXJjbGUucHJvdG90eXBlID0gXy5jcmVhdGUoU2hhcGUucHJvdG90eXBlLCB7XG4gICAgICogICAnY29uc3RydWN0b3InOiBDaXJjbGVcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIHZhciBjaXJjbGUgPSBuZXcgQ2lyY2xlO1xuICAgICAqIGNpcmNsZSBpbnN0YW5jZW9mIENpcmNsZTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBjaXJjbGUgaW5zdGFuY2VvZiBTaGFwZTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlKHByb3RvdHlwZSwgcHJvcGVydGllcykge1xuICAgICAgdmFyIHJlc3VsdCA9IGJhc2VDcmVhdGUocHJvdG90eXBlKTtcbiAgICAgIHJldHVybiBwcm9wZXJ0aWVzID09IG51bGwgPyByZXN1bHQgOiBiYXNlQXNzaWduKHJlc3VsdCwgcHJvcGVydGllcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXNzaWducyBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIHNvdXJjZVxuICAgICAqIG9iamVjdHMgdG8gdGhlIGRlc3RpbmF0aW9uIG9iamVjdCBmb3IgYWxsIGRlc3RpbmF0aW9uIHByb3BlcnRpZXMgdGhhdFxuICAgICAqIHJlc29sdmUgdG8gYHVuZGVmaW5lZGAuIFNvdXJjZSBvYmplY3RzIGFyZSBhcHBsaWVkIGZyb20gbGVmdCB0byByaWdodC5cbiAgICAgKiBPbmNlIGEgcHJvcGVydHkgaXMgc2V0LCBhZGRpdGlvbmFsIHZhbHVlcyBvZiB0aGUgc2FtZSBwcm9wZXJ0eSBhcmUgaWdub3JlZC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5kZWZhdWx0c0RlZXBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWZhdWx0cyh7ICdhJzogMSB9LCB7ICdiJzogMiB9LCB7ICdhJzogMyB9KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKi9cbiAgICB2YXIgZGVmYXVsdHMgPSBiYXNlUmVzdChmdW5jdGlvbihvYmplY3QsIHNvdXJjZXMpIHtcbiAgICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMTtcbiAgICAgIHZhciBsZW5ndGggPSBzb3VyY2VzLmxlbmd0aDtcbiAgICAgIHZhciBndWFyZCA9IGxlbmd0aCA+IDIgPyBzb3VyY2VzWzJdIDogdW5kZWZpbmVkO1xuXG4gICAgICBpZiAoZ3VhcmQgJiYgaXNJdGVyYXRlZUNhbGwoc291cmNlc1swXSwgc291cmNlc1sxXSwgZ3VhcmQpKSB7XG4gICAgICAgIGxlbmd0aCA9IDE7XG4gICAgICB9XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBzb3VyY2UgPSBzb3VyY2VzW2luZGV4XTtcbiAgICAgICAgdmFyIHByb3BzID0ga2V5c0luKHNvdXJjZSk7XG4gICAgICAgIHZhciBwcm9wc0luZGV4ID0gLTE7XG4gICAgICAgIHZhciBwcm9wc0xlbmd0aCA9IHByb3BzLmxlbmd0aDtcblxuICAgICAgICB3aGlsZSAoKytwcm9wc0luZGV4IDwgcHJvcHNMZW5ndGgpIHtcbiAgICAgICAgICB2YXIga2V5ID0gcHJvcHNbcHJvcHNJbmRleF07XG4gICAgICAgICAgdmFyIHZhbHVlID0gb2JqZWN0W2tleV07XG5cbiAgICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgICAoZXEodmFsdWUsIG9iamVjdFByb3RvW2tleV0pICYmICFoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkpIHtcbiAgICAgICAgICAgIG9iamVjdFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmRlZmF1bHRzYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBhc3NpZ25zXG4gICAgICogZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4xMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5kZWZhdWx0c1xuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlZmF1bHRzRGVlcCh7ICdhJzogeyAnYic6IDIgfSB9LCB7ICdhJzogeyAnYic6IDEsICdjJzogMyB9IH0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiB7ICdiJzogMiwgJ2MnOiAzIH0gfVxuICAgICAqL1xuICAgIHZhciBkZWZhdWx0c0RlZXAgPSBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG4gICAgICBhcmdzLnB1c2godW5kZWZpbmVkLCBjdXN0b21EZWZhdWx0c01lcmdlKTtcbiAgICAgIHJldHVybiBhcHBseShtZXJnZVdpdGgsIHVuZGVmaW5lZCwgYXJncyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZpbmRgIGV4Y2VwdCB0aGF0IGl0IHJldHVybnMgdGhlIGtleSBvZiB0aGUgZmlyc3RcbiAgICAgKiBlbGVtZW50IGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvciBpbnN0ZWFkIG9mIHRoZSBlbGVtZW50IGl0c2VsZi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjEuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge3N0cmluZ3x1bmRlZmluZWR9IFJldHVybnMgdGhlIGtleSBvZiB0aGUgbWF0Y2hlZCBlbGVtZW50LFxuICAgICAqICBlbHNlIGB1bmRlZmluZWRgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSB7XG4gICAgICogICAnYmFybmV5JzogIHsgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgJ2ZyZWQnOiAgICB7ICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICAncGViYmxlcyc6IHsgJ2FnZSc6IDEsICAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8uZmluZEtleSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby5hZ2UgPCA0MDsgfSk7XG4gICAgICogLy8gPT4gJ2Jhcm5leScgKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kS2V5KHVzZXJzLCB7ICdhZ2UnOiAxLCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiAncGViYmxlcydcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRLZXkodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiAnZnJlZCdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZEtleSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+ICdiYXJuZXknXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZEtleShvYmplY3QsIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIGJhc2VGaW5kS2V5KG9iamVjdCwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgYmFzZUZvck93bik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kS2V5YCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mXG4gICAgICogYSBjb2xsZWN0aW9uIGluIHRoZSBvcHBvc2l0ZSBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge3N0cmluZ3x1bmRlZmluZWR9IFJldHVybnMgdGhlIGtleSBvZiB0aGUgbWF0Y2hlZCBlbGVtZW50LFxuICAgICAqICBlbHNlIGB1bmRlZmluZWRgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSB7XG4gICAgICogICAnYmFybmV5JzogIHsgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgJ2ZyZWQnOiAgICB7ICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICAncGViYmxlcyc6IHsgJ2FnZSc6IDEsICAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8uZmluZExhc3RLZXkodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8uYWdlIDwgNDA7IH0pO1xuICAgICAqIC8vID0+IHJldHVybnMgJ3BlYmJsZXMnIGFzc3VtaW5nIGBfLmZpbmRLZXlgIHJldHVybnMgJ2Jhcm5leSdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEtleSh1c2VycywgeyAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH0pO1xuICAgICAqIC8vID0+ICdiYXJuZXknXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEtleSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+ICdmcmVkJ1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEtleSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+ICdwZWJibGVzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRMYXN0S2V5KG9iamVjdCwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gYmFzZUZpbmRLZXkob2JqZWN0LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCBiYXNlRm9yT3duUmlnaHQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBhblxuICAgICAqIG9iamVjdCBhbmQgaW52b2tlcyBgaXRlcmF0ZWVgIGZvciBlYWNoIHByb3BlcnR5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGtleSwgb2JqZWN0KS4gSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0XG4gICAgICogaXRlcmF0aW9uIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5mb3JJblJpZ2h0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmZvckluKG5ldyBGb28sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnYScsICdiJywgdGhlbiAnYycgKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZCkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9ySW4ob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsXG4gICAgICAgID8gb2JqZWN0XG4gICAgICAgIDogYmFzZUZvcihvYmplY3QsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSwga2V5c0luKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZvckluYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIHByb3BlcnRpZXMgb2ZcbiAgICAgKiBgb2JqZWN0YCBpbiB0aGUgb3Bwb3NpdGUgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5mb3JJblxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5mb3JJblJpZ2h0KG5ldyBGb28sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnYycsICdiJywgdGhlbiAnYScgYXNzdW1pbmcgYF8uZm9ySW5gIGxvZ3MgJ2EnLCAnYicsIHRoZW4gJ2MnLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvckluUmlnaHQob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsXG4gICAgICAgID8gb2JqZWN0XG4gICAgICAgIDogYmFzZUZvclJpZ2h0KG9iamVjdCwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpLCBrZXlzSW4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2YgYW4gb2JqZWN0IGFuZFxuICAgICAqIGludm9rZXMgYGl0ZXJhdGVlYCBmb3IgZWFjaCBwcm9wZXJ0eS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCB0aHJlZVxuICAgICAqIGFyZ3VtZW50czogKHZhbHVlLCBrZXksIG9iamVjdCkuIEl0ZXJhdGVlIGZ1bmN0aW9ucyBtYXkgZXhpdCBpdGVyYXRpb25cbiAgICAgKiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uZm9yT3duUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8uZm9yT3duKG5ldyBGb28sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnYScgdGhlbiAnYicgKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZCkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9yT3duKG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgYmFzZUZvck93bihvYmplY3QsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mb3JPd25gIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgcHJvcGVydGllcyBvZlxuICAgICAqIGBvYmplY3RgIGluIHRoZSBvcHBvc2l0ZSBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmZvck93blxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5mb3JPd25SaWdodChuZXcgRm9vLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICogICBjb25zb2xlLmxvZyhrZXkpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgJ2InIHRoZW4gJ2EnIGFzc3VtaW5nIGBfLmZvck93bmAgbG9ncyAnYScgdGhlbiAnYicuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9yT3duUmlnaHQob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAmJiBiYXNlRm9yT3duUmlnaHQob2JqZWN0LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZnVuY3Rpb24gcHJvcGVydHkgbmFtZXMgZnJvbSBvd24gZW51bWVyYWJsZSBwcm9wZXJ0aWVzXG4gICAgICogb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBuYW1lcy5cbiAgICAgKiBAc2VlIF8uZnVuY3Rpb25zSW5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gXy5jb25zdGFudCgnYScpO1xuICAgICAqICAgdGhpcy5iID0gXy5jb25zdGFudCgnYicpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IF8uY29uc3RhbnQoJ2MnKTtcbiAgICAgKlxuICAgICAqIF8uZnVuY3Rpb25zKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsnYScsICdiJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmdW5jdGlvbnMob2JqZWN0KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBbXSA6IGJhc2VGdW5jdGlvbnMob2JqZWN0LCBrZXlzKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZnVuY3Rpb24gcHJvcGVydHkgbmFtZXMgZnJvbSBvd24gYW5kIGluaGVyaXRlZFxuICAgICAqIGVudW1lcmFibGUgcHJvcGVydGllcyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGZ1bmN0aW9uIG5hbWVzLlxuICAgICAqIEBzZWUgXy5mdW5jdGlvbnNcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gXy5jb25zdGFudCgnYScpO1xuICAgICAqICAgdGhpcy5iID0gXy5jb25zdGFudCgnYicpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IF8uY29uc3RhbnQoJ2MnKTtcbiAgICAgKlxuICAgICAqIF8uZnVuY3Rpb25zSW4obmV3IEZvbyk7XG4gICAgICogLy8gPT4gWydhJywgJ2InLCAnYyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gZnVuY3Rpb25zSW4ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBbXSA6IGJhc2VGdW5jdGlvbnMob2JqZWN0LCBrZXlzSW4ob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdmFsdWUgYXQgYHBhdGhgIG9mIGBvYmplY3RgLiBJZiB0aGUgcmVzb2x2ZWQgdmFsdWUgaXNcbiAgICAgKiBgdW5kZWZpbmVkYCwgdGhlIGBkZWZhdWx0VmFsdWVgIGlzIHJldHVybmVkIGluIGl0cyBwbGFjZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjcuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcGFyYW0geyp9IFtkZWZhdWx0VmFsdWVdIFRoZSB2YWx1ZSByZXR1cm5lZCBmb3IgYHVuZGVmaW5lZGAgcmVzb2x2ZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiAzIH0gfV0gfTtcbiAgICAgKlxuICAgICAqIF8uZ2V0KG9iamVjdCwgJ2FbMF0uYi5jJyk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5nZXQob2JqZWN0LCBbJ2EnLCAnMCcsICdiJywgJ2MnXSk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5nZXQob2JqZWN0LCAnYS5iLmMnLCAnZGVmYXVsdCcpO1xuICAgICAqIC8vID0+ICdkZWZhdWx0J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldChvYmplY3QsIHBhdGgsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogYmFzZUdldChvYmplY3QsIHBhdGgpO1xuICAgICAgcmV0dXJuIHJlc3VsdCA9PT0gdW5kZWZpbmVkID8gZGVmYXVsdFZhbHVlIDogcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgcGF0aGAgaXMgYSBkaXJlY3QgcHJvcGVydHkgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgcGF0aGAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogeyAnYic6IDIgfSB9O1xuICAgICAqIHZhciBvdGhlciA9IF8uY3JlYXRlKHsgJ2EnOiBfLmNyZWF0ZSh7ICdiJzogMiB9KSB9KTtcbiAgICAgKlxuICAgICAqIF8uaGFzKG9iamVjdCwgJ2EnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmhhcyhvYmplY3QsICdhLmInKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmhhcyhvYmplY3QsIFsnYScsICdiJ10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaGFzKG90aGVyLCAnYScpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzKG9iamVjdCwgcGF0aCkge1xuICAgICAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmIGhhc1BhdGgob2JqZWN0LCBwYXRoLCBiYXNlSGFzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHBhdGhgIGlzIGEgZGlyZWN0IG9yIGluaGVyaXRlZCBwcm9wZXJ0eSBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBwYXRoYCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IF8uY3JlYXRlKHsgJ2EnOiBfLmNyZWF0ZSh7ICdiJzogMiB9KSB9KTtcbiAgICAgKlxuICAgICAqIF8uaGFzSW4ob2JqZWN0LCAnYScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaGFzSW4ob2JqZWN0LCAnYS5iJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5oYXNJbihvYmplY3QsIFsnYScsICdiJ10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaGFzSW4ob2JqZWN0LCAnYicpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzSW4ob2JqZWN0LCBwYXRoKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICE9IG51bGwgJiYgaGFzUGF0aChvYmplY3QsIHBhdGgsIGJhc2VIYXNJbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlIGludmVydGVkIGtleXMgYW5kIHZhbHVlcyBvZiBgb2JqZWN0YC5cbiAgICAgKiBJZiBgb2JqZWN0YCBjb250YWlucyBkdXBsaWNhdGUgdmFsdWVzLCBzdWJzZXF1ZW50IHZhbHVlcyBvdmVyd3JpdGVcbiAgICAgKiBwcm9wZXJ0eSBhc3NpZ25tZW50cyBvZiBwcmV2aW91cyB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGludmVydC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgaW52ZXJ0ZWQgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiwgJ2MnOiAxIH07XG4gICAgICpcbiAgICAgKiBfLmludmVydChvYmplY3QpO1xuICAgICAqIC8vID0+IHsgJzEnOiAnYycsICcyJzogJ2InIH1cbiAgICAgKi9cbiAgICB2YXIgaW52ZXJ0ID0gY3JlYXRlSW52ZXJ0ZXIoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICBpZiAodmFsdWUgIT0gbnVsbCAmJlxuICAgICAgICAgIHR5cGVvZiB2YWx1ZS50b1N0cmluZyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhbHVlID0gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIHJlc3VsdFt2YWx1ZV0gPSBrZXk7XG4gICAgfSwgY29uc3RhbnQoaWRlbnRpdHkpKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaW52ZXJ0YCBleGNlcHQgdGhhdCB0aGUgaW52ZXJ0ZWQgb2JqZWN0IGlzIGdlbmVyYXRlZFxuICAgICAqIGZyb20gdGhlIHJlc3VsdHMgb2YgcnVubmluZyBlYWNoIGVsZW1lbnQgb2YgYG9iamVjdGAgdGhydSBgaXRlcmF0ZWVgLiBUaGVcbiAgICAgKiBjb3JyZXNwb25kaW5nIGludmVydGVkIHZhbHVlIG9mIGVhY2ggaW52ZXJ0ZWQga2V5IGlzIGFuIGFycmF5IG9mIGtleXNcbiAgICAgKiByZXNwb25zaWJsZSBmb3IgZ2VuZXJhdGluZyB0aGUgaW52ZXJ0ZWQgdmFsdWUuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkXG4gICAgICogd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGludmVydC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGludmVydGVkIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMSB9O1xuICAgICAqXG4gICAgICogXy5pbnZlcnRCeShvYmplY3QpO1xuICAgICAqIC8vID0+IHsgJzEnOiBbJ2EnLCAnYyddLCAnMic6IFsnYiddIH1cbiAgICAgKlxuICAgICAqIF8uaW52ZXJ0Qnkob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAqICAgcmV0dXJuICdncm91cCcgKyB2YWx1ZTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiB7ICdncm91cDEnOiBbJ2EnLCAnYyddLCAnZ3JvdXAyJzogWydiJ10gfVxuICAgICAqL1xuICAgIHZhciBpbnZlcnRCeSA9IGNyZWF0ZUludmVydGVyKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiZcbiAgICAgICAgICB0eXBlb2YgdmFsdWUudG9TdHJpbmcgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB2YWx1ZSA9IG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChyZXN1bHQsIHZhbHVlKSkge1xuICAgICAgICByZXN1bHRbdmFsdWVdLnB1c2goa2V5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdFt2YWx1ZV0gPSBba2V5XTtcbiAgICAgIH1cbiAgICB9LCBnZXRJdGVyYXRlZSk7XG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VzIHRoZSBtZXRob2QgYXQgYHBhdGhgIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgbWV0aG9kIHRvIGludm9rZS5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSB0aGUgbWV0aG9kIHdpdGguXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc3VsdCBvZiB0aGUgaW52b2tlZCBtZXRob2QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogWzEsIDIsIDMsIDRdIH0gfV0gfTtcbiAgICAgKlxuICAgICAqIF8uaW52b2tlKG9iamVjdCwgJ2FbMF0uYi5jLnNsaWNlJywgMSwgMyk7XG4gICAgICogLy8gPT4gWzIsIDNdXG4gICAgICovXG4gICAgdmFyIGludm9rZSA9IGJhc2VSZXN0KGJhc2VJbnZva2UpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy4gU2VlIHRoZVxuICAgICAqIFtFUyBzcGVjXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3Qua2V5cylcbiAgICAgKiBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5rZXlzKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsnYScsICdiJ10gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKlxuICAgICAqIF8ua2V5cygnaGknKTtcbiAgICAgKiAvLyA9PiBbJzAnLCAnMSddXG4gICAgICovXG4gICAgZnVuY3Rpb24ga2V5cyhvYmplY3QpIHtcbiAgICAgIHJldHVybiBpc0FycmF5TGlrZShvYmplY3QpID8gYXJyYXlMaWtlS2V5cyhvYmplY3QpIDogYmFzZUtleXMob2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmtleXNJbihuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYicsICdjJ10gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBrZXlzSW4ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2Uob2JqZWN0KSA/IGFycmF5TGlrZUtleXMob2JqZWN0LCB0cnVlKSA6IGJhc2VLZXlzSW4ob2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ubWFwVmFsdWVzYDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhbiBvYmplY3Qgd2l0aCB0aGVcbiAgICAgKiBzYW1lIHZhbHVlcyBhcyBgb2JqZWN0YCBhbmQga2V5cyBnZW5lcmF0ZWQgYnkgcnVubmluZyBlYWNoIG93biBlbnVtZXJhYmxlXG4gICAgICogc3RyaW5nIGtleWVkIHByb3BlcnR5IG9mIGBvYmplY3RgIHRocnUgYGl0ZXJhdGVlYC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBrZXksIG9iamVjdCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy44LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIG9iamVjdC5cbiAgICAgKiBAc2VlIF8ubWFwVmFsdWVzXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWFwS2V5cyh7ICdhJzogMSwgJ2InOiAyIH0sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIHJldHVybiBrZXkgKyB2YWx1ZTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiB7ICdhMSc6IDEsICdiMic6IDIgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcEtleXMob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgICAgaXRlcmF0ZWUgPSBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMyk7XG5cbiAgICAgIGJhc2VGb3JPd24ob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSwga2V5LCBvYmplY3QpIHtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKHJlc3VsdCwgaXRlcmF0ZWUodmFsdWUsIGtleSwgb2JqZWN0KSwgdmFsdWUpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IHdpdGggdGhlIHNhbWUga2V5cyBhcyBgb2JqZWN0YCBhbmQgdmFsdWVzIGdlbmVyYXRlZFxuICAgICAqIGJ5IHJ1bm5pbmcgZWFjaCBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydHkgb2YgYG9iamVjdGAgdGhydVxuICAgICAqIGBpdGVyYXRlZWAuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOlxuICAgICAqICh2YWx1ZSwga2V5LCBvYmplY3QpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuNC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBvYmplY3QuXG4gICAgICogQHNlZSBfLm1hcEtleXNcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0ge1xuICAgICAqICAgJ2ZyZWQnOiAgICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWdlJzogNDAgfSxcbiAgICAgKiAgICdwZWJibGVzJzogeyAndXNlcic6ICdwZWJibGVzJywgJ2FnZSc6IDEgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLm1hcFZhbHVlcyh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby5hZ2U7IH0pO1xuICAgICAqIC8vID0+IHsgJ2ZyZWQnOiA0MCwgJ3BlYmJsZXMnOiAxIH0gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ubWFwVmFsdWVzKHVzZXJzLCAnYWdlJyk7XG4gICAgICogLy8gPT4geyAnZnJlZCc6IDQwLCAncGViYmxlcyc6IDEgfSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcFZhbHVlcyhvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICBpdGVyYXRlZSA9IGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKTtcblxuICAgICAgYmFzZUZvck93bihvYmplY3QsIGZ1bmN0aW9uKHZhbHVlLCBrZXksIG9iamVjdCkge1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUocmVzdWx0LCBrZXksIGl0ZXJhdGVlKHZhbHVlLCBrZXksIG9iamVjdCkpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uYXNzaWduYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBtZXJnZXMgb3duIGFuZFxuICAgICAqIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIHNvdXJjZSBvYmplY3RzIGludG8gdGhlXG4gICAgICogZGVzdGluYXRpb24gb2JqZWN0LiBTb3VyY2UgcHJvcGVydGllcyB0aGF0IHJlc29sdmUgdG8gYHVuZGVmaW5lZGAgYXJlXG4gICAgICogc2tpcHBlZCBpZiBhIGRlc3RpbmF0aW9uIHZhbHVlIGV4aXN0cy4gQXJyYXkgYW5kIHBsYWluIG9iamVjdCBwcm9wZXJ0aWVzXG4gICAgICogYXJlIG1lcmdlZCByZWN1cnNpdmVseS4gT3RoZXIgb2JqZWN0cyBhbmQgdmFsdWUgdHlwZXMgYXJlIG92ZXJyaWRkZW4gYnlcbiAgICAgKiBhc3NpZ25tZW50LiBTb3VyY2Ugb2JqZWN0cyBhcmUgYXBwbGllZCBmcm9tIGxlZnQgdG8gcmlnaHQuIFN1YnNlcXVlbnRcbiAgICAgKiBzb3VyY2VzIG92ZXJ3cml0ZSBwcm9wZXJ0eSBhc3NpZ25tZW50cyBvZiBwcmV2aW91cyBzb3VyY2VzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC41LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlc10gVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7XG4gICAgICogICAnYSc6IFt7ICdiJzogMiB9LCB7ICdkJzogNCB9XVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgb3RoZXIgPSB7XG4gICAgICogICAnYSc6IFt7ICdjJzogMyB9LCB7ICdlJzogNSB9XVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLm1lcmdlKG9iamVjdCwgb3RoZXIpO1xuICAgICAqIC8vID0+IHsgJ2EnOiBbeyAnYic6IDIsICdjJzogMyB9LCB7ICdkJzogNCwgJ2UnOiA1IH1dIH1cbiAgICAgKi9cbiAgICB2YXIgbWVyZ2UgPSBjcmVhdGVBc3NpZ25lcihmdW5jdGlvbihvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgpIHtcbiAgICAgIGJhc2VNZXJnZShvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5tZXJnZWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIHByb2R1Y2UgdGhlIG1lcmdlZCB2YWx1ZXMgb2YgdGhlIGRlc3RpbmF0aW9uIGFuZCBzb3VyY2VcbiAgICAgKiBwcm9wZXJ0aWVzLiBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYCwgbWVyZ2luZyBpcyBoYW5kbGVkIGJ5IHRoZVxuICAgICAqIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgIGlzIGludm9rZWQgd2l0aCBzaXggYXJndW1lbnRzOlxuICAgICAqIChvYmpWYWx1ZSwgc3JjVmFsdWUsIGtleSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gc291cmNlcyBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSkge1xuICAgICAqICAgaWYgKF8uaXNBcnJheShvYmpWYWx1ZSkpIHtcbiAgICAgKiAgICAgcmV0dXJuIG9ialZhbHVlLmNvbmNhdChzcmNWYWx1ZSk7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbMV0sICdiJzogWzJdIH07XG4gICAgICogdmFyIG90aGVyID0geyAnYSc6IFszXSwgJ2InOiBbNF0gfTtcbiAgICAgKlxuICAgICAqIF8ubWVyZ2VXaXRoKG9iamVjdCwgb3RoZXIsIGN1c3RvbWl6ZXIpO1xuICAgICAqIC8vID0+IHsgJ2EnOiBbMSwgM10sICdiJzogWzIsIDRdIH1cbiAgICAgKi9cbiAgICB2YXIgbWVyZ2VXaXRoID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyKSB7XG4gICAgICBiYXNlTWVyZ2Uob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5waWNrYDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlXG4gICAgICogb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0eSBwYXRocyBvZiBgb2JqZWN0YCB0aGF0IGFyZSBub3Qgb21pdHRlZC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBjb25zaWRlcmFibHkgc2xvd2VyIHRoYW4gYF8ucGlja2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLihzdHJpbmd8c3RyaW5nW10pfSBbcGF0aHNdIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBvbWl0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAnMicsICdjJzogMyB9O1xuICAgICAqXG4gICAgICogXy5vbWl0KG9iamVjdCwgWydhJywgJ2MnXSk7XG4gICAgICogLy8gPT4geyAnYic6ICcyJyB9XG4gICAgICovXG4gICAgdmFyIG9taXQgPSBmbGF0UmVzdChmdW5jdGlvbihvYmplY3QsIHBhdGhzKSB7XG4gICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHZhciBpc0RlZXAgPSBmYWxzZTtcbiAgICAgIHBhdGhzID0gYXJyYXlNYXAocGF0aHMsIGZ1bmN0aW9uKHBhdGgpIHtcbiAgICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG4gICAgICAgIGlzRGVlcCB8fCAoaXNEZWVwID0gcGF0aC5sZW5ndGggPiAxKTtcbiAgICAgICAgcmV0dXJuIHBhdGg7XG4gICAgICB9KTtcbiAgICAgIGNvcHlPYmplY3Qob2JqZWN0LCBnZXRBbGxLZXlzSW4ob2JqZWN0KSwgcmVzdWx0KTtcbiAgICAgIGlmIChpc0RlZXApIHtcbiAgICAgICAgcmVzdWx0ID0gYmFzZUNsb25lKHJlc3VsdCwgQ0xPTkVfREVFUF9GTEFHIHwgQ0xPTkVfRkxBVF9GTEFHIHwgQ0xPTkVfU1lNQk9MU19GTEFHLCBjdXN0b21PbWl0Q2xvbmUpO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IHBhdGhzLmxlbmd0aDtcbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICBiYXNlVW5zZXQocmVzdWx0LCBwYXRoc1tsZW5ndGhdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ucGlja0J5YDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2ZcbiAgICAgKiB0aGUgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBgb2JqZWN0YCB0aGF0XG4gICAgICogYHByZWRpY2F0ZWAgZG9lc24ndCByZXR1cm4gdHJ1dGh5IGZvci4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGggdHdvXG4gICAgICogYXJndW1lbnRzOiAodmFsdWUsIGtleSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBwcm9wZXJ0eS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogJzInLCAnYyc6IDMgfTtcbiAgICAgKlxuICAgICAqIF8ub21pdEJ5KG9iamVjdCwgXy5pc051bWJlcik7XG4gICAgICogLy8gPT4geyAnYic6ICcyJyB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gb21pdEJ5KG9iamVjdCwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gcGlja0J5KG9iamVjdCwgbmVnYXRlKGdldEl0ZXJhdGVlKHByZWRpY2F0ZSkpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiB0aGUgcGlja2VkIGBvYmplY3RgIHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLihzdHJpbmd8c3RyaW5nW10pfSBbcGF0aHNdIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBwaWNrLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAnMicsICdjJzogMyB9O1xuICAgICAqXG4gICAgICogXy5waWNrKG9iamVjdCwgWydhJywgJ2MnXSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdjJzogMyB9XG4gICAgICovXG4gICAgdmFyIHBpY2sgPSBmbGF0UmVzdChmdW5jdGlvbihvYmplY3QsIHBhdGhzKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB7fSA6IGJhc2VQaWNrKG9iamVjdCwgcGF0aHMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlIGBvYmplY3RgIHByb3BlcnRpZXMgYHByZWRpY2F0ZWAgcmV0dXJuc1xuICAgICAqIHRydXRoeSBmb3IuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoIHR3byBhcmd1bWVudHM6ICh2YWx1ZSwga2V5KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIHByb3BlcnR5LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAnMicsICdjJzogMyB9O1xuICAgICAqXG4gICAgICogXy5waWNrQnkob2JqZWN0LCBfLmlzTnVtYmVyKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2MnOiAzIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwaWNrQnkob2JqZWN0LCBwcmVkaWNhdGUpIHtcbiAgICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgICB9XG4gICAgICB2YXIgcHJvcHMgPSBhcnJheU1hcChnZXRBbGxLZXlzSW4ob2JqZWN0KSwgZnVuY3Rpb24ocHJvcCkge1xuICAgICAgICByZXR1cm4gW3Byb3BdO1xuICAgICAgfSk7XG4gICAgICBwcmVkaWNhdGUgPSBnZXRJdGVyYXRlZShwcmVkaWNhdGUpO1xuICAgICAgcmV0dXJuIGJhc2VQaWNrQnkob2JqZWN0LCBwcm9wcywgZnVuY3Rpb24odmFsdWUsIHBhdGgpIHtcbiAgICAgICAgcmV0dXJuIHByZWRpY2F0ZSh2YWx1ZSwgcGF0aFswXSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmdldGAgZXhjZXB0IHRoYXQgaWYgdGhlIHJlc29sdmVkIHZhbHVlIGlzIGFcbiAgICAgKiBmdW5jdGlvbiBpdCdzIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgaXRzIHBhcmVudCBvYmplY3QgYW5kXG4gICAgICogaXRzIHJlc3VsdCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHJlc29sdmUuXG4gICAgICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlXSBUaGUgdmFsdWUgcmV0dXJuZWQgZm9yIGB1bmRlZmluZWRgIHJlc29sdmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjMSc6IDMsICdjMic6IF8uY29uc3RhbnQoNCkgfSB9XSB9O1xuICAgICAqXG4gICAgICogXy5yZXN1bHQob2JqZWN0LCAnYVswXS5iLmMxJyk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5yZXN1bHQob2JqZWN0LCAnYVswXS5iLmMyJyk7XG4gICAgICogLy8gPT4gNFxuICAgICAqXG4gICAgICogXy5yZXN1bHQob2JqZWN0LCAnYVswXS5iLmMzJywgJ2RlZmF1bHQnKTtcbiAgICAgKiAvLyA9PiAnZGVmYXVsdCdcbiAgICAgKlxuICAgICAqIF8ucmVzdWx0KG9iamVjdCwgJ2FbMF0uYi5jMycsIF8uY29uc3RhbnQoJ2RlZmF1bHQnKSk7XG4gICAgICogLy8gPT4gJ2RlZmF1bHQnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVzdWx0KG9iamVjdCwgcGF0aCwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcblxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcGF0aC5sZW5ndGg7XG5cbiAgICAgIC8vIEVuc3VyZSB0aGUgbG9vcCBpcyBlbnRlcmVkIHdoZW4gcGF0aCBpcyBlbXB0eS5cbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIGxlbmd0aCA9IDE7XG4gICAgICAgIG9iamVjdCA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W3RvS2V5KHBhdGhbaW5kZXhdKV07XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaW5kZXggPSBsZW5ndGg7XG4gICAgICAgICAgdmFsdWUgPSBkZWZhdWx0VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgb2JqZWN0ID0gaXNGdW5jdGlvbih2YWx1ZSkgPyB2YWx1ZS5jYWxsKG9iamVjdCkgOiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgdmFsdWUgYXQgYHBhdGhgIG9mIGBvYmplY3RgLiBJZiBhIHBvcnRpb24gb2YgYHBhdGhgIGRvZXNuJ3QgZXhpc3QsXG4gICAgICogaXQncyBjcmVhdGVkLiBBcnJheXMgYXJlIGNyZWF0ZWQgZm9yIG1pc3NpbmcgaW5kZXggcHJvcGVydGllcyB3aGlsZSBvYmplY3RzXG4gICAgICogYXJlIGNyZWF0ZWQgZm9yIGFsbCBvdGhlciBtaXNzaW5nIHByb3BlcnRpZXMuIFVzZSBgXy5zZXRXaXRoYCB0byBjdXN0b21pemVcbiAgICAgKiBgcGF0aGAgY3JlYXRpb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjcuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH1dIH07XG4gICAgICpcbiAgICAgKiBfLnNldChvYmplY3QsICdhWzBdLmIuYycsIDQpO1xuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdC5hWzBdLmIuYyk7XG4gICAgICogLy8gPT4gNFxuICAgICAqXG4gICAgICogXy5zZXQob2JqZWN0LCBbJ3gnLCAnMCcsICd5JywgJ3onXSwgNSk7XG4gICAgICogY29uc29sZS5sb2cob2JqZWN0LnhbMF0ueS56KTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0KG9iamVjdCwgcGF0aCwgdmFsdWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IG9iamVjdCA6IGJhc2VTZXQob2JqZWN0LCBwYXRoLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zZXRgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCB0byBwcm9kdWNlIHRoZSBvYmplY3RzIG9mIGBwYXRoYC4gIElmIGBjdXN0b21pemVyYCByZXR1cm5zIGB1bmRlZmluZWRgXG4gICAgICogcGF0aCBjcmVhdGlvbiBpcyBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYCBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aHJlZSBhcmd1bWVudHM6IChuc1ZhbHVlLCBrZXksIG5zT2JqZWN0KS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgYXNzaWduZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7fTtcbiAgICAgKlxuICAgICAqIF8uc2V0V2l0aChvYmplY3QsICdbMF1bMV0nLCAnYScsIE9iamVjdCk7XG4gICAgICogLy8gPT4geyAnMCc6IHsgJzEnOiAnYScgfSB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0V2l0aChvYmplY3QsIHBhdGgsIHZhbHVlLCBjdXN0b21pemVyKSB7XG4gICAgICBjdXN0b21pemVyID0gdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJyA/IGN1c3RvbWl6ZXIgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBvYmplY3QgOiBiYXNlU2V0KG9iamVjdCwgcGF0aCwgdmFsdWUsIGN1c3RvbWl6ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkLXZhbHVlIHBhaXJzIGZvciBgb2JqZWN0YFxuICAgICAqIHdoaWNoIGNhbiBiZSBjb25zdW1lZCBieSBgXy5mcm9tUGFpcnNgLiBJZiBgb2JqZWN0YCBpcyBhIG1hcCBvciBzZXQsIGl0c1xuICAgICAqIGVudHJpZXMgYXJlIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGFsaWFzIGVudHJpZXNcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy50b1BhaXJzKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFtbJ2EnLCAxXSwgWydiJywgMl1dIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICovXG4gICAgdmFyIHRvUGFpcnMgPSBjcmVhdGVUb1BhaXJzKGtleXMpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZC12YWx1ZSBwYWlyc1xuICAgICAqIGZvciBgb2JqZWN0YCB3aGljaCBjYW4gYmUgY29uc3VtZWQgYnkgYF8uZnJvbVBhaXJzYC4gSWYgYG9iamVjdGAgaXMgYSBtYXBcbiAgICAgKiBvciBzZXQsIGl0cyBlbnRyaWVzIGFyZSByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBhbGlhcyBlbnRyaWVzSW5cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy50b1BhaXJzSW4obmV3IEZvbyk7XG4gICAgICogLy8gPT4gW1snYScsIDFdLCBbJ2InLCAyXSwgWydjJywgM11dIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICovXG4gICAgdmFyIHRvUGFpcnNJbiA9IGNyZWF0ZVRvUGFpcnMoa2V5c0luKTtcblxuICAgIC8qKlxuICAgICAqIEFuIGFsdGVybmF0aXZlIHRvIGBfLnJlZHVjZWA7IHRoaXMgbWV0aG9kIHRyYW5zZm9ybXMgYG9iamVjdGAgdG8gYSBuZXdcbiAgICAgKiBgYWNjdW11bGF0b3JgIG9iamVjdCB3aGljaCBpcyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgZWFjaCBvZiBpdHMgb3duXG4gICAgICogZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyB0aHJ1IGBpdGVyYXRlZWAsIHdpdGggZWFjaCBpbnZvY2F0aW9uXG4gICAgICogcG90ZW50aWFsbHkgbXV0YXRpbmcgdGhlIGBhY2N1bXVsYXRvcmAgb2JqZWN0LiBJZiBgYWNjdW11bGF0b3JgIGlzIG5vdFxuICAgICAqIHByb3ZpZGVkLCBhIG5ldyBvYmplY3Qgd2l0aCB0aGUgc2FtZSBgW1tQcm90b3R5cGVdXWAgd2lsbCBiZSB1c2VkLiBUaGVcbiAgICAgKiBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggZm91ciBhcmd1bWVudHM6IChhY2N1bXVsYXRvciwgdmFsdWUsIGtleSwgb2JqZWN0KS5cbiAgICAgKiBJdGVyYXRlZSBmdW5jdGlvbnMgbWF5IGV4aXQgaXRlcmF0aW9uIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0geyp9IFthY2N1bXVsYXRvcl0gVGhlIGN1c3RvbSBhY2N1bXVsYXRvciB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udHJhbnNmb3JtKFsyLCAzLCA0XSwgZnVuY3Rpb24ocmVzdWx0LCBuKSB7XG4gICAgICogICByZXN1bHQucHVzaChuICo9IG4pO1xuICAgICAqICAgcmV0dXJuIG4gJSAyID09IDA7XG4gICAgICogfSwgW10pO1xuICAgICAqIC8vID0+IFs0LCA5XVxuICAgICAqXG4gICAgICogXy50cmFuc2Zvcm0oeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAxIH0sIGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAqICAgKHJlc3VsdFt2YWx1ZV0gfHwgKHJlc3VsdFt2YWx1ZV0gPSBbXSkpLnB1c2goa2V5KTtcbiAgICAgKiB9LCB7fSk7XG4gICAgICogLy8gPT4geyAnMSc6IFsnYScsICdjJ10sICcyJzogWydiJ10gfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyYW5zZm9ybShvYmplY3QsIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgICAgdmFyIGlzQXJyID0gaXNBcnJheShvYmplY3QpLFxuICAgICAgICAgIGlzQXJyTGlrZSA9IGlzQXJyIHx8IGlzQnVmZmVyKG9iamVjdCkgfHwgaXNUeXBlZEFycmF5KG9iamVjdCk7XG5cbiAgICAgIGl0ZXJhdGVlID0gZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDQpO1xuICAgICAgaWYgKGFjY3VtdWxhdG9yID09IG51bGwpIHtcbiAgICAgICAgdmFyIEN0b3IgPSBvYmplY3QgJiYgb2JqZWN0LmNvbnN0cnVjdG9yO1xuICAgICAgICBpZiAoaXNBcnJMaWtlKSB7XG4gICAgICAgICAgYWNjdW11bGF0b3IgPSBpc0FyciA/IG5ldyBDdG9yIDogW107XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICAgIGFjY3VtdWxhdG9yID0gaXNGdW5jdGlvbihDdG9yKSA/IGJhc2VDcmVhdGUoZ2V0UHJvdG90eXBlKG9iamVjdCkpIDoge307XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgYWNjdW11bGF0b3IgPSB7fTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgKGlzQXJyTGlrZSA/IGFycmF5RWFjaCA6IGJhc2VGb3JPd24pKG9iamVjdCwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdGVlKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaW5kZXgsIG9iamVjdCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBwcm9wZXJ0eSBhdCBgcGF0aGAgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byB1bnNldC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHByb3BlcnR5IGlzIGRlbGV0ZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiA3IH0gfV0gfTtcbiAgICAgKiBfLnVuc2V0KG9iamVjdCwgJ2FbMF0uYi5jJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob2JqZWN0KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogW3sgJ2InOiB7fSB9XSB9O1xuICAgICAqXG4gICAgICogXy51bnNldChvYmplY3QsIFsnYScsICcwJywgJ2InLCAnYyddKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3QpO1xuICAgICAqIC8vID0+IHsgJ2EnOiBbeyAnYic6IHt9IH1dIH07XG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5zZXQob2JqZWN0LCBwYXRoKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB0cnVlIDogYmFzZVVuc2V0KG9iamVjdCwgcGF0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zZXRgIGV4Y2VwdCB0aGF0IGFjY2VwdHMgYHVwZGF0ZXJgIHRvIHByb2R1Y2UgdGhlXG4gICAgICogdmFsdWUgdG8gc2V0LiBVc2UgYF8udXBkYXRlV2l0aGAgdG8gY3VzdG9taXplIGBwYXRoYCBjcmVhdGlvbi4gVGhlIGB1cGRhdGVyYFxuICAgICAqIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjYuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdXBkYXRlciBUaGUgZnVuY3Rpb24gdG8gcHJvZHVjZSB0aGUgdXBkYXRlZCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDMgfSB9XSB9O1xuICAgICAqXG4gICAgICogXy51cGRhdGUob2JqZWN0LCAnYVswXS5iLmMnLCBmdW5jdGlvbihuKSB7IHJldHVybiBuICogbjsgfSk7XG4gICAgICogY29uc29sZS5sb2cob2JqZWN0LmFbMF0uYi5jKTtcbiAgICAgKiAvLyA9PiA5XG4gICAgICpcbiAgICAgKiBfLnVwZGF0ZShvYmplY3QsICd4WzBdLnkueicsIGZ1bmN0aW9uKG4pIHsgcmV0dXJuIG4gPyBuICsgMSA6IDA7IH0pO1xuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdC54WzBdLnkueik7XG4gICAgICogLy8gPT4gMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVwZGF0ZShvYmplY3QsIHBhdGgsIHVwZGF0ZXIpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IG9iamVjdCA6IGJhc2VVcGRhdGUob2JqZWN0LCBwYXRoLCBjYXN0RnVuY3Rpb24odXBkYXRlcikpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udXBkYXRlYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgdG8gcHJvZHVjZSB0aGUgb2JqZWN0cyBvZiBgcGF0aGAuICBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYFxuICAgICAqIHBhdGggY3JlYXRpb24gaXMgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAobnNWYWx1ZSwga2V5LCBuc09iamVjdCkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjYuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdXBkYXRlciBUaGUgZnVuY3Rpb24gdG8gcHJvZHVjZSB0aGUgdXBkYXRlZCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHt9O1xuICAgICAqXG4gICAgICogXy51cGRhdGVXaXRoKG9iamVjdCwgJ1swXVsxXScsIF8uY29uc3RhbnQoJ2EnKSwgT2JqZWN0KTtcbiAgICAgKiAvLyA9PiB7ICcwJzogeyAnMSc6ICdhJyB9IH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1cGRhdGVXaXRoKG9iamVjdCwgcGF0aCwgdXBkYXRlciwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gb2JqZWN0IDogYmFzZVVwZGF0ZShvYmplY3QsIHBhdGgsIGNhc3RGdW5jdGlvbih1cGRhdGVyKSwgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnR5IHZhbHVlcyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBOb24tb2JqZWN0IHZhbHVlcyBhcmUgY29lcmNlZCB0byBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8udmFsdWVzKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsxLCAyXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqXG4gICAgICogXy52YWx1ZXMoJ2hpJyk7XG4gICAgICogLy8gPT4gWydoJywgJ2knXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHZhbHVlcyhvYmplY3QpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IFtdIDogYmFzZVZhbHVlcyhvYmplY3QsIGtleXMob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydHlcbiAgICAgKiB2YWx1ZXMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLnZhbHVlc0luKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHZhbHVlc0luKG9iamVjdCkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gW10gOiBiYXNlVmFsdWVzKG9iamVjdCwga2V5c0luKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENsYW1wcyBgbnVtYmVyYCB3aXRoaW4gdGhlIGluY2x1c2l2ZSBgbG93ZXJgIGFuZCBgdXBwZXJgIGJvdW5kcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBOdW1iZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gY2xhbXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsb3dlcl0gVGhlIGxvd2VyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB1cHBlciBUaGUgdXBwZXIgYm91bmQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY2xhbXBlZCBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2xhbXAoLTEwLCAtNSwgNSk7XG4gICAgICogLy8gPT4gLTVcbiAgICAgKlxuICAgICAqIF8uY2xhbXAoMTAsIC01LCA1KTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xhbXAobnVtYmVyLCBsb3dlciwgdXBwZXIpIHtcbiAgICAgIGlmICh1cHBlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHVwcGVyID0gbG93ZXI7XG4gICAgICAgIGxvd2VyID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgaWYgKHVwcGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdXBwZXIgPSB0b051bWJlcih1cHBlcik7XG4gICAgICAgIHVwcGVyID0gdXBwZXIgPT09IHVwcGVyID8gdXBwZXIgOiAwO1xuICAgICAgfVxuICAgICAgaWYgKGxvd2VyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbG93ZXIgPSB0b051bWJlcihsb3dlcik7XG4gICAgICAgIGxvd2VyID0gbG93ZXIgPT09IGxvd2VyID8gbG93ZXIgOiAwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VDbGFtcCh0b051bWJlcihudW1iZXIpLCBsb3dlciwgdXBwZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgbmAgaXMgYmV0d2VlbiBgc3RhcnRgIGFuZCB1cCB0bywgYnV0IG5vdCBpbmNsdWRpbmcsIGBlbmRgLiBJZlxuICAgICAqIGBlbmRgIGlzIG5vdCBzcGVjaWZpZWQsIGl0J3Mgc2V0IHRvIGBzdGFydGAgd2l0aCBgc3RhcnRgIHRoZW4gc2V0IHRvIGAwYC5cbiAgICAgKiBJZiBgc3RhcnRgIGlzIGdyZWF0ZXIgdGhhbiBgZW5kYCB0aGUgcGFyYW1zIGFyZSBzd2FwcGVkIHRvIHN1cHBvcnRcbiAgICAgKiBuZWdhdGl2ZSByYW5nZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTnVtYmVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgbnVtYmVyYCBpcyBpbiB0aGUgcmFuZ2UsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAc2VlIF8ucmFuZ2UsIF8ucmFuZ2VSaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoMywgMiwgNCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKDQsIDgpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaW5SYW5nZSg0LCAyKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKDIsIDIpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoMS4yLCAyKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoNS4yLCA0KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKC0zLCAtMiwgLTYpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpblJhbmdlKG51bWJlciwgc3RhcnQsIGVuZCkge1xuICAgICAgc3RhcnQgPSB0b0Zpbml0ZShzdGFydCk7XG4gICAgICBpZiAoZW5kID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZW5kID0gc3RhcnQ7XG4gICAgICAgIHN0YXJ0ID0gMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVuZCA9IHRvRmluaXRlKGVuZCk7XG4gICAgICB9XG4gICAgICBudW1iZXIgPSB0b051bWJlcihudW1iZXIpO1xuICAgICAgcmV0dXJuIGJhc2VJblJhbmdlKG51bWJlciwgc3RhcnQsIGVuZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJvZHVjZXMgYSByYW5kb20gbnVtYmVyIGJldHdlZW4gdGhlIGluY2x1c2l2ZSBgbG93ZXJgIGFuZCBgdXBwZXJgIGJvdW5kcy5cbiAgICAgKiBJZiBvbmx5IG9uZSBhcmd1bWVudCBpcyBwcm92aWRlZCBhIG51bWJlciBiZXR3ZWVuIGAwYCBhbmQgdGhlIGdpdmVuIG51bWJlclxuICAgICAqIGlzIHJldHVybmVkLiBJZiBgZmxvYXRpbmdgIGlzIGB0cnVlYCwgb3IgZWl0aGVyIGBsb3dlcmAgb3IgYHVwcGVyYCBhcmVcbiAgICAgKiBmbG9hdHMsIGEgZmxvYXRpbmctcG9pbnQgbnVtYmVyIGlzIHJldHVybmVkIGluc3RlYWQgb2YgYW4gaW50ZWdlci5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBKYXZhU2NyaXB0IGZvbGxvd3MgdGhlIElFRUUtNzU0IHN0YW5kYXJkIGZvciByZXNvbHZpbmdcbiAgICAgKiBmbG9hdGluZy1wb2ludCB2YWx1ZXMgd2hpY2ggY2FuIHByb2R1Y2UgdW5leHBlY3RlZCByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNy4wXG4gICAgICogQGNhdGVnb3J5IE51bWJlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbG93ZXI9MF0gVGhlIGxvd2VyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbdXBwZXI9MV0gVGhlIHVwcGVyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zsb2F0aW5nXSBTcGVjaWZ5IHJldHVybmluZyBhIGZsb2F0aW5nLXBvaW50IG51bWJlci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSByYW5kb20gbnVtYmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJhbmRvbSgwLCA1KTtcbiAgICAgKiAvLyA9PiBhbiBpbnRlZ2VyIGJldHdlZW4gMCBhbmQgNVxuICAgICAqXG4gICAgICogXy5yYW5kb20oNSk7XG4gICAgICogLy8gPT4gYWxzbyBhbiBpbnRlZ2VyIGJldHdlZW4gMCBhbmQgNVxuICAgICAqXG4gICAgICogXy5yYW5kb20oNSwgdHJ1ZSk7XG4gICAgICogLy8gPT4gYSBmbG9hdGluZy1wb2ludCBudW1iZXIgYmV0d2VlbiAwIGFuZCA1XG4gICAgICpcbiAgICAgKiBfLnJhbmRvbSgxLjIsIDUuMik7XG4gICAgICogLy8gPT4gYSBmbG9hdGluZy1wb2ludCBudW1iZXIgYmV0d2VlbiAxLjIgYW5kIDUuMlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJhbmRvbShsb3dlciwgdXBwZXIsIGZsb2F0aW5nKSB7XG4gICAgICBpZiAoZmxvYXRpbmcgJiYgdHlwZW9mIGZsb2F0aW5nICE9ICdib29sZWFuJyAmJiBpc0l0ZXJhdGVlQ2FsbChsb3dlciwgdXBwZXIsIGZsb2F0aW5nKSkge1xuICAgICAgICB1cHBlciA9IGZsb2F0aW5nID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgaWYgKGZsb2F0aW5nID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB1cHBlciA9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICBmbG9hdGluZyA9IHVwcGVyO1xuICAgICAgICAgIHVwcGVyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBsb3dlciA9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICBmbG9hdGluZyA9IGxvd2VyO1xuICAgICAgICAgIGxvd2VyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobG93ZXIgPT09IHVuZGVmaW5lZCAmJiB1cHBlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGxvd2VyID0gMDtcbiAgICAgICAgdXBwZXIgPSAxO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGxvd2VyID0gdG9GaW5pdGUobG93ZXIpO1xuICAgICAgICBpZiAodXBwZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHVwcGVyID0gbG93ZXI7XG4gICAgICAgICAgbG93ZXIgPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVwcGVyID0gdG9GaW5pdGUodXBwZXIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobG93ZXIgPiB1cHBlcikge1xuICAgICAgICB2YXIgdGVtcCA9IGxvd2VyO1xuICAgICAgICBsb3dlciA9IHVwcGVyO1xuICAgICAgICB1cHBlciA9IHRlbXA7XG4gICAgICB9XG4gICAgICBpZiAoZmxvYXRpbmcgfHwgbG93ZXIgJSAxIHx8IHVwcGVyICUgMSkge1xuICAgICAgICB2YXIgcmFuZCA9IG5hdGl2ZVJhbmRvbSgpO1xuICAgICAgICByZXR1cm4gbmF0aXZlTWluKGxvd2VyICsgKHJhbmQgKiAodXBwZXIgLSBsb3dlciArIGZyZWVQYXJzZUZsb2F0KCcxZS0nICsgKChyYW5kICsgJycpLmxlbmd0aCAtIDEpKSkpLCB1cHBlcik7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVJhbmRvbShsb3dlciwgdXBwZXIpO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvIFtjYW1lbCBjYXNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9DYW1lbENhc2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY2FtZWwgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNhbWVsQ2FzZSgnRm9vIEJhcicpO1xuICAgICAqIC8vID0+ICdmb29CYXInXG4gICAgICpcbiAgICAgKiBfLmNhbWVsQ2FzZSgnLS1mb28tYmFyLS0nKTtcbiAgICAgKiAvLyA9PiAnZm9vQmFyJ1xuICAgICAqXG4gICAgICogXy5jYW1lbENhc2UoJ19fRk9PX0JBUl9fJyk7XG4gICAgICogLy8gPT4gJ2Zvb0JhcidcbiAgICAgKi9cbiAgICB2YXIgY2FtZWxDYXNlID0gY3JlYXRlQ29tcG91bmRlcihmdW5jdGlvbihyZXN1bHQsIHdvcmQsIGluZGV4KSB7XG4gICAgICB3b3JkID0gd29yZC50b0xvd2VyQ2FzZSgpO1xuICAgICAgcmV0dXJuIHJlc3VsdCArIChpbmRleCA/IGNhcGl0YWxpemUod29yZCkgOiB3b3JkKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHRoZSBmaXJzdCBjaGFyYWN0ZXIgb2YgYHN0cmluZ2AgdG8gdXBwZXIgY2FzZSBhbmQgdGhlIHJlbWFpbmluZ1xuICAgICAqIHRvIGxvd2VyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY2FwaXRhbGl6ZS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjYXBpdGFsaXplZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2FwaXRhbGl6ZSgnRlJFRCcpO1xuICAgICAqIC8vID0+ICdGcmVkJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhcGl0YWxpemUoc3RyaW5nKSB7XG4gICAgICByZXR1cm4gdXBwZXJGaXJzdCh0b1N0cmluZyhzdHJpbmcpLnRvTG93ZXJDYXNlKCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlYnVycnMgYHN0cmluZ2AgYnkgY29udmVydGluZ1xuICAgICAqIFtMYXRpbi0xIFN1cHBsZW1lbnRdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xhdGluLTFfU3VwcGxlbWVudF8oVW5pY29kZV9ibG9jaykjQ2hhcmFjdGVyX3RhYmxlKVxuICAgICAqIGFuZCBbTGF0aW4gRXh0ZW5kZWQtQV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGF0aW5fRXh0ZW5kZWQtQSlcbiAgICAgKiBsZXR0ZXJzIHRvIGJhc2ljIExhdGluIGxldHRlcnMgYW5kIHJlbW92aW5nXG4gICAgICogW2NvbWJpbmluZyBkaWFjcml0aWNhbCBtYXJrc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29tYmluaW5nX0RpYWNyaXRpY2FsX01hcmtzKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBkZWJ1cnIuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZGVidXJyZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlYnVycignZMOpasOgIHZ1Jyk7XG4gICAgICogLy8gPT4gJ2RlamEgdnUnXG4gICAgICovXG4gICAgZnVuY3Rpb24gZGVidXJyKHN0cmluZykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHJldHVybiBzdHJpbmcgJiYgc3RyaW5nLnJlcGxhY2UocmVMYXRpbiwgZGVidXJyTGV0dGVyKS5yZXBsYWNlKHJlQ29tYm9NYXJrLCAnJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBzdHJpbmdgIGVuZHMgd2l0aCB0aGUgZ2l2ZW4gdGFyZ2V0IHN0cmluZy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdGFyZ2V0XSBUaGUgc3RyaW5nIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwb3NpdGlvbj1zdHJpbmcubGVuZ3RoXSBUaGUgcG9zaXRpb24gdG8gc2VhcmNoIHVwIHRvLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgc3RyaW5nYCBlbmRzIHdpdGggYHRhcmdldGAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5lbmRzV2l0aCgnYWJjJywgJ2MnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmVuZHNXaXRoKCdhYmMnLCAnYicpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmVuZHNXaXRoKCdhYmMnLCAnYicsIDIpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlbmRzV2l0aChzdHJpbmcsIHRhcmdldCwgcG9zaXRpb24pIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICB0YXJnZXQgPSBiYXNlVG9TdHJpbmcodGFyZ2V0KTtcblxuICAgICAgdmFyIGxlbmd0aCA9IHN0cmluZy5sZW5ndGg7XG4gICAgICBwb3NpdGlvbiA9IHBvc2l0aW9uID09PSB1bmRlZmluZWRcbiAgICAgICAgPyBsZW5ndGhcbiAgICAgICAgOiBiYXNlQ2xhbXAodG9JbnRlZ2VyKHBvc2l0aW9uKSwgMCwgbGVuZ3RoKTtcblxuICAgICAgdmFyIGVuZCA9IHBvc2l0aW9uO1xuICAgICAgcG9zaXRpb24gLT0gdGFyZ2V0Lmxlbmd0aDtcbiAgICAgIHJldHVybiBwb3NpdGlvbiA+PSAwICYmIHN0cmluZy5zbGljZShwb3NpdGlvbiwgZW5kKSA9PSB0YXJnZXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdGhlIGNoYXJhY3RlcnMgXCImXCIsIFwiPFwiLCBcIj5cIiwgJ1wiJywgYW5kIFwiJ1wiIGluIGBzdHJpbmdgIHRvIHRoZWlyXG4gICAgICogY29ycmVzcG9uZGluZyBIVE1MIGVudGl0aWVzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE5vIG90aGVyIGNoYXJhY3RlcnMgYXJlIGVzY2FwZWQuIFRvIGVzY2FwZSBhZGRpdGlvbmFsXG4gICAgICogY2hhcmFjdGVycyB1c2UgYSB0aGlyZC1wYXJ0eSBsaWJyYXJ5IGxpa2UgW19oZV9dKGh0dHBzOi8vbXRocy5iZS9oZSkuXG4gICAgICpcbiAgICAgKiBUaG91Z2ggdGhlIFwiPlwiIGNoYXJhY3RlciBpcyBlc2NhcGVkIGZvciBzeW1tZXRyeSwgY2hhcmFjdGVycyBsaWtlXG4gICAgICogXCI+XCIgYW5kIFwiL1wiIGRvbid0IG5lZWQgZXNjYXBpbmcgaW4gSFRNTCBhbmQgaGF2ZSBubyBzcGVjaWFsIG1lYW5pbmdcbiAgICAgKiB1bmxlc3MgdGhleSdyZSBwYXJ0IG9mIGEgdGFnIG9yIHVucXVvdGVkIGF0dHJpYnV0ZSB2YWx1ZS4gU2VlXG4gICAgICogW01hdGhpYXMgQnluZW5zJ3MgYXJ0aWNsZV0oaHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2FtYmlndW91cy1hbXBlcnNhbmRzKVxuICAgICAqICh1bmRlciBcInNlbWktcmVsYXRlZCBmdW4gZmFjdFwiKSBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqXG4gICAgICogV2hlbiB3b3JraW5nIHdpdGggSFRNTCB5b3Ugc2hvdWxkIGFsd2F5c1xuICAgICAqIFtxdW90ZSBhdHRyaWJ1dGUgdmFsdWVzXShodHRwOi8vd29ua28uY29tL3Bvc3QvaHRtbC1lc2NhcGluZykgdG8gcmVkdWNlXG4gICAgICogWFNTIHZlY3RvcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gZXNjYXBlLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGVzY2FwZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmVzY2FwZSgnZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiAnZnJlZCwgYmFybmV5LCAmYW1wOyBwZWJibGVzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVzY2FwZShzdHJpbmcpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICByZXR1cm4gKHN0cmluZyAmJiByZUhhc1VuZXNjYXBlZEh0bWwudGVzdChzdHJpbmcpKVxuICAgICAgICA/IHN0cmluZy5yZXBsYWNlKHJlVW5lc2NhcGVkSHRtbCwgZXNjYXBlSHRtbENoYXIpXG4gICAgICAgIDogc3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVzY2FwZXMgdGhlIGBSZWdFeHBgIHNwZWNpYWwgY2hhcmFjdGVycyBcIl5cIiwgXCIkXCIsIFwiXFxcIiwgXCIuXCIsIFwiKlwiLCBcIitcIixcbiAgICAgKiBcIj9cIiwgXCIoXCIsIFwiKVwiLCBcIltcIiwgXCJdXCIsIFwie1wiLCBcIn1cIiwgYW5kIFwifFwiIGluIGBzdHJpbmdgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGVzY2FwZS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlc2NhcGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5lc2NhcGVSZWdFeHAoJ1tsb2Rhc2hdKGh0dHBzOi8vbG9kYXNoLmNvbS8pJyk7XG4gICAgICogLy8gPT4gJ1xcW2xvZGFzaFxcXVxcKGh0dHBzOi8vbG9kYXNoXFwuY29tL1xcKSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlc2NhcGVSZWdFeHAoc3RyaW5nKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgcmV0dXJuIChzdHJpbmcgJiYgcmVIYXNSZWdFeHBDaGFyLnRlc3Qoc3RyaW5nKSlcbiAgICAgICAgPyBzdHJpbmcucmVwbGFjZShyZVJlZ0V4cENoYXIsICdcXFxcJCYnKVxuICAgICAgICA6IHN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0b1xuICAgICAqIFtrZWJhYiBjYXNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MZXR0ZXJfY2FzZSNTcGVjaWFsX2Nhc2Vfc3R5bGVzKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGtlYmFiIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5rZWJhYkNhc2UoJ0ZvbyBCYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vLWJhcidcbiAgICAgKlxuICAgICAqIF8ua2ViYWJDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vLWJhcidcbiAgICAgKlxuICAgICAqIF8ua2ViYWJDYXNlKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdmb28tYmFyJ1xuICAgICAqL1xuICAgIHZhciBrZWJhYkNhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnLScgOiAnJykgKyB3b3JkLnRvTG93ZXJDYXNlKCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCwgYXMgc3BhY2Ugc2VwYXJhdGVkIHdvcmRzLCB0byBsb3dlciBjYXNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgbG93ZXIgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmxvd2VyQ2FzZSgnLS1Gb28tQmFyLS0nKTtcbiAgICAgKiAvLyA9PiAnZm9vIGJhcidcbiAgICAgKlxuICAgICAqIF8ubG93ZXJDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vIGJhcidcbiAgICAgKlxuICAgICAqIF8ubG93ZXJDYXNlKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdmb28gYmFyJ1xuICAgICAqL1xuICAgIHZhciBsb3dlckNhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnICcgOiAnJykgKyB3b3JkLnRvTG93ZXJDYXNlKCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIGBzdHJpbmdgIHRvIGxvd2VyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmxvd2VyRmlyc3QoJ0ZyZWQnKTtcbiAgICAgKiAvLyA9PiAnZnJlZCdcbiAgICAgKlxuICAgICAqIF8ubG93ZXJGaXJzdCgnRlJFRCcpO1xuICAgICAqIC8vID0+ICdmUkVEJ1xuICAgICAqL1xuICAgIHZhciBsb3dlckZpcnN0ID0gY3JlYXRlQ2FzZUZpcnN0KCd0b0xvd2VyQ2FzZScpO1xuXG4gICAgLyoqXG4gICAgICogUGFkcyBgc3RyaW5nYCBvbiB0aGUgbGVmdCBhbmQgcmlnaHQgc2lkZXMgaWYgaXQncyBzaG9ydGVyIHRoYW4gYGxlbmd0aGAuXG4gICAgICogUGFkZGluZyBjaGFyYWN0ZXJzIGFyZSB0cnVuY2F0ZWQgaWYgdGhleSBjYW4ndCBiZSBldmVubHkgZGl2aWRlZCBieSBgbGVuZ3RoYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBwYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9MF0gVGhlIHBhZGRpbmcgbGVuZ3RoLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9JyAnXSBUaGUgc3RyaW5nIHVzZWQgYXMgcGFkZGluZy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBwYWRkZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnBhZCgnYWJjJywgOCk7XG4gICAgICogLy8gPT4gJyAgYWJjICAgJ1xuICAgICAqXG4gICAgICogXy5wYWQoJ2FiYycsIDgsICdfLScpO1xuICAgICAqIC8vID0+ICdfLWFiY18tXydcbiAgICAgKlxuICAgICAqIF8ucGFkKCdhYmMnLCAzKTtcbiAgICAgKiAvLyA9PiAnYWJjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhZChzdHJpbmcsIGxlbmd0aCwgY2hhcnMpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBsZW5ndGggPSB0b0ludGVnZXIobGVuZ3RoKTtcblxuICAgICAgdmFyIHN0ckxlbmd0aCA9IGxlbmd0aCA/IHN0cmluZ1NpemUoc3RyaW5nKSA6IDA7XG4gICAgICBpZiAoIWxlbmd0aCB8fCBzdHJMZW5ndGggPj0gbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgICB9XG4gICAgICB2YXIgbWlkID0gKGxlbmd0aCAtIHN0ckxlbmd0aCkgLyAyO1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgY3JlYXRlUGFkZGluZyhuYXRpdmVGbG9vcihtaWQpLCBjaGFycykgK1xuICAgICAgICBzdHJpbmcgK1xuICAgICAgICBjcmVhdGVQYWRkaW5nKG5hdGl2ZUNlaWwobWlkKSwgY2hhcnMpXG4gICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhZHMgYHN0cmluZ2Agb24gdGhlIHJpZ2h0IHNpZGUgaWYgaXQncyBzaG9ydGVyIHRoYW4gYGxlbmd0aGAuIFBhZGRpbmdcbiAgICAgKiBjaGFyYWN0ZXJzIGFyZSB0cnVuY2F0ZWQgaWYgdGhleSBleGNlZWQgYGxlbmd0aGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gcGFkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPTBdIFRoZSBwYWRkaW5nIGxlbmd0aC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPScgJ10gVGhlIHN0cmluZyB1c2VkIGFzIHBhZGRpbmcuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcGFkZGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5wYWRFbmQoJ2FiYycsIDYpO1xuICAgICAqIC8vID0+ICdhYmMgICAnXG4gICAgICpcbiAgICAgKiBfLnBhZEVuZCgnYWJjJywgNiwgJ18tJyk7XG4gICAgICogLy8gPT4gJ2FiY18tXydcbiAgICAgKlxuICAgICAqIF8ucGFkRW5kKCdhYmMnLCAzKTtcbiAgICAgKiAvLyA9PiAnYWJjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhZEVuZChzdHJpbmcsIGxlbmd0aCwgY2hhcnMpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBsZW5ndGggPSB0b0ludGVnZXIobGVuZ3RoKTtcblxuICAgICAgdmFyIHN0ckxlbmd0aCA9IGxlbmd0aCA/IHN0cmluZ1NpemUoc3RyaW5nKSA6IDA7XG4gICAgICByZXR1cm4gKGxlbmd0aCAmJiBzdHJMZW5ndGggPCBsZW5ndGgpXG4gICAgICAgID8gKHN0cmluZyArIGNyZWF0ZVBhZGRpbmcobGVuZ3RoIC0gc3RyTGVuZ3RoLCBjaGFycykpXG4gICAgICAgIDogc3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhZHMgYHN0cmluZ2Agb24gdGhlIGxlZnQgc2lkZSBpZiBpdCdzIHNob3J0ZXIgdGhhbiBgbGVuZ3RoYC4gUGFkZGluZ1xuICAgICAqIGNoYXJhY3RlcnMgYXJlIHRydW5jYXRlZCBpZiB0aGV5IGV4Y2VlZCBgbGVuZ3RoYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBwYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9MF0gVGhlIHBhZGRpbmcgbGVuZ3RoLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9JyAnXSBUaGUgc3RyaW5nIHVzZWQgYXMgcGFkZGluZy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBwYWRkZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnBhZFN0YXJ0KCdhYmMnLCA2KTtcbiAgICAgKiAvLyA9PiAnICAgYWJjJ1xuICAgICAqXG4gICAgICogXy5wYWRTdGFydCgnYWJjJywgNiwgJ18tJyk7XG4gICAgICogLy8gPT4gJ18tX2FiYydcbiAgICAgKlxuICAgICAqIF8ucGFkU3RhcnQoJ2FiYycsIDMpO1xuICAgICAqIC8vID0+ICdhYmMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcGFkU3RhcnQoc3RyaW5nLCBsZW5ndGgsIGNoYXJzKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgbGVuZ3RoID0gdG9JbnRlZ2VyKGxlbmd0aCk7XG5cbiAgICAgIHZhciBzdHJMZW5ndGggPSBsZW5ndGggPyBzdHJpbmdTaXplKHN0cmluZykgOiAwO1xuICAgICAgcmV0dXJuIChsZW5ndGggJiYgc3RyTGVuZ3RoIDwgbGVuZ3RoKVxuICAgICAgICA/IChjcmVhdGVQYWRkaW5nKGxlbmd0aCAtIHN0ckxlbmd0aCwgY2hhcnMpICsgc3RyaW5nKVxuICAgICAgICA6IHN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0byBhbiBpbnRlZ2VyIG9mIHRoZSBzcGVjaWZpZWQgcmFkaXguIElmIGByYWRpeGAgaXNcbiAgICAgKiBgdW5kZWZpbmVkYCBvciBgMGAsIGEgYHJhZGl4YCBvZiBgMTBgIGlzIHVzZWQgdW5sZXNzIGB2YWx1ZWAgaXMgYVxuICAgICAqIGhleGFkZWNpbWFsLCBpbiB3aGljaCBjYXNlIGEgYHJhZGl4YCBvZiBgMTZgIGlzIHVzZWQuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgYWxpZ25zIHdpdGggdGhlXG4gICAgICogW0VTNSBpbXBsZW1lbnRhdGlvbl0oaHR0cHM6Ly9lczUuZ2l0aHViLmlvLyN4MTUuMS4yLjIpIG9mIGBwYXJzZUludGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyYWRpeD0xMF0gVGhlIHJhZGl4IHRvIGludGVycHJldCBgdmFsdWVgIGJ5LlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIGludGVnZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucGFyc2VJbnQoJzA4Jyk7XG4gICAgICogLy8gPT4gOFxuICAgICAqXG4gICAgICogXy5tYXAoWyc2JywgJzA4JywgJzEwJ10sIF8ucGFyc2VJbnQpO1xuICAgICAqIC8vID0+IFs2LCA4LCAxMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwYXJzZUludChzdHJpbmcsIHJhZGl4LCBndWFyZCkge1xuICAgICAgaWYgKGd1YXJkIHx8IHJhZGl4ID09IG51bGwpIHtcbiAgICAgICAgcmFkaXggPSAwO1xuICAgICAgfSBlbHNlIGlmIChyYWRpeCkge1xuICAgICAgICByYWRpeCA9ICtyYWRpeDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuYXRpdmVQYXJzZUludCh0b1N0cmluZyhzdHJpbmcpLnJlcGxhY2UocmVUcmltU3RhcnQsICcnKSwgcmFkaXggfHwgMCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVwZWF0cyB0aGUgZ2l2ZW4gc3RyaW5nIGBuYCB0aW1lcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byByZXBlYXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gcmVwZWF0IHRoZSBzdHJpbmcuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSByZXBlYXRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucmVwZWF0KCcqJywgMyk7XG4gICAgICogLy8gPT4gJyoqKidcbiAgICAgKlxuICAgICAqIF8ucmVwZWF0KCdhYmMnLCAyKTtcbiAgICAgKiAvLyA9PiAnYWJjYWJjJ1xuICAgICAqXG4gICAgICogXy5yZXBlYXQoJ2FiYycsIDApO1xuICAgICAqIC8vID0+ICcnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVwZWF0KHN0cmluZywgbiwgZ3VhcmQpIHtcbiAgICAgIGlmICgoZ3VhcmQgPyBpc0l0ZXJhdGVlQ2FsbChzdHJpbmcsIG4sIGd1YXJkKSA6IG4gPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgbiA9IDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuID0gdG9JbnRlZ2VyKG4pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VSZXBlYXQodG9TdHJpbmcoc3RyaW5nKSwgbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVwbGFjZXMgbWF0Y2hlcyBmb3IgYHBhdHRlcm5gIGluIGBzdHJpbmdgIHdpdGggYHJlcGxhY2VtZW50YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgU3RyaW5nI3JlcGxhY2VgXShodHRwczovL21kbi5pby9TdHJpbmcvcmVwbGFjZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfHN0cmluZ30gcGF0dGVybiBUaGUgcGF0dGVybiB0byByZXBsYWNlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258c3RyaW5nfSByZXBsYWNlbWVudCBUaGUgbWF0Y2ggcmVwbGFjZW1lbnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgbW9kaWZpZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJlcGxhY2UoJ0hpIEZyZWQnLCAnRnJlZCcsICdCYXJuZXknKTtcbiAgICAgKiAvLyA9PiAnSGkgQmFybmV5J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlcGxhY2UoKSB7XG4gICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgICBzdHJpbmcgPSB0b1N0cmluZyhhcmdzWzBdKTtcblxuICAgICAgcmV0dXJuIGFyZ3MubGVuZ3RoIDwgMyA/IHN0cmluZyA6IHN0cmluZy5yZXBsYWNlKGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvXG4gICAgICogW3NuYWtlIGNhc2VdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1NuYWtlX2Nhc2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc25ha2UgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNuYWtlQ2FzZSgnRm9vIEJhcicpO1xuICAgICAqIC8vID0+ICdmb29fYmFyJ1xuICAgICAqXG4gICAgICogXy5zbmFrZUNhc2UoJ2Zvb0JhcicpO1xuICAgICAqIC8vID0+ICdmb29fYmFyJ1xuICAgICAqXG4gICAgICogXy5zbmFrZUNhc2UoJy0tRk9PLUJBUi0tJyk7XG4gICAgICogLy8gPT4gJ2Zvb19iYXInXG4gICAgICovXG4gICAgdmFyIHNuYWtlQ2FzZSA9IGNyZWF0ZUNvbXBvdW5kZXIoZnVuY3Rpb24ocmVzdWx0LCB3b3JkLCBpbmRleCkge1xuICAgICAgcmV0dXJuIHJlc3VsdCArIChpbmRleCA/ICdfJyA6ICcnKSArIHdvcmQudG9Mb3dlckNhc2UoKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFNwbGl0cyBgc3RyaW5nYCBieSBgc2VwYXJhdG9yYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgU3RyaW5nI3NwbGl0YF0oaHR0cHM6Ly9tZG4uaW8vU3RyaW5nL3NwbGl0KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBzcGxpdC5cbiAgICAgKiBAcGFyYW0ge1JlZ0V4cHxzdHJpbmd9IHNlcGFyYXRvciBUaGUgc2VwYXJhdG9yIHBhdHRlcm4gdG8gc3BsaXQgYnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsaW1pdF0gVGhlIGxlbmd0aCB0byB0cnVuY2F0ZSByZXN1bHRzIHRvLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc3RyaW5nIHNlZ21lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNwbGl0KCdhLWItYycsICctJywgMik7XG4gICAgICogLy8gPT4gWydhJywgJ2InXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNwbGl0KHN0cmluZywgc2VwYXJhdG9yLCBsaW1pdCkge1xuICAgICAgaWYgKGxpbWl0ICYmIHR5cGVvZiBsaW1pdCAhPSAnbnVtYmVyJyAmJiBpc0l0ZXJhdGVlQ2FsbChzdHJpbmcsIHNlcGFyYXRvciwgbGltaXQpKSB7XG4gICAgICAgIHNlcGFyYXRvciA9IGxpbWl0ID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgbGltaXQgPSBsaW1pdCA9PT0gdW5kZWZpbmVkID8gTUFYX0FSUkFZX0xFTkdUSCA6IGxpbWl0ID4+PiAwO1xuICAgICAgaWYgKCFsaW1pdCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgaWYgKHN0cmluZyAmJiAoXG4gICAgICAgICAgICB0eXBlb2Ygc2VwYXJhdG9yID09ICdzdHJpbmcnIHx8XG4gICAgICAgICAgICAoc2VwYXJhdG9yICE9IG51bGwgJiYgIWlzUmVnRXhwKHNlcGFyYXRvcikpXG4gICAgICAgICAgKSkge1xuICAgICAgICBzZXBhcmF0b3IgPSBiYXNlVG9TdHJpbmcoc2VwYXJhdG9yKTtcbiAgICAgICAgaWYgKCFzZXBhcmF0b3IgJiYgaGFzVW5pY29kZShzdHJpbmcpKSB7XG4gICAgICAgICAgcmV0dXJuIGNhc3RTbGljZShzdHJpbmdUb0FycmF5KHN0cmluZyksIDAsIGxpbWl0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHN0cmluZy5zcGxpdChzZXBhcmF0b3IsIGxpbWl0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0b1xuICAgICAqIFtzdGFydCBjYXNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MZXR0ZXJfY2FzZSNTdHlsaXN0aWNfb3Jfc3BlY2lhbGlzZWRfdXNhZ2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMS4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc3RhcnQgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnN0YXJ0Q2FzZSgnLS1mb28tYmFyLS0nKTtcbiAgICAgKiAvLyA9PiAnRm9vIEJhcidcbiAgICAgKlxuICAgICAqIF8uc3RhcnRDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnRm9vIEJhcidcbiAgICAgKlxuICAgICAqIF8uc3RhcnRDYXNlKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdGT08gQkFSJ1xuICAgICAqL1xuICAgIHZhciBzdGFydENhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnICcgOiAnJykgKyB1cHBlckZpcnN0KHdvcmQpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBzdHJpbmdgIHN0YXJ0cyB3aXRoIHRoZSBnaXZlbiB0YXJnZXQgc3RyaW5nLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt0YXJnZXRdIFRoZSBzdHJpbmcgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Bvc2l0aW9uPTBdIFRoZSBwb3NpdGlvbiB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHN0cmluZ2Agc3RhcnRzIHdpdGggYHRhcmdldGAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zdGFydHNXaXRoKCdhYmMnLCAnYScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uc3RhcnRzV2l0aCgnYWJjJywgJ2InKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5zdGFydHNXaXRoKCdhYmMnLCAnYicsIDEpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFydHNXaXRoKHN0cmluZywgdGFyZ2V0LCBwb3NpdGlvbikge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHBvc2l0aW9uID0gcG9zaXRpb24gPT0gbnVsbFxuICAgICAgICA/IDBcbiAgICAgICAgOiBiYXNlQ2xhbXAodG9JbnRlZ2VyKHBvc2l0aW9uKSwgMCwgc3RyaW5nLmxlbmd0aCk7XG5cbiAgICAgIHRhcmdldCA9IGJhc2VUb1N0cmluZyh0YXJnZXQpO1xuICAgICAgcmV0dXJuIHN0cmluZy5zbGljZShwb3NpdGlvbiwgcG9zaXRpb24gKyB0YXJnZXQubGVuZ3RoKSA9PSB0YXJnZXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNvbXBpbGVkIHRlbXBsYXRlIGZ1bmN0aW9uIHRoYXQgY2FuIGludGVycG9sYXRlIGRhdGEgcHJvcGVydGllc1xuICAgICAqIGluIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXJzLCBIVE1MLWVzY2FwZSBpbnRlcnBvbGF0ZWQgZGF0YSBwcm9wZXJ0aWVzIGluXG4gICAgICogXCJlc2NhcGVcIiBkZWxpbWl0ZXJzLCBhbmQgZXhlY3V0ZSBKYXZhU2NyaXB0IGluIFwiZXZhbHVhdGVcIiBkZWxpbWl0ZXJzLiBEYXRhXG4gICAgICogcHJvcGVydGllcyBtYXkgYmUgYWNjZXNzZWQgYXMgZnJlZSB2YXJpYWJsZXMgaW4gdGhlIHRlbXBsYXRlLiBJZiBhIHNldHRpbmdcbiAgICAgKiBvYmplY3QgaXMgZ2l2ZW4sIGl0IHRha2VzIHByZWNlZGVuY2Ugb3ZlciBgXy50ZW1wbGF0ZVNldHRpbmdzYCB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogSW4gdGhlIGRldmVsb3BtZW50IGJ1aWxkIGBfLnRlbXBsYXRlYCB1dGlsaXplc1xuICAgICAqIFtzb3VyY2VVUkxzXShodHRwOi8vd3d3Lmh0bWw1cm9ja3MuY29tL2VuL3R1dG9yaWFscy9kZXZlbG9wZXJ0b29scy9zb3VyY2VtYXBzLyN0b2Mtc291cmNldXJsKVxuICAgICAqIGZvciBlYXNpZXIgZGVidWdnaW5nLlxuICAgICAqXG4gICAgICogRm9yIG1vcmUgaW5mb3JtYXRpb24gb24gcHJlY29tcGlsaW5nIHRlbXBsYXRlcyBzZWVcbiAgICAgKiBbbG9kYXNoJ3MgY3VzdG9tIGJ1aWxkcyBkb2N1bWVudGF0aW9uXShodHRwczovL2xvZGFzaC5jb20vY3VzdG9tLWJ1aWxkcykuXG4gICAgICpcbiAgICAgKiBGb3IgbW9yZSBpbmZvcm1hdGlvbiBvbiBDaHJvbWUgZXh0ZW5zaW9uIHNhbmRib3hlcyBzZWVcbiAgICAgKiBbQ2hyb21lJ3MgZXh0ZW5zaW9ucyBkb2N1bWVudGF0aW9uXShodHRwczovL2RldmVsb3Blci5jaHJvbWUuY29tL2V4dGVuc2lvbnMvc2FuZGJveGluZ0V2YWwpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgdGVtcGxhdGUgc3RyaW5nLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfSBbb3B0aW9ucy5lc2NhcGU9Xy50ZW1wbGF0ZVNldHRpbmdzLmVzY2FwZV1cbiAgICAgKiAgVGhlIEhUTUwgXCJlc2NhcGVcIiBkZWxpbWl0ZXIuXG4gICAgICogQHBhcmFtIHtSZWdFeHB9IFtvcHRpb25zLmV2YWx1YXRlPV8udGVtcGxhdGVTZXR0aW5ncy5ldmFsdWF0ZV1cbiAgICAgKiAgVGhlIFwiZXZhbHVhdGVcIiBkZWxpbWl0ZXIuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLmltcG9ydHM9Xy50ZW1wbGF0ZVNldHRpbmdzLmltcG9ydHNdXG4gICAgICogIEFuIG9iamVjdCB0byBpbXBvcnQgaW50byB0aGUgdGVtcGxhdGUgYXMgZnJlZSB2YXJpYWJsZXMuXG4gICAgICogQHBhcmFtIHtSZWdFeHB9IFtvcHRpb25zLmludGVycG9sYXRlPV8udGVtcGxhdGVTZXR0aW5ncy5pbnRlcnBvbGF0ZV1cbiAgICAgKiAgVGhlIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnNvdXJjZVVSTD0nbG9kYXNoLnRlbXBsYXRlU291cmNlc1tuXSddXG4gICAgICogIFRoZSBzb3VyY2VVUkwgb2YgdGhlIGNvbXBpbGVkIHRlbXBsYXRlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy52YXJpYWJsZT0nb2JqJ11cbiAgICAgKiAgVGhlIGRhdGEgb2JqZWN0IHZhcmlhYmxlIG5hbWUuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGNvbXBpbGVkIHRlbXBsYXRlIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXIgdG8gY3JlYXRlIGEgY29tcGlsZWQgdGVtcGxhdGUuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGVsbG8gPCU9IHVzZXIgJT4hJyk7XG4gICAgICogY29tcGlsZWQoeyAndXNlcic6ICdmcmVkJyB9KTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gZnJlZCEnXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIEhUTUwgXCJlc2NhcGVcIiBkZWxpbWl0ZXIgdG8gZXNjYXBlIGRhdGEgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJzxiPjwlLSB2YWx1ZSAlPjwvYj4nKTtcbiAgICAgKiBjb21waWxlZCh7ICd2YWx1ZSc6ICc8c2NyaXB0PicgfSk7XG4gICAgICogLy8gPT4gJzxiPiZsdDtzY3JpcHQmZ3Q7PC9iPidcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgXCJldmFsdWF0ZVwiIGRlbGltaXRlciB0byBleGVjdXRlIEphdmFTY3JpcHQgYW5kIGdlbmVyYXRlIEhUTUwuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnPCUgXy5mb3JFYWNoKHVzZXJzLCBmdW5jdGlvbih1c2VyKSB7ICU+PGxpPjwlLSB1c2VyICU+PC9saT48JSB9KTsgJT4nKTtcbiAgICAgKiBjb21waWxlZCh7ICd1c2Vycyc6IFsnZnJlZCcsICdiYXJuZXknXSB9KTtcbiAgICAgKiAvLyA9PiAnPGxpPmZyZWQ8L2xpPjxsaT5iYXJuZXk8L2xpPidcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgaW50ZXJuYWwgYHByaW50YCBmdW5jdGlvbiBpbiBcImV2YWx1YXRlXCIgZGVsaW1pdGVycy5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCc8JSBwcmludChcImhlbGxvIFwiICsgdXNlcik7ICU+IScpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3VzZXInOiAnYmFybmV5JyB9KTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gYmFybmV5ISdcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgRVMgdGVtcGxhdGUgbGl0ZXJhbCBkZWxpbWl0ZXIgYXMgYW4gXCJpbnRlcnBvbGF0ZVwiIGRlbGltaXRlci5cbiAgICAgKiAvLyBEaXNhYmxlIHN1cHBvcnQgYnkgcmVwbGFjaW5nIHRoZSBcImludGVycG9sYXRlXCIgZGVsaW1pdGVyLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hlbGxvICR7IHVzZXIgfSEnKTtcbiAgICAgKiBjb21waWxlZCh7ICd1c2VyJzogJ3BlYmJsZXMnIH0pO1xuICAgICAqIC8vID0+ICdoZWxsbyBwZWJibGVzISdcbiAgICAgKlxuICAgICAqIC8vIFVzZSBiYWNrc2xhc2hlcyB0byB0cmVhdCBkZWxpbWl0ZXJzIGFzIHBsYWluIHRleHQuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnPCU9IFwiXFxcXDwlLSB2YWx1ZSAlXFxcXD5cIiAlPicpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3ZhbHVlJzogJ2lnbm9yZWQnIH0pO1xuICAgICAqIC8vID0+ICc8JS0gdmFsdWUgJT4nXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIGBpbXBvcnRzYCBvcHRpb24gdG8gaW1wb3J0IGBqUXVlcnlgIGFzIGBqcWAuXG4gICAgICogdmFyIHRleHQgPSAnPCUganEuZWFjaCh1c2VycywgZnVuY3Rpb24odXNlcikgeyAlPjxsaT48JS0gdXNlciAlPjwvbGk+PCUgfSk7ICU+JztcbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKHRleHQsIHsgJ2ltcG9ydHMnOiB7ICdqcSc6IGpRdWVyeSB9IH0pO1xuICAgICAqIGNvbXBpbGVkKHsgJ3VzZXJzJzogWydmcmVkJywgJ2Jhcm5leSddIH0pO1xuICAgICAqIC8vID0+ICc8bGk+ZnJlZDwvbGk+PGxpPmJhcm5leTwvbGk+J1xuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBgc291cmNlVVJMYCBvcHRpb24gdG8gc3BlY2lmeSBhIGN1c3RvbSBzb3VyY2VVUkwgZm9yIHRoZSB0ZW1wbGF0ZS5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCdoZWxsbyA8JT0gdXNlciAlPiEnLCB7ICdzb3VyY2VVUkwnOiAnL2Jhc2ljL2dyZWV0aW5nLmpzdCcgfSk7XG4gICAgICogY29tcGlsZWQoZGF0YSk7XG4gICAgICogLy8gPT4gRmluZCB0aGUgc291cmNlIG9mIFwiZ3JlZXRpbmcuanN0XCIgdW5kZXIgdGhlIFNvdXJjZXMgdGFiIG9yIFJlc291cmNlcyBwYW5lbCBvZiB0aGUgd2ViIGluc3BlY3Rvci5cbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgYHZhcmlhYmxlYCBvcHRpb24gdG8gZW5zdXJlIGEgd2l0aC1zdGF0ZW1lbnQgaXNuJ3QgdXNlZCBpbiB0aGUgY29tcGlsZWQgdGVtcGxhdGUuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGkgPCU9IGRhdGEudXNlciAlPiEnLCB7ICd2YXJpYWJsZSc6ICdkYXRhJyB9KTtcbiAgICAgKiBjb21waWxlZC5zb3VyY2U7XG4gICAgICogLy8gPT4gZnVuY3Rpb24oZGF0YSkge1xuICAgICAqIC8vICAgdmFyIF9fdCwgX19wID0gJyc7XG4gICAgICogLy8gICBfX3AgKz0gJ2hpICcgKyAoKF9fdCA9ICggZGF0YS51c2VyICkpID09IG51bGwgPyAnJyA6IF9fdCkgKyAnISc7XG4gICAgICogLy8gICByZXR1cm4gX19wO1xuICAgICAqIC8vIH1cbiAgICAgKlxuICAgICAqIC8vIFVzZSBjdXN0b20gdGVtcGxhdGUgZGVsaW1pdGVycy5cbiAgICAgKiBfLnRlbXBsYXRlU2V0dGluZ3MuaW50ZXJwb2xhdGUgPSAve3soW1xcc1xcU10rPyl9fS9nO1xuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hlbGxvIHt7IHVzZXIgfX0hJyk7XG4gICAgICogY29tcGlsZWQoeyAndXNlcic6ICdtdXN0YWNoZScgfSk7XG4gICAgICogLy8gPT4gJ2hlbGxvIG11c3RhY2hlISdcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgYHNvdXJjZWAgcHJvcGVydHkgdG8gaW5saW5lIGNvbXBpbGVkIHRlbXBsYXRlcyBmb3IgbWVhbmluZ2Z1bFxuICAgICAqIC8vIGxpbmUgbnVtYmVycyBpbiBlcnJvciBtZXNzYWdlcyBhbmQgc3RhY2sgdHJhY2VzLlxuICAgICAqIGZzLndyaXRlRmlsZVN5bmMocGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICdqc3QuanMnKSwgJ1xcXG4gICAgICogICB2YXIgSlNUID0ge1xcXG4gICAgICogICAgIFwibWFpblwiOiAnICsgXy50ZW1wbGF0ZShtYWluVGV4dCkuc291cmNlICsgJ1xcXG4gICAgICogICB9O1xcXG4gICAgICogJyk7XG4gICAgICovXG4gICAgZnVuY3Rpb24gdGVtcGxhdGUoc3RyaW5nLCBvcHRpb25zLCBndWFyZCkge1xuICAgICAgLy8gQmFzZWQgb24gSm9obiBSZXNpZydzIGB0bXBsYCBpbXBsZW1lbnRhdGlvblxuICAgICAgLy8gKGh0dHA6Ly9lam9obi5vcmcvYmxvZy9qYXZhc2NyaXB0LW1pY3JvLXRlbXBsYXRpbmcvKVxuICAgICAgLy8gYW5kIExhdXJhIERva3Rvcm92YSdzIGRvVC5qcyAoaHR0cHM6Ly9naXRodWIuY29tL29sYWRvL2RvVCkuXG4gICAgICB2YXIgc2V0dGluZ3MgPSBsb2Rhc2gudGVtcGxhdGVTZXR0aW5ncztcblxuICAgICAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKHN0cmluZywgb3B0aW9ucywgZ3VhcmQpKSB7XG4gICAgICAgIG9wdGlvbnMgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgb3B0aW9ucyA9IGFzc2lnbkluV2l0aCh7fSwgb3B0aW9ucywgc2V0dGluZ3MsIGN1c3RvbURlZmF1bHRzQXNzaWduSW4pO1xuXG4gICAgICB2YXIgaW1wb3J0cyA9IGFzc2lnbkluV2l0aCh7fSwgb3B0aW9ucy5pbXBvcnRzLCBzZXR0aW5ncy5pbXBvcnRzLCBjdXN0b21EZWZhdWx0c0Fzc2lnbkluKSxcbiAgICAgICAgICBpbXBvcnRzS2V5cyA9IGtleXMoaW1wb3J0cyksXG4gICAgICAgICAgaW1wb3J0c1ZhbHVlcyA9IGJhc2VWYWx1ZXMoaW1wb3J0cywgaW1wb3J0c0tleXMpO1xuXG4gICAgICB2YXIgaXNFc2NhcGluZyxcbiAgICAgICAgICBpc0V2YWx1YXRpbmcsXG4gICAgICAgICAgaW5kZXggPSAwLFxuICAgICAgICAgIGludGVycG9sYXRlID0gb3B0aW9ucy5pbnRlcnBvbGF0ZSB8fCByZU5vTWF0Y2gsXG4gICAgICAgICAgc291cmNlID0gXCJfX3AgKz0gJ1wiO1xuXG4gICAgICAvLyBDb21waWxlIHRoZSByZWdleHAgdG8gbWF0Y2ggZWFjaCBkZWxpbWl0ZXIuXG4gICAgICB2YXIgcmVEZWxpbWl0ZXJzID0gUmVnRXhwKFxuICAgICAgICAob3B0aW9ucy5lc2NhcGUgfHwgcmVOb01hdGNoKS5zb3VyY2UgKyAnfCcgK1xuICAgICAgICBpbnRlcnBvbGF0ZS5zb3VyY2UgKyAnfCcgK1xuICAgICAgICAoaW50ZXJwb2xhdGUgPT09IHJlSW50ZXJwb2xhdGUgPyByZUVzVGVtcGxhdGUgOiByZU5vTWF0Y2gpLnNvdXJjZSArICd8JyArXG4gICAgICAgIChvcHRpb25zLmV2YWx1YXRlIHx8IHJlTm9NYXRjaCkuc291cmNlICsgJ3wkJ1xuICAgICAgLCAnZycpO1xuXG4gICAgICAvLyBVc2UgYSBzb3VyY2VVUkwgZm9yIGVhc2llciBkZWJ1Z2dpbmcuXG4gICAgICAvLyBUaGUgc291cmNlVVJMIGdldHMgaW5qZWN0ZWQgaW50byB0aGUgc291cmNlIHRoYXQncyBldmFsLWVkLCBzbyBiZSBjYXJlZnVsXG4gICAgICAvLyB0byBub3JtYWxpemUgYWxsIGtpbmRzIG9mIHdoaXRlc3BhY2UsIHNvIGUuZy4gbmV3bGluZXMgKGFuZCB1bmljb2RlIHZlcnNpb25zIG9mIGl0KSBjYW4ndCBzbmVhayBpblxuICAgICAgLy8gYW5kIGVzY2FwZSB0aGUgY29tbWVudCwgdGh1cyBpbmplY3RpbmcgY29kZSB0aGF0IGdldHMgZXZhbGVkLlxuICAgICAgdmFyIHNvdXJjZVVSTCA9ICcvLyMgc291cmNlVVJMPScgK1xuICAgICAgICAoaGFzT3duUHJvcGVydHkuY2FsbChvcHRpb25zLCAnc291cmNlVVJMJylcbiAgICAgICAgICA/IChvcHRpb25zLnNvdXJjZVVSTCArICcnKS5yZXBsYWNlKC9cXHMvZywgJyAnKVxuICAgICAgICAgIDogKCdsb2Rhc2gudGVtcGxhdGVTb3VyY2VzWycgKyAoKyt0ZW1wbGF0ZUNvdW50ZXIpICsgJ10nKVxuICAgICAgICApICsgJ1xcbic7XG5cbiAgICAgIHN0cmluZy5yZXBsYWNlKHJlRGVsaW1pdGVycywgZnVuY3Rpb24obWF0Y2gsIGVzY2FwZVZhbHVlLCBpbnRlcnBvbGF0ZVZhbHVlLCBlc1RlbXBsYXRlVmFsdWUsIGV2YWx1YXRlVmFsdWUsIG9mZnNldCkge1xuICAgICAgICBpbnRlcnBvbGF0ZVZhbHVlIHx8IChpbnRlcnBvbGF0ZVZhbHVlID0gZXNUZW1wbGF0ZVZhbHVlKTtcblxuICAgICAgICAvLyBFc2NhcGUgY2hhcmFjdGVycyB0aGF0IGNhbid0IGJlIGluY2x1ZGVkIGluIHN0cmluZyBsaXRlcmFscy5cbiAgICAgICAgc291cmNlICs9IHN0cmluZy5zbGljZShpbmRleCwgb2Zmc2V0KS5yZXBsYWNlKHJlVW5lc2NhcGVkU3RyaW5nLCBlc2NhcGVTdHJpbmdDaGFyKTtcblxuICAgICAgICAvLyBSZXBsYWNlIGRlbGltaXRlcnMgd2l0aCBzbmlwcGV0cy5cbiAgICAgICAgaWYgKGVzY2FwZVZhbHVlKSB7XG4gICAgICAgICAgaXNFc2NhcGluZyA9IHRydWU7XG4gICAgICAgICAgc291cmNlICs9IFwiJyArXFxuX19lKFwiICsgZXNjYXBlVmFsdWUgKyBcIikgK1xcbidcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZhbHVhdGVWYWx1ZSkge1xuICAgICAgICAgIGlzRXZhbHVhdGluZyA9IHRydWU7XG4gICAgICAgICAgc291cmNlICs9IFwiJztcXG5cIiArIGV2YWx1YXRlVmFsdWUgKyBcIjtcXG5fX3AgKz0gJ1wiO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnRlcnBvbGF0ZVZhbHVlKSB7XG4gICAgICAgICAgc291cmNlICs9IFwiJyArXFxuKChfX3QgPSAoXCIgKyBpbnRlcnBvbGF0ZVZhbHVlICsgXCIpKSA9PSBudWxsID8gJycgOiBfX3QpICtcXG4nXCI7XG4gICAgICAgIH1cbiAgICAgICAgaW5kZXggPSBvZmZzZXQgKyBtYXRjaC5sZW5ndGg7XG5cbiAgICAgICAgLy8gVGhlIEpTIGVuZ2luZSBlbWJlZGRlZCBpbiBBZG9iZSBwcm9kdWN0cyBuZWVkcyBgbWF0Y2hgIHJldHVybmVkIGluXG4gICAgICAgIC8vIG9yZGVyIHRvIHByb2R1Y2UgdGhlIGNvcnJlY3QgYG9mZnNldGAgdmFsdWUuXG4gICAgICAgIHJldHVybiBtYXRjaDtcbiAgICAgIH0pO1xuXG4gICAgICBzb3VyY2UgKz0gXCInO1xcblwiO1xuXG4gICAgICAvLyBJZiBgdmFyaWFibGVgIGlzIG5vdCBzcGVjaWZpZWQgd3JhcCBhIHdpdGgtc3RhdGVtZW50IGFyb3VuZCB0aGUgZ2VuZXJhdGVkXG4gICAgICAvLyBjb2RlIHRvIGFkZCB0aGUgZGF0YSBvYmplY3QgdG8gdGhlIHRvcCBvZiB0aGUgc2NvcGUgY2hhaW4uXG4gICAgICB2YXIgdmFyaWFibGUgPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9wdGlvbnMsICd2YXJpYWJsZScpICYmIG9wdGlvbnMudmFyaWFibGU7XG4gICAgICBpZiAoIXZhcmlhYmxlKSB7XG4gICAgICAgIHNvdXJjZSA9ICd3aXRoIChvYmopIHtcXG4nICsgc291cmNlICsgJ1xcbn1cXG4nO1xuICAgICAgfVxuICAgICAgLy8gVGhyb3cgYW4gZXJyb3IgaWYgYSBmb3JiaWRkZW4gY2hhcmFjdGVyIHdhcyBmb3VuZCBpbiBgdmFyaWFibGVgLCB0byBwcmV2ZW50XG4gICAgICAvLyBwb3RlbnRpYWwgY29tbWFuZCBpbmplY3Rpb24gYXR0YWNrcy5cbiAgICAgIGVsc2UgaWYgKHJlRm9yYmlkZGVuSWRlbnRpZmllckNoYXJzLnRlc3QodmFyaWFibGUpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihJTlZBTElEX1RFTVBMX1ZBUl9FUlJPUl9URVhUKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2xlYW51cCBjb2RlIGJ5IHN0cmlwcGluZyBlbXB0eSBzdHJpbmdzLlxuICAgICAgc291cmNlID0gKGlzRXZhbHVhdGluZyA/IHNvdXJjZS5yZXBsYWNlKHJlRW1wdHlTdHJpbmdMZWFkaW5nLCAnJykgOiBzb3VyY2UpXG4gICAgICAgIC5yZXBsYWNlKHJlRW1wdHlTdHJpbmdNaWRkbGUsICckMScpXG4gICAgICAgIC5yZXBsYWNlKHJlRW1wdHlTdHJpbmdUcmFpbGluZywgJyQxOycpO1xuXG4gICAgICAvLyBGcmFtZSBjb2RlIGFzIHRoZSBmdW5jdGlvbiBib2R5LlxuICAgICAgc291cmNlID0gJ2Z1bmN0aW9uKCcgKyAodmFyaWFibGUgfHwgJ29iaicpICsgJykge1xcbicgK1xuICAgICAgICAodmFyaWFibGVcbiAgICAgICAgICA/ICcnXG4gICAgICAgICAgOiAnb2JqIHx8IChvYmogPSB7fSk7XFxuJ1xuICAgICAgICApICtcbiAgICAgICAgXCJ2YXIgX190LCBfX3AgPSAnJ1wiICtcbiAgICAgICAgKGlzRXNjYXBpbmdcbiAgICAgICAgICAgPyAnLCBfX2UgPSBfLmVzY2FwZSdcbiAgICAgICAgICAgOiAnJ1xuICAgICAgICApICtcbiAgICAgICAgKGlzRXZhbHVhdGluZ1xuICAgICAgICAgID8gJywgX19qID0gQXJyYXkucHJvdG90eXBlLmpvaW47XFxuJyArXG4gICAgICAgICAgICBcImZ1bmN0aW9uIHByaW50KCkgeyBfX3AgKz0gX19qLmNhbGwoYXJndW1lbnRzLCAnJykgfVxcblwiXG4gICAgICAgICAgOiAnO1xcbidcbiAgICAgICAgKSArXG4gICAgICAgIHNvdXJjZSArXG4gICAgICAgICdyZXR1cm4gX19wXFxufSc7XG5cbiAgICAgIHZhciByZXN1bHQgPSBhdHRlbXB0KGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gRnVuY3Rpb24oaW1wb3J0c0tleXMsIHNvdXJjZVVSTCArICdyZXR1cm4gJyArIHNvdXJjZSlcbiAgICAgICAgICAuYXBwbHkodW5kZWZpbmVkLCBpbXBvcnRzVmFsdWVzKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBQcm92aWRlIHRoZSBjb21waWxlZCBmdW5jdGlvbidzIHNvdXJjZSBieSBpdHMgYHRvU3RyaW5nYCBtZXRob2Qgb3JcbiAgICAgIC8vIHRoZSBgc291cmNlYCBwcm9wZXJ0eSBhcyBhIGNvbnZlbmllbmNlIGZvciBpbmxpbmluZyBjb21waWxlZCB0ZW1wbGF0ZXMuXG4gICAgICByZXN1bHQuc291cmNlID0gc291cmNlO1xuICAgICAgaWYgKGlzRXJyb3IocmVzdWx0KSkge1xuICAgICAgICB0aHJvdyByZXN1bHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgLCBhcyBhIHdob2xlLCB0byBsb3dlciBjYXNlIGp1c3QgbGlrZVxuICAgICAqIFtTdHJpbmcjdG9Mb3dlckNhc2VdKGh0dHBzOi8vbWRuLmlvL3RvTG93ZXJDYXNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGxvd2VyIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b0xvd2VyKCctLUZvby1CYXItLScpO1xuICAgICAqIC8vID0+ICctLWZvby1iYXItLSdcbiAgICAgKlxuICAgICAqIF8udG9Mb3dlcignZm9vQmFyJyk7XG4gICAgICogLy8gPT4gJ2Zvb2JhcidcbiAgICAgKlxuICAgICAqIF8udG9Mb3dlcignX19GT09fQkFSX18nKTtcbiAgICAgKiAvLyA9PiAnX19mb29fYmFyX18nXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9Mb3dlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRvU3RyaW5nKHZhbHVlKS50b0xvd2VyQ2FzZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgLCBhcyBhIHdob2xlLCB0byB1cHBlciBjYXNlIGp1c3QgbGlrZVxuICAgICAqIFtTdHJpbmcjdG9VcHBlckNhc2VdKGh0dHBzOi8vbWRuLmlvL3RvVXBwZXJDYXNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHVwcGVyIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b1VwcGVyKCctLWZvby1iYXItLScpO1xuICAgICAqIC8vID0+ICctLUZPTy1CQVItLSdcbiAgICAgKlxuICAgICAqIF8udG9VcHBlcignZm9vQmFyJyk7XG4gICAgICogLy8gPT4gJ0ZPT0JBUidcbiAgICAgKlxuICAgICAqIF8udG9VcHBlcignX19mb29fYmFyX18nKTtcbiAgICAgKiAvLyA9PiAnX19GT09fQkFSX18nXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9VcHBlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRvU3RyaW5nKHZhbHVlKS50b1VwcGVyQ2FzZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgbGVhZGluZyBhbmQgdHJhaWxpbmcgd2hpdGVzcGFjZSBvciBzcGVjaWZpZWQgY2hhcmFjdGVycyBmcm9tIGBzdHJpbmdgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIHRyaW0uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtjaGFycz13aGl0ZXNwYWNlXSBUaGUgY2hhcmFjdGVycyB0byB0cmltLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdHJpbW1lZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udHJpbSgnICBhYmMgICcpO1xuICAgICAqIC8vID0+ICdhYmMnXG4gICAgICpcbiAgICAgKiBfLnRyaW0oJy1fLWFiYy1fLScsICdfLScpO1xuICAgICAqIC8vID0+ICdhYmMnXG4gICAgICpcbiAgICAgKiBfLm1hcChbJyAgZm9vICAnLCAnICBiYXIgICddLCBfLnRyaW0pO1xuICAgICAqIC8vID0+IFsnZm9vJywgJ2JhciddXG4gICAgICovXG4gICAgZnVuY3Rpb24gdHJpbShzdHJpbmcsIGNoYXJzLCBndWFyZCkge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIGlmIChzdHJpbmcgJiYgKGd1YXJkIHx8IGNoYXJzID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIHJldHVybiBiYXNlVHJpbShzdHJpbmcpO1xuICAgICAgfVxuICAgICAgaWYgKCFzdHJpbmcgfHwgIShjaGFycyA9IGJhc2VUb1N0cmluZyhjaGFycykpKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgICB9XG4gICAgICB2YXIgc3RyU3ltYm9scyA9IHN0cmluZ1RvQXJyYXkoc3RyaW5nKSxcbiAgICAgICAgICBjaHJTeW1ib2xzID0gc3RyaW5nVG9BcnJheShjaGFycyksXG4gICAgICAgICAgc3RhcnQgPSBjaGFyc1N0YXJ0SW5kZXgoc3RyU3ltYm9scywgY2hyU3ltYm9scyksXG4gICAgICAgICAgZW5kID0gY2hhcnNFbmRJbmRleChzdHJTeW1ib2xzLCBjaHJTeW1ib2xzKSArIDE7XG5cbiAgICAgIHJldHVybiBjYXN0U2xpY2Uoc3RyU3ltYm9scywgc3RhcnQsIGVuZCkuam9pbignJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0cmFpbGluZyB3aGl0ZXNwYWNlIG9yIHNwZWNpZmllZCBjaGFyYWN0ZXJzIGZyb20gYHN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPXdoaXRlc3BhY2VdIFRoZSBjaGFyYWN0ZXJzIHRvIHRyaW0uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cmltbWVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cmltRW5kKCcgIGFiYyAgJyk7XG4gICAgICogLy8gPT4gJyAgYWJjJ1xuICAgICAqXG4gICAgICogXy50cmltRW5kKCctXy1hYmMtXy0nLCAnXy0nKTtcbiAgICAgKiAvLyA9PiAnLV8tYWJjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyaW1FbmQoc3RyaW5nLCBjaGFycywgZ3VhcmQpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBpZiAoc3RyaW5nICYmIChndWFyZCB8fCBjaGFycyA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nLnNsaWNlKDAsIHRyaW1tZWRFbmRJbmRleChzdHJpbmcpICsgMSk7XG4gICAgICB9XG4gICAgICBpZiAoIXN0cmluZyB8fCAhKGNoYXJzID0gYmFzZVRvU3RyaW5nKGNoYXJzKSkpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICAgIH1cbiAgICAgIHZhciBzdHJTeW1ib2xzID0gc3RyaW5nVG9BcnJheShzdHJpbmcpLFxuICAgICAgICAgIGVuZCA9IGNoYXJzRW5kSW5kZXgoc3RyU3ltYm9scywgc3RyaW5nVG9BcnJheShjaGFycykpICsgMTtcblxuICAgICAgcmV0dXJuIGNhc3RTbGljZShzdHJTeW1ib2xzLCAwLCBlbmQpLmpvaW4oJycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgbGVhZGluZyB3aGl0ZXNwYWNlIG9yIHNwZWNpZmllZCBjaGFyYWN0ZXJzIGZyb20gYHN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPXdoaXRlc3BhY2VdIFRoZSBjaGFyYWN0ZXJzIHRvIHRyaW0uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cmltbWVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cmltU3RhcnQoJyAgYWJjICAnKTtcbiAgICAgKiAvLyA9PiAnYWJjICAnXG4gICAgICpcbiAgICAgKiBfLnRyaW1TdGFydCgnLV8tYWJjLV8tJywgJ18tJyk7XG4gICAgICogLy8gPT4gJ2FiYy1fLSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cmltU3RhcnQoc3RyaW5nLCBjaGFycywgZ3VhcmQpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBpZiAoc3RyaW5nICYmIChndWFyZCB8fCBjaGFycyA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UocmVUcmltU3RhcnQsICcnKTtcbiAgICAgIH1cbiAgICAgIGlmICghc3RyaW5nIHx8ICEoY2hhcnMgPSBiYXNlVG9TdHJpbmcoY2hhcnMpKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgfVxuICAgICAgdmFyIHN0clN5bWJvbHMgPSBzdHJpbmdUb0FycmF5KHN0cmluZyksXG4gICAgICAgICAgc3RhcnQgPSBjaGFyc1N0YXJ0SW5kZXgoc3RyU3ltYm9scywgc3RyaW5nVG9BcnJheShjaGFycykpO1xuXG4gICAgICByZXR1cm4gY2FzdFNsaWNlKHN0clN5bWJvbHMsIHN0YXJ0KS5qb2luKCcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcnVuY2F0ZXMgYHN0cmluZ2AgaWYgaXQncyBsb25nZXIgdGhhbiB0aGUgZ2l2ZW4gbWF4aW11bSBzdHJpbmcgbGVuZ3RoLlxuICAgICAqIFRoZSBsYXN0IGNoYXJhY3RlcnMgb2YgdGhlIHRydW5jYXRlZCBzdHJpbmcgYXJlIHJlcGxhY2VkIHdpdGggdGhlIG9taXNzaW9uXG4gICAgICogc3RyaW5nIHdoaWNoIGRlZmF1bHRzIHRvIFwiLi4uXCIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdHJ1bmNhdGUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmxlbmd0aD0zMF0gVGhlIG1heGltdW0gc3RyaW5nIGxlbmd0aC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMub21pc3Npb249Jy4uLiddIFRoZSBzdHJpbmcgdG8gaW5kaWNhdGUgdGV4dCBpcyBvbWl0dGVkLlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfHN0cmluZ30gW29wdGlvbnMuc2VwYXJhdG9yXSBUaGUgc2VwYXJhdG9yIHBhdHRlcm4gdG8gdHJ1bmNhdGUgdG8uXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdHJ1bmNhdGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cnVuY2F0ZSgnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnaGJvcmlubycpO1xuICAgICAqIC8vID0+ICdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWdoYm8uLi4nXG4gICAgICpcbiAgICAgKiBfLnRydW5jYXRlKCdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWdoYm9yaW5vJywge1xuICAgICAqICAgJ2xlbmd0aCc6IDI0LFxuICAgICAqICAgJ3NlcGFyYXRvcic6ICcgJ1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+ICdoaS1kaWRkbHktaG8gdGhlcmUsLi4uJ1xuICAgICAqXG4gICAgICogXy50cnVuY2F0ZSgnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnaGJvcmlubycsIHtcbiAgICAgKiAgICdsZW5ndGgnOiAyNCxcbiAgICAgKiAgICdzZXBhcmF0b3InOiAvLD8gKy9cbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiAnaGktZGlkZGx5LWhvIHRoZXJlLi4uJ1xuICAgICAqXG4gICAgICogXy50cnVuY2F0ZSgnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnaGJvcmlubycsIHtcbiAgICAgKiAgICdvbWlzc2lvbic6ICcgWy4uLl0nXG4gICAgICogfSk7XG4gICAgICogLy8gPT4gJ2hpLWRpZGRseS1obyB0aGVyZSwgbmVpZyBbLi4uXSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cnVuY2F0ZShzdHJpbmcsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBERUZBVUxUX1RSVU5DX0xFTkdUSCxcbiAgICAgICAgICBvbWlzc2lvbiA9IERFRkFVTFRfVFJVTkNfT01JU1NJT047XG5cbiAgICAgIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgICAgICB2YXIgc2VwYXJhdG9yID0gJ3NlcGFyYXRvcicgaW4gb3B0aW9ucyA/IG9wdGlvbnMuc2VwYXJhdG9yIDogc2VwYXJhdG9yO1xuICAgICAgICBsZW5ndGggPSAnbGVuZ3RoJyBpbiBvcHRpb25zID8gdG9JbnRlZ2VyKG9wdGlvbnMubGVuZ3RoKSA6IGxlbmd0aDtcbiAgICAgICAgb21pc3Npb24gPSAnb21pc3Npb24nIGluIG9wdGlvbnMgPyBiYXNlVG9TdHJpbmcob3B0aW9ucy5vbWlzc2lvbikgOiBvbWlzc2lvbjtcbiAgICAgIH1cbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG5cbiAgICAgIHZhciBzdHJMZW5ndGggPSBzdHJpbmcubGVuZ3RoO1xuICAgICAgaWYgKGhhc1VuaWNvZGUoc3RyaW5nKSkge1xuICAgICAgICB2YXIgc3RyU3ltYm9scyA9IHN0cmluZ1RvQXJyYXkoc3RyaW5nKTtcbiAgICAgICAgc3RyTGVuZ3RoID0gc3RyU3ltYm9scy5sZW5ndGg7XG4gICAgICB9XG4gICAgICBpZiAobGVuZ3RoID49IHN0ckxlbmd0aCkge1xuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgfVxuICAgICAgdmFyIGVuZCA9IGxlbmd0aCAtIHN0cmluZ1NpemUob21pc3Npb24pO1xuICAgICAgaWYgKGVuZCA8IDEpIHtcbiAgICAgICAgcmV0dXJuIG9taXNzaW9uO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IHN0clN5bWJvbHNcbiAgICAgICAgPyBjYXN0U2xpY2Uoc3RyU3ltYm9scywgMCwgZW5kKS5qb2luKCcnKVxuICAgICAgICA6IHN0cmluZy5zbGljZSgwLCBlbmQpO1xuXG4gICAgICBpZiAoc2VwYXJhdG9yID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdCArIG9taXNzaW9uO1xuICAgICAgfVxuICAgICAgaWYgKHN0clN5bWJvbHMpIHtcbiAgICAgICAgZW5kICs9IChyZXN1bHQubGVuZ3RoIC0gZW5kKTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1JlZ0V4cChzZXBhcmF0b3IpKSB7XG4gICAgICAgIGlmIChzdHJpbmcuc2xpY2UoZW5kKS5zZWFyY2goc2VwYXJhdG9yKSkge1xuICAgICAgICAgIHZhciBtYXRjaCxcbiAgICAgICAgICAgICAgc3Vic3RyaW5nID0gcmVzdWx0O1xuXG4gICAgICAgICAgaWYgKCFzZXBhcmF0b3IuZ2xvYmFsKSB7XG4gICAgICAgICAgICBzZXBhcmF0b3IgPSBSZWdFeHAoc2VwYXJhdG9yLnNvdXJjZSwgdG9TdHJpbmcocmVGbGFncy5leGVjKHNlcGFyYXRvcikpICsgJ2cnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2VwYXJhdG9yLmxhc3RJbmRleCA9IDA7XG4gICAgICAgICAgd2hpbGUgKChtYXRjaCA9IHNlcGFyYXRvci5leGVjKHN1YnN0cmluZykpKSB7XG4gICAgICAgICAgICB2YXIgbmV3RW5kID0gbWF0Y2guaW5kZXg7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5zbGljZSgwLCBuZXdFbmQgPT09IHVuZGVmaW5lZCA/IGVuZCA6IG5ld0VuZCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoc3RyaW5nLmluZGV4T2YoYmFzZVRvU3RyaW5nKHNlcGFyYXRvciksIGVuZCkgIT0gZW5kKSB7XG4gICAgICAgIHZhciBpbmRleCA9IHJlc3VsdC5sYXN0SW5kZXhPZihzZXBhcmF0b3IpO1xuICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5zbGljZSgwLCBpbmRleCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQgKyBvbWlzc2lvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaW52ZXJzZSBvZiBgXy5lc2NhcGVgOyB0aGlzIG1ldGhvZCBjb252ZXJ0cyB0aGUgSFRNTCBlbnRpdGllc1xuICAgICAqIGAmYW1wO2AsIGAmbHQ7YCwgYCZndDtgLCBgJnF1b3Q7YCwgYW5kIGAmIzM5O2AgaW4gYHN0cmluZ2AgdG9cbiAgICAgKiB0aGVpciBjb3JyZXNwb25kaW5nIGNoYXJhY3RlcnMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm8gb3RoZXIgSFRNTCBlbnRpdGllcyBhcmUgdW5lc2NhcGVkLiBUbyB1bmVzY2FwZSBhZGRpdGlvbmFsXG4gICAgICogSFRNTCBlbnRpdGllcyB1c2UgYSB0aGlyZC1wYXJ0eSBsaWJyYXJ5IGxpa2UgW19oZV9dKGh0dHBzOi8vbXRocy5iZS9oZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC42LjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdW5lc2NhcGUuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdW5lc2NhcGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmVzY2FwZSgnZnJlZCwgYmFybmV5LCAmYW1wOyBwZWJibGVzJyk7XG4gICAgICogLy8gPT4gJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuZXNjYXBlKHN0cmluZykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHJldHVybiAoc3RyaW5nICYmIHJlSGFzRXNjYXBlZEh0bWwudGVzdChzdHJpbmcpKVxuICAgICAgICA/IHN0cmluZy5yZXBsYWNlKHJlRXNjYXBlZEh0bWwsIHVuZXNjYXBlSHRtbENoYXIpXG4gICAgICAgIDogc3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgLCBhcyBzcGFjZSBzZXBhcmF0ZWQgd29yZHMsIHRvIHVwcGVyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1cHBlciBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udXBwZXJDYXNlKCctLWZvby1iYXInKTtcbiAgICAgKiAvLyA9PiAnRk9PIEJBUidcbiAgICAgKlxuICAgICAqIF8udXBwZXJDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnRk9PIEJBUidcbiAgICAgKlxuICAgICAqIF8udXBwZXJDYXNlKCdfX2Zvb19iYXJfXycpO1xuICAgICAqIC8vID0+ICdGT08gQkFSJ1xuICAgICAqL1xuICAgIHZhciB1cHBlckNhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnICcgOiAnJykgKyB3b3JkLnRvVXBwZXJDYXNlKCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIGBzdHJpbmdgIHRvIHVwcGVyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVwcGVyRmlyc3QoJ2ZyZWQnKTtcbiAgICAgKiAvLyA9PiAnRnJlZCdcbiAgICAgKlxuICAgICAqIF8udXBwZXJGaXJzdCgnRlJFRCcpO1xuICAgICAqIC8vID0+ICdGUkVEJ1xuICAgICAqL1xuICAgIHZhciB1cHBlckZpcnN0ID0gY3JlYXRlQ2FzZUZpcnN0KCd0b1VwcGVyQ2FzZScpO1xuXG4gICAgLyoqXG4gICAgICogU3BsaXRzIGBzdHJpbmdgIGludG8gYW4gYXJyYXkgb2YgaXRzIHdvcmRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtSZWdFeHB8c3RyaW5nfSBbcGF0dGVybl0gVGhlIHBhdHRlcm4gdG8gbWF0Y2ggd29yZHMuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHdvcmRzIG9mIGBzdHJpbmdgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLndvcmRzKCdmcmVkLCBiYXJuZXksICYgcGViYmxlcycpO1xuICAgICAqIC8vID0+IFsnZnJlZCcsICdiYXJuZXknLCAncGViYmxlcyddXG4gICAgICpcbiAgICAgKiBfLndvcmRzKCdmcmVkLCBiYXJuZXksICYgcGViYmxlcycsIC9bXiwgXSsvZyk7XG4gICAgICogLy8gPT4gWydmcmVkJywgJ2Jhcm5leScsICcmJywgJ3BlYmJsZXMnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdvcmRzKHN0cmluZywgcGF0dGVybiwgZ3VhcmQpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBwYXR0ZXJuID0gZ3VhcmQgPyB1bmRlZmluZWQgOiBwYXR0ZXJuO1xuXG4gICAgICBpZiAocGF0dGVybiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBoYXNVbmljb2RlV29yZChzdHJpbmcpID8gdW5pY29kZVdvcmRzKHN0cmluZykgOiBhc2NpaVdvcmRzKHN0cmluZyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc3RyaW5nLm1hdGNoKHBhdHRlcm4pIHx8IFtdO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIEF0dGVtcHRzIHRvIGludm9rZSBgZnVuY2AsIHJldHVybmluZyBlaXRoZXIgdGhlIHJlc3VsdCBvciB0aGUgY2F1Z2h0IGVycm9yXG4gICAgICogb2JqZWN0LiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgYXJlIHByb3ZpZGVkIHRvIGBmdW5jYCB3aGVuIGl0J3MgaW52b2tlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXR0ZW1wdC5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBgZnVuY2Agd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYGZ1bmNgIHJlc3VsdCBvciBlcnJvciBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIC8vIEF2b2lkIHRocm93aW5nIGVycm9ycyBmb3IgaW52YWxpZCBzZWxlY3RvcnMuXG4gICAgICogdmFyIGVsZW1lbnRzID0gXy5hdHRlbXB0KGZ1bmN0aW9uKHNlbGVjdG9yKSB7XG4gICAgICogICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG4gICAgICogfSwgJz5fPicpO1xuICAgICAqXG4gICAgICogaWYgKF8uaXNFcnJvcihlbGVtZW50cykpIHtcbiAgICAgKiAgIGVsZW1lbnRzID0gW107XG4gICAgICogfVxuICAgICAqL1xuICAgIHZhciBhdHRlbXB0ID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgYXJncykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGFwcGx5KGZ1bmMsIHVuZGVmaW5lZCwgYXJncyk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBpc0Vycm9yKGUpID8gZSA6IG5ldyBFcnJvcihlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEJpbmRzIG1ldGhvZHMgb2YgYW4gb2JqZWN0IHRvIHRoZSBvYmplY3QgaXRzZWxmLCBvdmVyd3JpdGluZyB0aGUgZXhpc3RpbmdcbiAgICAgKiBtZXRob2QuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgb2YgYm91bmQgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gYmluZCBhbmQgYXNzaWduIHRoZSBib3VuZCBtZXRob2RzIHRvLlxuICAgICAqIEBwYXJhbSB7Li4uKHN0cmluZ3xzdHJpbmdbXSl9IG1ldGhvZE5hbWVzIFRoZSBvYmplY3QgbWV0aG9kIG5hbWVzIHRvIGJpbmQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHZpZXcgPSB7XG4gICAgICogICAnbGFiZWwnOiAnZG9jcycsXG4gICAgICogICAnY2xpY2snOiBmdW5jdGlvbigpIHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ2NsaWNrZWQgJyArIHRoaXMubGFiZWwpO1xuICAgICAqICAgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLmJpbmRBbGwodmlldywgWydjbGljayddKTtcbiAgICAgKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgdmlldy5jbGljayk7XG4gICAgICogLy8gPT4gTG9ncyAnY2xpY2tlZCBkb2NzJyB3aGVuIGNsaWNrZWQuXG4gICAgICovXG4gICAgdmFyIGJpbmRBbGwgPSBmbGF0UmVzdChmdW5jdGlvbihvYmplY3QsIG1ldGhvZE5hbWVzKSB7XG4gICAgICBhcnJheUVhY2gobWV0aG9kTmFtZXMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgICBrZXkgPSB0b0tleShrZXkpO1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIGJpbmQob2JqZWN0W2tleV0sIG9iamVjdCkpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaXRlcmF0ZXMgb3ZlciBgcGFpcnNgIGFuZCBpbnZva2VzIHRoZSBjb3JyZXNwb25kaW5nXG4gICAgICogZnVuY3Rpb24gb2YgdGhlIGZpcnN0IHByZWRpY2F0ZSB0byByZXR1cm4gdHJ1dGh5LiBUaGUgcHJlZGljYXRlLWZ1bmN0aW9uXG4gICAgICogcGFpcnMgYXJlIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgYW5kIGFyZ3VtZW50cyBvZiB0aGUgY3JlYXRlZFxuICAgICAqIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYWlycyBUaGUgcHJlZGljYXRlLWZ1bmN0aW9uIHBhaXJzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbXBvc2l0ZSBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLmNvbmQoW1xuICAgICAqICAgW18ubWF0Y2hlcyh7ICdhJzogMSB9KSwgICAgICAgICAgIF8uY29uc3RhbnQoJ21hdGNoZXMgQScpXSxcbiAgICAgKiAgIFtfLmNvbmZvcm1zKHsgJ2InOiBfLmlzTnVtYmVyIH0pLCBfLmNvbnN0YW50KCdtYXRjaGVzIEInKV0sXG4gICAgICogICBbXy5zdHViVHJ1ZSwgICAgICAgICAgICAgICAgICAgICAgXy5jb25zdGFudCgnbm8gbWF0Y2gnKV1cbiAgICAgKiBdKTtcbiAgICAgKlxuICAgICAqIGZ1bmMoeyAnYSc6IDEsICdiJzogMiB9KTtcbiAgICAgKiAvLyA9PiAnbWF0Y2hlcyBBJ1xuICAgICAqXG4gICAgICogZnVuYyh7ICdhJzogMCwgJ2InOiAxIH0pO1xuICAgICAqIC8vID0+ICdtYXRjaGVzIEInXG4gICAgICpcbiAgICAgKiBmdW5jKHsgJ2EnOiAnMScsICdiJzogJzInIH0pO1xuICAgICAqIC8vID0+ICdubyBtYXRjaCdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25kKHBhaXJzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gcGFpcnMgPT0gbnVsbCA/IDAgOiBwYWlycy5sZW5ndGgsXG4gICAgICAgICAgdG9JdGVyYXRlZSA9IGdldEl0ZXJhdGVlKCk7XG5cbiAgICAgIHBhaXJzID0gIWxlbmd0aCA/IFtdIDogYXJyYXlNYXAocGFpcnMsIGZ1bmN0aW9uKHBhaXIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwYWlyWzFdICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFt0b0l0ZXJhdGVlKHBhaXJbMF0pLCBwYWlyWzFdXTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgICB2YXIgaW5kZXggPSAtMTtcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICB2YXIgcGFpciA9IHBhaXJzW2luZGV4XTtcbiAgICAgICAgICBpZiAoYXBwbHkocGFpclswXSwgdGhpcywgYXJncykpIHtcbiAgICAgICAgICAgIHJldHVybiBhcHBseShwYWlyWzFdLCB0aGlzLCBhcmdzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgdGhlIHByZWRpY2F0ZSBwcm9wZXJ0aWVzIG9mIGBzb3VyY2VgIHdpdGhcbiAgICAgKiB0aGUgY29ycmVzcG9uZGluZyBwcm9wZXJ0eSB2YWx1ZXMgb2YgYSBnaXZlbiBvYmplY3QsIHJldHVybmluZyBgdHJ1ZWAgaWZcbiAgICAgKiBhbGwgcHJlZGljYXRlcyByZXR1cm4gdHJ1dGh5LCBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhlIGNyZWF0ZWQgZnVuY3Rpb24gaXMgZXF1aXZhbGVudCB0byBgXy5jb25mb3Jtc1RvYCB3aXRoXG4gICAgICogYHNvdXJjZWAgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSBwcmVkaWNhdGVzIHRvIGNvbmZvcm0gdG8uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbXG4gICAgICogICB7ICdhJzogMiwgJ2InOiAxIH0sXG4gICAgICogICB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maWx0ZXIob2JqZWN0cywgXy5jb25mb3Jtcyh7ICdiJzogZnVuY3Rpb24obikgeyByZXR1cm4gbiA+IDE7IH0gfSkpO1xuICAgICAqIC8vID0+IFt7ICdhJzogMSwgJ2InOiAyIH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uZm9ybXMoc291cmNlKSB7XG4gICAgICByZXR1cm4gYmFzZUNvbmZvcm1zKGJhc2VDbG9uZShzb3VyY2UsIENMT05FX0RFRVBfRkxBRykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjQuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcmV0dXJuIGZyb20gdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb25zdGFudCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBfLnRpbWVzKDIsIF8uY29uc3RhbnQoeyAnYSc6IDEgfSkpO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob2JqZWN0cyk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiAxIH0sIHsgJ2EnOiAxIH1dXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3RzWzBdID09PSBvYmplY3RzWzFdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uc3RhbnQodmFsdWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgYHZhbHVlYCB0byBkZXRlcm1pbmUgd2hldGhlciBhIGRlZmF1bHQgdmFsdWUgc2hvdWxkIGJlIHJldHVybmVkIGluXG4gICAgICogaXRzIHBsYWNlLiBUaGUgYGRlZmF1bHRWYWx1ZWAgaXMgcmV0dXJuZWQgaWYgYHZhbHVlYCBpcyBgTmFOYCwgYG51bGxgLFxuICAgICAqIG9yIGB1bmRlZmluZWRgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTQuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHsqfSBkZWZhdWx0VmFsdWUgVGhlIGRlZmF1bHQgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlZmF1bHRUbygxLCAxMCk7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogXy5kZWZhdWx0VG8odW5kZWZpbmVkLCAxMCk7XG4gICAgICogLy8gPT4gMTBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkZWZhdWx0VG8odmFsdWUsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgcmV0dXJuICh2YWx1ZSA9PSBudWxsIHx8IHZhbHVlICE9PSB2YWx1ZSkgPyBkZWZhdWx0VmFsdWUgOiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSByZXN1bHQgb2YgaW52b2tpbmcgdGhlIGdpdmVuIGZ1bmN0aW9uc1xuICAgICAqIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZSBjcmVhdGVkIGZ1bmN0aW9uLCB3aGVyZSBlYWNoIHN1Y2Nlc3NpdmVcbiAgICAgKiBpbnZvY2F0aW9uIGlzIHN1cHBsaWVkIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIHByZXZpb3VzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW2Z1bmNzXSBUaGUgZnVuY3Rpb25zIHRvIGludm9rZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb21wb3NpdGUgZnVuY3Rpb24uXG4gICAgICogQHNlZSBfLmZsb3dSaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBhZGRTcXVhcmUgPSBfLmZsb3coW18uYWRkLCBzcXVhcmVdKTtcbiAgICAgKiBhZGRTcXVhcmUoMSwgMik7XG4gICAgICogLy8gPT4gOVxuICAgICAqL1xuICAgIHZhciBmbG93ID0gY3JlYXRlRmxvdygpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mbG93YCBleGNlcHQgdGhhdCBpdCBjcmVhdGVzIGEgZnVuY3Rpb24gdGhhdFxuICAgICAqIGludm9rZXMgdGhlIGdpdmVuIGZ1bmN0aW9ucyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbZnVuY3NdIFRoZSBmdW5jdGlvbnMgdG8gaW52b2tlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbXBvc2l0ZSBmdW5jdGlvbi5cbiAgICAgKiBAc2VlIF8uZmxvd1xuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBhZGRTcXVhcmUgPSBfLmZsb3dSaWdodChbc3F1YXJlLCBfLmFkZF0pO1xuICAgICAqIGFkZFNxdWFyZSgxLCAyKTtcbiAgICAgKiAvLyA9PiA5XG4gICAgICovXG4gICAgdmFyIGZsb3dSaWdodCA9IGNyZWF0ZUZsb3codHJ1ZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIHRoZSBmaXJzdCBhcmd1bWVudCBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBBbnkgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgYHZhbHVlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhfLmlkZW50aXR5KG9iamVjdCkgPT09IG9iamVjdCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlkZW50aXR5KHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCB0aGUgYXJndW1lbnRzIG9mIHRoZSBjcmVhdGVkXG4gICAgICogZnVuY3Rpb24uIElmIGBmdW5jYCBpcyBhIHByb3BlcnR5IG5hbWUsIHRoZSBjcmVhdGVkIGZ1bmN0aW9uIHJldHVybnMgdGhlXG4gICAgICogcHJvcGVydHkgdmFsdWUgZm9yIGEgZ2l2ZW4gZWxlbWVudC4gSWYgYGZ1bmNgIGlzIGFuIGFycmF5IG9yIG9iamVjdCwgdGhlXG4gICAgICogY3JlYXRlZCBmdW5jdGlvbiByZXR1cm5zIGB0cnVlYCBmb3IgZWxlbWVudHMgdGhhdCBjb250YWluIHRoZSBlcXVpdmFsZW50XG4gICAgICogc291cmNlIHByb3BlcnRpZXMsIG90aGVyd2lzZSBpdCByZXR1cm5zIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Kn0gW2Z1bmM9Xy5pZGVudGl0eV0gVGhlIHZhbHVlIHRvIGNvbnZlcnQgdG8gYSBjYWxsYmFjay5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGNhbGxiYWNrLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCBfLml0ZXJhdGVlKHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IHRydWUgfSkpO1xuICAgICAqIC8vID0+IFt7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfV1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbHRlcih1c2VycywgXy5pdGVyYXRlZShbJ3VzZXInLCAnZnJlZCddKSk7XG4gICAgICogLy8gPT4gW3sgJ3VzZXInOiAnZnJlZCcsICdhZ2UnOiA0MCB9XVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5tYXAodXNlcnMsIF8uaXRlcmF0ZWUoJ3VzZXInKSk7XG4gICAgICogLy8gPT4gWydiYXJuZXknLCAnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBDcmVhdGUgY3VzdG9tIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICogXy5pdGVyYXRlZSA9IF8ud3JhcChfLml0ZXJhdGVlLCBmdW5jdGlvbihpdGVyYXRlZSwgZnVuYykge1xuICAgICAqICAgcmV0dXJuICFfLmlzUmVnRXhwKGZ1bmMpID8gaXRlcmF0ZWUoZnVuYykgOiBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgKiAgICAgcmV0dXJuIGZ1bmMudGVzdChzdHJpbmcpO1xuICAgICAqICAgfTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIF8uZmlsdGVyKFsnYWJjJywgJ2RlZiddLCAvZWYvKTtcbiAgICAgKiAvLyA9PiBbJ2RlZiddXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXRlcmF0ZWUoZnVuYykge1xuICAgICAgcmV0dXJuIGJhc2VJdGVyYXRlZSh0eXBlb2YgZnVuYyA9PSAnZnVuY3Rpb24nID8gZnVuYyA6IGJhc2VDbG9uZShmdW5jLCBDTE9ORV9ERUVQX0ZMQUcpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwZXJmb3JtcyBhIHBhcnRpYWwgZGVlcCBjb21wYXJpc29uIGJldHdlZW4gYSBnaXZlblxuICAgICAqIG9iamVjdCBhbmQgYHNvdXJjZWAsIHJldHVybmluZyBgdHJ1ZWAgaWYgdGhlIGdpdmVuIG9iamVjdCBoYXMgZXF1aXZhbGVudFxuICAgICAqIHByb3BlcnR5IHZhbHVlcywgZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoZSBjcmVhdGVkIGZ1bmN0aW9uIGlzIGVxdWl2YWxlbnQgdG8gYF8uaXNNYXRjaGAgd2l0aCBgc291cmNlYFxuICAgICAqIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqXG4gICAgICogUGFydGlhbCBjb21wYXJpc29ucyB3aWxsIG1hdGNoIGVtcHR5IGFycmF5IGFuZCBlbXB0eSBvYmplY3QgYHNvdXJjZWBcbiAgICAgKiB2YWx1ZXMgYWdhaW5zdCBhbnkgYXJyYXkgb3Igb2JqZWN0IHZhbHVlLCByZXNwZWN0aXZlbHkuIFNlZSBgXy5pc0VxdWFsYFxuICAgICAqIGZvciBhIGxpc3Qgb2Ygc3VwcG9ydGVkIHZhbHVlIGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE11bHRpcGxlIHZhbHVlcyBjYW4gYmUgY2hlY2tlZCBieSBjb21iaW5pbmcgc2V2ZXJhbCBtYXRjaGVyc1xuICAgICAqIHVzaW5nIGBfLm92ZXJTb21lYFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgdmFsdWVzIHRvIG1hdGNoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW1xuICAgICAqICAgeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzIH0sXG4gICAgICogICB7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbHRlcihvYmplY3RzLCBfLm1hdGNoZXMoeyAnYSc6IDQsICdjJzogNiB9KSk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiA0LCAnYic6IDUsICdjJzogNiB9XVxuICAgICAqXG4gICAgICogLy8gQ2hlY2tpbmcgZm9yIHNldmVyYWwgcG9zc2libGUgdmFsdWVzXG4gICAgICogXy5maWx0ZXIob2JqZWN0cywgXy5vdmVyU29tZShbXy5tYXRjaGVzKHsgJ2EnOiAxIH0pLCBfLm1hdGNoZXMoeyAnYSc6IDQgfSldKSk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiAxLCAnYic6IDIsICdjJzogMyB9LCB7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXRjaGVzKHNvdXJjZSkge1xuICAgICAgcmV0dXJuIGJhc2VNYXRjaGVzKGJhc2VDbG9uZShzb3VyY2UsIENMT05FX0RFRVBfRkxBRykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHBlcmZvcm1zIGEgcGFydGlhbCBkZWVwIGNvbXBhcmlzb24gYmV0d2VlbiB0aGVcbiAgICAgKiB2YWx1ZSBhdCBgcGF0aGAgb2YgYSBnaXZlbiBvYmplY3QgdG8gYHNyY1ZhbHVlYCwgcmV0dXJuaW5nIGB0cnVlYCBpZiB0aGVcbiAgICAgKiBvYmplY3QgdmFsdWUgaXMgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFBhcnRpYWwgY29tcGFyaXNvbnMgd2lsbCBtYXRjaCBlbXB0eSBhcnJheSBhbmQgZW1wdHkgb2JqZWN0XG4gICAgICogYHNyY1ZhbHVlYCB2YWx1ZXMgYWdhaW5zdCBhbnkgYXJyYXkgb3Igb2JqZWN0IHZhbHVlLCByZXNwZWN0aXZlbHkuIFNlZVxuICAgICAqIGBfLmlzRXF1YWxgIGZvciBhIGxpc3Qgb2Ygc3VwcG9ydGVkIHZhbHVlIGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE11bHRpcGxlIHZhbHVlcyBjYW4gYmUgY2hlY2tlZCBieSBjb21iaW5pbmcgc2V2ZXJhbCBtYXRjaGVyc1xuICAgICAqIHVzaW5nIGBfLm92ZXJTb21lYFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMi4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gc3JjVmFsdWUgVGhlIHZhbHVlIHRvIG1hdGNoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW1xuICAgICAqICAgeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzIH0sXG4gICAgICogICB7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbmQob2JqZWN0cywgXy5tYXRjaGVzUHJvcGVydHkoJ2EnLCA0KSk7XG4gICAgICogLy8gPT4geyAnYSc6IDQsICdiJzogNSwgJ2MnOiA2IH1cbiAgICAgKlxuICAgICAqIC8vIENoZWNraW5nIGZvciBzZXZlcmFsIHBvc3NpYmxlIHZhbHVlc1xuICAgICAqIF8uZmlsdGVyKG9iamVjdHMsIF8ub3ZlclNvbWUoW18ubWF0Y2hlc1Byb3BlcnR5KCdhJywgMSksIF8ubWF0Y2hlc1Byb3BlcnR5KCdhJywgNCldKSk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiAxLCAnYic6IDIsICdjJzogMyB9LCB7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXRjaGVzUHJvcGVydHkocGF0aCwgc3JjVmFsdWUpIHtcbiAgICAgIHJldHVybiBiYXNlTWF0Y2hlc1Byb3BlcnR5KHBhdGgsIGJhc2VDbG9uZShzcmNWYWx1ZSwgQ0xPTkVfREVFUF9GTEFHKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyB0aGUgbWV0aG9kIGF0IGBwYXRoYCBvZiBhIGdpdmVuIG9iamVjdC5cbiAgICAgKiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgYXJlIHByb3ZpZGVkIHRvIHRoZSBpbnZva2VkIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjcuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIG1ldGhvZCB0byBpbnZva2UuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgdGhlIG1ldGhvZCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGludm9rZXIgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW1xuICAgICAqICAgeyAnYSc6IHsgJ2InOiBfLmNvbnN0YW50KDIpIH0gfSxcbiAgICAgKiAgIHsgJ2EnOiB7ICdiJzogXy5jb25zdGFudCgxKSB9IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5tYXAob2JqZWN0cywgXy5tZXRob2QoJ2EuYicpKTtcbiAgICAgKiAvLyA9PiBbMiwgMV1cbiAgICAgKlxuICAgICAqIF8ubWFwKG9iamVjdHMsIF8ubWV0aG9kKFsnYScsICdiJ10pKTtcbiAgICAgKiAvLyA9PiBbMiwgMV1cbiAgICAgKi9cbiAgICB2YXIgbWV0aG9kID0gYmFzZVJlc3QoZnVuY3Rpb24ocGF0aCwgYXJncykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICByZXR1cm4gYmFzZUludm9rZShvYmplY3QsIHBhdGgsIGFyZ3MpO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5tZXRob2RgOyB0aGlzIG1ldGhvZCBjcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzXG4gICAgICogdGhlIG1ldGhvZCBhdCBhIGdpdmVuIHBhdGggb2YgYG9iamVjdGAuIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyBhcmVcbiAgICAgKiBwcm92aWRlZCB0byB0aGUgaW52b2tlZCBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy43LjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSB0aGUgbWV0aG9kIHdpdGguXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgaW52b2tlciBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gXy50aW1lcygzLCBfLmNvbnN0YW50KSxcbiAgICAgKiAgICAgb2JqZWN0ID0geyAnYSc6IGFycmF5LCAnYic6IGFycmF5LCAnYyc6IGFycmF5IH07XG4gICAgICpcbiAgICAgKiBfLm1hcChbJ2FbMl0nLCAnY1swXSddLCBfLm1ldGhvZE9mKG9iamVjdCkpO1xuICAgICAqIC8vID0+IFsyLCAwXVxuICAgICAqXG4gICAgICogXy5tYXAoW1snYScsICcyJ10sIFsnYycsICcwJ11dLCBfLm1ldGhvZE9mKG9iamVjdCkpO1xuICAgICAqIC8vID0+IFsyLCAwXVxuICAgICAqL1xuICAgIHZhciBtZXRob2RPZiA9IGJhc2VSZXN0KGZ1bmN0aW9uKG9iamVjdCwgYXJncykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHBhdGgpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VJbnZva2Uob2JqZWN0LCBwYXRoLCBhcmdzKTtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGFsbCBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgZnVuY3Rpb24gcHJvcGVydGllcyBvZiBhIHNvdXJjZVxuICAgICAqIG9iamVjdCB0byB0aGUgZGVzdGluYXRpb24gb2JqZWN0LiBJZiBgb2JqZWN0YCBpcyBhIGZ1bmN0aW9uLCB0aGVuIG1ldGhvZHNcbiAgICAgKiBhcmUgYWRkZWQgdG8gaXRzIHByb3RvdHlwZSBhcyB3ZWxsLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVzZSBgXy5ydW5JbkNvbnRleHRgIHRvIGNyZWF0ZSBhIHByaXN0aW5lIGBsb2Rhc2hgIGZ1bmN0aW9uIHRvXG4gICAgICogYXZvaWQgY29uZmxpY3RzIGNhdXNlZCBieSBtb2RpZnlpbmcgdGhlIG9yaWdpbmFsLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdH0gW29iamVjdD1sb2Rhc2hdIFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIGZ1bmN0aW9ucyB0byBhZGQuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGFpbj10cnVlXSBTcGVjaWZ5IHdoZXRoZXIgbWl4aW5zIGFyZSBjaGFpbmFibGUuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufE9iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gdm93ZWxzKHN0cmluZykge1xuICAgICAqICAgcmV0dXJuIF8uZmlsdGVyKHN0cmluZywgZnVuY3Rpb24odikge1xuICAgICAqICAgICByZXR1cm4gL1thZWlvdV0vaS50ZXN0KHYpO1xuICAgICAqICAgfSk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5taXhpbih7ICd2b3dlbHMnOiB2b3dlbHMgfSk7XG4gICAgICogXy52b3dlbHMoJ2ZyZWQnKTtcbiAgICAgKiAvLyA9PiBbJ2UnXVxuICAgICAqXG4gICAgICogXygnZnJlZCcpLnZvd2VscygpLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWydlJ11cbiAgICAgKlxuICAgICAqIF8ubWl4aW4oeyAndm93ZWxzJzogdm93ZWxzIH0sIHsgJ2NoYWluJzogZmFsc2UgfSk7XG4gICAgICogXygnZnJlZCcpLnZvd2VscygpO1xuICAgICAqIC8vID0+IFsnZSddXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWl4aW4ob2JqZWN0LCBzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBwcm9wcyA9IGtleXMoc291cmNlKSxcbiAgICAgICAgICBtZXRob2ROYW1lcyA9IGJhc2VGdW5jdGlvbnMoc291cmNlLCBwcm9wcyk7XG5cbiAgICAgIGlmIChvcHRpb25zID09IG51bGwgJiZcbiAgICAgICAgICAhKGlzT2JqZWN0KHNvdXJjZSkgJiYgKG1ldGhvZE5hbWVzLmxlbmd0aCB8fCAhcHJvcHMubGVuZ3RoKSkpIHtcbiAgICAgICAgb3B0aW9ucyA9IHNvdXJjZTtcbiAgICAgICAgc291cmNlID0gb2JqZWN0O1xuICAgICAgICBvYmplY3QgPSB0aGlzO1xuICAgICAgICBtZXRob2ROYW1lcyA9IGJhc2VGdW5jdGlvbnMoc291cmNlLCBrZXlzKHNvdXJjZSkpO1xuICAgICAgfVxuICAgICAgdmFyIGNoYWluID0gIShpc09iamVjdChvcHRpb25zKSAmJiAnY2hhaW4nIGluIG9wdGlvbnMpIHx8ICEhb3B0aW9ucy5jaGFpbixcbiAgICAgICAgICBpc0Z1bmMgPSBpc0Z1bmN0aW9uKG9iamVjdCk7XG5cbiAgICAgIGFycmF5RWFjaChtZXRob2ROYW1lcywgZnVuY3Rpb24obWV0aG9kTmFtZSkge1xuICAgICAgICB2YXIgZnVuYyA9IHNvdXJjZVttZXRob2ROYW1lXTtcbiAgICAgICAgb2JqZWN0W21ldGhvZE5hbWVdID0gZnVuYztcbiAgICAgICAgaWYgKGlzRnVuYykge1xuICAgICAgICAgIG9iamVjdC5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBjaGFpbkFsbCA9IHRoaXMuX19jaGFpbl9fO1xuICAgICAgICAgICAgaWYgKGNoYWluIHx8IGNoYWluQWxsKSB7XG4gICAgICAgICAgICAgIHZhciByZXN1bHQgPSBvYmplY3QodGhpcy5fX3dyYXBwZWRfXyksXG4gICAgICAgICAgICAgICAgICBhY3Rpb25zID0gcmVzdWx0Ll9fYWN0aW9uc19fID0gY29weUFycmF5KHRoaXMuX19hY3Rpb25zX18pO1xuXG4gICAgICAgICAgICAgIGFjdGlvbnMucHVzaCh7ICdmdW5jJzogZnVuYywgJ2FyZ3MnOiBhcmd1bWVudHMsICd0aGlzQXJnJzogb2JqZWN0IH0pO1xuICAgICAgICAgICAgICByZXN1bHQuX19jaGFpbl9fID0gY2hhaW5BbGw7XG4gICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZnVuYy5hcHBseShvYmplY3QsIGFycmF5UHVzaChbdGhpcy52YWx1ZSgpXSwgYXJndW1lbnRzKSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV2ZXJ0cyB0aGUgYF9gIHZhcmlhYmxlIHRvIGl0cyBwcmV2aW91cyB2YWx1ZSBhbmQgcmV0dXJucyBhIHJlZmVyZW5jZSB0b1xuICAgICAqIHRoZSBgbG9kYXNoYCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBgbG9kYXNoYCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGxvZGFzaCA9IF8ubm9Db25mbGljdCgpO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG5vQ29uZmxpY3QoKSB7XG4gICAgICBpZiAocm9vdC5fID09PSB0aGlzKSB7XG4gICAgICAgIHJvb3QuXyA9IG9sZERhc2g7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIGB1bmRlZmluZWRgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50aW1lcygyLCBfLm5vb3ApO1xuICAgICAqIC8vID0+IFt1bmRlZmluZWQsIHVuZGVmaW5lZF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBub29wKCkge1xuICAgICAgLy8gTm8gb3BlcmF0aW9uIHBlcmZvcm1lZC5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBnZXRzIHRoZSBhcmd1bWVudCBhdCBpbmRleCBgbmAuIElmIGBuYCBpcyBuZWdhdGl2ZSxcbiAgICAgKiB0aGUgbnRoIGFyZ3VtZW50IGZyb20gdGhlIGVuZCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTBdIFRoZSBpbmRleCBvZiB0aGUgYXJndW1lbnQgdG8gcmV0dXJuLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHBhc3MtdGhydSBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLm50aEFyZygxKTtcbiAgICAgKiBmdW5jKCdhJywgJ2InLCAnYycsICdkJyk7XG4gICAgICogLy8gPT4gJ2InXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ubnRoQXJnKC0yKTtcbiAgICAgKiBmdW5jKCdhJywgJ2InLCAnYycsICdkJyk7XG4gICAgICogLy8gPT4gJ2MnXG4gICAgICovXG4gICAgZnVuY3Rpb24gbnRoQXJnKG4pIHtcbiAgICAgIG4gPSB0b0ludGVnZXIobik7XG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgICByZXR1cm4gYmFzZU50aChhcmdzLCBuKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGl0ZXJhdGVlc2Agd2l0aCB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzXG4gICAgICogYW5kIHJldHVybnMgdGhlaXIgcmVzdWx0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsuLi4oRnVuY3Rpb258RnVuY3Rpb25bXSl9IFtpdGVyYXRlZXM9W18uaWRlbnRpdHldXVxuICAgICAqICBUaGUgaXRlcmF0ZWVzIHRvIGludm9rZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLm92ZXIoW01hdGgubWF4LCBNYXRoLm1pbl0pO1xuICAgICAqXG4gICAgICogZnVuYygxLCAyLCAzLCA0KTtcbiAgICAgKiAvLyA9PiBbNCwgMV1cbiAgICAgKi9cbiAgICB2YXIgb3ZlciA9IGNyZWF0ZU92ZXIoYXJyYXlNYXApO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgY2hlY2tzIGlmICoqYWxsKiogb2YgdGhlIGBwcmVkaWNhdGVzYCByZXR1cm5cbiAgICAgKiB0cnV0aHkgd2hlbiBpbnZva2VkIHdpdGggdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIEZvbGxvd2luZyBzaG9ydGhhbmRzIGFyZSBwb3NzaWJsZSBmb3IgcHJvdmlkaW5nIHByZWRpY2F0ZXMuXG4gICAgICogUGFzcyBhbiBgT2JqZWN0YCBhbmQgaXQgd2lsbCBiZSB1c2VkIGFzIGFuIHBhcmFtZXRlciBmb3IgYF8ubWF0Y2hlc2AgdG8gY3JlYXRlIHRoZSBwcmVkaWNhdGUuXG4gICAgICogUGFzcyBhbiBgQXJyYXlgIG9mIHBhcmFtZXRlcnMgZm9yIGBfLm1hdGNoZXNQcm9wZXJ0eWAgYW5kIHRoZSBwcmVkaWNhdGUgd2lsbCBiZSBjcmVhdGVkIHVzaW5nIHRoZW0uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbcHJlZGljYXRlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBwcmVkaWNhdGVzIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ub3ZlckV2ZXJ5KFtCb29sZWFuLCBpc0Zpbml0ZV0pO1xuICAgICAqXG4gICAgICogZnVuYygnMScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIGZ1bmMobnVsbCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIGZ1bmMoTmFOKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBvdmVyRXZlcnkgPSBjcmVhdGVPdmVyKGFycmF5RXZlcnkpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgY2hlY2tzIGlmICoqYW55Kiogb2YgdGhlIGBwcmVkaWNhdGVzYCByZXR1cm5cbiAgICAgKiB0cnV0aHkgd2hlbiBpbnZva2VkIHdpdGggdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIEZvbGxvd2luZyBzaG9ydGhhbmRzIGFyZSBwb3NzaWJsZSBmb3IgcHJvdmlkaW5nIHByZWRpY2F0ZXMuXG4gICAgICogUGFzcyBhbiBgT2JqZWN0YCBhbmQgaXQgd2lsbCBiZSB1c2VkIGFzIGFuIHBhcmFtZXRlciBmb3IgYF8ubWF0Y2hlc2AgdG8gY3JlYXRlIHRoZSBwcmVkaWNhdGUuXG4gICAgICogUGFzcyBhbiBgQXJyYXlgIG9mIHBhcmFtZXRlcnMgZm9yIGBfLm1hdGNoZXNQcm9wZXJ0eWAgYW5kIHRoZSBwcmVkaWNhdGUgd2lsbCBiZSBjcmVhdGVkIHVzaW5nIHRoZW0uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbcHJlZGljYXRlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBwcmVkaWNhdGVzIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ub3ZlclNvbWUoW0Jvb2xlYW4sIGlzRmluaXRlXSk7XG4gICAgICpcbiAgICAgKiBmdW5jKCcxJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogZnVuYyhudWxsKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBmdW5jKE5hTik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIHZhciBtYXRjaGVzRnVuYyA9IF8ub3ZlclNvbWUoW3sgJ2EnOiAxIH0sIHsgJ2EnOiAyIH1dKVxuICAgICAqIHZhciBtYXRjaGVzUHJvcGVydHlGdW5jID0gXy5vdmVyU29tZShbWydhJywgMV0sIFsnYScsIDJdXSlcbiAgICAgKi9cbiAgICB2YXIgb3ZlclNvbWUgPSBjcmVhdGVPdmVyKGFycmF5U29tZSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSB2YWx1ZSBhdCBgcGF0aGAgb2YgYSBnaXZlbiBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi40LjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW1xuICAgICAqICAgeyAnYSc6IHsgJ2InOiAyIH0gfSxcbiAgICAgKiAgIHsgJ2EnOiB7ICdiJzogMSB9IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5tYXAob2JqZWN0cywgXy5wcm9wZXJ0eSgnYS5iJykpO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqXG4gICAgICogXy5tYXAoXy5zb3J0Qnkob2JqZWN0cywgXy5wcm9wZXJ0eShbJ2EnLCAnYiddKSksICdhLmInKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwcm9wZXJ0eShwYXRoKSB7XG4gICAgICByZXR1cm4gaXNLZXkocGF0aCkgPyBiYXNlUHJvcGVydHkodG9LZXkocGF0aCkpIDogYmFzZVByb3BlcnR5RGVlcChwYXRoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ucHJvcGVydHlgOyB0aGlzIG1ldGhvZCBjcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zXG4gICAgICogdGhlIHZhbHVlIGF0IGEgZ2l2ZW4gcGF0aCBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFjY2Vzc29yIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMCwgMSwgMl0sXG4gICAgICogICAgIG9iamVjdCA9IHsgJ2EnOiBhcnJheSwgJ2InOiBhcnJheSwgJ2MnOiBhcnJheSB9O1xuICAgICAqXG4gICAgICogXy5tYXAoWydhWzJdJywgJ2NbMF0nXSwgXy5wcm9wZXJ0eU9mKG9iamVjdCkpO1xuICAgICAqIC8vID0+IFsyLCAwXVxuICAgICAqXG4gICAgICogXy5tYXAoW1snYScsICcyJ10sIFsnYycsICcwJ11dLCBfLnByb3BlcnR5T2Yob2JqZWN0KSk7XG4gICAgICogLy8gPT4gWzIsIDBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcHJvcGVydHlPZihvYmplY3QpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihwYXRoKSB7XG4gICAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IGJhc2VHZXQob2JqZWN0LCBwYXRoKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBudW1iZXJzIChwb3NpdGl2ZSBhbmQvb3IgbmVnYXRpdmUpIHByb2dyZXNzaW5nIGZyb21cbiAgICAgKiBgc3RhcnRgIHVwIHRvLCBidXQgbm90IGluY2x1ZGluZywgYGVuZGAuIEEgc3RlcCBvZiBgLTFgIGlzIHVzZWQgaWYgYSBuZWdhdGl2ZVxuICAgICAqIGBzdGFydGAgaXMgc3BlY2lmaWVkIHdpdGhvdXQgYW4gYGVuZGAgb3IgYHN0ZXBgLiBJZiBgZW5kYCBpcyBub3Qgc3BlY2lmaWVkLFxuICAgICAqIGl0J3Mgc2V0IHRvIGBzdGFydGAgd2l0aCBgc3RhcnRgIHRoZW4gc2V0IHRvIGAwYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBKYXZhU2NyaXB0IGZvbGxvd3MgdGhlIElFRUUtNzU0IHN0YW5kYXJkIGZvciByZXNvbHZpbmdcbiAgICAgKiBmbG9hdGluZy1wb2ludCB2YWx1ZXMgd2hpY2ggY2FuIHByb2R1Y2UgdW5leHBlY3RlZCByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0ZXA9MV0gVGhlIHZhbHVlIHRvIGluY3JlbWVudCBvciBkZWNyZW1lbnQgYnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5nZSBvZiBudW1iZXJzLlxuICAgICAqIEBzZWUgXy5pblJhbmdlLCBfLnJhbmdlUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yYW5nZSg0KTtcbiAgICAgKiAvLyA9PiBbMCwgMSwgMiwgM11cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoLTQpO1xuICAgICAqIC8vID0+IFswLCAtMSwgLTIsIC0zXVxuICAgICAqXG4gICAgICogXy5yYW5nZSgxLCA1KTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgMywgNF1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoMCwgMjAsIDUpO1xuICAgICAqIC8vID0+IFswLCA1LCAxMCwgMTVdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDAsIC00LCAtMSk7XG4gICAgICogLy8gPT4gWzAsIC0xLCAtMiwgLTNdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDEsIDQsIDApO1xuICAgICAqIC8vID0+IFsxLCAxLCAxXVxuICAgICAqXG4gICAgICogXy5yYW5nZSgwKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIHZhciByYW5nZSA9IGNyZWF0ZVJhbmdlKCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnJhbmdlYCBleGNlcHQgdGhhdCBpdCBwb3B1bGF0ZXMgdmFsdWVzIGluXG4gICAgICogZGVzY2VuZGluZyBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgVGhlIGVuZCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGVwPTFdIFRoZSB2YWx1ZSB0byBpbmNyZW1lbnQgb3IgZGVjcmVtZW50IGJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcmFuZ2Ugb2YgbnVtYmVycy5cbiAgICAgKiBAc2VlIF8uaW5SYW5nZSwgXy5yYW5nZVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoNCk7XG4gICAgICogLy8gPT4gWzMsIDIsIDEsIDBdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoLTQpO1xuICAgICAqIC8vID0+IFstMywgLTIsIC0xLCAwXVxuICAgICAqXG4gICAgICogXy5yYW5nZVJpZ2h0KDEsIDUpO1xuICAgICAqIC8vID0+IFs0LCAzLCAyLCAxXVxuICAgICAqXG4gICAgICogXy5yYW5nZVJpZ2h0KDAsIDIwLCA1KTtcbiAgICAgKiAvLyA9PiBbMTUsIDEwLCA1LCAwXVxuICAgICAqXG4gICAgICogXy5yYW5nZVJpZ2h0KDAsIC00LCAtMSk7XG4gICAgICogLy8gPT4gWy0zLCAtMiwgLTEsIDBdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoMSwgNCwgMCk7XG4gICAgICogLy8gPT4gWzEsIDEsIDFdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoMCk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICB2YXIgcmFuZ2VSaWdodCA9IGNyZWF0ZVJhbmdlKHRydWUpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBlbXB0eSBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEzLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGVtcHR5IGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXlzID0gXy50aW1lcygyLCBfLnN0dWJBcnJheSk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheXMpO1xuICAgICAqIC8vID0+IFtbXSwgW11dXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheXNbMF0gPT09IGFycmF5c1sxXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdHViQXJyYXkoKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTMuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50aW1lcygyLCBfLnN0dWJGYWxzZSk7XG4gICAgICogLy8gPT4gW2ZhbHNlLCBmYWxzZV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdHViRmFsc2UoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBlbXB0eSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgZW1wdHkgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IF8udGltZXMoMiwgXy5zdHViT2JqZWN0KTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdHMpO1xuICAgICAqIC8vID0+IFt7fSwge31dXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3RzWzBdID09PSBvYmplY3RzWzFdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0dWJPYmplY3QoKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBhbiBlbXB0eSBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlbXB0eSBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGltZXMoMiwgXy5zdHViU3RyaW5nKTtcbiAgICAgKiAvLyA9PiBbJycsICcnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0dWJTdHJpbmcoKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBgdHJ1ZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGltZXMoMiwgXy5zdHViVHJ1ZSk7XG4gICAgICogLy8gPT4gW3RydWUsIHRydWVdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3R1YlRydWUoKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VzIHRoZSBpdGVyYXRlZSBgbmAgdGltZXMsIHJldHVybmluZyBhbiBhcnJheSBvZiB0aGUgcmVzdWx0cyBvZlxuICAgICAqIGVhY2ggaW52b2NhdGlvbi4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ7IChpbmRleCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gaW52b2tlIGBpdGVyYXRlZWAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiByZXN1bHRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRpbWVzKDMsIFN0cmluZyk7XG4gICAgICogLy8gPT4gWycwJywgJzEnLCAnMiddXG4gICAgICpcbiAgICAgKiAgXy50aW1lcyg0LCBfLmNvbnN0YW50KDApKTtcbiAgICAgKiAvLyA9PiBbMCwgMCwgMCwgMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0aW1lcyhuLCBpdGVyYXRlZSkge1xuICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIGlmIChuIDwgMSB8fCBuID4gTUFYX1NBRkVfSU5URUdFUikge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBNQVhfQVJSQVlfTEVOR1RILFxuICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1pbihuLCBNQVhfQVJSQVlfTEVOR1RIKTtcblxuICAgICAgaXRlcmF0ZWUgPSBnZXRJdGVyYXRlZShpdGVyYXRlZSk7XG4gICAgICBuIC09IE1BWF9BUlJBWV9MRU5HVEg7XG5cbiAgICAgIHZhciByZXN1bHQgPSBiYXNlVGltZXMobGVuZ3RoLCBpdGVyYXRlZSk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IG4pIHtcbiAgICAgICAgaXRlcmF0ZWUoaW5kZXgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvUGF0aCgnYS5iLmMnKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYicsICdjJ11cbiAgICAgKlxuICAgICAqIF8udG9QYXRoKCdhWzBdLmIuYycpO1xuICAgICAqIC8vID0+IFsnYScsICcwJywgJ2InLCAnYyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9QYXRoKHZhbHVlKSB7XG4gICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGFycmF5TWFwKHZhbHVlLCB0b0tleSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXNTeW1ib2wodmFsdWUpID8gW3ZhbHVlXSA6IGNvcHlBcnJheShzdHJpbmdUb1BhdGgodG9TdHJpbmcodmFsdWUpKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGEgdW5pcXVlIElELiBJZiBgcHJlZml4YCBpcyBnaXZlbiwgdGhlIElEIGlzIGFwcGVuZGVkIHRvIGl0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3ByZWZpeD0nJ10gVGhlIHZhbHVlIHRvIHByZWZpeCB0aGUgSUQgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1bmlxdWUgSUQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udW5pcXVlSWQoJ2NvbnRhY3RfJyk7XG4gICAgICogLy8gPT4gJ2NvbnRhY3RfMTA0J1xuICAgICAqXG4gICAgICogXy51bmlxdWVJZCgpO1xuICAgICAqIC8vID0+ICcxMDUnXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5pcXVlSWQocHJlZml4KSB7XG4gICAgICB2YXIgaWQgPSArK2lkQ291bnRlcjtcbiAgICAgIHJldHVybiB0b1N0cmluZyhwcmVmaXgpICsgaWQ7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQWRkcyB0d28gbnVtYmVycy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjQuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGF1Z2VuZCBUaGUgZmlyc3QgbnVtYmVyIGluIGFuIGFkZGl0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhZGRlbmQgVGhlIHNlY29uZCBudW1iZXIgaW4gYW4gYWRkaXRpb24uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdG90YWwuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uYWRkKDYsIDQpO1xuICAgICAqIC8vID0+IDEwXG4gICAgICovXG4gICAgdmFyIGFkZCA9IGNyZWF0ZU1hdGhPcGVyYXRpb24oZnVuY3Rpb24oYXVnZW5kLCBhZGRlbmQpIHtcbiAgICAgIHJldHVybiBhdWdlbmQgKyBhZGRlbmQ7XG4gICAgfSwgMCk7XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBgbnVtYmVyYCByb3VuZGVkIHVwIHRvIGBwcmVjaXNpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIHJvdW5kIHVwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uPTBdIFRoZSBwcmVjaXNpb24gdG8gcm91bmQgdXAgdG8uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcm91bmRlZCB1cCBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2VpbCg0LjAwNik7XG4gICAgICogLy8gPT4gNVxuICAgICAqXG4gICAgICogXy5jZWlsKDYuMDA0LCAyKTtcbiAgICAgKiAvLyA9PiA2LjAxXG4gICAgICpcbiAgICAgKiBfLmNlaWwoNjA0MCwgLTIpO1xuICAgICAqIC8vID0+IDYxMDBcbiAgICAgKi9cbiAgICB2YXIgY2VpbCA9IGNyZWF0ZVJvdW5kKCdjZWlsJyk7XG5cbiAgICAvKipcbiAgICAgKiBEaXZpZGUgdHdvIG51bWJlcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkaXZpZGVuZCBUaGUgZmlyc3QgbnVtYmVyIGluIGEgZGl2aXNpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRpdmlzb3IgVGhlIHNlY29uZCBudW1iZXIgaW4gYSBkaXZpc2lvbi5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBxdW90aWVudC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kaXZpZGUoNiwgNCk7XG4gICAgICogLy8gPT4gMS41XG4gICAgICovXG4gICAgdmFyIGRpdmlkZSA9IGNyZWF0ZU1hdGhPcGVyYXRpb24oZnVuY3Rpb24oZGl2aWRlbmQsIGRpdmlzb3IpIHtcbiAgICAgIHJldHVybiBkaXZpZGVuZCAvIGRpdmlzb3I7XG4gICAgfSwgMSk7XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBgbnVtYmVyYCByb3VuZGVkIGRvd24gdG8gYHByZWNpc2lvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4xMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gcm91bmQgZG93bi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3ByZWNpc2lvbj0wXSBUaGUgcHJlY2lzaW9uIHRvIHJvdW5kIGRvd24gdG8uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcm91bmRlZCBkb3duIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mbG9vcig0LjAwNik7XG4gICAgICogLy8gPT4gNFxuICAgICAqXG4gICAgICogXy5mbG9vcigwLjA0NiwgMik7XG4gICAgICogLy8gPT4gMC4wNFxuICAgICAqXG4gICAgICogXy5mbG9vcig0MDYwLCAtMik7XG4gICAgICogLy8gPT4gNDAwMFxuICAgICAqL1xuICAgIHZhciBmbG9vciA9IGNyZWF0ZVJvdW5kKCdmbG9vcicpO1xuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIG1heGltdW0gdmFsdWUgb2YgYGFycmF5YC4gSWYgYGFycmF5YCBpcyBlbXB0eSBvciBmYWxzZXksXG4gICAgICogYHVuZGVmaW5lZGAgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1heGltdW0gdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWF4KFs0LCAyLCA4LCA2XSk7XG4gICAgICogLy8gPT4gOFxuICAgICAqXG4gICAgICogXy5tYXgoW10pO1xuICAgICAqIC8vID0+IHVuZGVmaW5lZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1heChhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZUV4dHJlbXVtKGFycmF5LCBpZGVudGl0eSwgYmFzZUd0KVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLm1heGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieSB3aGljaFxuICAgICAqIHRoZSB2YWx1ZSBpcyByYW5rZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWF4aW11bSB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnbic6IDEgfSwgeyAnbic6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLm1heEJ5KG9iamVjdHMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8ubjsgfSk7XG4gICAgICogLy8gPT4geyAnbic6IDIgfVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5tYXhCeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IHsgJ24nOiAyIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXhCeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VFeHRyZW11bShhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpLCBiYXNlR3QpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIHRoZSBtZWFuIG9mIHRoZSB2YWx1ZXMgaW4gYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBtZWFuLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLm1lYW4oWzQsIDIsIDgsIDZdKTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICovXG4gICAgZnVuY3Rpb24gbWVhbihhcnJheSkge1xuICAgICAgcmV0dXJuIGJhc2VNZWFuKGFycmF5LCBpZGVudGl0eSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5tZWFuYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgaW4gYGFycmF5YCB0byBnZW5lcmF0ZSB0aGUgdmFsdWUgdG8gYmUgYXZlcmFnZWQuXG4gICAgICogVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG1lYW4uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ24nOiA0IH0sIHsgJ24nOiAyIH0sIHsgJ24nOiA4IH0sIHsgJ24nOiA2IH1dO1xuICAgICAqXG4gICAgICogXy5tZWFuQnkob2JqZWN0cywgZnVuY3Rpb24obykgeyByZXR1cm4gby5uOyB9KTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1lYW5CeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IDVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtZWFuQnkoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gYmFzZU1lYW4oYXJyYXksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIG1pbmltdW0gdmFsdWUgb2YgYGFycmF5YC4gSWYgYGFycmF5YCBpcyBlbXB0eSBvciBmYWxzZXksXG4gICAgICogYHVuZGVmaW5lZGAgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1pbmltdW0gdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWluKFs0LCAyLCA4LCA2XSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqXG4gICAgICogXy5taW4oW10pO1xuICAgICAqIC8vID0+IHVuZGVmaW5lZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1pbihhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZUV4dHJlbXVtKGFycmF5LCBpZGVudGl0eSwgYmFzZUx0KVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLm1pbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieSB3aGljaFxuICAgICAqIHRoZSB2YWx1ZSBpcyByYW5rZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWluaW11bSB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnbic6IDEgfSwgeyAnbic6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLm1pbkJ5KG9iamVjdHMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8ubjsgfSk7XG4gICAgICogLy8gPT4geyAnbic6IDEgfVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5taW5CeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IHsgJ24nOiAxIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtaW5CeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VFeHRyZW11bShhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpLCBiYXNlTHQpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE11bHRpcGx5IHR3byBudW1iZXJzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNy4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbXVsdGlwbGllciBUaGUgZmlyc3QgbnVtYmVyIGluIGEgbXVsdGlwbGljYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG11bHRpcGxpY2FuZCBUaGUgc2Vjb25kIG51bWJlciBpbiBhIG11bHRpcGxpY2F0aW9uLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHByb2R1Y3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubXVsdGlwbHkoNiwgNCk7XG4gICAgICogLy8gPT4gMjRcbiAgICAgKi9cbiAgICB2YXIgbXVsdGlwbHkgPSBjcmVhdGVNYXRoT3BlcmF0aW9uKGZ1bmN0aW9uKG11bHRpcGxpZXIsIG11bHRpcGxpY2FuZCkge1xuICAgICAgcmV0dXJuIG11bHRpcGxpZXIgKiBtdWx0aXBsaWNhbmQ7XG4gICAgfSwgMSk7XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBgbnVtYmVyYCByb3VuZGVkIHRvIGBwcmVjaXNpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIHJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uPTBdIFRoZSBwcmVjaXNpb24gdG8gcm91bmQgdG8uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcm91bmRlZCBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucm91bmQoNC4wMDYpO1xuICAgICAqIC8vID0+IDRcbiAgICAgKlxuICAgICAqIF8ucm91bmQoNC4wMDYsIDIpO1xuICAgICAqIC8vID0+IDQuMDFcbiAgICAgKlxuICAgICAqIF8ucm91bmQoNDA2MCwgLTIpO1xuICAgICAqIC8vID0+IDQxMDBcbiAgICAgKi9cbiAgICB2YXIgcm91bmQgPSBjcmVhdGVSb3VuZCgncm91bmQnKTtcblxuICAgIC8qKlxuICAgICAqIFN1YnRyYWN0IHR3byBudW1iZXJzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWludWVuZCBUaGUgZmlyc3QgbnVtYmVyIGluIGEgc3VidHJhY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN1YnRyYWhlbmQgVGhlIHNlY29uZCBudW1iZXIgaW4gYSBzdWJ0cmFjdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBkaWZmZXJlbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnN1YnRyYWN0KDYsIDQpO1xuICAgICAqIC8vID0+IDJcbiAgICAgKi9cbiAgICB2YXIgc3VidHJhY3QgPSBjcmVhdGVNYXRoT3BlcmF0aW9uKGZ1bmN0aW9uKG1pbnVlbmQsIHN1YnRyYWhlbmQpIHtcbiAgICAgIHJldHVybiBtaW51ZW5kIC0gc3VidHJhaGVuZDtcbiAgICB9LCAwKTtcblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIHRoZSBzdW0gb2YgdGhlIHZhbHVlcyBpbiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuNC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHN1bS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zdW0oWzQsIDIsIDgsIDZdKTtcbiAgICAgKiAvLyA9PiAyMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN1bShhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVN1bShhcnJheSwgaWRlbnRpdHkpXG4gICAgICAgIDogMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnN1bWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIHZhbHVlIHRvIGJlIHN1bW1lZC5cbiAgICAgKiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3VtLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICduJzogNCB9LCB7ICduJzogMiB9LCB7ICduJzogOCB9LCB7ICduJzogNiB9XTtcbiAgICAgKlxuICAgICAqIF8uc3VtQnkob2JqZWN0cywgZnVuY3Rpb24obykgeyByZXR1cm4gby5uOyB9KTtcbiAgICAgKiAvLyA9PiAyMFxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zdW1CeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IDIwXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3VtQnkoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlU3VtKGFycmF5LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpXG4gICAgICAgIDogMDtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0aGF0IHJldHVybiB3cmFwcGVkIHZhbHVlcyBpbiBjaGFpbiBzZXF1ZW5jZXMuXG4gICAgbG9kYXNoLmFmdGVyID0gYWZ0ZXI7XG4gICAgbG9kYXNoLmFyeSA9IGFyeTtcbiAgICBsb2Rhc2guYXNzaWduID0gYXNzaWduO1xuICAgIGxvZGFzaC5hc3NpZ25JbiA9IGFzc2lnbkluO1xuICAgIGxvZGFzaC5hc3NpZ25JbldpdGggPSBhc3NpZ25JbldpdGg7XG4gICAgbG9kYXNoLmFzc2lnbldpdGggPSBhc3NpZ25XaXRoO1xuICAgIGxvZGFzaC5hdCA9IGF0O1xuICAgIGxvZGFzaC5iZWZvcmUgPSBiZWZvcmU7XG4gICAgbG9kYXNoLmJpbmQgPSBiaW5kO1xuICAgIGxvZGFzaC5iaW5kQWxsID0gYmluZEFsbDtcbiAgICBsb2Rhc2guYmluZEtleSA9IGJpbmRLZXk7XG4gICAgbG9kYXNoLmNhc3RBcnJheSA9IGNhc3RBcnJheTtcbiAgICBsb2Rhc2guY2hhaW4gPSBjaGFpbjtcbiAgICBsb2Rhc2guY2h1bmsgPSBjaHVuaztcbiAgICBsb2Rhc2guY29tcGFjdCA9IGNvbXBhY3Q7XG4gICAgbG9kYXNoLmNvbmNhdCA9IGNvbmNhdDtcbiAgICBsb2Rhc2guY29uZCA9IGNvbmQ7XG4gICAgbG9kYXNoLmNvbmZvcm1zID0gY29uZm9ybXM7XG4gICAgbG9kYXNoLmNvbnN0YW50ID0gY29uc3RhbnQ7XG4gICAgbG9kYXNoLmNvdW50QnkgPSBjb3VudEJ5O1xuICAgIGxvZGFzaC5jcmVhdGUgPSBjcmVhdGU7XG4gICAgbG9kYXNoLmN1cnJ5ID0gY3Vycnk7XG4gICAgbG9kYXNoLmN1cnJ5UmlnaHQgPSBjdXJyeVJpZ2h0O1xuICAgIGxvZGFzaC5kZWJvdW5jZSA9IGRlYm91bmNlO1xuICAgIGxvZGFzaC5kZWZhdWx0cyA9IGRlZmF1bHRzO1xuICAgIGxvZGFzaC5kZWZhdWx0c0RlZXAgPSBkZWZhdWx0c0RlZXA7XG4gICAgbG9kYXNoLmRlZmVyID0gZGVmZXI7XG4gICAgbG9kYXNoLmRlbGF5ID0gZGVsYXk7XG4gICAgbG9kYXNoLmRpZmZlcmVuY2UgPSBkaWZmZXJlbmNlO1xuICAgIGxvZGFzaC5kaWZmZXJlbmNlQnkgPSBkaWZmZXJlbmNlQnk7XG4gICAgbG9kYXNoLmRpZmZlcmVuY2VXaXRoID0gZGlmZmVyZW5jZVdpdGg7XG4gICAgbG9kYXNoLmRyb3AgPSBkcm9wO1xuICAgIGxvZGFzaC5kcm9wUmlnaHQgPSBkcm9wUmlnaHQ7XG4gICAgbG9kYXNoLmRyb3BSaWdodFdoaWxlID0gZHJvcFJpZ2h0V2hpbGU7XG4gICAgbG9kYXNoLmRyb3BXaGlsZSA9IGRyb3BXaGlsZTtcbiAgICBsb2Rhc2guZmlsbCA9IGZpbGw7XG4gICAgbG9kYXNoLmZpbHRlciA9IGZpbHRlcjtcbiAgICBsb2Rhc2guZmxhdE1hcCA9IGZsYXRNYXA7XG4gICAgbG9kYXNoLmZsYXRNYXBEZWVwID0gZmxhdE1hcERlZXA7XG4gICAgbG9kYXNoLmZsYXRNYXBEZXB0aCA9IGZsYXRNYXBEZXB0aDtcbiAgICBsb2Rhc2guZmxhdHRlbiA9IGZsYXR0ZW47XG4gICAgbG9kYXNoLmZsYXR0ZW5EZWVwID0gZmxhdHRlbkRlZXA7XG4gICAgbG9kYXNoLmZsYXR0ZW5EZXB0aCA9IGZsYXR0ZW5EZXB0aDtcbiAgICBsb2Rhc2guZmxpcCA9IGZsaXA7XG4gICAgbG9kYXNoLmZsb3cgPSBmbG93O1xuICAgIGxvZGFzaC5mbG93UmlnaHQgPSBmbG93UmlnaHQ7XG4gICAgbG9kYXNoLmZyb21QYWlycyA9IGZyb21QYWlycztcbiAgICBsb2Rhc2guZnVuY3Rpb25zID0gZnVuY3Rpb25zO1xuICAgIGxvZGFzaC5mdW5jdGlvbnNJbiA9IGZ1bmN0aW9uc0luO1xuICAgIGxvZGFzaC5ncm91cEJ5ID0gZ3JvdXBCeTtcbiAgICBsb2Rhc2guaW5pdGlhbCA9IGluaXRpYWw7XG4gICAgbG9kYXNoLmludGVyc2VjdGlvbiA9IGludGVyc2VjdGlvbjtcbiAgICBsb2Rhc2guaW50ZXJzZWN0aW9uQnkgPSBpbnRlcnNlY3Rpb25CeTtcbiAgICBsb2Rhc2guaW50ZXJzZWN0aW9uV2l0aCA9IGludGVyc2VjdGlvbldpdGg7XG4gICAgbG9kYXNoLmludmVydCA9IGludmVydDtcbiAgICBsb2Rhc2guaW52ZXJ0QnkgPSBpbnZlcnRCeTtcbiAgICBsb2Rhc2guaW52b2tlTWFwID0gaW52b2tlTWFwO1xuICAgIGxvZGFzaC5pdGVyYXRlZSA9IGl0ZXJhdGVlO1xuICAgIGxvZGFzaC5rZXlCeSA9IGtleUJ5O1xuICAgIGxvZGFzaC5rZXlzID0ga2V5cztcbiAgICBsb2Rhc2gua2V5c0luID0ga2V5c0luO1xuICAgIGxvZGFzaC5tYXAgPSBtYXA7XG4gICAgbG9kYXNoLm1hcEtleXMgPSBtYXBLZXlzO1xuICAgIGxvZGFzaC5tYXBWYWx1ZXMgPSBtYXBWYWx1ZXM7XG4gICAgbG9kYXNoLm1hdGNoZXMgPSBtYXRjaGVzO1xuICAgIGxvZGFzaC5tYXRjaGVzUHJvcGVydHkgPSBtYXRjaGVzUHJvcGVydHk7XG4gICAgbG9kYXNoLm1lbW9pemUgPSBtZW1vaXplO1xuICAgIGxvZGFzaC5tZXJnZSA9IG1lcmdlO1xuICAgIGxvZGFzaC5tZXJnZVdpdGggPSBtZXJnZVdpdGg7XG4gICAgbG9kYXNoLm1ldGhvZCA9IG1ldGhvZDtcbiAgICBsb2Rhc2gubWV0aG9kT2YgPSBtZXRob2RPZjtcbiAgICBsb2Rhc2gubWl4aW4gPSBtaXhpbjtcbiAgICBsb2Rhc2gubmVnYXRlID0gbmVnYXRlO1xuICAgIGxvZGFzaC5udGhBcmcgPSBudGhBcmc7XG4gICAgbG9kYXNoLm9taXQgPSBvbWl0O1xuICAgIGxvZGFzaC5vbWl0QnkgPSBvbWl0Qnk7XG4gICAgbG9kYXNoLm9uY2UgPSBvbmNlO1xuICAgIGxvZGFzaC5vcmRlckJ5ID0gb3JkZXJCeTtcbiAgICBsb2Rhc2gub3ZlciA9IG92ZXI7XG4gICAgbG9kYXNoLm92ZXJBcmdzID0gb3ZlckFyZ3M7XG4gICAgbG9kYXNoLm92ZXJFdmVyeSA9IG92ZXJFdmVyeTtcbiAgICBsb2Rhc2gub3ZlclNvbWUgPSBvdmVyU29tZTtcbiAgICBsb2Rhc2gucGFydGlhbCA9IHBhcnRpYWw7XG4gICAgbG9kYXNoLnBhcnRpYWxSaWdodCA9IHBhcnRpYWxSaWdodDtcbiAgICBsb2Rhc2gucGFydGl0aW9uID0gcGFydGl0aW9uO1xuICAgIGxvZGFzaC5waWNrID0gcGljaztcbiAgICBsb2Rhc2gucGlja0J5ID0gcGlja0J5O1xuICAgIGxvZGFzaC5wcm9wZXJ0eSA9IHByb3BlcnR5O1xuICAgIGxvZGFzaC5wcm9wZXJ0eU9mID0gcHJvcGVydHlPZjtcbiAgICBsb2Rhc2gucHVsbCA9IHB1bGw7XG4gICAgbG9kYXNoLnB1bGxBbGwgPSBwdWxsQWxsO1xuICAgIGxvZGFzaC5wdWxsQWxsQnkgPSBwdWxsQWxsQnk7XG4gICAgbG9kYXNoLnB1bGxBbGxXaXRoID0gcHVsbEFsbFdpdGg7XG4gICAgbG9kYXNoLnB1bGxBdCA9IHB1bGxBdDtcbiAgICBsb2Rhc2gucmFuZ2UgPSByYW5nZTtcbiAgICBsb2Rhc2gucmFuZ2VSaWdodCA9IHJhbmdlUmlnaHQ7XG4gICAgbG9kYXNoLnJlYXJnID0gcmVhcmc7XG4gICAgbG9kYXNoLnJlamVjdCA9IHJlamVjdDtcbiAgICBsb2Rhc2gucmVtb3ZlID0gcmVtb3ZlO1xuICAgIGxvZGFzaC5yZXN0ID0gcmVzdDtcbiAgICBsb2Rhc2gucmV2ZXJzZSA9IHJldmVyc2U7XG4gICAgbG9kYXNoLnNhbXBsZVNpemUgPSBzYW1wbGVTaXplO1xuICAgIGxvZGFzaC5zZXQgPSBzZXQ7XG4gICAgbG9kYXNoLnNldFdpdGggPSBzZXRXaXRoO1xuICAgIGxvZGFzaC5zaHVmZmxlID0gc2h1ZmZsZTtcbiAgICBsb2Rhc2guc2xpY2UgPSBzbGljZTtcbiAgICBsb2Rhc2guc29ydEJ5ID0gc29ydEJ5O1xuICAgIGxvZGFzaC5zb3J0ZWRVbmlxID0gc29ydGVkVW5pcTtcbiAgICBsb2Rhc2guc29ydGVkVW5pcUJ5ID0gc29ydGVkVW5pcUJ5O1xuICAgIGxvZGFzaC5zcGxpdCA9IHNwbGl0O1xuICAgIGxvZGFzaC5zcHJlYWQgPSBzcHJlYWQ7XG4gICAgbG9kYXNoLnRhaWwgPSB0YWlsO1xuICAgIGxvZGFzaC50YWtlID0gdGFrZTtcbiAgICBsb2Rhc2gudGFrZVJpZ2h0ID0gdGFrZVJpZ2h0O1xuICAgIGxvZGFzaC50YWtlUmlnaHRXaGlsZSA9IHRha2VSaWdodFdoaWxlO1xuICAgIGxvZGFzaC50YWtlV2hpbGUgPSB0YWtlV2hpbGU7XG4gICAgbG9kYXNoLnRhcCA9IHRhcDtcbiAgICBsb2Rhc2gudGhyb3R0bGUgPSB0aHJvdHRsZTtcbiAgICBsb2Rhc2gudGhydSA9IHRocnU7XG4gICAgbG9kYXNoLnRvQXJyYXkgPSB0b0FycmF5O1xuICAgIGxvZGFzaC50b1BhaXJzID0gdG9QYWlycztcbiAgICBsb2Rhc2gudG9QYWlyc0luID0gdG9QYWlyc0luO1xuICAgIGxvZGFzaC50b1BhdGggPSB0b1BhdGg7XG4gICAgbG9kYXNoLnRvUGxhaW5PYmplY3QgPSB0b1BsYWluT2JqZWN0O1xuICAgIGxvZGFzaC50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgbG9kYXNoLnVuYXJ5ID0gdW5hcnk7XG4gICAgbG9kYXNoLnVuaW9uID0gdW5pb247XG4gICAgbG9kYXNoLnVuaW9uQnkgPSB1bmlvbkJ5O1xuICAgIGxvZGFzaC51bmlvbldpdGggPSB1bmlvbldpdGg7XG4gICAgbG9kYXNoLnVuaXEgPSB1bmlxO1xuICAgIGxvZGFzaC51bmlxQnkgPSB1bmlxQnk7XG4gICAgbG9kYXNoLnVuaXFXaXRoID0gdW5pcVdpdGg7XG4gICAgbG9kYXNoLnVuc2V0ID0gdW5zZXQ7XG4gICAgbG9kYXNoLnVuemlwID0gdW56aXA7XG4gICAgbG9kYXNoLnVuemlwV2l0aCA9IHVuemlwV2l0aDtcbiAgICBsb2Rhc2gudXBkYXRlID0gdXBkYXRlO1xuICAgIGxvZGFzaC51cGRhdGVXaXRoID0gdXBkYXRlV2l0aDtcbiAgICBsb2Rhc2gudmFsdWVzID0gdmFsdWVzO1xuICAgIGxvZGFzaC52YWx1ZXNJbiA9IHZhbHVlc0luO1xuICAgIGxvZGFzaC53aXRob3V0ID0gd2l0aG91dDtcbiAgICBsb2Rhc2gud29yZHMgPSB3b3JkcztcbiAgICBsb2Rhc2gud3JhcCA9IHdyYXA7XG4gICAgbG9kYXNoLnhvciA9IHhvcjtcbiAgICBsb2Rhc2gueG9yQnkgPSB4b3JCeTtcbiAgICBsb2Rhc2gueG9yV2l0aCA9IHhvcldpdGg7XG4gICAgbG9kYXNoLnppcCA9IHppcDtcbiAgICBsb2Rhc2guemlwT2JqZWN0ID0gemlwT2JqZWN0O1xuICAgIGxvZGFzaC56aXBPYmplY3REZWVwID0gemlwT2JqZWN0RGVlcDtcbiAgICBsb2Rhc2guemlwV2l0aCA9IHppcFdpdGg7XG5cbiAgICAvLyBBZGQgYWxpYXNlcy5cbiAgICBsb2Rhc2guZW50cmllcyA9IHRvUGFpcnM7XG4gICAgbG9kYXNoLmVudHJpZXNJbiA9IHRvUGFpcnNJbjtcbiAgICBsb2Rhc2guZXh0ZW5kID0gYXNzaWduSW47XG4gICAgbG9kYXNoLmV4dGVuZFdpdGggPSBhc3NpZ25JbldpdGg7XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgbG9kYXNoLnByb3RvdHlwZWAuXG4gICAgbWl4aW4obG9kYXNoLCBsb2Rhc2gpO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLy8gQWRkIG1ldGhvZHMgdGhhdCByZXR1cm4gdW53cmFwcGVkIHZhbHVlcyBpbiBjaGFpbiBzZXF1ZW5jZXMuXG4gICAgbG9kYXNoLmFkZCA9IGFkZDtcbiAgICBsb2Rhc2guYXR0ZW1wdCA9IGF0dGVtcHQ7XG4gICAgbG9kYXNoLmNhbWVsQ2FzZSA9IGNhbWVsQ2FzZTtcbiAgICBsb2Rhc2guY2FwaXRhbGl6ZSA9IGNhcGl0YWxpemU7XG4gICAgbG9kYXNoLmNlaWwgPSBjZWlsO1xuICAgIGxvZGFzaC5jbGFtcCA9IGNsYW1wO1xuICAgIGxvZGFzaC5jbG9uZSA9IGNsb25lO1xuICAgIGxvZGFzaC5jbG9uZURlZXAgPSBjbG9uZURlZXA7XG4gICAgbG9kYXNoLmNsb25lRGVlcFdpdGggPSBjbG9uZURlZXBXaXRoO1xuICAgIGxvZGFzaC5jbG9uZVdpdGggPSBjbG9uZVdpdGg7XG4gICAgbG9kYXNoLmNvbmZvcm1zVG8gPSBjb25mb3Jtc1RvO1xuICAgIGxvZGFzaC5kZWJ1cnIgPSBkZWJ1cnI7XG4gICAgbG9kYXNoLmRlZmF1bHRUbyA9IGRlZmF1bHRUbztcbiAgICBsb2Rhc2guZGl2aWRlID0gZGl2aWRlO1xuICAgIGxvZGFzaC5lbmRzV2l0aCA9IGVuZHNXaXRoO1xuICAgIGxvZGFzaC5lcSA9IGVxO1xuICAgIGxvZGFzaC5lc2NhcGUgPSBlc2NhcGU7XG4gICAgbG9kYXNoLmVzY2FwZVJlZ0V4cCA9IGVzY2FwZVJlZ0V4cDtcbiAgICBsb2Rhc2guZXZlcnkgPSBldmVyeTtcbiAgICBsb2Rhc2guZmluZCA9IGZpbmQ7XG4gICAgbG9kYXNoLmZpbmRJbmRleCA9IGZpbmRJbmRleDtcbiAgICBsb2Rhc2guZmluZEtleSA9IGZpbmRLZXk7XG4gICAgbG9kYXNoLmZpbmRMYXN0ID0gZmluZExhc3Q7XG4gICAgbG9kYXNoLmZpbmRMYXN0SW5kZXggPSBmaW5kTGFzdEluZGV4O1xuICAgIGxvZGFzaC5maW5kTGFzdEtleSA9IGZpbmRMYXN0S2V5O1xuICAgIGxvZGFzaC5mbG9vciA9IGZsb29yO1xuICAgIGxvZGFzaC5mb3JFYWNoID0gZm9yRWFjaDtcbiAgICBsb2Rhc2guZm9yRWFjaFJpZ2h0ID0gZm9yRWFjaFJpZ2h0O1xuICAgIGxvZGFzaC5mb3JJbiA9IGZvckluO1xuICAgIGxvZGFzaC5mb3JJblJpZ2h0ID0gZm9ySW5SaWdodDtcbiAgICBsb2Rhc2guZm9yT3duID0gZm9yT3duO1xuICAgIGxvZGFzaC5mb3JPd25SaWdodCA9IGZvck93blJpZ2h0O1xuICAgIGxvZGFzaC5nZXQgPSBnZXQ7XG4gICAgbG9kYXNoLmd0ID0gZ3Q7XG4gICAgbG9kYXNoLmd0ZSA9IGd0ZTtcbiAgICBsb2Rhc2guaGFzID0gaGFzO1xuICAgIGxvZGFzaC5oYXNJbiA9IGhhc0luO1xuICAgIGxvZGFzaC5oZWFkID0gaGVhZDtcbiAgICBsb2Rhc2guaWRlbnRpdHkgPSBpZGVudGl0eTtcbiAgICBsb2Rhc2guaW5jbHVkZXMgPSBpbmNsdWRlcztcbiAgICBsb2Rhc2guaW5kZXhPZiA9IGluZGV4T2Y7XG4gICAgbG9kYXNoLmluUmFuZ2UgPSBpblJhbmdlO1xuICAgIGxvZGFzaC5pbnZva2UgPSBpbnZva2U7XG4gICAgbG9kYXNoLmlzQXJndW1lbnRzID0gaXNBcmd1bWVudHM7XG4gICAgbG9kYXNoLmlzQXJyYXkgPSBpc0FycmF5O1xuICAgIGxvZGFzaC5pc0FycmF5QnVmZmVyID0gaXNBcnJheUJ1ZmZlcjtcbiAgICBsb2Rhc2guaXNBcnJheUxpa2UgPSBpc0FycmF5TGlrZTtcbiAgICBsb2Rhc2guaXNBcnJheUxpa2VPYmplY3QgPSBpc0FycmF5TGlrZU9iamVjdDtcbiAgICBsb2Rhc2guaXNCb29sZWFuID0gaXNCb29sZWFuO1xuICAgIGxvZGFzaC5pc0J1ZmZlciA9IGlzQnVmZmVyO1xuICAgIGxvZGFzaC5pc0RhdGUgPSBpc0RhdGU7XG4gICAgbG9kYXNoLmlzRWxlbWVudCA9IGlzRWxlbWVudDtcbiAgICBsb2Rhc2guaXNFbXB0eSA9IGlzRW1wdHk7XG4gICAgbG9kYXNoLmlzRXF1YWwgPSBpc0VxdWFsO1xuICAgIGxvZGFzaC5pc0VxdWFsV2l0aCA9IGlzRXF1YWxXaXRoO1xuICAgIGxvZGFzaC5pc0Vycm9yID0gaXNFcnJvcjtcbiAgICBsb2Rhc2guaXNGaW5pdGUgPSBpc0Zpbml0ZTtcbiAgICBsb2Rhc2guaXNGdW5jdGlvbiA9IGlzRnVuY3Rpb247XG4gICAgbG9kYXNoLmlzSW50ZWdlciA9IGlzSW50ZWdlcjtcbiAgICBsb2Rhc2guaXNMZW5ndGggPSBpc0xlbmd0aDtcbiAgICBsb2Rhc2guaXNNYXAgPSBpc01hcDtcbiAgICBsb2Rhc2guaXNNYXRjaCA9IGlzTWF0Y2g7XG4gICAgbG9kYXNoLmlzTWF0Y2hXaXRoID0gaXNNYXRjaFdpdGg7XG4gICAgbG9kYXNoLmlzTmFOID0gaXNOYU47XG4gICAgbG9kYXNoLmlzTmF0aXZlID0gaXNOYXRpdmU7XG4gICAgbG9kYXNoLmlzTmlsID0gaXNOaWw7XG4gICAgbG9kYXNoLmlzTnVsbCA9IGlzTnVsbDtcbiAgICBsb2Rhc2guaXNOdW1iZXIgPSBpc051bWJlcjtcbiAgICBsb2Rhc2guaXNPYmplY3QgPSBpc09iamVjdDtcbiAgICBsb2Rhc2guaXNPYmplY3RMaWtlID0gaXNPYmplY3RMaWtlO1xuICAgIGxvZGFzaC5pc1BsYWluT2JqZWN0ID0gaXNQbGFpbk9iamVjdDtcbiAgICBsb2Rhc2guaXNSZWdFeHAgPSBpc1JlZ0V4cDtcbiAgICBsb2Rhc2guaXNTYWZlSW50ZWdlciA9IGlzU2FmZUludGVnZXI7XG4gICAgbG9kYXNoLmlzU2V0ID0gaXNTZXQ7XG4gICAgbG9kYXNoLmlzU3RyaW5nID0gaXNTdHJpbmc7XG4gICAgbG9kYXNoLmlzU3ltYm9sID0gaXNTeW1ib2w7XG4gICAgbG9kYXNoLmlzVHlwZWRBcnJheSA9IGlzVHlwZWRBcnJheTtcbiAgICBsb2Rhc2guaXNVbmRlZmluZWQgPSBpc1VuZGVmaW5lZDtcbiAgICBsb2Rhc2guaXNXZWFrTWFwID0gaXNXZWFrTWFwO1xuICAgIGxvZGFzaC5pc1dlYWtTZXQgPSBpc1dlYWtTZXQ7XG4gICAgbG9kYXNoLmpvaW4gPSBqb2luO1xuICAgIGxvZGFzaC5rZWJhYkNhc2UgPSBrZWJhYkNhc2U7XG4gICAgbG9kYXNoLmxhc3QgPSBsYXN0O1xuICAgIGxvZGFzaC5sYXN0SW5kZXhPZiA9IGxhc3RJbmRleE9mO1xuICAgIGxvZGFzaC5sb3dlckNhc2UgPSBsb3dlckNhc2U7XG4gICAgbG9kYXNoLmxvd2VyRmlyc3QgPSBsb3dlckZpcnN0O1xuICAgIGxvZGFzaC5sdCA9IGx0O1xuICAgIGxvZGFzaC5sdGUgPSBsdGU7XG4gICAgbG9kYXNoLm1heCA9IG1heDtcbiAgICBsb2Rhc2gubWF4QnkgPSBtYXhCeTtcbiAgICBsb2Rhc2gubWVhbiA9IG1lYW47XG4gICAgbG9kYXNoLm1lYW5CeSA9IG1lYW5CeTtcbiAgICBsb2Rhc2gubWluID0gbWluO1xuICAgIGxvZGFzaC5taW5CeSA9IG1pbkJ5O1xuICAgIGxvZGFzaC5zdHViQXJyYXkgPSBzdHViQXJyYXk7XG4gICAgbG9kYXNoLnN0dWJGYWxzZSA9IHN0dWJGYWxzZTtcbiAgICBsb2Rhc2guc3R1Yk9iamVjdCA9IHN0dWJPYmplY3Q7XG4gICAgbG9kYXNoLnN0dWJTdHJpbmcgPSBzdHViU3RyaW5nO1xuICAgIGxvZGFzaC5zdHViVHJ1ZSA9IHN0dWJUcnVlO1xuICAgIGxvZGFzaC5tdWx0aXBseSA9IG11bHRpcGx5O1xuICAgIGxvZGFzaC5udGggPSBudGg7XG4gICAgbG9kYXNoLm5vQ29uZmxpY3QgPSBub0NvbmZsaWN0O1xuICAgIGxvZGFzaC5ub29wID0gbm9vcDtcbiAgICBsb2Rhc2gubm93ID0gbm93O1xuICAgIGxvZGFzaC5wYWQgPSBwYWQ7XG4gICAgbG9kYXNoLnBhZEVuZCA9IHBhZEVuZDtcbiAgICBsb2Rhc2gucGFkU3RhcnQgPSBwYWRTdGFydDtcbiAgICBsb2Rhc2gucGFyc2VJbnQgPSBwYXJzZUludDtcbiAgICBsb2Rhc2gucmFuZG9tID0gcmFuZG9tO1xuICAgIGxvZGFzaC5yZWR1Y2UgPSByZWR1Y2U7XG4gICAgbG9kYXNoLnJlZHVjZVJpZ2h0ID0gcmVkdWNlUmlnaHQ7XG4gICAgbG9kYXNoLnJlcGVhdCA9IHJlcGVhdDtcbiAgICBsb2Rhc2gucmVwbGFjZSA9IHJlcGxhY2U7XG4gICAgbG9kYXNoLnJlc3VsdCA9IHJlc3VsdDtcbiAgICBsb2Rhc2gucm91bmQgPSByb3VuZDtcbiAgICBsb2Rhc2gucnVuSW5Db250ZXh0ID0gcnVuSW5Db250ZXh0O1xuICAgIGxvZGFzaC5zYW1wbGUgPSBzYW1wbGU7XG4gICAgbG9kYXNoLnNpemUgPSBzaXplO1xuICAgIGxvZGFzaC5zbmFrZUNhc2UgPSBzbmFrZUNhc2U7XG4gICAgbG9kYXNoLnNvbWUgPSBzb21lO1xuICAgIGxvZGFzaC5zb3J0ZWRJbmRleCA9IHNvcnRlZEluZGV4O1xuICAgIGxvZGFzaC5zb3J0ZWRJbmRleEJ5ID0gc29ydGVkSW5kZXhCeTtcbiAgICBsb2Rhc2guc29ydGVkSW5kZXhPZiA9IHNvcnRlZEluZGV4T2Y7XG4gICAgbG9kYXNoLnNvcnRlZExhc3RJbmRleCA9IHNvcnRlZExhc3RJbmRleDtcbiAgICBsb2Rhc2guc29ydGVkTGFzdEluZGV4QnkgPSBzb3J0ZWRMYXN0SW5kZXhCeTtcbiAgICBsb2Rhc2guc29ydGVkTGFzdEluZGV4T2YgPSBzb3J0ZWRMYXN0SW5kZXhPZjtcbiAgICBsb2Rhc2guc3RhcnRDYXNlID0gc3RhcnRDYXNlO1xuICAgIGxvZGFzaC5zdGFydHNXaXRoID0gc3RhcnRzV2l0aDtcbiAgICBsb2Rhc2guc3VidHJhY3QgPSBzdWJ0cmFjdDtcbiAgICBsb2Rhc2guc3VtID0gc3VtO1xuICAgIGxvZGFzaC5zdW1CeSA9IHN1bUJ5O1xuICAgIGxvZGFzaC50ZW1wbGF0ZSA9IHRlbXBsYXRlO1xuICAgIGxvZGFzaC50aW1lcyA9IHRpbWVzO1xuICAgIGxvZGFzaC50b0Zpbml0ZSA9IHRvRmluaXRlO1xuICAgIGxvZGFzaC50b0ludGVnZXIgPSB0b0ludGVnZXI7XG4gICAgbG9kYXNoLnRvTGVuZ3RoID0gdG9MZW5ndGg7XG4gICAgbG9kYXNoLnRvTG93ZXIgPSB0b0xvd2VyO1xuICAgIGxvZGFzaC50b051bWJlciA9IHRvTnVtYmVyO1xuICAgIGxvZGFzaC50b1NhZmVJbnRlZ2VyID0gdG9TYWZlSW50ZWdlcjtcbiAgICBsb2Rhc2gudG9TdHJpbmcgPSB0b1N0cmluZztcbiAgICBsb2Rhc2gudG9VcHBlciA9IHRvVXBwZXI7XG4gICAgbG9kYXNoLnRyaW0gPSB0cmltO1xuICAgIGxvZGFzaC50cmltRW5kID0gdHJpbUVuZDtcbiAgICBsb2Rhc2gudHJpbVN0YXJ0ID0gdHJpbVN0YXJ0O1xuICAgIGxvZGFzaC50cnVuY2F0ZSA9IHRydW5jYXRlO1xuICAgIGxvZGFzaC51bmVzY2FwZSA9IHVuZXNjYXBlO1xuICAgIGxvZGFzaC51bmlxdWVJZCA9IHVuaXF1ZUlkO1xuICAgIGxvZGFzaC51cHBlckNhc2UgPSB1cHBlckNhc2U7XG4gICAgbG9kYXNoLnVwcGVyRmlyc3QgPSB1cHBlckZpcnN0O1xuXG4gICAgLy8gQWRkIGFsaWFzZXMuXG4gICAgbG9kYXNoLmVhY2ggPSBmb3JFYWNoO1xuICAgIGxvZGFzaC5lYWNoUmlnaHQgPSBmb3JFYWNoUmlnaHQ7XG4gICAgbG9kYXNoLmZpcnN0ID0gaGVhZDtcblxuICAgIG1peGluKGxvZGFzaCwgKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNvdXJjZSA9IHt9O1xuICAgICAgYmFzZUZvck93bihsb2Rhc2gsIGZ1bmN0aW9uKGZ1bmMsIG1ldGhvZE5hbWUpIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKGxvZGFzaC5wcm90b3R5cGUsIG1ldGhvZE5hbWUpKSB7XG4gICAgICAgICAgc291cmNlW21ldGhvZE5hbWVdID0gZnVuYztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gc291cmNlO1xuICAgIH0oKSksIHsgJ2NoYWluJzogZmFsc2UgfSk7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2VtYW50aWMgdmVyc2lvbiBudW1iZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIGxvZGFzaC5WRVJTSU9OID0gVkVSU0lPTjtcblxuICAgIC8vIEFzc2lnbiBkZWZhdWx0IHBsYWNlaG9sZGVycy5cbiAgICBhcnJheUVhY2goWydiaW5kJywgJ2JpbmRLZXknLCAnY3VycnknLCAnY3VycnlSaWdodCcsICdwYXJ0aWFsJywgJ3BhcnRpYWxSaWdodCddLCBmdW5jdGlvbihtZXRob2ROYW1lKSB7XG4gICAgICBsb2Rhc2hbbWV0aG9kTmFtZV0ucGxhY2Vob2xkZXIgPSBsb2Rhc2g7XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgYExhenlXcmFwcGVyYCBtZXRob2RzIGZvciBgXy5kcm9wYCBhbmQgYF8udGFrZWAgdmFyaWFudHMuXG4gICAgYXJyYXlFYWNoKFsnZHJvcCcsICd0YWtlJ10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUsIGluZGV4KSB7XG4gICAgICBMYXp5V3JhcHBlci5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbihuKSB7XG4gICAgICAgIG4gPSBuID09PSB1bmRlZmluZWQgPyAxIDogbmF0aXZlTWF4KHRvSW50ZWdlcihuKSwgMCk7XG5cbiAgICAgICAgdmFyIHJlc3VsdCA9ICh0aGlzLl9fZmlsdGVyZWRfXyAmJiAhaW5kZXgpXG4gICAgICAgICAgPyBuZXcgTGF6eVdyYXBwZXIodGhpcylcbiAgICAgICAgICA6IHRoaXMuY2xvbmUoKTtcblxuICAgICAgICBpZiAocmVzdWx0Ll9fZmlsdGVyZWRfXykge1xuICAgICAgICAgIHJlc3VsdC5fX3Rha2VDb3VudF9fID0gbmF0aXZlTWluKG4sIHJlc3VsdC5fX3Rha2VDb3VudF9fKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHQuX192aWV3c19fLnB1c2goe1xuICAgICAgICAgICAgJ3NpemUnOiBuYXRpdmVNaW4obiwgTUFYX0FSUkFZX0xFTkdUSCksXG4gICAgICAgICAgICAndHlwZSc6IG1ldGhvZE5hbWUgKyAocmVzdWx0Ll9fZGlyX18gPCAwID8gJ1JpZ2h0JyA6ICcnKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuXG4gICAgICBMYXp5V3JhcHBlci5wcm90b3R5cGVbbWV0aG9kTmFtZSArICdSaWdodCddID0gZnVuY3Rpb24obikge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXZlcnNlKClbbWV0aG9kTmFtZV0obikucmV2ZXJzZSgpO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgdGhhdCBhY2NlcHQgYW4gYGl0ZXJhdGVlYCB2YWx1ZS5cbiAgICBhcnJheUVhY2goWydmaWx0ZXInLCAnbWFwJywgJ3Rha2VXaGlsZSddLCBmdW5jdGlvbihtZXRob2ROYW1lLCBpbmRleCkge1xuICAgICAgdmFyIHR5cGUgPSBpbmRleCArIDEsXG4gICAgICAgICAgaXNGaWx0ZXIgPSB0eXBlID09IExBWllfRklMVEVSX0ZMQUcgfHwgdHlwZSA9PSBMQVpZX1dISUxFX0ZMQUc7XG5cbiAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKGl0ZXJhdGVlKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSB0aGlzLmNsb25lKCk7XG4gICAgICAgIHJlc3VsdC5fX2l0ZXJhdGVlc19fLnB1c2goe1xuICAgICAgICAgICdpdGVyYXRlZSc6IGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSxcbiAgICAgICAgICAndHlwZSc6IHR5cGVcbiAgICAgICAgfSk7XG4gICAgICAgIHJlc3VsdC5fX2ZpbHRlcmVkX18gPSByZXN1bHQuX19maWx0ZXJlZF9fIHx8IGlzRmlsdGVyO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgZm9yIGBfLmhlYWRgIGFuZCBgXy5sYXN0YC5cbiAgICBhcnJheUVhY2goWydoZWFkJywgJ2xhc3QnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSwgaW5kZXgpIHtcbiAgICAgIHZhciB0YWtlTmFtZSA9ICd0YWtlJyArIChpbmRleCA/ICdSaWdodCcgOiAnJyk7XG5cbiAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpc1t0YWtlTmFtZV0oMSkudmFsdWUoKVswXTtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgYExhenlXcmFwcGVyYCBtZXRob2RzIGZvciBgXy5pbml0aWFsYCBhbmQgYF8udGFpbGAuXG4gICAgYXJyYXlFYWNoKFsnaW5pdGlhbCcsICd0YWlsJ10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUsIGluZGV4KSB7XG4gICAgICB2YXIgZHJvcE5hbWUgPSAnZHJvcCcgKyAoaW5kZXggPyAnJyA6ICdSaWdodCcpO1xuXG4gICAgICBMYXp5V3JhcHBlci5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX19maWx0ZXJlZF9fID8gbmV3IExhenlXcmFwcGVyKHRoaXMpIDogdGhpc1tkcm9wTmFtZV0oMSk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmNvbXBhY3QgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmZpbHRlcihpZGVudGl0eSk7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24ocHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5maWx0ZXIocHJlZGljYXRlKS5oZWFkKCk7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5maW5kTGFzdCA9IGZ1bmN0aW9uKHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIHRoaXMucmV2ZXJzZSgpLmZpbmQocHJlZGljYXRlKTtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmludm9rZU1hcCA9IGJhc2VSZXN0KGZ1bmN0aW9uKHBhdGgsIGFyZ3MpIHtcbiAgICAgIGlmICh0eXBlb2YgcGF0aCA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBuZXcgTGF6eVdyYXBwZXIodGhpcyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VJbnZva2UodmFsdWUsIHBhdGgsIGFyZ3MpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUucmVqZWN0ID0gZnVuY3Rpb24ocHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5maWx0ZXIobmVnYXRlKGdldEl0ZXJhdGVlKHByZWRpY2F0ZSkpKTtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24oc3RhcnQsIGVuZCkge1xuICAgICAgc3RhcnQgPSB0b0ludGVnZXIoc3RhcnQpO1xuXG4gICAgICB2YXIgcmVzdWx0ID0gdGhpcztcbiAgICAgIGlmIChyZXN1bHQuX19maWx0ZXJlZF9fICYmIChzdGFydCA+IDAgfHwgZW5kIDwgMCkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMYXp5V3JhcHBlcihyZXN1bHQpO1xuICAgICAgfVxuICAgICAgaWYgKHN0YXJ0IDwgMCkge1xuICAgICAgICByZXN1bHQgPSByZXN1bHQudGFrZVJpZ2h0KC1zdGFydCk7XG4gICAgICB9IGVsc2UgaWYgKHN0YXJ0KSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC5kcm9wKHN0YXJ0KTtcbiAgICAgIH1cbiAgICAgIGlmIChlbmQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBlbmQgPSB0b0ludGVnZXIoZW5kKTtcbiAgICAgICAgcmVzdWx0ID0gZW5kIDwgMCA/IHJlc3VsdC5kcm9wUmlnaHQoLWVuZCkgOiByZXN1bHQudGFrZShlbmQgLSBzdGFydCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUudGFrZVJpZ2h0V2hpbGUgPSBmdW5jdGlvbihwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiB0aGlzLnJldmVyc2UoKS50YWtlV2hpbGUocHJlZGljYXRlKS5yZXZlcnNlKCk7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS50b0FycmF5ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy50YWtlKE1BWF9BUlJBWV9MRU5HVEgpO1xuICAgIH07XG5cbiAgICAvLyBBZGQgYExhenlXcmFwcGVyYCBtZXRob2RzIHRvIGBsb2Rhc2gucHJvdG90eXBlYC5cbiAgICBiYXNlRm9yT3duKExhenlXcmFwcGVyLnByb3RvdHlwZSwgZnVuY3Rpb24oZnVuYywgbWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGNoZWNrSXRlcmF0ZWUgPSAvXig/OmZpbHRlcnxmaW5kfG1hcHxyZWplY3QpfFdoaWxlJC8udGVzdChtZXRob2ROYW1lKSxcbiAgICAgICAgICBpc1Rha2VyID0gL14oPzpoZWFkfGxhc3QpJC8udGVzdChtZXRob2ROYW1lKSxcbiAgICAgICAgICBsb2Rhc2hGdW5jID0gbG9kYXNoW2lzVGFrZXIgPyAoJ3Rha2UnICsgKG1ldGhvZE5hbWUgPT0gJ2xhc3QnID8gJ1JpZ2h0JyA6ICcnKSkgOiBtZXRob2ROYW1lXSxcbiAgICAgICAgICByZXRVbndyYXBwZWQgPSBpc1Rha2VyIHx8IC9eZmluZC8udGVzdChtZXRob2ROYW1lKTtcblxuICAgICAgaWYgKCFsb2Rhc2hGdW5jKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxvZGFzaC5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5fX3dyYXBwZWRfXyxcbiAgICAgICAgICAgIGFyZ3MgPSBpc1Rha2VyID8gWzFdIDogYXJndW1lbnRzLFxuICAgICAgICAgICAgaXNMYXp5ID0gdmFsdWUgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcixcbiAgICAgICAgICAgIGl0ZXJhdGVlID0gYXJnc1swXSxcbiAgICAgICAgICAgIHVzZUxhenkgPSBpc0xhenkgfHwgaXNBcnJheSh2YWx1ZSk7XG5cbiAgICAgICAgdmFyIGludGVyY2VwdG9yID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICB2YXIgcmVzdWx0ID0gbG9kYXNoRnVuYy5hcHBseShsb2Rhc2gsIGFycmF5UHVzaChbdmFsdWVdLCBhcmdzKSk7XG4gICAgICAgICAgcmV0dXJuIChpc1Rha2VyICYmIGNoYWluQWxsKSA/IHJlc3VsdFswXSA6IHJlc3VsdDtcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAodXNlTGF6eSAmJiBjaGVja0l0ZXJhdGVlICYmIHR5cGVvZiBpdGVyYXRlZSA9PSAnZnVuY3Rpb24nICYmIGl0ZXJhdGVlLmxlbmd0aCAhPSAxKSB7XG4gICAgICAgICAgLy8gQXZvaWQgbGF6eSB1c2UgaWYgdGhlIGl0ZXJhdGVlIGhhcyBhIFwibGVuZ3RoXCIgdmFsdWUgb3RoZXIgdGhhbiBgMWAuXG4gICAgICAgICAgaXNMYXp5ID0gdXNlTGF6eSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjaGFpbkFsbCA9IHRoaXMuX19jaGFpbl9fLFxuICAgICAgICAgICAgaXNIeWJyaWQgPSAhIXRoaXMuX19hY3Rpb25zX18ubGVuZ3RoLFxuICAgICAgICAgICAgaXNVbndyYXBwZWQgPSByZXRVbndyYXBwZWQgJiYgIWNoYWluQWxsLFxuICAgICAgICAgICAgb25seUxhenkgPSBpc0xhenkgJiYgIWlzSHlicmlkO1xuXG4gICAgICAgIGlmICghcmV0VW53cmFwcGVkICYmIHVzZUxhenkpIHtcbiAgICAgICAgICB2YWx1ZSA9IG9ubHlMYXp5ID8gdmFsdWUgOiBuZXcgTGF6eVdyYXBwZXIodGhpcyk7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IGZ1bmMuYXBwbHkodmFsdWUsIGFyZ3MpO1xuICAgICAgICAgIHJlc3VsdC5fX2FjdGlvbnNfXy5wdXNoKHsgJ2Z1bmMnOiB0aHJ1LCAnYXJncyc6IFtpbnRlcmNlcHRvcl0sICd0aGlzQXJnJzogdW5kZWZpbmVkIH0pO1xuICAgICAgICAgIHJldHVybiBuZXcgTG9kYXNoV3JhcHBlcihyZXN1bHQsIGNoYWluQWxsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNVbndyYXBwZWQgJiYgb25seUxhenkpIHtcbiAgICAgICAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQgPSB0aGlzLnRocnUoaW50ZXJjZXB0b3IpO1xuICAgICAgICByZXR1cm4gaXNVbndyYXBwZWQgPyAoaXNUYWtlciA/IHJlc3VsdC52YWx1ZSgpWzBdIDogcmVzdWx0LnZhbHVlKCkpIDogcmVzdWx0O1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgQXJyYXlgIG1ldGhvZHMgdG8gYGxvZGFzaC5wcm90b3R5cGVgLlxuICAgIGFycmF5RWFjaChbJ3BvcCcsICdwdXNoJywgJ3NoaWZ0JywgJ3NvcnQnLCAnc3BsaWNlJywgJ3Vuc2hpZnQnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGZ1bmMgPSBhcnJheVByb3RvW21ldGhvZE5hbWVdLFxuICAgICAgICAgIGNoYWluTmFtZSA9IC9eKD86cHVzaHxzb3J0fHVuc2hpZnQpJC8udGVzdChtZXRob2ROYW1lKSA/ICd0YXAnIDogJ3RocnUnLFxuICAgICAgICAgIHJldFVud3JhcHBlZCA9IC9eKD86cG9wfHNoaWZ0KSQvLnRlc3QobWV0aG9kTmFtZSk7XG5cbiAgICAgIGxvZGFzaC5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgIGlmIChyZXRVbndyYXBwZWQgJiYgIXRoaXMuX19jaGFpbl9fKSB7XG4gICAgICAgICAgdmFyIHZhbHVlID0gdGhpcy52YWx1ZSgpO1xuICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KGlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbXSwgYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXNbY2hhaW5OYW1lXShmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KGlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbXSwgYXJncyk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIE1hcCBtaW5pZmllZCBtZXRob2QgbmFtZXMgdG8gdGhlaXIgcmVhbCBuYW1lcy5cbiAgICBiYXNlRm9yT3duKExhenlXcmFwcGVyLnByb3RvdHlwZSwgZnVuY3Rpb24oZnVuYywgbWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGxvZGFzaEZ1bmMgPSBsb2Rhc2hbbWV0aG9kTmFtZV07XG4gICAgICBpZiAobG9kYXNoRnVuYykge1xuICAgICAgICB2YXIga2V5ID0gbG9kYXNoRnVuYy5uYW1lICsgJyc7XG4gICAgICAgIGlmICghaGFzT3duUHJvcGVydHkuY2FsbChyZWFsTmFtZXMsIGtleSkpIHtcbiAgICAgICAgICByZWFsTmFtZXNba2V5XSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHJlYWxOYW1lc1trZXldLnB1c2goeyAnbmFtZSc6IG1ldGhvZE5hbWUsICdmdW5jJzogbG9kYXNoRnVuYyB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJlYWxOYW1lc1tjcmVhdGVIeWJyaWQodW5kZWZpbmVkLCBXUkFQX0JJTkRfS0VZX0ZMQUcpLm5hbWVdID0gW3tcbiAgICAgICduYW1lJzogJ3dyYXBwZXInLFxuICAgICAgJ2Z1bmMnOiB1bmRlZmluZWRcbiAgICB9XTtcblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBMYXp5V3JhcHBlcmAuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmNsb25lID0gbGF6eUNsb25lO1xuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5yZXZlcnNlID0gbGF6eVJldmVyc2U7XG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLnZhbHVlID0gbGF6eVZhbHVlO1xuXG4gICAgLy8gQWRkIGNoYWluIHNlcXVlbmNlIG1ldGhvZHMgdG8gdGhlIGBsb2Rhc2hgIHdyYXBwZXIuXG4gICAgbG9kYXNoLnByb3RvdHlwZS5hdCA9IHdyYXBwZXJBdDtcbiAgICBsb2Rhc2gucHJvdG90eXBlLmNoYWluID0gd3JhcHBlckNoYWluO1xuICAgIGxvZGFzaC5wcm90b3R5cGUuY29tbWl0ID0gd3JhcHBlckNvbW1pdDtcbiAgICBsb2Rhc2gucHJvdG90eXBlLm5leHQgPSB3cmFwcGVyTmV4dDtcbiAgICBsb2Rhc2gucHJvdG90eXBlLnBsYW50ID0gd3JhcHBlclBsYW50O1xuICAgIGxvZGFzaC5wcm90b3R5cGUucmV2ZXJzZSA9IHdyYXBwZXJSZXZlcnNlO1xuICAgIGxvZGFzaC5wcm90b3R5cGUudG9KU09OID0gbG9kYXNoLnByb3RvdHlwZS52YWx1ZU9mID0gbG9kYXNoLnByb3RvdHlwZS52YWx1ZSA9IHdyYXBwZXJWYWx1ZTtcblxuICAgIC8vIEFkZCBsYXp5IGFsaWFzZXMuXG4gICAgbG9kYXNoLnByb3RvdHlwZS5maXJzdCA9IGxvZGFzaC5wcm90b3R5cGUuaGVhZDtcblxuICAgIGlmIChzeW1JdGVyYXRvcikge1xuICAgICAgbG9kYXNoLnByb3RvdHlwZVtzeW1JdGVyYXRvcl0gPSB3cmFwcGVyVG9JdGVyYXRvcjtcbiAgICB9XG4gICAgcmV0dXJuIGxvZGFzaDtcbiAgfSk7XG5cbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgLy8gRXhwb3J0IGxvZGFzaC5cbiAgdmFyIF8gPSBydW5JbkNvbnRleHQoKTtcblxuICAvLyBTb21lIEFNRCBidWlsZCBvcHRpbWl6ZXJzLCBsaWtlIHIuanMsIGNoZWNrIGZvciBjb25kaXRpb24gcGF0dGVybnMgbGlrZTpcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZGVmaW5lLmFtZCA9PSAnb2JqZWN0JyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgLy8gRXhwb3NlIExvZGFzaCBvbiB0aGUgZ2xvYmFsIG9iamVjdCB0byBwcmV2ZW50IGVycm9ycyB3aGVuIExvZGFzaCBpc1xuICAgIC8vIGxvYWRlZCBieSBhIHNjcmlwdCB0YWcgaW4gdGhlIHByZXNlbmNlIG9mIGFuIEFNRCBsb2FkZXIuXG4gICAgLy8gU2VlIGh0dHA6Ly9yZXF1aXJlanMub3JnL2RvY3MvZXJyb3JzLmh0bWwjbWlzbWF0Y2ggZm9yIG1vcmUgZGV0YWlscy5cbiAgICAvLyBVc2UgYF8ubm9Db25mbGljdGAgdG8gcmVtb3ZlIExvZGFzaCBmcm9tIHRoZSBnbG9iYWwgb2JqZWN0LlxuICAgIHJvb3QuXyA9IF87XG5cbiAgICAvLyBEZWZpbmUgYXMgYW4gYW5vbnltb3VzIG1vZHVsZSBzbywgdGhyb3VnaCBwYXRoIG1hcHBpbmcsIGl0IGNhbiBiZVxuICAgIC8vIHJlZmVyZW5jZWQgYXMgdGhlIFwidW5kZXJzY29yZVwiIG1vZHVsZS5cbiAgICBkZWZpbmUoZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gXztcbiAgICB9KTtcbiAgfVxuICAvLyBDaGVjayBmb3IgYGV4cG9ydHNgIGFmdGVyIGBkZWZpbmVgIGluIGNhc2UgYSBidWlsZCBvcHRpbWl6ZXIgYWRkcyBpdC5cbiAgZWxzZSBpZiAoZnJlZU1vZHVsZSkge1xuICAgIC8vIEV4cG9ydCBmb3IgTm9kZS5qcy5cbiAgICAoZnJlZU1vZHVsZS5leHBvcnRzID0gXykuXyA9IF87XG4gICAgLy8gRXhwb3J0IGZvciBDb21tb25KUyBzdXBwb3J0LlxuICAgIGZyZWVFeHBvcnRzLl8gPSBfO1xuICB9XG4gIGVsc2Uge1xuICAgIC8vIEV4cG9ydCB0byB0aGUgZ2xvYmFsIG9iamVjdC5cbiAgICByb290Ll8gPSBfO1xuICB9XG59LmNhbGwodGhpcykpO1xuIiwiaW1wb3J0IHtmaWx0ZXIsIGZpbmRMYXN0SW5kZXh9IGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQge1ROb2RlfSBmcm9tICcuL3RyZWUnO1xuaW1wb3J0IHtNb3ZlUHJvcCwgU2dmUHJvcEJhc2V9IGZyb20gJy4vcHJvcHMnO1xuXG5jb25zdCBTcGFya01ENSA9IHJlcXVpcmUoJ3NwYXJrLW1kNScpO1xuXG5leHBvcnQgY29uc3QgY2FsY0hhc2ggPSAoXG4gIG5vZGU6IFROb2RlIHwgbnVsbCB8IHVuZGVmaW5lZCxcbiAgbW92ZVByb3BzOiBNb3ZlUHJvcFtdID0gW11cbik6IHN0cmluZyA9PiB7XG4gIGxldCBmdWxsbmFtZSA9ICduJztcbiAgaWYgKG1vdmVQcm9wcy5sZW5ndGggPiAwKSB7XG4gICAgZnVsbG5hbWUgKz0gYCR7bW92ZVByb3BzWzBdLnRva2VufSR7bW92ZVByb3BzWzBdLnZhbHVlfWA7XG4gIH1cbiAgaWYgKG5vZGUpIHtcbiAgICBjb25zdCBwYXRoID0gbm9kZS5nZXRQYXRoKCk7XG4gICAgaWYgKHBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgZnVsbG5hbWUgPSBwYXRoLm1hcChuID0+IG4ubW9kZWwuaWQpLmpvaW4oJz0+JykgKyBgPT4ke2Z1bGxuYW1lfWA7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIFNwYXJrTUQ1Lmhhc2goZnVsbG5hbWUpLnNsaWNlKDAsIDYpO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGlzQ2hhcmFjdGVySW5Ob2RlKFxuICBzZ2Y6IHN0cmluZyxcbiAgbjogbnVtYmVyLFxuICBub2RlcyA9IFsnQycsICdUTScsICdHTicsICdQQyddXG4pOiBib29sZWFuIHtcbiAgY29uc3QgcGF0dGVybiA9IG5ldyBSZWdFeHAoYCgke25vZGVzLmpvaW4oJ3wnKX0pXFxcXFsoW15cXFxcXV0qKVxcXFxdYCwgJ2cnKTtcbiAgbGV0IG1hdGNoOiBSZWdFeHBFeGVjQXJyYXkgfCBudWxsO1xuXG4gIHdoaWxlICgobWF0Y2ggPSBwYXR0ZXJuLmV4ZWMoc2dmKSkgIT09IG51bGwpIHtcbiAgICBjb25zdCBjb250ZW50U3RhcnQgPSBtYXRjaC5pbmRleCArIG1hdGNoWzFdLmxlbmd0aCArIDE7IC8vICsxIGZvciB0aGUgJ1snXG4gICAgY29uc3QgY29udGVudEVuZCA9IGNvbnRlbnRTdGFydCArIG1hdGNoWzJdLmxlbmd0aDtcbiAgICBpZiAobiA+PSBjb250ZW50U3RhcnQgJiYgbiA8PSBjb250ZW50RW5kKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbnR5cGUgUmFuZ2UgPSBbbnVtYmVyLCBudW1iZXJdO1xuXG5leHBvcnQgZnVuY3Rpb24gYnVpbGRQcm9wZXJ0eVZhbHVlUmFuZ2VzKFxuICBzZ2Y6IHN0cmluZyxcbiAga2V5czogc3RyaW5nW10gPSBbJ0MnLCAnVE0nLCAnR04nLCAnUEMnXVxuKTogUmFuZ2VbXSB7XG4gIGNvbnN0IHJhbmdlczogUmFuZ2VbXSA9IFtdO1xuICBjb25zdCBwYXR0ZXJuID0gbmV3IFJlZ0V4cChgXFxcXGIoJHtrZXlzLmpvaW4oJ3wnKX0pXFxcXFtgLCAnZycpO1xuXG4gIGxldCBtYXRjaDogUmVnRXhwRXhlY0FycmF5IHwgbnVsbDtcbiAgd2hpbGUgKChtYXRjaCA9IHBhdHRlcm4uZXhlYyhzZ2YpKSAhPT0gbnVsbCkge1xuICAgIGNvbnN0IHByb3BTdGFydCA9IG1hdGNoLmluZGV4O1xuICAgIGNvbnN0IHZhbHVlU3RhcnQgPSBwcm9wU3RhcnQgKyBtYXRjaFsxXS5sZW5ndGggKyAxOyAvLyArMSBmb3IgJ1snXG5cbiAgICAvLyBDaGVjayBpZiB0aGlzIG1hdGNoIGlzIGluc2lkZSBhbnkgZXhpc3RpbmcgcmFuZ2VcbiAgICBjb25zdCBpc0luc2lkZUV4aXN0aW5nUmFuZ2UgPSByYW5nZXMuc29tZShcbiAgICAgIChbc3RhcnQsIGVuZF0pID0+IHByb3BTdGFydCA+PSBzdGFydCAmJiBwcm9wU3RhcnQgPD0gZW5kXG4gICAgKTtcblxuICAgIGlmIChpc0luc2lkZUV4aXN0aW5nUmFuZ2UpIHtcbiAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIHRoaXMgbWF0Y2ggYXMgaXQncyBpbnNpZGUgYW5vdGhlciBwcm9wZXJ0eSB2YWx1ZVxuICAgIH1cblxuICAgIC8vIEZpbmQgdGhlIGZpcnN0IHVuZXNjYXBlZCBjbG9zaW5nIGJyYWNrZXRcbiAgICBsZXQgaSA9IHZhbHVlU3RhcnQ7XG4gICAgbGV0IGVzY2FwZWQgPSBmYWxzZTtcblxuICAgIHdoaWxlIChpIDwgc2dmLmxlbmd0aCkge1xuICAgICAgY29uc3QgY2hhciA9IHNnZltpXTtcblxuICAgICAgaWYgKGVzY2FwZWQpIHtcbiAgICAgICAgZXNjYXBlZCA9IGZhbHNlO1xuICAgICAgfSBlbHNlIGlmIChjaGFyID09PSAnXFxcXCcpIHtcbiAgICAgICAgZXNjYXBlZCA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKGNoYXIgPT09ICddJykge1xuICAgICAgICAvLyBGb3VuZCB1bmVzY2FwZWQgY2xvc2luZyBicmFja2V0XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBpKys7XG4gICAgfVxuXG4gICAgaWYgKGkgPCBzZ2YubGVuZ3RoKSB7XG4gICAgICByYW5nZXMucHVzaChbdmFsdWVTdGFydCwgaV0pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByYW5nZXM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0luQW55UmFuZ2UoaW5kZXg6IG51bWJlciwgcmFuZ2VzOiBSYW5nZVtdKTogYm9vbGVhbiB7XG4gIC8vIHJhbmdlcyBtdXN0IGJlIHNvcnRlZFxuICBsZXQgbGVmdCA9IDA7XG4gIGxldCByaWdodCA9IHJhbmdlcy5sZW5ndGggLSAxO1xuXG4gIHdoaWxlIChsZWZ0IDw9IHJpZ2h0KSB7XG4gICAgY29uc3QgbWlkID0gKGxlZnQgKyByaWdodCkgPj4gMTtcbiAgICBjb25zdCBbc3RhcnQsIGVuZF0gPSByYW5nZXNbbWlkXTtcblxuICAgIGlmIChpbmRleCA8IHN0YXJ0KSB7XG4gICAgICByaWdodCA9IG1pZCAtIDE7XG4gICAgfSBlbHNlIGlmIChpbmRleCA+IGVuZCkge1xuICAgICAgbGVmdCA9IG1pZCArIDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZXhwb3J0IGNvbnN0IGdldERlZHVwbGljYXRlZFByb3BzID0gKHRhcmdldFByb3BzOiBTZ2ZQcm9wQmFzZVtdKSA9PiB7XG4gIHJldHVybiBmaWx0ZXIoXG4gICAgdGFyZ2V0UHJvcHMsXG4gICAgKHByb3A6IFNnZlByb3BCYXNlLCBpbmRleDogbnVtYmVyKSA9PlxuICAgICAgaW5kZXggPT09XG4gICAgICBmaW5kTGFzdEluZGV4KFxuICAgICAgICB0YXJnZXRQcm9wcyxcbiAgICAgICAgKGxhc3RQcm86IFNnZlByb3BCYXNlKSA9PlxuICAgICAgICAgIHByb3AudG9rZW4gPT09IGxhc3RQcm8udG9rZW4gJiYgcHJvcC52YWx1ZSA9PT0gbGFzdFByby52YWx1ZVxuICAgICAgKVxuICApO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzTW92ZU5vZGUgPSAobjogVE5vZGUpID0+IHtcbiAgcmV0dXJuIG4ubW9kZWwubW92ZVByb3BzLmxlbmd0aCA+IDA7XG59O1xuXG5leHBvcnQgY29uc3QgaXNSb290Tm9kZSA9IChuOiBUTm9kZSkgPT4ge1xuICByZXR1cm4gbi5tb2RlbC5yb290UHJvcHMubGVuZ3RoID4gMCB8fCBuLmlzUm9vdCgpO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzU2V0dXBOb2RlID0gKG46IFROb2RlKSA9PiB7XG4gIHJldHVybiBuLm1vZGVsLnNldHVwUHJvcHMubGVuZ3RoID4gMDtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXROb2RlTnVtYmVyID0gKG46IFROb2RlLCBwYXJlbnQ/OiBUTm9kZSkgPT4ge1xuICBjb25zdCBwYXRoID0gbi5nZXRQYXRoKCk7XG4gIGxldCBtb3Zlc0NvdW50ID0gcGF0aC5maWx0ZXIobiA9PiBpc01vdmVOb2RlKG4pKS5sZW5ndGg7XG4gIGlmIChwYXJlbnQpIHtcbiAgICBtb3Zlc0NvdW50ICs9IHBhcmVudC5nZXRQYXRoKCkuZmlsdGVyKG4gPT4gaXNNb3ZlTm9kZShuKSkubGVuZ3RoO1xuICB9XG4gIHJldHVybiBtb3Zlc0NvdW50O1xufTtcbiIsIi8qKlxuICogVGhlbWUgcHJvcGVydHkga2V5cyBmb3IgdHlwZS1zYWZlIGFjY2VzcyB0byB0aGVtZSBjb25maWd1cmF0aW9uXG4gKi9cbmV4cG9ydCBlbnVtIFRoZW1lUHJvcGVydHlLZXkge1xuICBQb3NpdGl2ZU5vZGVDb2xvciA9ICdwb3NpdGl2ZU5vZGVDb2xvcicsXG4gIE5lZ2F0aXZlTm9kZUNvbG9yID0gJ25lZ2F0aXZlTm9kZUNvbG9yJyxcbiAgTmV1dHJhbE5vZGVDb2xvciA9ICduZXV0cmFsTm9kZUNvbG9yJyxcbiAgRGVmYXVsdE5vZGVDb2xvciA9ICdkZWZhdWx0Tm9kZUNvbG9yJyxcbiAgV2FybmluZ05vZGVDb2xvciA9ICd3YXJuaW5nTm9kZUNvbG9yJyxcbiAgU2hhZG93Q29sb3IgPSAnc2hhZG93Q29sb3InLFxuICBCb2FyZExpbmVDb2xvciA9ICdib2FyZExpbmVDb2xvcicsXG4gIEFjdGl2ZUNvbG9yID0gJ2FjdGl2ZUNvbG9yJyxcbiAgSW5hY3RpdmVDb2xvciA9ICdpbmFjdGl2ZUNvbG9yJyxcbiAgQm9hcmRCYWNrZ3JvdW5kQ29sb3IgPSAnYm9hcmRCYWNrZ3JvdW5kQ29sb3InLFxuICBGbGF0QmxhY2tDb2xvciA9ICdmbGF0QmxhY2tDb2xvcicsXG4gIEZsYXRCbGFja0NvbG9yQWx0ID0gJ2ZsYXRCbGFja0NvbG9yQWx0JyxcbiAgRmxhdFdoaXRlQ29sb3IgPSAnZmxhdFdoaXRlQ29sb3InLFxuICBGbGF0V2hpdGVDb2xvckFsdCA9ICdmbGF0V2hpdGVDb2xvckFsdCcsXG4gIEJvYXJkRWRnZUxpbmVXaWR0aCA9ICdib2FyZEVkZ2VMaW5lV2lkdGgnLFxuICBCb2FyZExpbmVXaWR0aCA9ICdib2FyZExpbmVXaWR0aCcsXG4gIEJvYXJkTGluZUV4dGVudCA9ICdib2FyZExpbmVFeHRlbnQnLFxuICBTdGFyU2l6ZSA9ICdzdGFyU2l6ZScsXG4gIE1hcmt1cExpbmVXaWR0aCA9ICdtYXJrdXBMaW5lV2lkdGgnLFxuICBIaWdobGlnaHRDb2xvciA9ICdoaWdobGlnaHRDb2xvcicsXG59XG5cbi8qKlxuICogVGhlbWUgY29udGV4dCBmb3IgbWFya3VwIHJlbmRlcmluZ1xuICovXG5leHBvcnQgdHlwZSBUaGVtZUNvbnRleHQgPSB7XG4gIHRoZW1lOiBUaGVtZTtcbiAgdGhlbWVPcHRpb25zOiBUaGVtZU9wdGlvbnM7XG59O1xuXG5leHBvcnQgdHlwZSBDdXN0b21NYXJrdXBSZW5kZXJlciA9IChhcmdzOiB7XG4gIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xuICB4OiBudW1iZXI7XG4gIHk6IG51bWJlcjtcbiAgczogbnVtYmVyO1xuICBraTogS2k7XG4gIHRoZW1lQ29udGV4dDogVGhlbWVDb250ZXh0O1xuICB2YWx1ZTogc3RyaW5nO1xufSkgPT4gdm9pZDtcblxuLyoqXG4gKiBPcHRpb25zIGZvciBjb25maWd1cmluZyBHaG9zdEJhbi5cbiAqL1xuZXhwb3J0IHR5cGUgR2hvc3RCYW5PcHRpb25zID0ge1xuICBib2FyZFNpemU6IG51bWJlcjtcbiAgc2l6ZT86IG51bWJlcjtcbiAgZHluYW1pY1BhZGRpbmc6IGJvb2xlYW47XG4gIHBhZGRpbmc6IG51bWJlcjtcbiAgem9vbT86IGJvb2xlYW47XG4gIGV4dGVudDogbnVtYmVyO1xuICB0aGVtZTogVGhlbWU7XG4gIGFuYWx5c2lzUG9pbnRUaGVtZTogQW5hbHlzaXNQb2ludFRoZW1lO1xuICBjb29yZGluYXRlOiBib29sZWFuO1xuICBpbnRlcmFjdGl2ZTogYm9vbGVhbjtcbiAgYmFja2dyb3VuZDogYm9vbGVhbjtcbiAgc2hvd0FuYWx5c2lzOiBib29sZWFuO1xuICBzaG93T3duZXJzaGlwOiBib29sZWFuO1xuICBhZGFwdGl2ZUJvYXJkTGluZTogYm9vbGVhbjtcbiAgdGhlbWVPcHRpb25zOiBUaGVtZU9wdGlvbnM7XG4gIHRoZW1lUmVzb3VyY2VzOiBUaGVtZVJlc291cmNlcztcbiAgbW92ZVNvdW5kOiBib29sZWFuO1xuICBhZGFwdGl2ZVN0YXJTaXplOiBib29sZWFuO1xuICBtb2JpbGVJbmRpY2F0b3JPZmZzZXQ6IG51bWJlcjtcbiAgZm9yY2VBbmFseXNpc0JvYXJkU2l6ZT86IG51bWJlcjtcbiAgY3VzdG9tTWFya3VwUmVuZGVyZXJzPzogUmVjb3JkPHN0cmluZywgQ3VzdG9tTWFya3VwUmVuZGVyZXI+O1xufTtcblxuZXhwb3J0IHR5cGUgR2hvc3RCYW5PcHRpb25zUGFyYW1zID0ge1xuICBib2FyZFNpemU/OiBudW1iZXI7XG4gIHNpemU/OiBudW1iZXI7XG4gIGR5bmFtaWNQYWRkaW5nPzogYm9vbGVhbjtcbiAgcGFkZGluZz86IG51bWJlcjtcbiAgem9vbT86IGJvb2xlYW47XG4gIGV4dGVudD86IG51bWJlcjtcbiAgdGhlbWU/OiBUaGVtZTtcbiAgYW5hbHlzaXNQb2ludFRoZW1lPzogQW5hbHlzaXNQb2ludFRoZW1lO1xuICBjb29yZGluYXRlPzogYm9vbGVhbjtcbiAgaW50ZXJhY3RpdmU/OiBib29sZWFuO1xuICBiYWNrZ3JvdW5kPzogYm9vbGVhbjtcbiAgc2hvd0FuYWx5c2lzPzogYm9vbGVhbjtcbiAgc2hvd093bmVyc2hpcD86IGJvb2xlYW47XG4gIGFkYXB0aXZlQm9hcmRMaW5lPzogYm9vbGVhbjtcbiAgdGhlbWVPcHRpb25zPzogUGFydGlhbDxUaGVtZU9wdGlvbnM+O1xuICB0aGVtZVJlc291cmNlcz86IFRoZW1lUmVzb3VyY2VzO1xuICBtb3ZlU291bmQ/OiBib29sZWFuO1xuICBhZGFwdGl2ZVN0YXJTaXplPzogYm9vbGVhbjtcbiAgZm9yY2VBbmFseXNpc0JvYXJkU2l6ZT86IG51bWJlcjtcbiAgbW9iaWxlSW5kaWNhdG9yT2Zmc2V0PzogbnVtYmVyO1xuICBjdXN0b21NYXJrdXBSZW5kZXJlcnM/OiBSZWNvcmQ8c3RyaW5nLCBDdXN0b21NYXJrdXBSZW5kZXJlcj47XG59O1xuXG5leHBvcnQgdHlwZSBUaGVtZUNvbmZpZyA9IHtcbiAgcG9zaXRpdmVOb2RlQ29sb3I6IHN0cmluZztcbiAgbmVnYXRpdmVOb2RlQ29sb3I6IHN0cmluZztcbiAgbmV1dHJhbE5vZGVDb2xvcjogc3RyaW5nO1xuICBkZWZhdWx0Tm9kZUNvbG9yOiBzdHJpbmc7XG4gIHdhcm5pbmdOb2RlQ29sb3I6IHN0cmluZztcbiAgc2hhZG93Q29sb3I6IHN0cmluZztcbiAgYm9hcmRMaW5lQ29sb3I6IHN0cmluZztcbiAgYWN0aXZlQ29sb3I6IHN0cmluZztcbiAgaW5hY3RpdmVDb2xvcjogc3RyaW5nO1xuICBib2FyZEJhY2tncm91bmRDb2xvcjogc3RyaW5nO1xuICAvLyBNYXJrdXAgY29sb3JzIGZvciBmbGF0IHRoZW1lc1xuICBmbGF0QmxhY2tDb2xvcjogc3RyaW5nO1xuICBmbGF0QmxhY2tDb2xvckFsdDogc3RyaW5nO1xuICBmbGF0V2hpdGVDb2xvcjogc3RyaW5nO1xuICBmbGF0V2hpdGVDb2xvckFsdDogc3RyaW5nO1xuICAvLyBCb2FyZCBkaXNwbGF5IHByb3BlcnRpZXNcbiAgYm9hcmRFZGdlTGluZVdpZHRoOiBudW1iZXI7XG4gIGJvYXJkTGluZVdpZHRoOiBudW1iZXI7XG4gIGJvYXJkTGluZUV4dGVudDogbnVtYmVyO1xuICBzdGFyU2l6ZTogbnVtYmVyO1xuICBtYXJrdXBMaW5lV2lkdGg6IG51bWJlcjtcbiAgaGlnaGxpZ2h0Q29sb3I6IHN0cmluZztcbiAgc3RvbmVSYXRpbzogbnVtYmVyO1xufTtcblxuZXhwb3J0IHR5cGUgVGhlbWVPcHRpb25zID0ge1xuICBba2V5IGluIFRoZW1lXT86IFBhcnRpYWw8VGhlbWVDb25maWc+O1xufSAmIHtcbiAgZGVmYXVsdDogVGhlbWVDb25maWc7XG59O1xuXG5leHBvcnQgdHlwZSBUaGVtZVJlc291cmNlcyA9IHtcbiAgW2tleSBpbiBUaGVtZV06IHtib2FyZD86IHN0cmluZzsgYmxhY2tzOiBzdHJpbmdbXTsgd2hpdGVzOiBzdHJpbmdbXX07XG59O1xuXG5leHBvcnQgdHlwZSBDb25zdW1lZEFuYWx5c2lzID0ge1xuICByZXN1bHRzOiBBbmFseXNpc1tdO1xuICBwYXJhbXM6IEFuYWx5c2lzUGFyYW1zIHwgbnVsbDtcbn07XG5cbmV4cG9ydCB0eXBlIEFuYWx5c2VzID0ge1xuICByZXN1bHRzOiBBbmFseXNpc1tdO1xuICBwYXJhbXM6IEFuYWx5c2lzUGFyYW1zIHwgbnVsbDtcbn07XG5cbmV4cG9ydCB0eXBlIEFuYWx5c2lzID0ge1xuICBpZDogc3RyaW5nO1xuICBpc0R1cmluZ1NlYXJjaDogYm9vbGVhbjtcbiAgbW92ZUluZm9zOiBNb3ZlSW5mb1tdO1xuICByb290SW5mbzogUm9vdEluZm87XG4gIHBvbGljeTogbnVtYmVyW107XG4gIGh1bWFuUG9saWN5PzogbnVtYmVyW107XG4gIG93bmVyc2hpcDogbnVtYmVyW107XG4gIHR1cm5OdW1iZXI6IG51bWJlcjtcbn07XG5cbmV4cG9ydCB0eXBlIEFuYWx5c2lzUGFyYW1zID0ge1xuICBpZDogc3RyaW5nO1xuICBpbml0aWFsUGxheWVyOiBzdHJpbmc7XG4gIG1vdmVzOiBhbnlbXTtcbiAgcnVsZXM6IHN0cmluZztcbiAga29taTogc3RyaW5nO1xuICBib2FyZFhTaXplOiBudW1iZXI7XG4gIGJvYXJkWVNpemU6IG51bWJlcjtcbiAgaW5jbHVkZVBvbGljeTogYm9vbGVhbjtcbiAgcHJpb3JpdHk6IG51bWJlcjtcbiAgbWF4VmlzaXRzOiBudW1iZXI7XG59O1xuXG5leHBvcnQgdHlwZSBNb3ZlSW5mbyA9IHtcbiAgaXNTeW1tZXRyeU9mOiBzdHJpbmc7XG4gIGxjYjogbnVtYmVyO1xuICBtb3ZlOiBzdHJpbmc7XG4gIG9yZGVyOiBudW1iZXI7XG4gIHByaW9yOiBudW1iZXI7XG4gIHB2OiBzdHJpbmdbXTtcbiAgc2NvcmVMZWFkOiBudW1iZXI7XG4gIHNjb3JlTWVhbjogbnVtYmVyO1xuICBzY29yZVNlbGZQbGF5OiBudW1iZXI7XG4gIHNjb3JlU3RkZXY6IG51bWJlcjtcbiAgdXRpbGl0eTogbnVtYmVyO1xuICB1dGlsaXR5TGNiOiBudW1iZXI7XG4gIHZpc2l0czogbnVtYmVyO1xuICB3aW5yYXRlOiBudW1iZXI7XG4gIHdlaWdodDogbnVtYmVyO1xufTtcblxuZXhwb3J0IHR5cGUgUm9vdEluZm8gPSB7XG4gIC8vIGN1cnJlbnRQbGF5ZXIgaXMgbm90IG9mZmljaWFsbHkgcGFydCBvZiB0aGUgR1RQIHJlc3VsdHMgYnV0IGl0IGlzIGhlbHBmdWwgdG8gaGF2ZSBpdCBoZXJlIHRvIGF2b2lkIHBhc3NpbmcgaXQgdGhyb3VnaCB0aGUgYXJndW1lbnRzXG4gIGN1cnJlbnRQbGF5ZXI6IHN0cmluZztcbiAgc2NvcmVMZWFkOiBudW1iZXI7XG4gIHNjb3JlU2VsZnBsYXk6IG51bWJlcjtcbiAgc2NvcmVTdGRldjogbnVtYmVyO1xuICB1dGlsaXR5OiBudW1iZXI7XG4gIHZpc2l0czogbnVtYmVyO1xuICB3aW5yYXRlOiBudW1iZXI7XG4gIHdlaWdodD86IG51bWJlcjtcbiAgcmF3U3RXckVycm9yPzogbnVtYmVyO1xuICByYXdTdFNjb3JlRXJyb3I/OiBudW1iZXI7XG4gIHJhd1ZhclRpbWVMZWZ0PzogbnVtYmVyO1xuICAvLyBHVFAgcmVzdWx0cyBkb24ndCBpbmNsdWRlIHRoZSBmb2xsb3dpbmcgZmllbGRzXG4gIGxjYj86IG51bWJlcjtcbiAgc3ltSGFzaD86IHN0cmluZztcbiAgdGhpc0hhc2g/OiBzdHJpbmc7XG59O1xuXG5leHBvcnQgdHlwZSBBbmFseXNpc1BvaW50T3B0aW9ucyA9IHtcbiAgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XG4gIHg6IG51bWJlcjtcbiAgeTogbnVtYmVyO1xuICByOiBudW1iZXI7XG4gIHJvb3RJbmZvOiBSb290SW5mbztcbiAgbW92ZUluZm86IE1vdmVJbmZvO1xuICBwb2xpY3lWYWx1ZT86IG51bWJlcjtcbiAgdGhlbWU/OiBBbmFseXNpc1BvaW50VGhlbWU7XG4gIG91dGxpbmVDb2xvcj86IHN0cmluZztcbiAgc2hvd09yZGVyPzogYm9vbGVhbjtcbn07XG5cbmV4cG9ydCBlbnVtIEtpIHtcbiAgQmxhY2sgPSAxLFxuICBXaGl0ZSA9IC0xLFxuICBFbXB0eSA9IDAsXG59XG5cbmV4cG9ydCBlbnVtIFRoZW1lIHtcbiAgQmxhY2tBbmRXaGl0ZSA9ICdibGFja19hbmRfd2hpdGUnLFxuICBGbGF0ID0gJ2ZsYXQnLFxuICBTdWJkdWVkID0gJ3N1YmR1ZWQnLFxuICBTaGVsbFN0b25lID0gJ3NoZWxsX3N0b25lJyxcbiAgU2xhdGVBbmRTaGVsbCA9ICdzbGF0ZV9hbmRfc2hlbGwnLFxuICBXYWxudXQgPSAnd2FsbnV0JyxcbiAgUGhvdG9yZWFsaXN0aWMgPSAncGhvdG9yZWFsaXN0aWMnLFxuICBEYXJrID0gJ2RhcmsnLFxuICBXYXJtID0gJ3dhcm0nLFxuICBZdW56aU1vbmtleURhcmsgPSAneXVuemlfbW9ua2V5X2RhcmsnLFxuICBIaWdoQ29udHJhc3QgPSAnaGlnaF9jb250cmFzdCcsXG59XG5cbmV4cG9ydCBlbnVtIEFuYWx5c2lzUG9pbnRUaGVtZSB7XG4gIERlZmF1bHQgPSAnZGVmYXVsdCcsXG4gIFByb2JsZW0gPSAncHJvYmxlbScsXG4gIFNjZW5hcmlvID0gJ3NjZW5hcmlvJyxcbn1cblxuZXhwb3J0IGVudW0gQ2VudGVyIHtcbiAgTGVmdCA9ICdsJyxcbiAgUmlnaHQgPSAncicsXG4gIFRvcCA9ICd0JyxcbiAgQm90dG9tID0gJ2InLFxuICBUb3BSaWdodCA9ICd0cicsXG4gIFRvcExlZnQgPSAndGwnLFxuICBCb3R0b21MZWZ0ID0gJ2JsJyxcbiAgQm90dG9tUmlnaHQgPSAnYnInLFxuICBDZW50ZXIgPSAnYycsXG59XG5cbmV4cG9ydCBlbnVtIEVmZmVjdCB7XG4gIE5vbmUgPSAnJyxcbiAgQmFuID0gJ2JhbicsXG4gIERpbSA9ICdkaW0nLFxuICBIaWdobGlnaHQgPSAnaGlnaGxpZ2h0Jyxcbn1cblxuZXhwb3J0IGVudW0gTWFya3VwIHtcbiAgQ3VycmVudCA9ICdjdScsXG4gIENpcmNsZSA9ICdjaScsXG4gIENpcmNsZVNvbGlkID0gJ2NpcycsXG4gIFNxdWFyZSA9ICdzcScsXG4gIFNxdWFyZVNvbGlkID0gJ3NxcycsXG4gIFRyaWFuZ2xlID0gJ3RyaScsXG4gIENyb3NzID0gJ2NyJyxcbiAgR3JlZW5QbHVzID0gJ2dwbHVzJyxcbiAgUmVkQ3Jvc3MgPSAncmNyb3NzJyxcbiAgWWVsbG93VHJpYW5nbGUgPSAneXRyaScsXG4gIE51bWJlciA9ICdudW0nLFxuICBMZXR0ZXIgPSAnbGUnLFxuICBQb3NpdGl2ZU5vZGUgPSAncG9zJyxcbiAgUG9zaXRpdmVBY3RpdmVOb2RlID0gJ3Bvc2EnLFxuICBQb3NpdGl2ZURhc2hlZE5vZGUgPSAncG9zZGEnLFxuICBQb3NpdGl2ZURvdHRlZE5vZGUgPSAncG9zZHQnLFxuICBQb3NpdGl2ZURhc2hlZEFjdGl2ZU5vZGUgPSAncG9zZGFhJyxcbiAgUG9zaXRpdmVEb3R0ZWRBY3RpdmVOb2RlID0gJ3Bvc2R0YScsXG4gIE5lZ2F0aXZlTm9kZSA9ICduZWcnLFxuICBOZWdhdGl2ZUFjdGl2ZU5vZGUgPSAnbmVnYScsXG4gIE5lZ2F0aXZlRGFzaGVkTm9kZSA9ICduZWdkYScsXG4gIE5lZ2F0aXZlRG90dGVkTm9kZSA9ICduZWdkdCcsXG4gIE5lZ2F0aXZlRGFzaGVkQWN0aXZlTm9kZSA9ICduZWdkYWEnLFxuICBOZWdhdGl2ZURvdHRlZEFjdGl2ZU5vZGUgPSAnbmVnZHRhJyxcbiAgTmV1dHJhbE5vZGUgPSAnbmV1JyxcbiAgTmV1dHJhbEFjdGl2ZU5vZGUgPSAnbmV1YScsXG4gIE5ldXRyYWxEYXNoZWROb2RlID0gJ25ldWRhJyxcbiAgTmV1dHJhbERvdHRlZE5vZGUgPSAnbmV1ZHQnLFxuICBOZXV0cmFsRGFzaGVkQWN0aXZlTm9kZSA9ICduZXVkdGEnLFxuICBOZXV0cmFsRG90dGVkQWN0aXZlTm9kZSA9ICduZXVkYWEnLFxuICBXYXJuaW5nTm9kZSA9ICd3YScsXG4gIFdhcm5pbmdBY3RpdmVOb2RlID0gJ3dhYScsXG4gIFdhcm5pbmdEYXNoZWROb2RlID0gJ3dhZGEnLFxuICBXYXJuaW5nRG90dGVkTm9kZSA9ICd3YWR0JyxcbiAgV2FybmluZ0Rhc2hlZEFjdGl2ZU5vZGUgPSAnd2FkYWEnLFxuICBXYXJuaW5nRG90dGVkQWN0aXZlTm9kZSA9ICd3YWR0YScsXG4gIERlZmF1bHROb2RlID0gJ2RlJyxcbiAgRGVmYXVsdEFjdGl2ZU5vZGUgPSAnZGVhJyxcbiAgRGVmYXVsdERhc2hlZE5vZGUgPSAnZGVkYScsXG4gIERlZmF1bHREb3R0ZWROb2RlID0gJ2RlZHQnLFxuICBEZWZhdWx0RGFzaGVkQWN0aXZlTm9kZSA9ICdkZWRhYScsXG4gIERlZmF1bHREb3R0ZWRBY3RpdmVOb2RlID0gJ2RlZHRhJyxcbiAgTm9kZSA9ICdub2RlJyxcbiAgRGFzaGVkTm9kZSA9ICdkYW5vZGUnLFxuICBEb3R0ZWROb2RlID0gJ2R0bm9kZScsXG4gIEFjdGl2ZU5vZGUgPSAnYW5vZGUnLFxuICBEYXNoZWRBY3RpdmVOb2RlID0gJ2Rhbm9kZScsXG4gIEhpZ2hsaWdodCA9ICdobCcsXG4gIE5vbmUgPSAnJyxcbn1cblxuZXhwb3J0IGVudW0gQ3Vyc29yIHtcbiAgTm9uZSA9ICcnLFxuICBCbGFja1N0b25lID0gJ2InLFxuICBXaGl0ZVN0b25lID0gJ3cnLFxuICBDaXJjbGUgPSAnYycsXG4gIFNxdWFyZSA9ICdzJyxcbiAgVHJpYW5nbGUgPSAndHJpJyxcbiAgQ3Jvc3MgPSAnY3InLFxuICBDbGVhciA9ICdjbCcsXG4gIFRleHQgPSAndCcsXG59XG5cbmV4cG9ydCBlbnVtIFByb2JsZW1BbnN3ZXJUeXBlIHtcbiAgUmlnaHQgPSAnMScsXG4gIFdyb25nID0gJzInLFxuICBWYXJpYW50ID0gJzMnLFxufVxuXG5leHBvcnQgZW51bSBQYXRoRGV0ZWN0aW9uU3RyYXRlZ3kge1xuICBQb3N0ID0gJ3Bvc3QnLFxuICBQcmUgPSAncHJlJyxcbiAgQm90aCA9ICdib3RoJyxcbn1cbiIsImltcG9ydCB7Y2h1bmt9IGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQge1RoZW1lLCBUaGVtZUNvbmZpZ30gZnJvbSAnLi90eXBlcyc7XG5cbmNvbnN0IHNldHRpbmdzID0ge2NkbjogJ2h0dHBzOi8vcy5zaGFvd3EuY29tJ307XG5cbmV4cG9ydCBjb25zdCBCQVNFX1RIRU1FX0NPTkZJRzogVGhlbWVDb25maWcgPSB7XG4gIHBvc2l0aXZlTm9kZUNvbG9yOiAnIzRkN2MwZicsXG4gIG5lZ2F0aXZlTm9kZUNvbG9yOiAnI2I5MWMxYycsXG4gIG5ldXRyYWxOb2RlQ29sb3I6ICcjYTE2MjA3JyxcbiAgZGVmYXVsdE5vZGVDb2xvcjogJyM0MDQwNDAnLFxuICB3YXJuaW5nTm9kZUNvbG9yOiAnI2ZmZGYyMCcsXG4gIHNoYWRvd0NvbG9yOiAnIzU1NTU1NScsXG4gIGJvYXJkTGluZUNvbG9yOiAnIzAwMDAwMCcsXG4gIGFjdGl2ZUNvbG9yOiAnIzAwMDAwMCcsXG4gIGluYWN0aXZlQ29sb3I6ICcjNjY2NjY2JyxcbiAgYm9hcmRCYWNrZ3JvdW5kQ29sb3I6ICcjRkZGRkZGJyxcbiAgZmxhdEJsYWNrQ29sb3I6ICcjMDAwMDAwJyxcbiAgZmxhdEJsYWNrQ29sb3JBbHQ6ICcjMDAwMDAwJywgLy8gQWx0ZXJuYXRpdmUsIHRlbXBvcmFyaWx5IHNhbWUgYXMgbWFpbiBjb2xvclxuICBmbGF0V2hpdGVDb2xvcjogJyNGRkZGRkYnLFxuICBmbGF0V2hpdGVDb2xvckFsdDogJyNGRkZGRkYnLCAvLyBBbHRlcm5hdGl2ZSwgdGVtcG9yYXJpbHkgc2FtZSBhcyBtYWluIGNvbG9yXG4gIGJvYXJkRWRnZUxpbmVXaWR0aDogMixcbiAgYm9hcmRMaW5lV2lkdGg6IDEuMixcbiAgYm9hcmRMaW5lRXh0ZW50OiAwLjUsXG4gIHN0YXJTaXplOiAzLFxuICBtYXJrdXBMaW5lV2lkdGg6IDIsXG4gIGhpZ2hsaWdodENvbG9yOiAnI2ZmZWI2NCcsXG4gIHN0b25lUmF0aW86IDAuNDUsXG59O1xuXG5leHBvcnQgY29uc3QgTUFYX0JPQVJEX1NJWkUgPSAyOTtcbmV4cG9ydCBjb25zdCBERUZBVUxUX0JPQVJEX1NJWkUgPSAxOTtcbmV4cG9ydCBjb25zdCBBMV9MRVRURVJTID0gW1xuICAnQScsXG4gICdCJyxcbiAgJ0MnLFxuICAnRCcsXG4gICdFJyxcbiAgJ0YnLFxuICAnRycsXG4gICdIJyxcbiAgJ0onLFxuICAnSycsXG4gICdMJyxcbiAgJ00nLFxuICAnTicsXG4gICdPJyxcbiAgJ1AnLFxuICAnUScsXG4gICdSJyxcbiAgJ1MnLFxuICAnVCcsXG5dO1xuZXhwb3J0IGNvbnN0IEExX0xFVFRFUlNfV0lUSF9JID0gW1xuICAnQScsXG4gICdCJyxcbiAgJ0MnLFxuICAnRCcsXG4gICdFJyxcbiAgJ0YnLFxuICAnRycsXG4gICdIJyxcbiAgJ0knLFxuICAnSicsXG4gICdLJyxcbiAgJ0wnLFxuICAnTScsXG4gICdOJyxcbiAgJ08nLFxuICAnUCcsXG4gICdRJyxcbiAgJ1InLFxuICAnUycsXG5dO1xuZXhwb3J0IGNvbnN0IEExX05VTUJFUlMgPSBbXG4gIDE5LCAxOCwgMTcsIDE2LCAxNSwgMTQsIDEzLCAxMiwgMTEsIDEwLCA5LCA4LCA3LCA2LCA1LCA0LCAzLCAyLCAxLFxuXTtcbmV4cG9ydCBjb25zdCBTR0ZfTEVUVEVSUyA9IFtcbiAgJ2EnLFxuICAnYicsXG4gICdjJyxcbiAgJ2QnLFxuICAnZScsXG4gICdmJyxcbiAgJ2cnLFxuICAnaCcsXG4gICdpJyxcbiAgJ2onLFxuICAnaycsXG4gICdsJyxcbiAgJ20nLFxuICAnbicsXG4gICdvJyxcbiAgJ3AnLFxuICAncScsXG4gICdyJyxcbiAgJ3MnLFxuXTtcbi8vIGV4cG9ydCBjb25zdCBCTEFOS19BUlJBWSA9IGNodW5rKG5ldyBBcnJheSgzNjEpLmZpbGwoMCksIDE5KTtcbmV4cG9ydCBjb25zdCBET1RfU0laRSA9IDM7XG5leHBvcnQgY29uc3QgRVhQQU5EX0ggPSA1O1xuZXhwb3J0IGNvbnN0IEVYUEFORF9WID0gNTtcbmV4cG9ydCBjb25zdCBSRVNQT05TRV9USU1FID0gMTAwO1xuXG5leHBvcnQgY29uc3QgREVGQVVMVF9PUFRJT05TID0ge1xuICBib2FyZFNpemU6IDE5LFxuICBwYWRkaW5nOiAxNSxcbiAgZXh0ZW50OiAyLFxuICBpbnRlcmFjdGl2ZTogZmFsc2UsXG4gIGNvb3JkaW5hdGU6IHRydWUsXG4gIHRoZW1lOiBUaGVtZS5GbGF0LFxuICBiYWNrZ3JvdW5kOiBmYWxzZSxcbiAgem9vbTogZmFsc2UsXG4gIHNob3dBbmFseXNpczogZmFsc2UsXG59O1xuXG5leHBvcnQgY29uc3QgVEhFTUVfUkVTT1VSQ0VTOiB7XG4gIFtrZXkgaW4gVGhlbWVdOiB7XG4gICAgYm9hcmQ/OiBzdHJpbmc7XG4gICAgYmxhY2tzOiBzdHJpbmdbXTtcbiAgICB3aGl0ZXM6IHN0cmluZ1tdO1xuICAgIGxvd1Jlcz86IHtcbiAgICAgIGJvYXJkPzogc3RyaW5nO1xuICAgICAgYmxhY2tzOiBzdHJpbmdbXTtcbiAgICAgIHdoaXRlczogc3RyaW5nW107XG4gICAgfTtcbiAgICBtaWNyb1Jlcz86IHtcbiAgICAgIGJvYXJkPzogc3RyaW5nO1xuICAgICAgYmxhY2tzOiBzdHJpbmdbXTtcbiAgICAgIHdoaXRlczogc3RyaW5nW107XG4gICAgfTtcbiAgfTtcbn0gPSB7XG4gIFtUaGVtZS5CbGFja0FuZFdoaXRlXToge1xuICAgIGJsYWNrczogW10sXG4gICAgd2hpdGVzOiBbXSxcbiAgfSxcbiAgW1RoZW1lLlN1YmR1ZWRdOiB7XG4gICAgYm9hcmQ6IGAke3NldHRpbmdzLmNkbn0vYXNzZXRzL3RoZW1lL3N1YmR1ZWQvYm9hcmQucG5nYCxcbiAgICBibGFja3M6IFtgJHtzZXR0aW5ncy5jZG59L2Fzc2V0cy90aGVtZS9zdWJkdWVkL2JsYWNrLnBuZ2BdLFxuICAgIHdoaXRlczogW2Ake3NldHRpbmdzLmNkbn0vYXNzZXRzL3RoZW1lL3N1YmR1ZWQvd2hpdGUucG5nYF0sXG4gIH0sXG4gIFtUaGVtZS5TaGVsbFN0b25lXToge1xuICAgIGJvYXJkOiBgJHtzZXR0aW5ncy5jZG59L2Fzc2V0cy90aGVtZS9zaGVsbC1zdG9uZS9ib2FyZC5wbmdgLFxuICAgIGJsYWNrczogW2Ake3NldHRpbmdzLmNkbn0vYXNzZXRzL3RoZW1lL3NoZWxsLXN0b25lL2JsYWNrLnBuZ2BdLFxuICAgIHdoaXRlczogW1xuICAgICAgYCR7c2V0dGluZ3MuY2RufS9hc3NldHMvdGhlbWUvc2hlbGwtc3RvbmUvd2hpdGUwLnBuZ2AsXG4gICAgICBgJHtzZXR0aW5ncy5jZG59L2Fzc2V0cy90aGVtZS9zaGVsbC1zdG9uZS93aGl0ZTEucG5nYCxcbiAgICAgIGAke3NldHRpbmdzLmNkbn0vYXNzZXRzL3RoZW1lL3NoZWxsLXN0b25lL3doaXRlMi5wbmdgLFxuICAgICAgYCR7c2V0dGluZ3MuY2RufS9hc3NldHMvdGhlbWUvc2hlbGwtc3RvbmUvd2hpdGUzLnBuZ2AsXG4gICAgICBgJHtzZXR0aW5ncy5jZG59L2Fzc2V0cy90aGVtZS9zaGVsbC1zdG9uZS93aGl0ZTQucG5nYCxcbiAgICBdLFxuICB9LFxuICBbVGhlbWUuU2xhdGVBbmRTaGVsbF06IHtcbiAgICBib2FyZDogYCR7c2V0dGluZ3MuY2RufS9hc3NldHMvdGhlbWUvc2xhdGUtYW5kLXNoZWxsL2JvYXJkLnBuZ2AsXG4gICAgYmxhY2tzOiBbXG4gICAgICBgJHtzZXR0aW5ncy5jZG59L2Fzc2V0cy90aGVtZS9zbGF0ZS1hbmQtc2hlbGwvc2xhdGUxLnBuZ2AsXG4gICAgICBgJHtzZXR0aW5ncy5jZG59L2Fzc2V0cy90aGVtZS9zbGF0ZS1hbmQtc2hlbGwvc2xhdGUyLnBuZ2AsXG4gICAgICBgJHtzZXR0aW5ncy5jZG59L2Fzc2V0cy90aGVtZS9zbGF0ZS1hbmQtc2hlbGwvc2xhdGUzLnBuZ2AsXG4gICAgICBgJHtzZXR0aW5ncy5jZG59L2Fzc2V0cy90aGVtZS9zbGF0ZS1hbmQtc2hlbGwvc2xhdGU0LnBuZ2AsXG4gICAgICBgJHtzZXR0aW5ncy5jZG59L2Fzc2V0cy90aGVtZS9zbGF0ZS1hbmQtc2hlbGwvc2xhdGU1LnBuZ2AsXG4gICAgXSxcbiAgICB3aGl0ZXM6IFtcbiAgICAgIGAke3NldHRpbmdzLmNkbn0vYXNzZXRzL3RoZW1lL3NsYXRlLWFuZC1zaGVsbC9zaGVsbDEucG5nYCxcbiAgICAgIGAke3NldHRpbmdzLmNkbn0vYXNzZXRzL3RoZW1lL3NsYXRlLWFuZC1zaGVsbC9zaGVsbDIucG5nYCxcbiAgICAgIGAke3NldHRpbmdzLmNkbn0vYXNzZXRzL3RoZW1lL3NsYXRlLWFuZC1zaGVsbC9zaGVsbDMucG5nYCxcbiAgICAgIGAke3NldHRpbmdzLmNkbn0vYXNzZXRzL3RoZW1lL3NsYXRlLWFuZC1zaGVsbC9zaGVsbDQucG5nYCxcbiAgICAgIGAke3NldHRpbmdzLmNkbn0vYXNzZXRzL3RoZW1lL3NsYXRlLWFuZC1zaGVsbC9zaGVsbDUucG5nYCxcbiAgICBdLFxuICB9LFxuICBbVGhlbWUuV2FsbnV0XToge1xuICAgIGJvYXJkOiBgJHtzZXR0aW5ncy5jZG59L2Fzc2V0cy90aGVtZS93YWxudXQvYm9hcmQuanBnYCxcbiAgICBibGFja3M6IFtgJHtzZXR0aW5ncy5jZG59L2Fzc2V0cy90aGVtZS93YWxudXQvYmxhY2sucG5nYF0sXG4gICAgd2hpdGVzOiBbYCR7c2V0dGluZ3MuY2RufS9hc3NldHMvdGhlbWUvd2FsbnV0L3doaXRlLnBuZ2BdLFxuICB9LFxuICBbVGhlbWUuUGhvdG9yZWFsaXN0aWNdOiB7XG4gICAgYm9hcmQ6IGAke3NldHRpbmdzLmNkbn0vYXNzZXRzL3RoZW1lL3Bob3RvcmVhbGlzdGljL2JvYXJkLnBuZ2AsXG4gICAgYmxhY2tzOiBbYCR7c2V0dGluZ3MuY2RufS9hc3NldHMvdGhlbWUvcGhvdG9yZWFsaXN0aWMvYmxhY2sucG5nYF0sXG4gICAgd2hpdGVzOiBbYCR7c2V0dGluZ3MuY2RufS9hc3NldHMvdGhlbWUvcGhvdG9yZWFsaXN0aWMvd2hpdGUucG5nYF0sXG4gIH0sXG4gIFtUaGVtZS5GbGF0XToge1xuICAgIGJsYWNrczogW10sXG4gICAgd2hpdGVzOiBbXSxcbiAgfSxcbiAgW1RoZW1lLldhcm1dOiB7XG4gICAgYmxhY2tzOiBbXSxcbiAgICB3aGl0ZXM6IFtdLFxuICB9LFxuICBbVGhlbWUuRGFya106IHtcbiAgICBibGFja3M6IFtdLFxuICAgIHdoaXRlczogW10sXG4gIH0sXG4gIFtUaGVtZS5ZdW56aU1vbmtleURhcmtdOiB7XG4gICAgYm9hcmQ6IGAke3NldHRpbmdzLmNkbn0vYXNzZXRzL3RoZW1lL3ltZC95dW56aS1tb25rZXktZGFyay9ZTUQtQm8tVjEwX2xlc3Nib3JkZXIxOTIwcHgucG5nYCxcbiAgICBibGFja3M6IFtcbiAgICAgIGAke3NldHRpbmdzLmNkbn0vYXNzZXRzL3RoZW1lL3ltZC95dW56aS1tb25rZXktZGFyay9ZTUQtQi12MTQtMzM4cHgucG5nYCxcbiAgICBdLFxuICAgIHdoaXRlczogW1xuICAgICAgYCR7c2V0dGluZ3MuY2RufS9hc3NldHMvdGhlbWUveW1kL3l1bnppLW1vbmtleS1kYXJrL1lNRC1XLXYxNC0zMzhweC5wbmdgLFxuICAgIF0sXG4gICAgbG93UmVzOiB7XG4gICAgICBib2FyZDogYCR7c2V0dGluZ3MuY2RufS9hc3NldHMvdGhlbWUveW1kL3l1bnppLW1vbmtleS1kYXJrL1lNRC1Cby1WMTBfbGVzc2JvcmRlci05NjBweC5wbmdgLFxuICAgICAgYmxhY2tzOiBbXG4gICAgICAgIGAke3NldHRpbmdzLmNkbn0vYXNzZXRzL3RoZW1lL3ltZC95dW56aS1tb25rZXktZGFyay9ZTUQtQi12MTQtMTM1cHgucG5nYCxcbiAgICAgIF0sXG4gICAgICB3aGl0ZXM6IFtcbiAgICAgICAgYCR7c2V0dGluZ3MuY2RufS9hc3NldHMvdGhlbWUveW1kL3l1bnppLW1vbmtleS1kYXJrL1lNRC1XLXYxNC0xMzVweC5wbmdgLFxuICAgICAgXSxcbiAgICB9LFxuICAgIG1pY3JvUmVzOiB7XG4gICAgICBib2FyZDogYCR7c2V0dGluZ3MuY2RufS9hc3NldHMvdGhlbWUveW1kL1lNRC1Cby1WMTBfbGVzc2JvcmRlci05NjBweC5wbmdgLFxuICAgICAgYmxhY2tzOiBbYCR7c2V0dGluZ3MuY2RufS9hc3NldHMvdGhlbWUveW1kL1lNRC1CXzE5N3RvNTlweC5wbmdgXSxcbiAgICAgIHdoaXRlczogW2Ake3NldHRpbmdzLmNkbn0vYXNzZXRzL3RoZW1lL3ltZC9ZTUQtV18xOTd0bzU5cHgucG5nYF0sXG4gICAgfSxcbiAgfSxcbiAgW1RoZW1lLkhpZ2hDb250cmFzdF06IHtcbiAgICBibGFja3M6IFtdLFxuICAgIHdoaXRlczogW10sXG4gIH0sXG59O1xuXG5leHBvcnQgY29uc3QgTElHSFRfR1JFRU5fUkdCID0gJ3JnYmEoMTM2LCAxNzAsIDYwLCAxKSc7XG5leHBvcnQgY29uc3QgTElHSFRfWUVMTE9XX1JHQiA9ICdyZ2JhKDIwNiwgMjEwLCA4MywgMSknO1xuZXhwb3J0IGNvbnN0IFlFTExPV19SR0IgPSAncmdiYSgyNDIsIDIxNywgNjAsIDEpJztcbmV4cG9ydCBjb25zdCBMSUdIVF9SRURfUkdCID0gJ3JnYmEoMjM2LCAxNDYsIDczLCAxKSc7XG4iLCJleHBvcnQgY29uc3QgTU9WRV9QUk9QX0xJU1QgPSBbXG4gICdCJyxcbiAgLy8gS08gaXMgc3RhbmRhcmQgaW4gbW92ZSBsaXN0IGJ1dCB1c3VhbGx5IGJlIHVzZWQgZm9yIGtvbWkgaW4gZ2FtZWluZm8gcHJvcHNcbiAgLy8gJ0tPJyxcbiAgJ01OJyxcbiAgJ1cnLFxuXTtcbmV4cG9ydCBjb25zdCBTRVRVUF9QUk9QX0xJU1QgPSBbXG4gICdBQicsXG4gICdBRScsXG4gICdBVycsXG4gIC8vVE9ETzogUEwgaXMgYSB2YWx1ZSBvZiBjb2xvciB0eXBlXG4gIC8vICdQTCdcbl07XG5leHBvcnQgY29uc3QgTk9ERV9BTk5PVEFUSU9OX1BST1BfTElTVCA9IFtcbiAgJ0EnLFxuICAnQycsXG4gICdETScsXG4gICdHQicsXG4gICdHVycsXG4gICdITycsXG4gICdOJyxcbiAgJ1VDJyxcbiAgJ1YnLFxuXTtcbmV4cG9ydCBjb25zdCBNT1ZFX0FOTk9UQVRJT05fUFJPUF9MSVNUID0gW1xuICAnQk0nLFxuICAnRE8nLFxuICAnSVQnLFxuICAvLyBURSBpcyBzdGFuZGFyZCBpbiBtb3ZlIGFubm90YXRpb24gZm9yIHRlc3VqaVxuICAvLyAnVEUnLFxuXTtcbmV4cG9ydCBjb25zdCBNQVJLVVBfUFJPUF9MSVNUID0gW1xuICAnQVInLFxuICAnQ1InLFxuICAnTEInLFxuICAnTE4nLFxuICAnTUEnLFxuICAnU0wnLFxuICAnU1EnLFxuICAnVFInLFxuXTtcblxuZXhwb3J0IGNvbnN0IFJPT1RfUFJPUF9MSVNUID0gWydBUCcsICdDQScsICdGRicsICdHTScsICdTVCcsICdTWiddO1xuZXhwb3J0IGNvbnN0IEdBTUVfSU5GT19QUk9QX0xJU1QgPSBbXG4gIC8vVEUgTm9uLXN0YW5kYXJkXG4gICdURScsXG4gIC8vS08gTm9uLXN0YW5kYXJkXG4gICdLTycsXG4gICdBTicsXG4gICdCUicsXG4gICdCVCcsXG4gICdDUCcsXG4gICdEVCcsXG4gICdFVicsXG4gICdHTicsXG4gICdHQycsXG4gICdPTicsXG4gICdPVCcsXG4gICdQQicsXG4gICdQQycsXG4gICdQVycsXG4gICdSRScsXG4gICdSTycsXG4gICdSVScsXG4gICdTTycsXG4gICdUTScsXG4gICdVUycsXG4gICdXUicsXG4gICdXVCcsXG5dO1xuZXhwb3J0IGNvbnN0IFRJTUlOR19QUk9QX0xJU1QgPSBbJ0JMJywgJ09CJywgJ09XJywgJ1dMJ107XG5leHBvcnQgY29uc3QgTUlTQ0VMTEFORU9VU19QUk9QX0xJU1QgPSBbJ0ZHJywgJ1BNJywgJ1ZXJ107XG5cbmV4cG9ydCBjb25zdCBDVVNUT01fUFJPUF9MSVNUID0gWydQSScsICdQQUknLCAnTklEJywgJ1BBVCddO1xuXG5leHBvcnQgY29uc3QgTElTVF9PRl9QT0lOVFNfUFJPUCA9IFsnQUInLCAnQUUnLCAnQVcnLCAnTUEnLCAnU0wnLCAnU1EnLCAnVFInXTtcblxuY29uc3QgVE9LRU5fUkVHRVggPSBuZXcgUmVnRXhwKC8oW0EtWl0qKVxcWyhbXFxzXFxTXSo/KVxcXS8pO1xuLy8gVXBkYXRlZCByZWdleCB0byBoYW5kbGUgZXNjYXBlZCBicmFja2V0cyBwcm9wZXJseSBmb3IgVGV4dCB0eXBlIHByb3BlcnRpZXNcbi8vICg/OlteXFxdXFxcXF18XFxcXC4pKiBtYXRjaGVzIGFueSBjaGFyIGV4Y2VwdCBdIGFuZCBcXCwgT1IgYW55IGVzY2FwZWQgY2hhclxuY29uc3QgVE9LRU5fUkVHRVhfV0lUSF9FU0NBUEVTID0gbmV3IFJlZ0V4cCgvKFtBLVpdKilcXFsoKD86W15cXF1cXFxcXXxcXFxcLikqKVxcXS8pO1xuXG5leHBvcnQgY2xhc3MgU2dmUHJvcEJhc2Uge1xuICBwdWJsaWMgdG9rZW46IHN0cmluZztcbiAgcHVibGljIHR5cGU6IHN0cmluZyA9ICctJztcbiAgcHJvdGVjdGVkIF92YWx1ZTogc3RyaW5nID0gJyc7XG4gIHByb3RlY3RlZCBfdmFsdWVzOiBzdHJpbmdbXSA9IFtdO1xuXG4gIGNvbnN0cnVjdG9yKHRva2VuOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcgfCBzdHJpbmdbXSkge1xuICAgIHRoaXMudG9rZW4gPSB0b2tlbjtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyB8fCB2YWx1ZSBpbnN0YW5jZW9mIFN0cmluZykge1xuICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlIGFzIHN0cmluZztcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICB0aGlzLnZhbHVlcyA9IHZhbHVlO1xuICAgIH1cbiAgfVxuXG4gIGdldCB2YWx1ZSgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLl92YWx1ZTtcbiAgfVxuXG4gIHNldCB2YWx1ZShuZXdWYWx1ZTogc3RyaW5nKSB7XG4gICAgdGhpcy5fdmFsdWUgPSBuZXdWYWx1ZTtcbiAgICBpZiAoTElTVF9PRl9QT0lOVFNfUFJPUC5pbmNsdWRlcyh0aGlzLnRva2VuKSkge1xuICAgICAgdGhpcy5fdmFsdWVzID0gbmV3VmFsdWUuc3BsaXQoJywnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fdmFsdWVzID0gW25ld1ZhbHVlXTtcbiAgICB9XG4gIH1cblxuICBnZXQgdmFsdWVzKCk6IHN0cmluZ1tdIHtcbiAgICByZXR1cm4gdGhpcy5fdmFsdWVzO1xuICB9XG5cbiAgc2V0IHZhbHVlcyhuZXdWYWx1ZXM6IHN0cmluZ1tdKSB7XG4gICAgdGhpcy5fdmFsdWVzID0gbmV3VmFsdWVzO1xuICAgIHRoaXMuX3ZhbHVlID0gbmV3VmFsdWVzLmpvaW4oJywnKTtcbiAgfVxuXG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiBgJHt0aGlzLnRva2VufSR7dGhpcy5fdmFsdWVzLm1hcCh2ID0+IGBbJHt2fV1gKS5qb2luKCcnKX1gO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBNb3ZlUHJvcCBleHRlbmRzIFNnZlByb3BCYXNlIHtcbiAgY29uc3RydWN0b3IodG9rZW46IHN0cmluZywgdmFsdWU6IHN0cmluZykge1xuICAgIHN1cGVyKHRva2VuLCB2YWx1ZSk7XG4gICAgdGhpcy50eXBlID0gJ21vdmUnO1xuICB9XG5cbiAgc3RhdGljIGZyb20oc3RyOiBzdHJpbmcpIHtcbiAgICBjb25zdCBtYXRjaCA9IHN0ci5tYXRjaCgvKFtBLVpdKilcXFsoW1xcc1xcU10qPylcXF0vKTtcbiAgICBpZiAobWF0Y2gpIHtcbiAgICAgIGNvbnN0IHRva2VuID0gbWF0Y2hbMV07XG4gICAgICBjb25zdCB2YWwgPSBtYXRjaFsyXTtcbiAgICAgIHJldHVybiBuZXcgTW92ZVByb3AodG9rZW4sIHZhbCk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgTW92ZVByb3AoJycsICcnKTtcbiAgfVxuXG4gIC8vIER1cGxpY2F0ZWQgY29kZTogaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8zMzhcbiAgZ2V0IHZhbHVlKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xuICB9XG5cbiAgc2V0IHZhbHVlKG5ld1ZhbHVlOiBzdHJpbmcpIHtcbiAgICB0aGlzLl92YWx1ZSA9IG5ld1ZhbHVlO1xuICAgIGlmIChMSVNUX09GX1BPSU5UU19QUk9QLmluY2x1ZGVzKHRoaXMudG9rZW4pKSB7XG4gICAgICB0aGlzLl92YWx1ZXMgPSBuZXdWYWx1ZS5zcGxpdCgnLCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl92YWx1ZXMgPSBbbmV3VmFsdWVdO1xuICAgIH1cbiAgfVxuXG4gIGdldCB2YWx1ZXMoKTogc3RyaW5nW10ge1xuICAgIHJldHVybiB0aGlzLl92YWx1ZXM7XG4gIH1cblxuICBzZXQgdmFsdWVzKG5ld1ZhbHVlczogc3RyaW5nW10pIHtcbiAgICB0aGlzLl92YWx1ZXMgPSBuZXdWYWx1ZXM7XG4gICAgdGhpcy5fdmFsdWUgPSBuZXdWYWx1ZXMuam9pbignLCcpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTZXR1cFByb3AgZXh0ZW5kcyBTZ2ZQcm9wQmFzZSB7XG4gIGNvbnN0cnVjdG9yKHRva2VuOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcgfCBzdHJpbmdbXSkge1xuICAgIHN1cGVyKHRva2VuLCB2YWx1ZSk7XG4gICAgdGhpcy50eXBlID0gJ3NldHVwJztcbiAgfVxuXG4gIHN0YXRpYyBmcm9tKHN0cjogc3RyaW5nKSB7XG4gICAgY29uc3QgdG9rZW5NYXRjaCA9IHN0ci5tYXRjaChUT0tFTl9SRUdFWCk7XG4gICAgY29uc3QgdmFsTWF0Y2hlcyA9IHN0ci5tYXRjaEFsbCgvXFxbKFtcXHNcXFNdKj8pXFxdL2cpO1xuXG4gICAgbGV0IHRva2VuID0gJyc7XG4gICAgY29uc3QgdmFscyA9IFsuLi52YWxNYXRjaGVzXS5tYXAobSA9PiBtWzFdKTtcbiAgICBpZiAodG9rZW5NYXRjaCkgdG9rZW4gPSB0b2tlbk1hdGNoWzFdO1xuICAgIHJldHVybiBuZXcgU2V0dXBQcm9wKHRva2VuLCB2YWxzKTtcbiAgfVxuXG4gIC8vIER1cGxpY2F0ZWQgY29kZTogaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8zMzhcbiAgZ2V0IHZhbHVlKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xuICB9XG5cbiAgc2V0IHZhbHVlKG5ld1ZhbHVlOiBzdHJpbmcpIHtcbiAgICB0aGlzLl92YWx1ZSA9IG5ld1ZhbHVlO1xuICAgIGlmIChMSVNUX09GX1BPSU5UU19QUk9QLmluY2x1ZGVzKHRoaXMudG9rZW4pKSB7XG4gICAgICB0aGlzLl92YWx1ZXMgPSBuZXdWYWx1ZS5zcGxpdCgnLCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl92YWx1ZXMgPSBbbmV3VmFsdWVdO1xuICAgIH1cbiAgfVxuXG4gIGdldCB2YWx1ZXMoKTogc3RyaW5nW10ge1xuICAgIHJldHVybiB0aGlzLl92YWx1ZXM7XG4gIH1cblxuICBzZXQgdmFsdWVzKG5ld1ZhbHVlczogc3RyaW5nW10pIHtcbiAgICB0aGlzLl92YWx1ZXMgPSBuZXdWYWx1ZXM7XG4gICAgdGhpcy5fdmFsdWUgPSBuZXdWYWx1ZXMuam9pbignLCcpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBOb2RlQW5ub3RhdGlvblByb3AgZXh0ZW5kcyBTZ2ZQcm9wQmFzZSB7XG4gIGNvbnN0cnVjdG9yKHRva2VuOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpIHtcbiAgICBzdXBlcih0b2tlbiwgdmFsdWUpO1xuICAgIHRoaXMudHlwZSA9ICdub2RlLWFubm90YXRpb24nO1xuICB9XG4gIHN0YXRpYyBmcm9tKHN0cjogc3RyaW5nKSB7XG4gICAgY29uc3QgbWF0Y2ggPSBzdHIubWF0Y2goVE9LRU5fUkVHRVhfV0lUSF9FU0NBUEVTKTtcbiAgICBpZiAobWF0Y2gpIHtcbiAgICAgIGNvbnN0IHRva2VuID0gbWF0Y2hbMV07XG4gICAgICBjb25zdCB2YWwgPSBtYXRjaFsyXTtcbiAgICAgIHJldHVybiBuZXcgTm9kZUFubm90YXRpb25Qcm9wKHRva2VuLCB2YWwpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IE5vZGVBbm5vdGF0aW9uUHJvcCgnJywgJycpO1xuICB9XG5cbiAgLy8gRHVwbGljYXRlZCBjb2RlOiBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzMzOFxuICBnZXQgdmFsdWUoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5fdmFsdWU7XG4gIH1cblxuICBzZXQgdmFsdWUobmV3VmFsdWU6IHN0cmluZykge1xuICAgIHRoaXMuX3ZhbHVlID0gbmV3VmFsdWU7XG4gICAgaWYgKExJU1RfT0ZfUE9JTlRTX1BST1AuaW5jbHVkZXModGhpcy50b2tlbikpIHtcbiAgICAgIHRoaXMuX3ZhbHVlcyA9IG5ld1ZhbHVlLnNwbGl0KCcsJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3ZhbHVlcyA9IFtuZXdWYWx1ZV07XG4gICAgfVxuICB9XG5cbiAgZ2V0IHZhbHVlcygpOiBzdHJpbmdbXSB7XG4gICAgcmV0dXJuIHRoaXMuX3ZhbHVlcztcbiAgfVxuXG4gIHNldCB2YWx1ZXMobmV3VmFsdWVzOiBzdHJpbmdbXSkge1xuICAgIHRoaXMuX3ZhbHVlcyA9IG5ld1ZhbHVlcztcbiAgICB0aGlzLl92YWx1ZSA9IG5ld1ZhbHVlcy5qb2luKCcsJyk7XG4gIH1cblxuICAvKipcbiAgICogRXNjYXBlcyB1bmVzY2FwZWQgcmlnaHQgYnJhY2tldHMgaW4gU0dGIHByb3BlcnR5IHZhbHVlc1xuICAgKiBPbmx5IGVzY2FwZXMgYnJhY2tldHMgdGhhdCBhcmUgbm90IGFscmVhZHkgZXNjYXBlZFxuICAgKi9cbiAgcHJpdmF0ZSBlc2NhcGVWYWx1ZSh2YWx1ZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAvLyBSZXBsYWNlIF0gd2l0aCBcXF0gb25seSBpZiBpdCdzIG5vdCBhbHJlYWR5IGVzY2FwZWRcbiAgICAvLyBUaGlzIHJlZ2V4IGxvb2tzIGZvciBdIHRoYXQgaXMgTk9UIHByZWNlZGVkIGJ5IFxcXG4gICAgcmV0dXJuIHZhbHVlLnJlcGxhY2UoLyg/PCFcXFxcKVxcXS9nLCAnXFxcXF0nKTtcbiAgfVxuXG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiBgJHt0aGlzLnRva2VufSR7dGhpcy5fdmFsdWVzXG4gICAgICAubWFwKHYgPT4gYFske3RoaXMuZXNjYXBlVmFsdWUodil9XWApXG4gICAgICAuam9pbignJyl9YDtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTW92ZUFubm90YXRpb25Qcm9wIGV4dGVuZHMgU2dmUHJvcEJhc2Uge1xuICBjb25zdHJ1Y3Rvcih0b2tlbjogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKSB7XG4gICAgc3VwZXIodG9rZW4sIHZhbHVlKTtcbiAgICB0aGlzLnR5cGUgPSAnbW92ZS1hbm5vdGF0aW9uJztcbiAgfVxuICBzdGF0aWMgZnJvbShzdHI6IHN0cmluZykge1xuICAgIGNvbnN0IG1hdGNoID0gc3RyLm1hdGNoKFRPS0VOX1JFR0VYX1dJVEhfRVNDQVBFUyk7XG4gICAgaWYgKG1hdGNoKSB7XG4gICAgICBjb25zdCB0b2tlbiA9IG1hdGNoWzFdO1xuICAgICAgY29uc3QgdmFsID0gbWF0Y2hbMl07XG4gICAgICByZXR1cm4gbmV3IE1vdmVBbm5vdGF0aW9uUHJvcCh0b2tlbiwgdmFsKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBNb3ZlQW5ub3RhdGlvblByb3AoJycsICcnKTtcbiAgfVxuXG4gIC8vIER1cGxpY2F0ZWQgY29kZTogaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8zMzhcbiAgZ2V0IHZhbHVlKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xuICB9XG5cbiAgc2V0IHZhbHVlKG5ld1ZhbHVlOiBzdHJpbmcpIHtcbiAgICB0aGlzLl92YWx1ZSA9IG5ld1ZhbHVlO1xuICAgIGlmIChMSVNUX09GX1BPSU5UU19QUk9QLmluY2x1ZGVzKHRoaXMudG9rZW4pKSB7XG4gICAgICB0aGlzLl92YWx1ZXMgPSBuZXdWYWx1ZS5zcGxpdCgnLCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl92YWx1ZXMgPSBbbmV3VmFsdWVdO1xuICAgIH1cbiAgfVxuXG4gIGdldCB2YWx1ZXMoKTogc3RyaW5nW10ge1xuICAgIHJldHVybiB0aGlzLl92YWx1ZXM7XG4gIH1cblxuICBzZXQgdmFsdWVzKG5ld1ZhbHVlczogc3RyaW5nW10pIHtcbiAgICB0aGlzLl92YWx1ZXMgPSBuZXdWYWx1ZXM7XG4gICAgdGhpcy5fdmFsdWUgPSBuZXdWYWx1ZXMuam9pbignLCcpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBBbm5vdGF0aW9uUHJvcCBleHRlbmRzIFNnZlByb3BCYXNlIHt9XG5leHBvcnQgY2xhc3MgTWFya3VwUHJvcCBleHRlbmRzIFNnZlByb3BCYXNlIHtcbiAgY29uc3RydWN0b3IodG9rZW46IHN0cmluZywgdmFsdWU6IHN0cmluZyB8IHN0cmluZ1tdKSB7XG4gICAgc3VwZXIodG9rZW4sIHZhbHVlKTtcbiAgICB0aGlzLnR5cGUgPSAnbWFya3VwJztcbiAgfVxuICBzdGF0aWMgZnJvbShzdHI6IHN0cmluZykge1xuICAgIGNvbnN0IHRva2VuTWF0Y2ggPSBzdHIubWF0Y2goVE9LRU5fUkVHRVgpO1xuICAgIGNvbnN0IHZhbE1hdGNoZXMgPSBzdHIubWF0Y2hBbGwoL1xcWyhbXFxzXFxTXSo/KVxcXS9nKTtcblxuICAgIGxldCB0b2tlbiA9ICcnO1xuICAgIGNvbnN0IHZhbHMgPSBbLi4udmFsTWF0Y2hlc10ubWFwKG0gPT4gbVsxXSk7XG4gICAgaWYgKHRva2VuTWF0Y2gpIHRva2VuID0gdG9rZW5NYXRjaFsxXTtcbiAgICByZXR1cm4gbmV3IE1hcmt1cFByb3AodG9rZW4sIHZhbHMpO1xuICB9XG5cbiAgLy8gRHVwbGljYXRlZCBjb2RlOiBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzMzOFxuICBnZXQgdmFsdWUoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5fdmFsdWU7XG4gIH1cblxuICBzZXQgdmFsdWUobmV3VmFsdWU6IHN0cmluZykge1xuICAgIHRoaXMuX3ZhbHVlID0gbmV3VmFsdWU7XG4gICAgaWYgKExJU1RfT0ZfUE9JTlRTX1BST1AuaW5jbHVkZXModGhpcy50b2tlbikpIHtcbiAgICAgIHRoaXMuX3ZhbHVlcyA9IG5ld1ZhbHVlLnNwbGl0KCcsJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3ZhbHVlcyA9IFtuZXdWYWx1ZV07XG4gICAgfVxuICB9XG5cbiAgZ2V0IHZhbHVlcygpOiBzdHJpbmdbXSB7XG4gICAgcmV0dXJuIHRoaXMuX3ZhbHVlcztcbiAgfVxuXG4gIHNldCB2YWx1ZXMobmV3VmFsdWVzOiBzdHJpbmdbXSkge1xuICAgIHRoaXMuX3ZhbHVlcyA9IG5ld1ZhbHVlcztcbiAgICB0aGlzLl92YWx1ZSA9IG5ld1ZhbHVlcy5qb2luKCcsJyk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFJvb3RQcm9wIGV4dGVuZHMgU2dmUHJvcEJhc2Uge1xuICBjb25zdHJ1Y3Rvcih0b2tlbjogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKSB7XG4gICAgc3VwZXIodG9rZW4sIHZhbHVlKTtcbiAgICB0aGlzLnR5cGUgPSAncm9vdCc7XG4gIH1cbiAgc3RhdGljIGZyb20oc3RyOiBzdHJpbmcpIHtcbiAgICBjb25zdCBtYXRjaCA9IHN0ci5tYXRjaChUT0tFTl9SRUdFWF9XSVRIX0VTQ0FQRVMpO1xuICAgIGlmIChtYXRjaCkge1xuICAgICAgY29uc3QgdG9rZW4gPSBtYXRjaFsxXTtcbiAgICAgIGNvbnN0IHZhbCA9IG1hdGNoWzJdO1xuICAgICAgcmV0dXJuIG5ldyBSb290UHJvcCh0b2tlbiwgdmFsKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBSb290UHJvcCgnJywgJycpO1xuICB9XG5cbiAgLy8gRHVwbGljYXRlZCBjb2RlOiBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzMzOFxuICBnZXQgdmFsdWUoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5fdmFsdWU7XG4gIH1cblxuICBzZXQgdmFsdWUobmV3VmFsdWU6IHN0cmluZykge1xuICAgIHRoaXMuX3ZhbHVlID0gbmV3VmFsdWU7XG4gICAgaWYgKExJU1RfT0ZfUE9JTlRTX1BST1AuaW5jbHVkZXModGhpcy50b2tlbikpIHtcbiAgICAgIHRoaXMuX3ZhbHVlcyA9IG5ld1ZhbHVlLnNwbGl0KCcsJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3ZhbHVlcyA9IFtuZXdWYWx1ZV07XG4gICAgfVxuICB9XG5cbiAgZ2V0IHZhbHVlcygpOiBzdHJpbmdbXSB7XG4gICAgcmV0dXJuIHRoaXMuX3ZhbHVlcztcbiAgfVxuXG4gIHNldCB2YWx1ZXMobmV3VmFsdWVzOiBzdHJpbmdbXSkge1xuICAgIHRoaXMuX3ZhbHVlcyA9IG5ld1ZhbHVlcztcbiAgICB0aGlzLl92YWx1ZSA9IG5ld1ZhbHVlcy5qb2luKCcsJyk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEdhbWVJbmZvUHJvcCBleHRlbmRzIFNnZlByb3BCYXNlIHtcbiAgY29uc3RydWN0b3IodG9rZW46IHN0cmluZywgdmFsdWU6IHN0cmluZykge1xuICAgIHN1cGVyKHRva2VuLCB2YWx1ZSk7XG4gICAgdGhpcy50eXBlID0gJ2dhbWUtaW5mbyc7XG4gIH1cbiAgc3RhdGljIGZyb20oc3RyOiBzdHJpbmcpIHtcbiAgICBjb25zdCBtYXRjaCA9IHN0ci5tYXRjaChUT0tFTl9SRUdFWF9XSVRIX0VTQ0FQRVMpO1xuICAgIGlmIChtYXRjaCkge1xuICAgICAgY29uc3QgdG9rZW4gPSBtYXRjaFsxXTtcbiAgICAgIGNvbnN0IHZhbCA9IG1hdGNoWzJdO1xuICAgICAgcmV0dXJuIG5ldyBHYW1lSW5mb1Byb3AodG9rZW4sIHZhbCk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgR2FtZUluZm9Qcm9wKCcnLCAnJyk7XG4gIH1cblxuICBnZXQgdmFsdWUoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5fdmFsdWU7XG4gIH1cblxuICBzZXQgdmFsdWUobmV3VmFsdWU6IHN0cmluZykge1xuICAgIHRoaXMuX3ZhbHVlID0gbmV3VmFsdWU7XG4gICAgaWYgKExJU1RfT0ZfUE9JTlRTX1BST1AuaW5jbHVkZXModGhpcy50b2tlbikpIHtcbiAgICAgIHRoaXMuX3ZhbHVlcyA9IG5ld1ZhbHVlLnNwbGl0KCcsJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3ZhbHVlcyA9IFtuZXdWYWx1ZV07XG4gICAgfVxuICB9XG5cbiAgZ2V0IHZhbHVlcygpOiBzdHJpbmdbXSB7XG4gICAgcmV0dXJuIHRoaXMuX3ZhbHVlcztcbiAgfVxuXG4gIHNldCB2YWx1ZXMobmV3VmFsdWVzOiBzdHJpbmdbXSkge1xuICAgIHRoaXMuX3ZhbHVlcyA9IG5ld1ZhbHVlcztcbiAgICB0aGlzLl92YWx1ZSA9IG5ld1ZhbHVlcy5qb2luKCcsJyk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEN1c3RvbVByb3AgZXh0ZW5kcyBTZ2ZQcm9wQmFzZSB7XG4gIGNvbnN0cnVjdG9yKHRva2VuOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpIHtcbiAgICBzdXBlcih0b2tlbiwgdmFsdWUpO1xuICAgIHRoaXMudHlwZSA9ICdjdXN0b20nO1xuICB9XG4gIHN0YXRpYyBmcm9tKHN0cjogc3RyaW5nKSB7XG4gICAgY29uc3QgbWF0Y2ggPSBzdHIubWF0Y2goVE9LRU5fUkVHRVhfV0lUSF9FU0NBUEVTKTtcbiAgICBpZiAobWF0Y2gpIHtcbiAgICAgIGNvbnN0IHRva2VuID0gbWF0Y2hbMV07XG4gICAgICBjb25zdCB2YWwgPSBtYXRjaFsyXTtcbiAgICAgIHJldHVybiBuZXcgQ3VzdG9tUHJvcCh0b2tlbiwgdmFsKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBDdXN0b21Qcm9wKCcnLCAnJyk7XG4gIH1cblxuICBnZXQgdmFsdWUoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5fdmFsdWU7XG4gIH1cblxuICBzZXQgdmFsdWUobmV3VmFsdWU6IHN0cmluZykge1xuICAgIHRoaXMuX3ZhbHVlID0gbmV3VmFsdWU7XG4gICAgaWYgKExJU1RfT0ZfUE9JTlRTX1BST1AuaW5jbHVkZXModGhpcy50b2tlbikpIHtcbiAgICAgIHRoaXMuX3ZhbHVlcyA9IG5ld1ZhbHVlLnNwbGl0KCcsJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3ZhbHVlcyA9IFtuZXdWYWx1ZV07XG4gICAgfVxuICB9XG5cbiAgZ2V0IHZhbHVlcygpOiBzdHJpbmdbXSB7XG4gICAgcmV0dXJuIHRoaXMuX3ZhbHVlcztcbiAgfVxuXG4gIHNldCB2YWx1ZXMobmV3VmFsdWVzOiBzdHJpbmdbXSkge1xuICAgIHRoaXMuX3ZhbHVlcyA9IG5ld1ZhbHVlcztcbiAgICB0aGlzLl92YWx1ZSA9IG5ld1ZhbHVlcy5qb2luKCcsJyk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFRpbWluZ1Byb3AgZXh0ZW5kcyBTZ2ZQcm9wQmFzZSB7XG4gIGNvbnN0cnVjdG9yKHRva2VuOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpIHtcbiAgICBzdXBlcih0b2tlbiwgdmFsdWUpO1xuICAgIHRoaXMudHlwZSA9ICdUaW1pbmcnO1xuICB9XG5cbiAgZ2V0IHZhbHVlKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xuICB9XG5cbiAgc2V0IHZhbHVlKG5ld1ZhbHVlOiBzdHJpbmcpIHtcbiAgICB0aGlzLl92YWx1ZSA9IG5ld1ZhbHVlO1xuICAgIGlmIChMSVNUX09GX1BPSU5UU19QUk9QLmluY2x1ZGVzKHRoaXMudG9rZW4pKSB7XG4gICAgICB0aGlzLl92YWx1ZXMgPSBuZXdWYWx1ZS5zcGxpdCgnLCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl92YWx1ZXMgPSBbbmV3VmFsdWVdO1xuICAgIH1cbiAgfVxuXG4gIGdldCB2YWx1ZXMoKTogc3RyaW5nW10ge1xuICAgIHJldHVybiB0aGlzLl92YWx1ZXM7XG4gIH1cblxuICBzZXQgdmFsdWVzKG5ld1ZhbHVlczogc3RyaW5nW10pIHtcbiAgICB0aGlzLl92YWx1ZXMgPSBuZXdWYWx1ZXM7XG4gICAgdGhpcy5fdmFsdWUgPSBuZXdWYWx1ZXMuam9pbignLCcpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBNaXNjZWxsYW5lb3VzUHJvcCBleHRlbmRzIFNnZlByb3BCYXNlIHt9XG4iLCJpbXBvcnQge2Nsb25lRGVlcH0gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7U0dGX0xFVFRFUlN9IGZyb20gJy4vY29uc3QnO1xuXG4vLyBUT0RPOiBEdXBsaWNhdGUgd2l0aCBoZWxwZXJzLnRzIHRvIGF2b2lkIGNpcmN1bGFyIGRlcGVuZGVuY3lcbmV4cG9ydCBjb25zdCBzZ2ZUb1BvcyA9IChzdHI6IHN0cmluZykgPT4ge1xuICBjb25zdCBraSA9IHN0clswXSA9PT0gJ0InID8gMSA6IC0xO1xuICBjb25zdCB0ZW1wU3RyID0gL1xcWyguKilcXF0vLmV4ZWMoc3RyKTtcbiAgaWYgKHRlbXBTdHIpIHtcbiAgICBjb25zdCBwb3MgPSB0ZW1wU3RyWzFdO1xuICAgIGNvbnN0IHggPSBTR0ZfTEVUVEVSUy5pbmRleE9mKHBvc1swXSk7XG4gICAgY29uc3QgeSA9IFNHRl9MRVRURVJTLmluZGV4T2YocG9zWzFdKTtcbiAgICByZXR1cm4ge3gsIHksIGtpfTtcbiAgfVxuICByZXR1cm4ge3g6IC0xLCB5OiAtMSwga2k6IDB9O1xufTtcblxubGV0IGxpYmVydGllcyA9IDA7XG5sZXQgcmVjdXJzaW9uUGF0aDogc3RyaW5nW10gPSBbXTtcblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBzaXplIG9mIGEgbWF0cml4LlxuICogQHBhcmFtIG1hdCBUaGUgbWF0cml4IHRvIGNhbGN1bGF0ZSB0aGUgc2l6ZSBvZi5cbiAqIEByZXR1cm5zIEFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIG51bWJlciBvZiByb3dzIGFuZCBjb2x1bW5zIGluIHRoZSBtYXRyaXguXG4gKi9cbmNvbnN0IGNhbGNTaXplID0gKG1hdDogbnVtYmVyW11bXSkgPT4ge1xuICBjb25zdCByb3dzU2l6ZSA9IG1hdC5sZW5ndGg7XG4gIGNvbnN0IGNvbHVtbnNTaXplID0gbWF0Lmxlbmd0aCA+IDAgPyBtYXRbMF0ubGVuZ3RoIDogMDtcbiAgcmV0dXJuIFtyb3dzU2l6ZSwgY29sdW1uc1NpemVdO1xufTtcblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBsaWJlcnR5IG9mIGEgc3RvbmUgb24gdGhlIGJvYXJkLlxuICogQHBhcmFtIG1hdCAtIFRoZSBib2FyZCBtYXRyaXguXG4gKiBAcGFyYW0geCAtIFRoZSB4LWNvb3JkaW5hdGUgb2YgdGhlIHN0b25lLlxuICogQHBhcmFtIHkgLSBUaGUgeS1jb29yZGluYXRlIG9mIHRoZSBzdG9uZS5cbiAqIEBwYXJhbSBraSAtIFRoZSB2YWx1ZSBvZiB0aGUgc3RvbmUuXG4gKi9cbmNvbnN0IGNhbGNMaWJlcnR5Q29yZSA9IChtYXQ6IG51bWJlcltdW10sIHg6IG51bWJlciwgeTogbnVtYmVyLCBraTogbnVtYmVyKSA9PiB7XG4gIGNvbnN0IHNpemUgPSBjYWxjU2l6ZShtYXQpO1xuICBpZiAoeCA+PSAwICYmIHggPCBzaXplWzFdICYmIHkgPj0gMCAmJiB5IDwgc2l6ZVswXSkge1xuICAgIGlmIChtYXRbeF1beV0gPT09IGtpICYmICFyZWN1cnNpb25QYXRoLmluY2x1ZGVzKGAke3h9LCR7eX1gKSkge1xuICAgICAgcmVjdXJzaW9uUGF0aC5wdXNoKGAke3h9LCR7eX1gKTtcbiAgICAgIGNhbGNMaWJlcnR5Q29yZShtYXQsIHggLSAxLCB5LCBraSk7XG4gICAgICBjYWxjTGliZXJ0eUNvcmUobWF0LCB4ICsgMSwgeSwga2kpO1xuICAgICAgY2FsY0xpYmVydHlDb3JlKG1hdCwgeCwgeSAtIDEsIGtpKTtcbiAgICAgIGNhbGNMaWJlcnR5Q29yZShtYXQsIHgsIHkgKyAxLCBraSk7XG4gICAgfSBlbHNlIGlmIChtYXRbeF1beV0gPT09IDApIHtcbiAgICAgIGxpYmVydGllcyArPSAxO1xuICAgIH1cbiAgfVxufTtcblxuY29uc3QgY2FsY0xpYmVydHkgPSAobWF0OiBudW1iZXJbXVtdLCB4OiBudW1iZXIsIHk6IG51bWJlciwga2k6IG51bWJlcikgPT4ge1xuICBjb25zdCBzaXplID0gY2FsY1NpemUobWF0KTtcbiAgbGliZXJ0aWVzID0gMDtcbiAgcmVjdXJzaW9uUGF0aCA9IFtdO1xuXG4gIGlmICh4IDwgMCB8fCB5IDwgMCB8fCB4ID4gc2l6ZVsxXSAtIDEgfHwgeSA+IHNpemVbMF0gLSAxKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxpYmVydHk6IDQsXG4gICAgICByZWN1cnNpb25QYXRoOiBbXSxcbiAgICB9O1xuICB9XG5cbiAgaWYgKG1hdFt4XVt5XSA9PT0gMCkge1xuICAgIHJldHVybiB7XG4gICAgICBsaWJlcnR5OiA0LFxuICAgICAgcmVjdXJzaW9uUGF0aDogW10sXG4gICAgfTtcbiAgfVxuICBjYWxjTGliZXJ0eUNvcmUobWF0LCB4LCB5LCBraSk7XG4gIHJldHVybiB7XG4gICAgbGliZXJ0eTogbGliZXJ0aWVzLFxuICAgIHJlY3Vyc2lvblBhdGgsXG4gIH07XG59O1xuXG5leHBvcnQgY29uc3QgZXhlY0NhcHR1cmUgPSAoXG4gIG1hdDogbnVtYmVyW11bXSxcbiAgaTogbnVtYmVyLFxuICBqOiBudW1iZXIsXG4gIGtpOiBudW1iZXJcbikgPT4ge1xuICBjb25zdCBuZXdBcnJheSA9IG1hdDtcbiAgY29uc3Qge2xpYmVydHk6IGxpYmVydHlVcCwgcmVjdXJzaW9uUGF0aDogcmVjdXJzaW9uUGF0aFVwfSA9IGNhbGNMaWJlcnR5KFxuICAgIG1hdCxcbiAgICBpLFxuICAgIGogLSAxLFxuICAgIGtpXG4gICk7XG4gIGNvbnN0IHtsaWJlcnR5OiBsaWJlcnR5RG93biwgcmVjdXJzaW9uUGF0aDogcmVjdXJzaW9uUGF0aERvd259ID0gY2FsY0xpYmVydHkoXG4gICAgbWF0LFxuICAgIGksXG4gICAgaiArIDEsXG4gICAga2lcbiAgKTtcbiAgY29uc3Qge2xpYmVydHk6IGxpYmVydHlMZWZ0LCByZWN1cnNpb25QYXRoOiByZWN1cnNpb25QYXRoTGVmdH0gPSBjYWxjTGliZXJ0eShcbiAgICBtYXQsXG4gICAgaSAtIDEsXG4gICAgaixcbiAgICBraVxuICApO1xuICBjb25zdCB7bGliZXJ0eTogbGliZXJ0eVJpZ2h0LCByZWN1cnNpb25QYXRoOiByZWN1cnNpb25QYXRoUmlnaHR9ID1cbiAgICBjYWxjTGliZXJ0eShtYXQsIGkgKyAxLCBqLCBraSk7XG4gIGlmIChsaWJlcnR5VXAgPT09IDApIHtcbiAgICByZWN1cnNpb25QYXRoVXAuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgIGNvbnN0IGNvb3JkID0gaXRlbS5zcGxpdCgnLCcpO1xuICAgICAgbmV3QXJyYXlbcGFyc2VJbnQoY29vcmRbMF0pXVtwYXJzZUludChjb29yZFsxXSldID0gMDtcbiAgICB9KTtcbiAgfVxuICBpZiAobGliZXJ0eURvd24gPT09IDApIHtcbiAgICByZWN1cnNpb25QYXRoRG93bi5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgY29uc3QgY29vcmQgPSBpdGVtLnNwbGl0KCcsJyk7XG4gICAgICBuZXdBcnJheVtwYXJzZUludChjb29yZFswXSldW3BhcnNlSW50KGNvb3JkWzFdKV0gPSAwO1xuICAgIH0pO1xuICB9XG4gIGlmIChsaWJlcnR5TGVmdCA9PT0gMCkge1xuICAgIHJlY3Vyc2lvblBhdGhMZWZ0LmZvckVhY2goaXRlbSA9PiB7XG4gICAgICBjb25zdCBjb29yZCA9IGl0ZW0uc3BsaXQoJywnKTtcbiAgICAgIG5ld0FycmF5W3BhcnNlSW50KGNvb3JkWzBdKV1bcGFyc2VJbnQoY29vcmRbMV0pXSA9IDA7XG4gICAgfSk7XG4gIH1cbiAgaWYgKGxpYmVydHlSaWdodCA9PT0gMCkge1xuICAgIHJlY3Vyc2lvblBhdGhSaWdodC5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgY29uc3QgY29vcmQgPSBpdGVtLnNwbGl0KCcsJyk7XG4gICAgICBuZXdBcnJheVtwYXJzZUludChjb29yZFswXSldW3BhcnNlSW50KGNvb3JkWzFdKV0gPSAwO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBuZXdBcnJheTtcbn07XG5cbmNvbnN0IGNhbkNhcHR1cmUgPSAobWF0OiBudW1iZXJbXVtdLCBpOiBudW1iZXIsIGo6IG51bWJlciwga2k6IG51bWJlcikgPT4ge1xuICBjb25zdCB7bGliZXJ0eTogbGliZXJ0eVVwLCByZWN1cnNpb25QYXRoOiByZWN1cnNpb25QYXRoVXB9ID0gY2FsY0xpYmVydHkoXG4gICAgbWF0LFxuICAgIGksXG4gICAgaiAtIDEsXG4gICAga2lcbiAgKTtcbiAgY29uc3Qge2xpYmVydHk6IGxpYmVydHlEb3duLCByZWN1cnNpb25QYXRoOiByZWN1cnNpb25QYXRoRG93bn0gPSBjYWxjTGliZXJ0eShcbiAgICBtYXQsXG4gICAgaSxcbiAgICBqICsgMSxcbiAgICBraVxuICApO1xuICBjb25zdCB7bGliZXJ0eTogbGliZXJ0eUxlZnQsIHJlY3Vyc2lvblBhdGg6IHJlY3Vyc2lvblBhdGhMZWZ0fSA9IGNhbGNMaWJlcnR5KFxuICAgIG1hdCxcbiAgICBpIC0gMSxcbiAgICBqLFxuICAgIGtpXG4gICk7XG4gIGNvbnN0IHtsaWJlcnR5OiBsaWJlcnR5UmlnaHQsIHJlY3Vyc2lvblBhdGg6IHJlY3Vyc2lvblBhdGhSaWdodH0gPVxuICAgIGNhbGNMaWJlcnR5KG1hdCwgaSArIDEsIGosIGtpKTtcbiAgaWYgKGxpYmVydHlVcCA9PT0gMCAmJiByZWN1cnNpb25QYXRoVXAubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmIChsaWJlcnR5RG93biA9PT0gMCAmJiByZWN1cnNpb25QYXRoRG93bi5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKGxpYmVydHlMZWZ0ID09PSAwICYmIHJlY3Vyc2lvblBhdGhMZWZ0Lmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAobGliZXJ0eVJpZ2h0ID09PSAwICYmIHJlY3Vyc2lvblBhdGhSaWdodC5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuLyoqXG4gKiBDb21wYXJlIGlmIHR3byBib2FyZCBzdGF0ZXMgYXJlIGNvbXBsZXRlbHkgaWRlbnRpY2FsXG4gKi9cbmV4cG9ydCBjb25zdCBib2FyZFN0YXRlc0VxdWFsID0gKFxuICBib2FyZDE6IG51bWJlcltdW10sXG4gIGJvYXJkMjogbnVtYmVyW11bXVxuKTogYm9vbGVhbiA9PiB7XG4gIGlmIChib2FyZDEubGVuZ3RoICE9PSBib2FyZDIubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBib2FyZDEubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoYm9hcmQxW2ldLmxlbmd0aCAhPT0gYm9hcmQyW2ldLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICAgIGZvciAobGV0IGogPSAwOyBqIDwgYm9hcmQxW2ldLmxlbmd0aDsgaisrKSB7XG4gICAgICBpZiAoYm9hcmQxW2ldW2pdICE9PSBib2FyZDJbaV1bal0pIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8qKlxuICogU2ltdWxhdGUgdGhlIGJvYXJkIHN0YXRlIGFmdGVyIG1ha2luZyBhIG1vdmUgYXQgc3BlY2lmaWVkIHBvc2l0aW9uIChpbmNsdWRpbmcgY2FwdHVyZXMpXG4gKi9cbmV4cG9ydCBjb25zdCBzaW11bGF0ZU1vdmVXaXRoQ2FwdHVyZSA9IChcbiAgbWF0OiBudW1iZXJbXVtdLFxuICBpOiBudW1iZXIsXG4gIGo6IG51bWJlcixcbiAga2k6IG51bWJlclxuKTogbnVtYmVyW11bXSA9PiB7XG4gIGNvbnN0IG5ld01hdCA9IGNsb25lRGVlcChtYXQpO1xuICBuZXdNYXRbaV1bal0gPSBraTtcblxuICAvLyBFeGVjdXRlIGNhcHR1cmVzXG4gIHJldHVybiBleGVjQ2FwdHVyZShuZXdNYXQsIGksIGosIC1raSk7XG59O1xuXG5leHBvcnQgY29uc3QgY2FuTW92ZSA9IChcbiAgbWF0OiBudW1iZXJbXVtdLFxuICBpOiBudW1iZXIsXG4gIGo6IG51bWJlcixcbiAga2k6IG51bWJlcixcbiAgcHJldmlvdXNCb2FyZFN0YXRlPzogbnVtYmVyW11bXSB8IG51bGxcbikgPT4ge1xuICBpZiAoaSA8IDAgfHwgaiA8IDAgfHwgaSA+PSBtYXQubGVuZ3RoIHx8IGogPj0gKG1hdFswXT8ubGVuZ3RoID8/IDApKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKG1hdFtpXVtqXSAhPT0gMCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIFNpbXVsYXRlIHRoZSBib2FyZCBzdGF0ZSBhZnRlciB0aGUgbW92ZSAoaW5jbHVkaW5nIGNhcHR1cmVzKVxuICBjb25zdCBib2FyZFN0YXRlQWZ0ZXJNb3ZlID0gc2ltdWxhdGVNb3ZlV2l0aENhcHR1cmUobWF0LCBpLCBqLCBraSk7XG5cbiAgLy8gS28gcnVsZSBjaGVjazogaWYgdGhlIGJvYXJkIHN0YXRlIGFmdGVyIG1vdmUgaXMgaWRlbnRpY2FsIHRvIHByZXZpb3VzIHN0YXRlLCBpdCB2aW9sYXRlcyBrbyBydWxlXG4gIGlmIChcbiAgICBwcmV2aW91c0JvYXJkU3RhdGUgJiZcbiAgICBib2FyZFN0YXRlc0VxdWFsKGJvYXJkU3RhdGVBZnRlck1vdmUsIHByZXZpb3VzQm9hcmRTdGF0ZSlcbiAgKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gQ2hlY2sgc3VpY2lkZSBydWxlOiBpZiBhZnRlciBwbGFjaW5nIHRoZSBzdG9uZSBpdCBoYXMgbm8gbGliZXJ0aWVzIGFuZCBjYW5ub3QgY2FwdHVyZSBvcHBvbmVudCBzdG9uZXMsIGl0J3MgaWxsZWdhbFxuICBjb25zdCBuZXdBcnJheSA9IGNsb25lRGVlcChtYXQpO1xuICBuZXdBcnJheVtpXVtqXSA9IGtpO1xuICBjb25zdCB7bGliZXJ0eX0gPSBjYWxjTGliZXJ0eShuZXdBcnJheSwgaSwgaiwga2kpO1xuXG4gIGlmIChjYW5DYXB0dXJlKG5ld0FycmF5LCBpLCBqLCAta2kpKSB7XG4gICAgcmV0dXJuIHRydWU7IC8vIENhbiBjYXB0dXJlIG9wcG9uZW50IHN0b25lcywgbGVnYWwgbW92ZVxuICB9XG4gIGlmIChjYW5DYXB0dXJlKG5ld0FycmF5LCBpLCBqLCBraSkpIHtcbiAgICByZXR1cm4gZmFsc2U7IC8vIE93biBzdG9uZXMgd291bGQgYmUgY2FwdHVyZWQsIGlsbGVnYWwgbW92ZVxuICB9XG4gIGlmIChsaWJlcnR5ID09PSAwKSB7XG4gICAgcmV0dXJuIGZhbHNlOyAvLyBObyBsaWJlcnRpZXMgYW5kIGNhbm5vdCBjYXB0dXJlLCBpbGxlZ2FsIG1vdmVcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbmV4cG9ydCBjb25zdCBzaG93S2kgPSAoXG4gIGFycmF5OiBudW1iZXJbXVtdLFxuICBzdGVwczogc3RyaW5nW10sXG4gIGlzQ2FwdHVyZWQgPSB0cnVlXG4pID0+IHtcbiAgbGV0IG5ld01hdCA9IGNsb25lRGVlcChhcnJheSk7XG4gIGxldCBoYXNNb3ZlZCA9IGZhbHNlO1xuICBzdGVwcy5mb3JFYWNoKHN0ciA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgeCxcbiAgICAgIHksXG4gICAgICBraSxcbiAgICB9OiB7XG4gICAgICB4OiBudW1iZXI7XG4gICAgICB5OiBudW1iZXI7XG4gICAgICBraTogbnVtYmVyO1xuICAgIH0gPSBzZ2ZUb1BvcyhzdHIpO1xuICAgIGlmIChpc0NhcHR1cmVkKSB7XG4gICAgICBpZiAoY2FuTW92ZShuZXdNYXQsIHgsIHksIGtpKSkge1xuICAgICAgICBuZXdNYXRbeF1beV0gPSBraTtcbiAgICAgICAgbmV3TWF0ID0gZXhlY0NhcHR1cmUobmV3TWF0LCB4LCB5LCAta2kpO1xuICAgICAgICBoYXNNb3ZlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld01hdFt4XVt5XSA9IGtpO1xuICAgICAgaGFzTW92ZWQgPSB0cnVlO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHtcbiAgICBhcnJhbmdlbWVudDogbmV3TWF0LFxuICAgIGhhc01vdmVkLFxuICB9O1xufTtcbiIsImltcG9ydCB7Y29tcGFjdCwgcmVwbGFjZX0gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7XG4gIGJ1aWxkUHJvcGVydHlWYWx1ZVJhbmdlcyxcbiAgaXNJbkFueVJhbmdlLFxuICBjYWxjSGFzaCxcbiAgZ2V0RGVkdXBsaWNhdGVkUHJvcHMsXG4gIGdldE5vZGVOdW1iZXIsXG59IGZyb20gJy4vaGVscGVycyc7XG5cbmltcG9ydCB7VHJlZU1vZGVsLCBUTm9kZX0gZnJvbSAnLi90cmVlJztcbmltcG9ydCB7XG4gIE1vdmVQcm9wLFxuICBTZXR1cFByb3AsXG4gIFJvb3RQcm9wLFxuICBHYW1lSW5mb1Byb3AsXG4gIFNnZlByb3BCYXNlLFxuICBOb2RlQW5ub3RhdGlvblByb3AsXG4gIE1vdmVBbm5vdGF0aW9uUHJvcCxcbiAgTWFya3VwUHJvcCxcbiAgQ3VzdG9tUHJvcCxcbiAgUk9PVF9QUk9QX0xJU1QsXG4gIE1PVkVfUFJPUF9MSVNULFxuICBTRVRVUF9QUk9QX0xJU1QsXG4gIE1BUktVUF9QUk9QX0xJU1QsXG4gIE5PREVfQU5OT1RBVElPTl9QUk9QX0xJU1QsXG4gIE1PVkVfQU5OT1RBVElPTl9QUk9QX0xJU1QsXG4gIEdBTUVfSU5GT19QUk9QX0xJU1QsXG4gIENVU1RPTV9QUk9QX0xJU1QsXG59IGZyb20gJy4vcHJvcHMnO1xuXG4vKipcbiAqIFJlcHJlc2VudHMgYW4gU0dGIChTbWFydCBHYW1lIEZvcm1hdCkgZmlsZS5cbiAqL1xuZXhwb3J0IGNsYXNzIFNnZiB7XG4gIE5FV19OT0RFID0gJzsnO1xuICBCUkFOQ0hJTkcgPSBbJygnLCAnKSddO1xuICBQUk9QRVJUWSA9IFsnWycsICddJ107XG4gIExJU1RfSURFTlRJVElFUyA9IFtcbiAgICAnQVcnLFxuICAgICdBQicsXG4gICAgJ0FFJyxcbiAgICAnQVInLFxuICAgICdDUicsXG4gICAgJ0REJyxcbiAgICAnTEInLFxuICAgICdMTicsXG4gICAgJ01BJyxcbiAgICAnU0wnLFxuICAgICdTUScsXG4gICAgJ1RSJyxcbiAgICAnVlcnLFxuICAgICdUQicsXG4gICAgJ1RXJyxcbiAgXTtcbiAgTk9ERV9ERUxJTUlURVJTID0gW3RoaXMuTkVXX05PREVdLmNvbmNhdCh0aGlzLkJSQU5DSElORyk7XG5cbiAgdHJlZTogVHJlZU1vZGVsID0gbmV3IFRyZWVNb2RlbCgpO1xuICByb290OiBUTm9kZSB8IG51bGwgPSBudWxsO1xuICBub2RlOiBUTm9kZSB8IG51bGwgPSBudWxsO1xuICBjdXJyZW50Tm9kZTogVE5vZGUgfCBudWxsID0gbnVsbDtcbiAgcGFyZW50Tm9kZTogVE5vZGUgfCBudWxsID0gbnVsbDtcbiAgbm9kZVByb3BzOiBNYXA8c3RyaW5nLCBzdHJpbmc+ID0gbmV3IE1hcCgpO1xuICBub2RlTWFwOiBNYXA8c3RyaW5nLCBUTm9kZT4gPSBuZXcgTWFwKCk7XG4gIHBhdGhNYXA6IE1hcDxzdHJpbmcsIFROb2RlW10+ID0gbmV3IE1hcCgpO1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIGEgbmV3IGluc3RhbmNlIG9mIHRoZSBTZ2YgY2xhc3MuXG4gICAqIEBwYXJhbSBjb250ZW50IFRoZSBjb250ZW50IG9mIHRoZSBTZ2YsIGVpdGhlciBhcyBhIHN0cmluZyBvciBhcyBhIFROb2RlKFJvb3Qgbm9kZSkuXG4gICAqIEBwYXJhbSBwYXJzZU9wdGlvbnMgVGhlIG9wdGlvbnMgZm9yIHBhcnNpbmcgdGhlIFNnZiBjb250ZW50LlxuICAgKi9cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBjb250ZW50Pzogc3RyaW5nIHwgVE5vZGUsXG4gICAgcHJpdmF0ZSBwYXJzZU9wdGlvbnMgPSB7XG4gICAgICBpZ25vcmVQcm9wTGlzdDogW10sXG4gICAgICBlbmFibGVOb2RlTWFwOiBmYWxzZSxcbiAgICAgIGVuYWJsZVBhdGhNYXA6IGZhbHNlLFxuICAgIH1cbiAgKSB7XG4gICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgdGhpcy5wYXJzZShjb250ZW50KTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnb2JqZWN0Jykge1xuICAgICAgdGhpcy5zZXRSb290KGNvbnRlbnQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSByb290IG5vZGUgb2YgdGhlIFNHRiB0cmVlLlxuICAgKlxuICAgKiBAcGFyYW0gcm9vdCBUaGUgcm9vdCBub2RlIHRvIHNldC5cbiAgICogQHJldHVybnMgVGhlIHVwZGF0ZWQgU0dGIGluc3RhbmNlLlxuICAgKi9cbiAgc2V0Um9vdChyb290OiBUTm9kZSkge1xuICAgIHRoaXMucm9vdCA9IHJvb3Q7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgdGhlIGN1cnJlbnQgU0dGIHRyZWUgdG8gYW4gU0dGIHN0cmluZyByZXByZXNlbnRhdGlvbi5cbiAgICogQHJldHVybnMgVGhlIFNHRiBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIHRyZWUuXG4gICAqL1xuICB0b1NnZigpIHtcbiAgICByZXR1cm4gYCgke3RoaXMubm9kZVRvU3RyaW5nKHRoaXMucm9vdCl9KWA7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgdGhlIGdhbWUgdHJlZSB0byBTR0YgZm9ybWF0IHdpdGhvdXQgaW5jbHVkaW5nIGFuYWx5c2lzIGRhdGEuXG4gICAqXG4gICAqIEByZXR1cm5zIFRoZSBTR0YgcmVwcmVzZW50YXRpb24gb2YgdGhlIGdhbWUgdHJlZS5cbiAgICovXG4gIHRvU2dmV2l0aG91dEFuYWx5c2lzKCkge1xuICAgIGNvbnN0IHNnZiA9IGAoJHt0aGlzLm5vZGVUb1N0cmluZyh0aGlzLnJvb3QpfSlgO1xuICAgIHJldHVybiByZXBsYWNlKHNnZiwgL10oQVxcWy4qP1xcXSkvZywgJ10nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQYXJzZXMgdGhlIGdpdmVuIFNHRiAoU21hcnQgR2FtZSBGb3JtYXQpIHN0cmluZy5cbiAgICpcbiAgICogQHBhcmFtIHNnZiAtIFRoZSBTR0Ygc3RyaW5nIHRvIHBhcnNlLlxuICAgKi9cbiAgcGFyc2Uoc2dmOiBzdHJpbmcpIHtcbiAgICBpZiAoIXNnZikgcmV0dXJuO1xuXG4gICAgLy8gRmlyc3QsIGdldCBhbGwgcHJvcGVydHkgdmFsdWUgcmFuZ2VzIGZyb20gdGhlIG9yaWdpbmFsIHN0cmluZ1xuICAgIC8vIFVzZSBhbGwga25vd24gU0dGIHByb3BlcnR5IGtleXMgZnJvbSB0aGUgY29uc3RhbnRzXG4gICAgY29uc3QgYWxsUHJvcGVydHlLZXlzID0gW1xuICAgICAgLi4uUk9PVF9QUk9QX0xJU1QsXG4gICAgICAuLi5NT1ZFX1BST1BfTElTVCxcbiAgICAgIC4uLlNFVFVQX1BST1BfTElTVCxcbiAgICAgIC4uLk1BUktVUF9QUk9QX0xJU1QsXG4gICAgICAuLi5OT0RFX0FOTk9UQVRJT05fUFJPUF9MSVNULFxuICAgICAgLi4uTU9WRV9BTk5PVEFUSU9OX1BST1BfTElTVCxcbiAgICAgIC4uLkdBTUVfSU5GT19QUk9QX0xJU1QsXG4gICAgICAuLi5DVVNUT01fUFJPUF9MSVNULFxuICAgIF07XG5cbiAgICBjb25zdCBwcm9wZXJ0eVZhbHVlUmFuZ2VzID0gYnVpbGRQcm9wZXJ0eVZhbHVlUmFuZ2VzKFxuICAgICAgc2dmLFxuICAgICAgYWxsUHJvcGVydHlLZXlzXG4gICAgKS5zb3J0KChhLCBiKSA9PiBhWzBdIC0gYlswXSk7XG5cbiAgICAvLyBSZW1vdmUgc3BhY2VzIG9ubHkgb3V0c2lkZSBwcm9wZXJ0eSB2YWx1ZSByYW5nZXNcbiAgICBsZXQgcHJvY2Vzc2VkU2dmID0gJyc7XG4gICAgbGV0IGxhc3RJbmRleCA9IDA7XG5cbiAgICBmb3IgKGNvbnN0IFtzdGFydCwgZW5kXSBvZiBwcm9wZXJ0eVZhbHVlUmFuZ2VzKSB7XG4gICAgICAvLyBQcm9jZXNzIHRleHQgYmVmb3JlIHRoaXMgcHJvcGVydHkgdmFsdWUgKHJlbW92ZSBzcGFjZXMpXG4gICAgICBjb25zdCBiZWZvcmVQcm9wID0gc2dmLnNsaWNlKGxhc3RJbmRleCwgc3RhcnQpO1xuICAgICAgcHJvY2Vzc2VkU2dmICs9IGJlZm9yZVByb3AucmVwbGFjZSgvXFxzKy9nbSwgJycpO1xuXG4gICAgICAvLyBLZWVwIHByb3BlcnR5IHZhbHVlIGFzLWlzIChwcmVzZXJ2ZSBzcGFjZXMpXG4gICAgICBjb25zdCBwcm9wVmFsdWUgPSBzZ2Yuc2xpY2Uoc3RhcnQsIGVuZCk7XG4gICAgICBwcm9jZXNzZWRTZ2YgKz0gcHJvcFZhbHVlO1xuXG4gICAgICBsYXN0SW5kZXggPSBlbmQ7XG4gICAgfVxuXG4gICAgLy8gUHJvY2VzcyByZW1haW5pbmcgdGV4dCBhZnRlciBsYXN0IHByb3BlcnR5IHZhbHVlIChyZW1vdmUgc3BhY2VzKVxuICAgIGNvbnN0IHJlbWFpbmluZyA9IHNnZi5zbGljZShsYXN0SW5kZXgpO1xuICAgIHByb2Nlc3NlZFNnZiArPSByZW1haW5pbmcucmVwbGFjZSgvXFxzKy9nbSwgJycpO1xuXG4gICAgLy8gTm93IHVzZSB0aGUgcHJvY2Vzc2VkIFNHRiBmb3IgcGFyc2luZ1xuICAgIHNnZiA9IHByb2Nlc3NlZFNnZjtcbiAgICBsZXQgbm9kZVN0YXJ0ID0gMDtcbiAgICBsZXQgY291bnRlciA9IDA7XG4gICAgY29uc3Qgc3RhY2s6IFROb2RlW10gPSBbXTtcblxuICAgIGNvbnN0IGluTm9kZVJhbmdlcyA9IGJ1aWxkUHJvcGVydHlWYWx1ZVJhbmdlcyhzZ2YpLnNvcnQoXG4gICAgICAoYSwgYikgPT4gYVswXSAtIGJbMF1cbiAgICApO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZ2YubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGMgPSBzZ2ZbaV07XG4gICAgICBjb25zdCBpbnNpZGVQcm9wID0gaXNJbkFueVJhbmdlKGksIGluTm9kZVJhbmdlcyk7XG5cbiAgICAgIGlmICh0aGlzLk5PREVfREVMSU1JVEVSUy5pbmNsdWRlcyhjKSAmJiAhaW5zaWRlUHJvcCkge1xuICAgICAgICBjb25zdCBjb250ZW50ID0gc2dmLnNsaWNlKG5vZGVTdGFydCwgaSk7XG4gICAgICAgIGlmIChjb250ZW50ICE9PSAnJykge1xuICAgICAgICAgIGNvbnN0IG1vdmVQcm9wczogTW92ZVByb3BbXSA9IFtdO1xuICAgICAgICAgIGNvbnN0IHNldHVwUHJvcHM6IFNldHVwUHJvcFtdID0gW107XG4gICAgICAgICAgY29uc3Qgcm9vdFByb3BzOiBSb290UHJvcFtdID0gW107XG4gICAgICAgICAgY29uc3QgbWFya3VwUHJvcHM6IE1hcmt1cFByb3BbXSA9IFtdO1xuICAgICAgICAgIGNvbnN0IGdhbWVJbmZvUHJvcHM6IEdhbWVJbmZvUHJvcFtdID0gW107XG4gICAgICAgICAgY29uc3Qgbm9kZUFubm90YXRpb25Qcm9wczogTm9kZUFubm90YXRpb25Qcm9wW10gPSBbXTtcbiAgICAgICAgICBjb25zdCBtb3ZlQW5ub3RhdGlvblByb3BzOiBNb3ZlQW5ub3RhdGlvblByb3BbXSA9IFtdO1xuICAgICAgICAgIGNvbnN0IGN1c3RvbVByb3BzOiBDdXN0b21Qcm9wW10gPSBbXTtcblxuICAgICAgICAgIGNvbnN0IG1hdGNoZXMgPSBbXG4gICAgICAgICAgICAuLi5jb250ZW50Lm1hdGNoQWxsKFxuICAgICAgICAgICAgICAvLyBSZWdFeHAoLyhbQS1aXStcXFtbYS16XFxbXFxdXSpcXF0rKS8sICdnJylcbiAgICAgICAgICAgICAgLy8gUmVnRXhwKC8oW0EtWl0rXFxbLio/XFxdKykvLCAnZycpXG4gICAgICAgICAgICAgIC8vIFJlZ0V4cCgvW0EtWl0rKFxcWy4qP1xcXSl7MSx9LywgJ2cnKVxuICAgICAgICAgICAgICAvLyBSZWdFeHAoL1tBLVpdKyhcXFtbXFxzXFxTXSo/XFxdKXsxLH0vLCAnZycpLFxuICAgICAgICAgICAgICAvLyBTaW1wbGlmaWVkIHJlZ2V4IHRvIGhhbmRsZSBlc2NhcGVkIGJyYWNrZXRzIHByb3Blcmx5XG4gICAgICAgICAgICAgIC8vIFteXFxdXFxcXF18XFxcXC4gIG1hdGNoZXM6IGFueSBjaGFyIGV4Y2VwdCBdIGFuZCBcXCwgT1IgYW55IGVzY2FwZWQgY2hhciAoXFwuKVxuICAgICAgICAgICAgICBSZWdFeHAoL1xcdysoPzpcXFsoPzpbXlxcXVxcXFxdfFxcXFwuKSpcXF0pKy9nKVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICBdO1xuXG4gICAgICAgICAgbWF0Y2hlcy5mb3JFYWNoKG0gPT4ge1xuICAgICAgICAgICAgY29uc3QgdG9rZW5NYXRjaCA9IG1bMF0ubWF0Y2goLyhbQS1aXSspXFxbLyk7XG4gICAgICAgICAgICBpZiAodG9rZW5NYXRjaCkge1xuICAgICAgICAgICAgICBjb25zdCB0b2tlbiA9IHRva2VuTWF0Y2hbMV07XG4gICAgICAgICAgICAgIGlmIChNT1ZFX1BST1BfTElTVC5pbmNsdWRlcyh0b2tlbikpIHtcbiAgICAgICAgICAgICAgICBtb3ZlUHJvcHMucHVzaChNb3ZlUHJvcC5mcm9tKG1bMF0pKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoU0VUVVBfUFJPUF9MSVNULmluY2x1ZGVzKHRva2VuKSkge1xuICAgICAgICAgICAgICAgIHNldHVwUHJvcHMucHVzaChTZXR1cFByb3AuZnJvbShtWzBdKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKFJPT1RfUFJPUF9MSVNULmluY2x1ZGVzKHRva2VuKSkge1xuICAgICAgICAgICAgICAgIHJvb3RQcm9wcy5wdXNoKFJvb3RQcm9wLmZyb20obVswXSkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChNQVJLVVBfUFJPUF9MSVNULmluY2x1ZGVzKHRva2VuKSkge1xuICAgICAgICAgICAgICAgIG1hcmt1cFByb3BzLnB1c2goTWFya3VwUHJvcC5mcm9tKG1bMF0pKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoR0FNRV9JTkZPX1BST1BfTElTVC5pbmNsdWRlcyh0b2tlbikpIHtcbiAgICAgICAgICAgICAgICBnYW1lSW5mb1Byb3BzLnB1c2goR2FtZUluZm9Qcm9wLmZyb20obVswXSkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChOT0RFX0FOTk9UQVRJT05fUFJPUF9MSVNULmluY2x1ZGVzKHRva2VuKSkge1xuICAgICAgICAgICAgICAgIG5vZGVBbm5vdGF0aW9uUHJvcHMucHVzaChOb2RlQW5ub3RhdGlvblByb3AuZnJvbShtWzBdKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKE1PVkVfQU5OT1RBVElPTl9QUk9QX0xJU1QuaW5jbHVkZXModG9rZW4pKSB7XG4gICAgICAgICAgICAgICAgbW92ZUFubm90YXRpb25Qcm9wcy5wdXNoKE1vdmVBbm5vdGF0aW9uUHJvcC5mcm9tKG1bMF0pKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoQ1VTVE9NX1BST1BfTElTVC5pbmNsdWRlcyh0b2tlbikpIHtcbiAgICAgICAgICAgICAgICBjdXN0b21Qcm9wcy5wdXNoKEN1c3RvbVByb3AuZnJvbShtWzBdKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGlmIChtYXRjaGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGhhc2ggPSBjYWxjSGFzaCh0aGlzLmN1cnJlbnROb2RlLCBtb3ZlUHJvcHMpO1xuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IHRoaXMudHJlZS5wYXJzZSh7XG4gICAgICAgICAgICAgIGlkOiBoYXNoLFxuICAgICAgICAgICAgICBuYW1lOiBoYXNoLFxuICAgICAgICAgICAgICBpbmRleDogY291bnRlcixcbiAgICAgICAgICAgICAgbnVtYmVyOiAwLFxuICAgICAgICAgICAgICBtb3ZlUHJvcHMsXG4gICAgICAgICAgICAgIHNldHVwUHJvcHMsXG4gICAgICAgICAgICAgIHJvb3RQcm9wcyxcbiAgICAgICAgICAgICAgbWFya3VwUHJvcHMsXG4gICAgICAgICAgICAgIGdhbWVJbmZvUHJvcHMsXG4gICAgICAgICAgICAgIG5vZGVBbm5vdGF0aW9uUHJvcHMsXG4gICAgICAgICAgICAgIG1vdmVBbm5vdGF0aW9uUHJvcHMsXG4gICAgICAgICAgICAgIGN1c3RvbVByb3BzLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnROb2RlKSB7XG4gICAgICAgICAgICAgIHRoaXMuY3VycmVudE5vZGUuYWRkQ2hpbGQobm9kZSk7XG5cbiAgICAgICAgICAgICAgbm9kZS5tb2RlbC5udW1iZXIgPSBnZXROb2RlTnVtYmVyKG5vZGUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy5yb290ID0gbm9kZTtcbiAgICAgICAgICAgICAgdGhpcy5wYXJlbnROb2RlID0gbm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY3VycmVudE5vZGUgPSBub2RlO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5wYXJzZU9wdGlvbnMuZW5hYmxlTm9kZU1hcCkge1xuICAgICAgICAgICAgICB0aGlzLm5vZGVNYXAuc2V0KG5vZGUubW9kZWwuaWQsIG5vZGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5wYXJzZU9wdGlvbnMuZW5hYmxlUGF0aE1hcCkge1xuICAgICAgICAgICAgICBpZiAobm9kZS5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnRQYXRoID0gdGhpcy5wYXRoTWFwLmdldChub2RlLnBhcmVudC5tb2RlbC5pZCk7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudFBhdGgpIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMucGF0aE1hcC5zZXQobm9kZS5tb2RlbC5pZCwgWy4uLnBhcmVudFBhdGgsIG5vZGVdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXRoTWFwLnNldChub2RlLm1vZGVsLmlkLCBbbm9kZV0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvdW50ZXIgKz0gMTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChjID09PSAnKCcgJiYgdGhpcy5jdXJyZW50Tm9kZSAmJiAhaW5zaWRlUHJvcCkge1xuICAgICAgICBzdGFjay5wdXNoKHRoaXMuY3VycmVudE5vZGUpO1xuICAgICAgfVxuICAgICAgaWYgKGMgPT09ICcpJyAmJiAhaW5zaWRlUHJvcCAmJiBzdGFjay5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSBzdGFjay5wb3AoKTtcbiAgICAgICAgaWYgKG5vZGUpIHtcbiAgICAgICAgICB0aGlzLmN1cnJlbnROb2RlID0gbm9kZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5OT0RFX0RFTElNSVRFUlMuaW5jbHVkZXMoYykgJiYgIWluc2lkZVByb3ApIHtcbiAgICAgICAgbm9kZVN0YXJ0ID0gaTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYSBub2RlIHRvIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gbm9kZSAtIFRoZSBub2RlIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIFRoZSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIG5vZGUuXG4gICAqL1xuICBwcml2YXRlIG5vZGVUb1N0cmluZyhub2RlOiBhbnkpIHtcbiAgICBsZXQgY29udGVudCA9ICcnO1xuICAgIG5vZGUud2FsaygobjogVE5vZGUpID0+IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgcm9vdFByb3BzLFxuICAgICAgICBtb3ZlUHJvcHMsXG4gICAgICAgIGN1c3RvbVByb3BzLFxuICAgICAgICBzZXR1cFByb3BzLFxuICAgICAgICBtYXJrdXBQcm9wcyxcbiAgICAgICAgbm9kZUFubm90YXRpb25Qcm9wcyxcbiAgICAgICAgbW92ZUFubm90YXRpb25Qcm9wcyxcbiAgICAgICAgZ2FtZUluZm9Qcm9wcyxcbiAgICAgIH0gPSBuLm1vZGVsO1xuICAgICAgY29uc3Qgbm9kZXMgPSBjb21wYWN0KFtcbiAgICAgICAgLi4ucm9vdFByb3BzLFxuICAgICAgICAuLi5jdXN0b21Qcm9wcyxcbiAgICAgICAgLi4ubW92ZVByb3BzLFxuICAgICAgICAuLi5nZXREZWR1cGxpY2F0ZWRQcm9wcyhzZXR1cFByb3BzKSxcbiAgICAgICAgLi4uZ2V0RGVkdXBsaWNhdGVkUHJvcHMobWFya3VwUHJvcHMpLFxuICAgICAgICAuLi5nYW1lSW5mb1Byb3BzLFxuICAgICAgICAuLi5ub2RlQW5ub3RhdGlvblByb3BzLFxuICAgICAgICAuLi5tb3ZlQW5ub3RhdGlvblByb3BzLFxuICAgICAgXSk7XG4gICAgICBjb250ZW50ICs9ICc7JztcbiAgICAgIG5vZGVzLmZvckVhY2goKG46IFNnZlByb3BCYXNlKSA9PiB7XG4gICAgICAgIGNvbnRlbnQgKz0gbi50b1N0cmluZygpO1xuICAgICAgfSk7XG4gICAgICBpZiAobi5jaGlsZHJlbi5sZW5ndGggPiAxKSB7XG4gICAgICAgIG4uY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQ6IFROb2RlKSA9PiB7XG4gICAgICAgICAgY29udGVudCArPSBgKCR7dGhpcy5ub2RlVG9TdHJpbmcoY2hpbGQpfSlgO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuLmNoaWxkcmVuLmxlbmd0aCA8IDI7XG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH1cbn1cbiIsImltcG9ydCB7VHJlZU1vZGVsLCBUTm9kZX0gZnJvbSAnLi9jb3JlL3RyZWUnO1xuaW1wb3J0IHtjbG9uZURlZXAsIGZsYXR0ZW5EZXB0aCwgY2xvbmUsIHN1bSwgY29tcGFjdCwgc2FtcGxlfSBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHtTZ2ZOb2RlLCBTZ2ZOb2RlT3B0aW9uc30gZnJvbSAnLi9jb3JlL3R5cGVzJztcbmltcG9ydCB7XG4gIGlzTW92ZU5vZGUsXG4gIGlzU2V0dXBOb2RlLFxuICBjYWxjSGFzaCxcbiAgZ2V0Tm9kZU51bWJlcixcbiAgaXNSb290Tm9kZSxcbn0gZnJvbSAnLi9jb3JlL2hlbHBlcnMnO1xuZXhwb3J0IHtpc01vdmVOb2RlLCBpc1NldHVwTm9kZSwgY2FsY0hhc2gsIGdldE5vZGVOdW1iZXIsIGlzUm9vdE5vZGV9O1xuaW1wb3J0IHtcbiAgQTFfTEVUVEVSUyxcbiAgQTFfTlVNQkVSUyxcbiAgU0dGX0xFVFRFUlMsXG4gIE1BWF9CT0FSRF9TSVpFLFxuICBMSUdIVF9HUkVFTl9SR0IsXG4gIExJR0hUX1lFTExPV19SR0IsXG4gIExJR0hUX1JFRF9SR0IsXG4gIFlFTExPV19SR0IsXG4gIERFRkFVTFRfQk9BUkRfU0laRSxcbn0gZnJvbSAnLi9jb25zdCc7XG5pbXBvcnQge1xuICBTZXR1cFByb3AsXG4gIE1vdmVQcm9wLFxuICBDdXN0b21Qcm9wLFxuICBTZ2ZQcm9wQmFzZSxcbiAgTm9kZUFubm90YXRpb25Qcm9wLFxuICBHYW1lSW5mb1Byb3AsXG4gIE1vdmVBbm5vdGF0aW9uUHJvcCxcbiAgUm9vdFByb3AsXG4gIE1hcmt1cFByb3AsXG4gIE1PVkVfUFJPUF9MSVNULFxuICBTRVRVUF9QUk9QX0xJU1QsXG4gIE5PREVfQU5OT1RBVElPTl9QUk9QX0xJU1QsXG4gIE1PVkVfQU5OT1RBVElPTl9QUk9QX0xJU1QsXG4gIE1BUktVUF9QUk9QX0xJU1QsXG4gIFJPT1RfUFJPUF9MSVNULFxuICBHQU1FX0lORk9fUFJPUF9MSVNULFxuICBUSU1JTkdfUFJPUF9MSVNULFxuICBNSVNDRUxMQU5FT1VTX1BST1BfTElTVCxcbiAgQ1VTVE9NX1BST1BfTElTVCxcbn0gZnJvbSAnLi9jb3JlL3Byb3BzJztcbmltcG9ydCB7XG4gIEFuYWx5c2lzLFxuICBHaG9zdEJhbk9wdGlvbnMsXG4gIEtpLFxuICBNb3ZlSW5mbyxcbiAgUHJvYmxlbUFuc3dlclR5cGUgYXMgUEFULFxuICBSb290SW5mbyxcbiAgTWFya3VwLFxuICBQYXRoRGV0ZWN0aW9uU3RyYXRlZ3ksXG59IGZyb20gJy4vdHlwZXMnO1xuXG5pbXBvcnQge0NlbnRlcn0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQge2Nhbk1vdmUsIGV4ZWNDYXB0dXJlfSBmcm9tICcuL2JvYXJkY29yZSc7XG5leHBvcnQge2Nhbk1vdmUsIGV4ZWNDYXB0dXJlfTtcblxuaW1wb3J0IHtTZ2Z9IGZyb20gJy4vY29yZS9zZ2YnO1xuXG50eXBlIFN0cmF0ZWd5ID0gJ3Bvc3QnIHwgJ3ByZScgfCAnYm90aCc7XG5cbmNvbnN0IFNwYXJrTUQ1ID0gcmVxdWlyZSgnc3BhcmstbWQ1Jyk7XG5cbmV4cG9ydCBjb25zdCBjYWxjRG91YnRmdWxNb3Zlc1RocmVzaG9sZFJhbmdlID0gKHRocmVzaG9sZDogbnVtYmVyKSA9PiB7XG4gIC8vIDhELTlEXG4gIGlmICh0aHJlc2hvbGQgPj0gMjUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZXZpbDoge3dpbnJhdGVSYW5nZTogWy0xLCAtMC4xNV0sIHNjb3JlUmFuZ2U6IFstMTAwLCAtM119LFxuICAgICAgYmFkOiB7d2lucmF0ZVJhbmdlOiBbLTAuMTUsIC0wLjFdLCBzY29yZVJhbmdlOiBbLTMsIC0yXX0sXG4gICAgICBwb29yOiB7d2lucmF0ZVJhbmdlOiBbLTAuMSwgLTAuMDVdLCBzY29yZVJhbmdlOiBbLTIsIC0xXX0sXG4gICAgICBvazoge3dpbnJhdGVSYW5nZTogWy0wLjA1LCAtMC4wMl0sIHNjb3JlUmFuZ2U6IFstMSwgLTAuNV19LFxuICAgICAgZ29vZDoge3dpbnJhdGVSYW5nZTogWy0wLjAyLCAwXSwgc2NvcmVSYW5nZTogWzAsIDEwMF19LFxuICAgICAgZ3JlYXQ6IHt3aW5yYXRlUmFuZ2U6IFswLCAxXSwgc2NvcmVSYW5nZTogWzAsIDEwMF19LFxuICAgIH07XG4gIH1cbiAgLy8gNUQtN0RcbiAgaWYgKHRocmVzaG9sZCA+PSAyMyAmJiB0aHJlc2hvbGQgPCAyNSkge1xuICAgIHJldHVybiB7XG4gICAgICBldmlsOiB7d2lucmF0ZVJhbmdlOiBbLTEsIC0wLjJdLCBzY29yZVJhbmdlOiBbLTEwMCwgLThdfSxcbiAgICAgIGJhZDoge3dpbnJhdGVSYW5nZTogWy0wLjIsIC0wLjE1XSwgc2NvcmVSYW5nZTogWy04LCAtNF19LFxuICAgICAgcG9vcjoge3dpbnJhdGVSYW5nZTogWy0wLjE1LCAtMC4wNV0sIHNjb3JlUmFuZ2U6IFstNCwgLTJdfSxcbiAgICAgIG9rOiB7d2lucmF0ZVJhbmdlOiBbLTAuMDUsIC0wLjAyXSwgc2NvcmVSYW5nZTogWy0yLCAtMV19LFxuICAgICAgZ29vZDoge3dpbnJhdGVSYW5nZTogWy0wLjAyLCAwXSwgc2NvcmVSYW5nZTogWzAsIDEwMF19LFxuICAgICAgZ3JlYXQ6IHt3aW5yYXRlUmFuZ2U6IFswLCAxXSwgc2NvcmVSYW5nZTogWzAsIDEwMF19LFxuICAgIH07XG4gIH1cblxuICAvLyAzRC01RFxuICBpZiAodGhyZXNob2xkID49IDIwICYmIHRocmVzaG9sZCA8IDIzKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGV2aWw6IHt3aW5yYXRlUmFuZ2U6IFstMSwgLTAuMjVdLCBzY29yZVJhbmdlOiBbLTEwMCwgLTEyXX0sXG4gICAgICBiYWQ6IHt3aW5yYXRlUmFuZ2U6IFstMC4yNSwgLTAuMV0sIHNjb3JlUmFuZ2U6IFstMTIsIC01XX0sXG4gICAgICBwb29yOiB7d2lucmF0ZVJhbmdlOiBbLTAuMSwgLTAuMDVdLCBzY29yZVJhbmdlOiBbLTUsIC0yXX0sXG4gICAgICBvazoge3dpbnJhdGVSYW5nZTogWy0wLjA1LCAtMC4wMl0sIHNjb3JlUmFuZ2U6IFstMiwgLTFdfSxcbiAgICAgIGdvb2Q6IHt3aW5yYXRlUmFuZ2U6IFstMC4wMiwgMF0sIHNjb3JlUmFuZ2U6IFswLCAxMDBdfSxcbiAgICAgIGdyZWF0OiB7d2lucmF0ZVJhbmdlOiBbMCwgMV0sIHNjb3JlUmFuZ2U6IFswLCAxMDBdfSxcbiAgICB9O1xuICB9XG4gIC8vIDFELTNEXG4gIGlmICh0aHJlc2hvbGQgPj0gMTggJiYgdGhyZXNob2xkIDwgMjApIHtcbiAgICByZXR1cm4ge1xuICAgICAgZXZpbDoge3dpbnJhdGVSYW5nZTogWy0xLCAtMC4zXSwgc2NvcmVSYW5nZTogWy0xMDAsIC0xNV19LFxuICAgICAgYmFkOiB7d2lucmF0ZVJhbmdlOiBbLTAuMywgLTAuMV0sIHNjb3JlUmFuZ2U6IFstMTUsIC03XX0sXG4gICAgICBwb29yOiB7d2lucmF0ZVJhbmdlOiBbLTAuMSwgLTAuMDVdLCBzY29yZVJhbmdlOiBbLTcsIC01XX0sXG4gICAgICBvazoge3dpbnJhdGVSYW5nZTogWy0wLjA1LCAtMC4wMl0sIHNjb3JlUmFuZ2U6IFstNSwgLTFdfSxcbiAgICAgIGdvb2Q6IHt3aW5yYXRlUmFuZ2U6IFstMC4wMiwgMF0sIHNjb3JlUmFuZ2U6IFswLCAxMDBdfSxcbiAgICAgIGdyZWF0OiB7d2lucmF0ZVJhbmdlOiBbMCwgMV0sIHNjb3JlUmFuZ2U6IFswLCAxMDBdfSxcbiAgICB9O1xuICB9XG4gIC8vIDVLLTFLXG4gIGlmICh0aHJlc2hvbGQgPj0gMTMgJiYgdGhyZXNob2xkIDwgMTgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZXZpbDoge3dpbnJhdGVSYW5nZTogWy0xLCAtMC4zNV0sIHNjb3JlUmFuZ2U6IFstMTAwLCAtMjBdfSxcbiAgICAgIGJhZDoge3dpbnJhdGVSYW5nZTogWy0wLjM1LCAtMC4xMl0sIHNjb3JlUmFuZ2U6IFstMjAsIC0xMF19LFxuICAgICAgcG9vcjoge3dpbnJhdGVSYW5nZTogWy0wLjEyLCAtMC4wOF0sIHNjb3JlUmFuZ2U6IFstMTAsIC01XX0sXG4gICAgICBvazoge3dpbnJhdGVSYW5nZTogWy0wLjA4LCAtMC4wMl0sIHNjb3JlUmFuZ2U6IFstNSwgLTFdfSxcbiAgICAgIGdvb2Q6IHt3aW5yYXRlUmFuZ2U6IFstMC4wMiwgMF0sIHNjb3JlUmFuZ2U6IFswLCAxMDBdfSxcbiAgICAgIGdyZWF0OiB7d2lucmF0ZVJhbmdlOiBbMCwgMV0sIHNjb3JlUmFuZ2U6IFswLCAxMDBdfSxcbiAgICB9O1xuICB9XG4gIC8vIDVLLTEwS1xuICBpZiAodGhyZXNob2xkID49IDggJiYgdGhyZXNob2xkIDwgMTMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZXZpbDoge3dpbnJhdGVSYW5nZTogWy0xLCAtMC40XSwgc2NvcmVSYW5nZTogWy0xMDAsIC0yNV19LFxuICAgICAgYmFkOiB7d2lucmF0ZVJhbmdlOiBbLTAuNCwgLTAuMTVdLCBzY29yZVJhbmdlOiBbLTI1LCAtMTBdfSxcbiAgICAgIHBvb3I6IHt3aW5yYXRlUmFuZ2U6IFstMC4xNSwgLTAuMV0sIHNjb3JlUmFuZ2U6IFstMTAsIC01XX0sXG4gICAgICBvazoge3dpbnJhdGVSYW5nZTogWy0wLjEsIC0wLjAyXSwgc2NvcmVSYW5nZTogWy01LCAtMV19LFxuICAgICAgZ29vZDoge3dpbnJhdGVSYW5nZTogWy0wLjAyLCAwXSwgc2NvcmVSYW5nZTogWzAsIDEwMF19LFxuICAgICAgZ3JlYXQ6IHt3aW5yYXRlUmFuZ2U6IFswLCAxXSwgc2NvcmVSYW5nZTogWzAsIDEwMF19LFxuICAgIH07XG4gIH1cbiAgLy8gMThLLTEwS1xuICBpZiAodGhyZXNob2xkID49IDAgJiYgdGhyZXNob2xkIDwgOCkge1xuICAgIHJldHVybiB7XG4gICAgICBldmlsOiB7d2lucmF0ZVJhbmdlOiBbLTEsIC0wLjQ1XSwgc2NvcmVSYW5nZTogWy0xMDAsIC0zNV19LFxuICAgICAgYmFkOiB7d2lucmF0ZVJhbmdlOiBbLTAuNDUsIC0wLjJdLCBzY29yZVJhbmdlOiBbLTM1LCAtMjBdfSxcbiAgICAgIHBvb3I6IHt3aW5yYXRlUmFuZ2U6IFstMC4yLCAtMC4xXSwgc2NvcmVSYW5nZTogWy0yMCwgLTEwXX0sXG4gICAgICBvazoge3dpbnJhdGVSYW5nZTogWy0wLjEsIC0wLjAyXSwgc2NvcmVSYW5nZTogWy0xMCwgLTFdfSxcbiAgICAgIGdvb2Q6IHt3aW5yYXRlUmFuZ2U6IFstMC4wMiwgMF0sIHNjb3JlUmFuZ2U6IFswLCAxMDBdfSxcbiAgICAgIGdyZWF0OiB7d2lucmF0ZVJhbmdlOiBbMCwgMV0sIHNjb3JlUmFuZ2U6IFswLCAxMDBdfSxcbiAgICB9O1xuICB9XG4gIHJldHVybiB7XG4gICAgZXZpbDoge3dpbnJhdGVSYW5nZTogWy0xLCAtMC4zXSwgc2NvcmVSYW5nZTogWy0xMDAsIC0zMF19LFxuICAgIGJhZDoge3dpbnJhdGVSYW5nZTogWy0wLjMsIC0wLjJdLCBzY29yZVJhbmdlOiBbLTMwLCAtMjBdfSxcbiAgICBwb29yOiB7d2lucmF0ZVJhbmdlOiBbLTAuMiwgLTAuMV0sIHNjb3JlUmFuZ2U6IFstMjAsIC0xMF19LFxuICAgIG9rOiB7d2lucmF0ZVJhbmdlOiBbLTAuMSwgLTAuMDJdLCBzY29yZVJhbmdlOiBbLTEwLCAtMV19LFxuICAgIGdvb2Q6IHt3aW5yYXRlUmFuZ2U6IFstMC4wMiwgMF0sIHNjb3JlUmFuZ2U6IFswLCAxMDBdfSxcbiAgICBncmVhdDoge3dpbnJhdGVSYW5nZTogWzAsIDFdLCBzY29yZVJhbmdlOiBbMCwgMTAwXX0sXG4gIH07XG59O1xuXG5leHBvcnQgY29uc3Qgcm91bmQyID0gKHY6IG51bWJlciwgc2NhbGUgPSAxLCBmaXhlZCA9IDIpID0+IHtcbiAgcmV0dXJuICgoTWF0aC5yb3VuZCh2ICogMTAwKSAvIDEwMCkgKiBzY2FsZSkudG9GaXhlZChmaXhlZCk7XG59O1xuXG5leHBvcnQgY29uc3Qgcm91bmQzID0gKHY6IG51bWJlciwgc2NhbGUgPSAxLCBmaXhlZCA9IDMpID0+IHtcbiAgcmV0dXJuICgoTWF0aC5yb3VuZCh2ICogMTAwMCkgLyAxMDAwKSAqIHNjYWxlKS50b0ZpeGVkKGZpeGVkKTtcbn07XG5cbmV4cG9ydCBjb25zdCBpc0Fuc3dlck5vZGUgPSAobjogVE5vZGUsIGtpbmQ6IFBBVCkgPT4ge1xuICBjb25zdCBwYXQgPSBuLm1vZGVsLmN1c3RvbVByb3BzPy5maW5kKChwOiBDdXN0b21Qcm9wKSA9PiBwLnRva2VuID09PSAnUEFUJyk7XG4gIHJldHVybiBwYXQ/LnZhbHVlID09PSBraW5kO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzQ2hvaWNlTm9kZSA9IChuOiBUTm9kZSkgPT4ge1xuICBjb25zdCBjID0gbi5tb2RlbC5ub2RlQW5ub3RhdGlvblByb3BzPy5maW5kKFxuICAgIChwOiBOb2RlQW5ub3RhdGlvblByb3ApID0+IHAudG9rZW4gPT09ICdDJ1xuICApO1xuICByZXR1cm4gISFjPy52YWx1ZS5pbmNsdWRlcygnQ0hPSUNFJyk7XG59O1xuXG5leHBvcnQgY29uc3QgaXNUYXJnZXROb2RlID0gaXNDaG9pY2VOb2RlO1xuXG5leHBvcnQgY29uc3QgaXNGb3JjZU5vZGUgPSAobjogVE5vZGUpID0+IHtcbiAgY29uc3QgYyA9IG4ubW9kZWwubm9kZUFubm90YXRpb25Qcm9wcz8uZmluZChcbiAgICAocDogTm9kZUFubm90YXRpb25Qcm9wKSA9PiBwLnRva2VuID09PSAnQydcbiAgKTtcbiAgcmV0dXJuIGM/LnZhbHVlLmluY2x1ZGVzKCdGT1JDRScpO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzUHJldmVudE1vdmVOb2RlID0gKG46IFROb2RlKSA9PiB7XG4gIGNvbnN0IGMgPSBuLm1vZGVsLm5vZGVBbm5vdGF0aW9uUHJvcHM/LmZpbmQoXG4gICAgKHA6IE5vZGVBbm5vdGF0aW9uUHJvcCkgPT4gcC50b2tlbiA9PT0gJ0MnXG4gICk7XG4gIHJldHVybiBjPy52YWx1ZS5pbmNsdWRlcygnTk9UVEhJUycpO1xufTtcblxuLy8gZXhwb3J0IGNvbnN0IGlzUmlnaHRMZWFmID0gKG46IFROb2RlKSA9PiB7XG4vLyAgIHJldHVybiBpc1JpZ2h0Tm9kZShuKSAmJiAhbi5oYXNDaGlsZHJlbigpO1xuLy8gfTtcblxuZXhwb3J0IGNvbnN0IGlzUmlnaHROb2RlID0gKG46IFROb2RlKSA9PiB7XG4gIGNvbnN0IGMgPSBuLm1vZGVsLm5vZGVBbm5vdGF0aW9uUHJvcHM/LmZpbmQoXG4gICAgKHA6IE5vZGVBbm5vdGF0aW9uUHJvcCkgPT4gcC50b2tlbiA9PT0gJ0MnXG4gICk7XG4gIHJldHVybiAhIWM/LnZhbHVlLmluY2x1ZGVzKCdSSUdIVCcpO1xufTtcblxuLy8gZXhwb3J0IGNvbnN0IGlzRmlyc3RSaWdodExlYWYgPSAobjogVE5vZGUpID0+IHtcbi8vICAgY29uc3Qgcm9vdCA9IG4uZ2V0UGF0aCgpWzBdO1xuLy8gICBjb25zdCBmaXJzdFJpZ2h0TGVhdmUgPSByb290LmZpcnN0KChuOiBUTm9kZSkgPT5cbi8vICAgICBpc1JpZ2h0TGVhZihuKVxuLy8gICApO1xuLy8gICByZXR1cm4gZmlyc3RSaWdodExlYXZlPy5tb2RlbC5pZCA9PT0gbi5tb2RlbC5pZDtcbi8vIH07XG5cbmV4cG9ydCBjb25zdCBpc0ZpcnN0UmlnaHROb2RlID0gKG46IFROb2RlKSA9PiB7XG4gIGNvbnN0IHJvb3QgPSBuLmdldFBhdGgoKVswXTtcbiAgY29uc3QgZmlyc3RSaWdodE5vZGUgPSByb290LmZpcnN0KG4gPT4gaXNSaWdodE5vZGUobikpO1xuICByZXR1cm4gZmlyc3RSaWdodE5vZGU/Lm1vZGVsLmlkID09PSBuLm1vZGVsLmlkO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzVmFyaWFudE5vZGUgPSAobjogVE5vZGUpID0+IHtcbiAgY29uc3QgYyA9IG4ubW9kZWwubm9kZUFubm90YXRpb25Qcm9wcz8uZmluZChcbiAgICAocDogTm9kZUFubm90YXRpb25Qcm9wKSA9PiBwLnRva2VuID09PSAnQydcbiAgKTtcbiAgcmV0dXJuICEhYz8udmFsdWUuaW5jbHVkZXMoJ1ZBUklBTlQnKTtcbn07XG5cbi8vIGV4cG9ydCBjb25zdCBpc1ZhcmlhbnRMZWFmID0gKG46IFROb2RlKSA9PiB7XG4vLyAgIHJldHVybiBpc1ZhcmlhbnROb2RlKG4pICYmICFuLmhhc0NoaWxkcmVuKCk7XG4vLyB9O1xuXG5leHBvcnQgY29uc3QgaXNXcm9uZ05vZGUgPSAobjogVE5vZGUpID0+IHtcbiAgY29uc3QgYyA9IG4ubW9kZWwubm9kZUFubm90YXRpb25Qcm9wcz8uZmluZChcbiAgICAocDogTm9kZUFubm90YXRpb25Qcm9wKSA9PiBwLnRva2VuID09PSAnQydcbiAgKTtcbiAgcmV0dXJuICghYz8udmFsdWUuaW5jbHVkZXMoJ1ZBUklBTlQnKSAmJiAhYz8udmFsdWUuaW5jbHVkZXMoJ1JJR0hUJykpIHx8ICFjO1xufTtcblxuLy8gZXhwb3J0IGNvbnN0IGlzV3JvbmdMZWFmID0gKG46IFROb2RlKSA9PiB7XG4vLyAgIHJldHVybiBpc1dyb25nTm9kZShuKSAmJiAhbi5oYXNDaGlsZHJlbigpO1xuLy8gfTtcblxuZXhwb3J0IGNvbnN0IGluUGF0aCA9IChcbiAgbm9kZTogVE5vZGUsXG4gIGRldGVjdGlvbk1ldGhvZDogKG46IFROb2RlKSA9PiBib29sZWFuLFxuICBzdHJhdGVneTogUGF0aERldGVjdGlvblN0cmF0ZWd5ID0gUGF0aERldGVjdGlvblN0cmF0ZWd5LlBvc3QsXG4gIHByZU5vZGVzPzogVE5vZGVbXSxcbiAgcG9zdE5vZGVzPzogVE5vZGVbXVxuKSA9PiB7XG4gIGNvbnN0IHBhdGggPSBwcmVOb2RlcyA/PyBub2RlLmdldFBhdGgoKTtcbiAgY29uc3QgcG9zdFJpZ2h0Tm9kZXMgPVxuICAgIHBvc3ROb2Rlcz8uZmlsdGVyKChuOiBUTm9kZSkgPT4gZGV0ZWN0aW9uTWV0aG9kKG4pKSA/P1xuICAgIG5vZGUuYWxsKChuOiBUTm9kZSkgPT4gZGV0ZWN0aW9uTWV0aG9kKG4pKTtcbiAgY29uc3QgcHJlUmlnaHROb2RlcyA9IHBhdGguZmlsdGVyKChuOiBUTm9kZSkgPT4gZGV0ZWN0aW9uTWV0aG9kKG4pKTtcblxuICBzd2l0Y2ggKHN0cmF0ZWd5KSB7XG4gICAgY2FzZSBQYXRoRGV0ZWN0aW9uU3RyYXRlZ3kuUG9zdDpcbiAgICAgIHJldHVybiBwb3N0UmlnaHROb2Rlcy5sZW5ndGggPiAwO1xuICAgIGNhc2UgUGF0aERldGVjdGlvblN0cmF0ZWd5LlByZTpcbiAgICAgIHJldHVybiBwcmVSaWdodE5vZGVzLmxlbmd0aCA+IDA7XG4gICAgY2FzZSBQYXRoRGV0ZWN0aW9uU3RyYXRlZ3kuQm90aDpcbiAgICAgIHJldHVybiBwcmVSaWdodE5vZGVzLmxlbmd0aCA+IDAgfHwgcG9zdFJpZ2h0Tm9kZXMubGVuZ3RoID4gMDtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgaW5SaWdodFBhdGggPSAoXG4gIG5vZGU6IFROb2RlLFxuICBzdHJhdGVneTogUGF0aERldGVjdGlvblN0cmF0ZWd5ID0gUGF0aERldGVjdGlvblN0cmF0ZWd5LlBvc3QsXG4gIHByZU5vZGVzPzogVE5vZGVbXSB8IHVuZGVmaW5lZCxcbiAgcG9zdE5vZGVzPzogVE5vZGVbXSB8IHVuZGVmaW5lZFxuKSA9PiB7XG4gIHJldHVybiBpblBhdGgobm9kZSwgaXNSaWdodE5vZGUsIHN0cmF0ZWd5LCBwcmVOb2RlcywgcG9zdE5vZGVzKTtcbn07XG5cbmV4cG9ydCBjb25zdCBpbkZpcnN0UmlnaHRQYXRoID0gKFxuICBub2RlOiBUTm9kZSxcbiAgc3RyYXRlZ3k6IFBhdGhEZXRlY3Rpb25TdHJhdGVneSA9IFBhdGhEZXRlY3Rpb25TdHJhdGVneS5Qb3N0LFxuICBwcmVOb2Rlcz86IFROb2RlW10gfCB1bmRlZmluZWQsXG4gIHBvc3ROb2Rlcz86IFROb2RlW10gfCB1bmRlZmluZWRcbik6IGJvb2xlYW4gPT4ge1xuICByZXR1cm4gaW5QYXRoKG5vZGUsIGlzRmlyc3RSaWdodE5vZGUsIHN0cmF0ZWd5LCBwcmVOb2RlcywgcG9zdE5vZGVzKTtcbn07XG5cbmV4cG9ydCBjb25zdCBpbkZpcnN0QnJhbmNoUmlnaHRQYXRoID0gKFxuICBub2RlOiBUTm9kZSxcbiAgc3RyYXRlZ3k6IFBhdGhEZXRlY3Rpb25TdHJhdGVneSA9IFBhdGhEZXRlY3Rpb25TdHJhdGVneS5QcmUsXG4gIHByZU5vZGVzPzogVE5vZGVbXSB8IHVuZGVmaW5lZCxcbiAgcG9zdE5vZGVzPzogVE5vZGVbXSB8IHVuZGVmaW5lZFxuKTogYm9vbGVhbiA9PiB7XG4gIGlmICghaW5SaWdodFBhdGgobm9kZSkpIHJldHVybiBmYWxzZTtcblxuICBjb25zdCBwYXRoID0gcHJlTm9kZXMgPz8gbm9kZS5nZXRQYXRoKCk7XG4gIGNvbnN0IHBvc3RSaWdodE5vZGVzID0gcG9zdE5vZGVzID8/IG5vZGUuYWxsKCgpID0+IHRydWUpO1xuXG4gIGxldCByZXN1bHQgPSBbXTtcbiAgc3dpdGNoIChzdHJhdGVneSkge1xuICAgIGNhc2UgUGF0aERldGVjdGlvblN0cmF0ZWd5LlBvc3Q6XG4gICAgICByZXN1bHQgPSBwb3N0UmlnaHROb2Rlcy5maWx0ZXIobiA9PiBuLmdldEluZGV4KCkgPiAwKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgUGF0aERldGVjdGlvblN0cmF0ZWd5LlByZTpcbiAgICAgIHJlc3VsdCA9IHBhdGguZmlsdGVyKG4gPT4gbi5nZXRJbmRleCgpID4gMCk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFBhdGhEZXRlY3Rpb25TdHJhdGVneS5Cb3RoOlxuICAgICAgcmVzdWx0ID0gcGF0aC5jb25jYXQocG9zdFJpZ2h0Tm9kZXMpLmZpbHRlcihuID0+IG4uZ2V0SW5kZXgoKSA+IDApO1xuICAgICAgYnJlYWs7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0Lmxlbmd0aCA9PT0gMDtcbn07XG5cbmV4cG9ydCBjb25zdCBpbkNob2ljZVBhdGggPSAoXG4gIG5vZGU6IFROb2RlLFxuICBzdHJhdGVneTogUGF0aERldGVjdGlvblN0cmF0ZWd5ID0gUGF0aERldGVjdGlvblN0cmF0ZWd5LlBvc3QsXG4gIHByZU5vZGVzPzogVE5vZGVbXSB8IHVuZGVmaW5lZCxcbiAgcG9zdE5vZGVzPzogVE5vZGVbXSB8IHVuZGVmaW5lZFxuKTogYm9vbGVhbiA9PiB7XG4gIHJldHVybiBpblBhdGgobm9kZSwgaXNDaG9pY2VOb2RlLCBzdHJhdGVneSwgcHJlTm9kZXMsIHBvc3ROb2Rlcyk7XG59O1xuXG5leHBvcnQgY29uc3QgaW5UYXJnZXRQYXRoID0gaW5DaG9pY2VQYXRoO1xuXG5leHBvcnQgY29uc3QgaW5WYXJpYW50UGF0aCA9IChcbiAgbm9kZTogVE5vZGUsXG4gIHN0cmF0ZWd5OiBQYXRoRGV0ZWN0aW9uU3RyYXRlZ3kgPSBQYXRoRGV0ZWN0aW9uU3RyYXRlZ3kuUG9zdCxcbiAgcHJlTm9kZXM/OiBUTm9kZVtdIHwgdW5kZWZpbmVkLFxuICBwb3N0Tm9kZXM/OiBUTm9kZVtdIHwgdW5kZWZpbmVkXG4pOiBib29sZWFuID0+IHtcbiAgcmV0dXJuIGluUGF0aChub2RlLCBpc1ZhcmlhbnROb2RlLCBzdHJhdGVneSwgcHJlTm9kZXMsIHBvc3ROb2Rlcyk7XG59O1xuXG5leHBvcnQgY29uc3QgaW5Xcm9uZ1BhdGggPSAoXG4gIG5vZGU6IFROb2RlLFxuICBzdHJhdGVneTogUGF0aERldGVjdGlvblN0cmF0ZWd5ID0gUGF0aERldGVjdGlvblN0cmF0ZWd5LlBvc3QsXG4gIHByZU5vZGVzPzogVE5vZGVbXSB8IHVuZGVmaW5lZCxcbiAgcG9zdE5vZGVzPzogVE5vZGVbXSB8IHVuZGVmaW5lZFxuKTogYm9vbGVhbiA9PiB7XG4gIHJldHVybiBpblBhdGgobm9kZSwgaXNXcm9uZ05vZGUsIHN0cmF0ZWd5LCBwcmVOb2RlcywgcG9zdE5vZGVzKTtcbn07XG5cbmV4cG9ydCBjb25zdCBuRm9ybWF0dGVyID0gKG51bTogbnVtYmVyLCBmaXhlZCA9IDEpID0+IHtcbiAgY29uc3QgbG9va3VwID0gW1xuICAgIHt2YWx1ZTogMSwgc3ltYm9sOiAnJ30sXG4gICAge3ZhbHVlOiAxZTMsIHN5bWJvbDogJ2snfSxcbiAgICB7dmFsdWU6IDFlNiwgc3ltYm9sOiAnTSd9LFxuICAgIHt2YWx1ZTogMWU5LCBzeW1ib2w6ICdHJ30sXG4gICAge3ZhbHVlOiAxZTEyLCBzeW1ib2w6ICdUJ30sXG4gICAge3ZhbHVlOiAxZTE1LCBzeW1ib2w6ICdQJ30sXG4gICAge3ZhbHVlOiAxZTE4LCBzeW1ib2w6ICdFJ30sXG4gIF07XG4gIGNvbnN0IHJ4ID0gL1xcLjArJHwoXFwuWzAtOV0qWzEtOV0pMCskLztcbiAgY29uc3QgaXRlbSA9IGxvb2t1cFxuICAgIC5zbGljZSgpXG4gICAgLnJldmVyc2UoKVxuICAgIC5maW5kKGl0ZW0gPT4ge1xuICAgICAgcmV0dXJuIG51bSA+PSBpdGVtLnZhbHVlO1xuICAgIH0pO1xuICByZXR1cm4gaXRlbVxuICAgID8gKG51bSAvIGl0ZW0udmFsdWUpLnRvRml4ZWQoZml4ZWQpLnJlcGxhY2UocngsICckMScpICsgaXRlbS5zeW1ib2xcbiAgICA6ICcwJztcbn07XG5cbmV4cG9ydCBjb25zdCBwYXRoVG9JbmRleGVzID0gKHBhdGg6IFROb2RlW10pOiBzdHJpbmdbXSA9PiB7XG4gIHJldHVybiBwYXRoLm1hcChuID0+IG4ubW9kZWwuaWQpO1xufTtcblxuZXhwb3J0IGNvbnN0IHBhdGhUb0luaXRpYWxTdG9uZXMgPSAoXG4gIHBhdGg6IFROb2RlW10sXG4gIHhPZmZzZXQgPSAwLFxuICB5T2Zmc2V0ID0gMFxuKTogc3RyaW5nW10gPT4ge1xuICBjb25zdCBpbml0cyA9IHBhdGhcbiAgICAuZmlsdGVyKG4gPT4gbi5tb2RlbC5zZXR1cFByb3BzLmxlbmd0aCA+IDApXG4gICAgLm1hcChuID0+IHtcbiAgICAgIHJldHVybiBuLm1vZGVsLnNldHVwUHJvcHMubWFwKChzZXR1cDogU2V0dXBQcm9wKSA9PiB7XG4gICAgICAgIHJldHVybiBzZXR1cC52YWx1ZXMubWFwKCh2OiBzdHJpbmcpID0+IHtcbiAgICAgICAgICBjb25zdCBhID0gQTFfTEVUVEVSU1tTR0ZfTEVUVEVSUy5pbmRleE9mKHZbMF0pICsgeE9mZnNldF07XG4gICAgICAgICAgY29uc3QgYiA9IEExX05VTUJFUlNbU0dGX0xFVFRFUlMuaW5kZXhPZih2WzFdKSArIHlPZmZzZXRdO1xuICAgICAgICAgIGNvbnN0IHRva2VuID0gc2V0dXAudG9rZW4gPT09ICdBQicgPyAnQicgOiAnVyc7XG4gICAgICAgICAgcmV0dXJuIFt0b2tlbiwgYSArIGJdO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICByZXR1cm4gZmxhdHRlbkRlcHRoKGluaXRzWzBdLCAxKTtcbn07XG5cbmV4cG9ydCBjb25zdCBwYXRoVG9BaU1vdmVzID0gKHBhdGg6IFROb2RlW10sIHhPZmZzZXQgPSAwLCB5T2Zmc2V0ID0gMCkgPT4ge1xuICBjb25zdCBtb3ZlcyA9IHBhdGhcbiAgICAuZmlsdGVyKG4gPT4gbi5tb2RlbC5tb3ZlUHJvcHMubGVuZ3RoID4gMClcbiAgICAubWFwKG4gPT4ge1xuICAgICAgY29uc3QgcHJvcCA9IG4ubW9kZWwubW92ZVByb3BzWzBdO1xuICAgICAgY29uc3QgYSA9IEExX0xFVFRFUlNbU0dGX0xFVFRFUlMuaW5kZXhPZihwcm9wLnZhbHVlWzBdKSArIHhPZmZzZXRdO1xuICAgICAgY29uc3QgYiA9IEExX05VTUJFUlNbU0dGX0xFVFRFUlMuaW5kZXhPZihwcm9wLnZhbHVlWzFdKSArIHlPZmZzZXRdO1xuICAgICAgcmV0dXJuIFtwcm9wLnRva2VuLCBhICsgYl07XG4gICAgfSk7XG4gIHJldHVybiBtb3Zlcztcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRJbmRleEZyb21BbmFseXNpcyA9IChhOiBBbmFseXNpcykgPT4ge1xuICBpZiAoL2luZGV4ZXMvLnRlc3QoYS5pZCkpIHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShhLmlkKS5pbmRleGVzWzBdO1xuICB9XG4gIHJldHVybiAnJztcbn07XG5cbmV4cG9ydCBjb25zdCBpc01haW5QYXRoID0gKG5vZGU6IFROb2RlKSA9PiB7XG4gIHJldHVybiBzdW0obm9kZS5nZXRQYXRoKCkubWFwKG4gPT4gbi5nZXRJbmRleCgpKSkgPT09IDA7XG59O1xuXG5leHBvcnQgY29uc3Qgc2dmVG9Qb3MgPSAoc3RyOiBzdHJpbmcpID0+IHtcbiAgY29uc3Qga2kgPSBzdHJbMF0gPT09ICdCJyA/IDEgOiAtMTtcbiAgY29uc3QgdGVtcFN0ciA9IC9cXFsoLiopXFxdLy5leGVjKHN0cik7XG4gIGlmICh0ZW1wU3RyKSB7XG4gICAgY29uc3QgcG9zID0gdGVtcFN0clsxXTtcbiAgICBjb25zdCB4ID0gU0dGX0xFVFRFUlMuaW5kZXhPZihwb3NbMF0pO1xuICAgIGNvbnN0IHkgPSBTR0ZfTEVUVEVSUy5pbmRleE9mKHBvc1sxXSk7XG4gICAgcmV0dXJuIHt4LCB5LCBraX07XG4gIH1cbiAgcmV0dXJuIHt4OiAtMSwgeTogLTEsIGtpOiAwfTtcbn07XG5cbmV4cG9ydCBjb25zdCBzZ2ZUb0ExID0gKHN0cjogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IHt4LCB5fSA9IHNnZlRvUG9zKHN0cik7XG4gIHJldHVybiBBMV9MRVRURVJTW3hdICsgQTFfTlVNQkVSU1t5XTtcbn07XG5cbmV4cG9ydCBjb25zdCBhMVRvUG9zID0gKG1vdmU6IHN0cmluZykgPT4ge1xuICBjb25zdCB4ID0gQTFfTEVUVEVSUy5pbmRleE9mKG1vdmVbMF0pO1xuICBjb25zdCB5ID0gQTFfTlVNQkVSUy5pbmRleE9mKHBhcnNlSW50KG1vdmUuc3Vic3RyKDEpLCAwKSk7XG4gIHJldHVybiB7eCwgeX07XG59O1xuXG5leHBvcnQgY29uc3QgYTFUb0luZGV4ID0gKG1vdmU6IHN0cmluZywgYm9hcmRTaXplID0gMTkpID0+IHtcbiAgY29uc3QgeCA9IEExX0xFVFRFUlMuaW5kZXhPZihtb3ZlWzBdKTtcbiAgY29uc3QgeSA9IEExX05VTUJFUlMuaW5kZXhPZihwYXJzZUludChtb3ZlLnN1YnN0cigxKSwgMCkpO1xuICByZXR1cm4geCAqIGJvYXJkU2l6ZSArIHk7XG59O1xuXG5leHBvcnQgY29uc3Qgc2dmT2Zmc2V0ID0gKHNnZjogYW55LCBvZmZzZXQgPSAwKSA9PiB7XG4gIGlmIChvZmZzZXQgPT09IDApIHJldHVybiBzZ2Y7XG4gIGNvbnN0IHJlcyA9IGNsb25lKHNnZik7XG4gIGNvbnN0IGNoYXJJbmRleCA9IFNHRl9MRVRURVJTLmluZGV4T2Yoc2dmWzJdKSAtIG9mZnNldDtcbiAgcmV0dXJuIHJlcy5zdWJzdHIoMCwgMikgKyBTR0ZfTEVUVEVSU1tjaGFySW5kZXhdICsgcmVzLnN1YnN0cigyICsgMSk7XG59O1xuXG5leHBvcnQgY29uc3QgYTFUb1NHRiA9IChzdHI6IGFueSwgdHlwZSA9ICdCJywgb2Zmc2V0WCA9IDAsIG9mZnNldFkgPSAwKSA9PiB7XG4gIGlmIChzdHIgPT09ICdwYXNzJykgcmV0dXJuIGAke3R5cGV9W11gO1xuICBjb25zdCBpbnggPSBBMV9MRVRURVJTLmluZGV4T2Yoc3RyWzBdKSArIG9mZnNldFg7XG4gIGNvbnN0IGlueSA9IEExX05VTUJFUlMuaW5kZXhPZihwYXJzZUludChzdHIuc3Vic3RyKDEpLCAwKSkgKyBvZmZzZXRZO1xuICBjb25zdCBzZ2YgPSBgJHt0eXBlfVske1NHRl9MRVRURVJTW2lueF19JHtTR0ZfTEVUVEVSU1tpbnldfV1gO1xuICByZXR1cm4gc2dmO1xufTtcblxuZXhwb3J0IGNvbnN0IHBvc1RvU2dmID0gKHg6IG51bWJlciwgeTogbnVtYmVyLCBraTogbnVtYmVyKSA9PiB7XG4gIGNvbnN0IGF4ID0gU0dGX0xFVFRFUlNbeF07XG4gIGNvbnN0IGF5ID0gU0dGX0xFVFRFUlNbeV07XG4gIGlmIChraSA9PT0gS2kuRW1wdHkpIHJldHVybiAnJztcbiAgaWYgKGtpID09PSBLaS5XaGl0ZSkgcmV0dXJuIGBCWyR7YXh9JHtheX1dYDtcbiAgaWYgKGtpID09PSBLaS5CbGFjaykgcmV0dXJuIGBXWyR7YXh9JHtheX1dYDtcbiAgcmV0dXJuICcnO1xufTtcblxuZXhwb3J0IGNvbnN0IG1hdFRvUG9zaXRpb24gPSAoXG4gIG1hdDogbnVtYmVyW11bXSxcbiAgeE9mZnNldD86IG51bWJlcixcbiAgeU9mZnNldD86IG51bWJlclxuKSA9PiB7XG4gIGxldCByZXN1bHQgPSAnJztcbiAgeE9mZnNldCA9IHhPZmZzZXQgPz8gMDtcbiAgeU9mZnNldCA9IHlPZmZzZXQgPz8gREVGQVVMVF9CT0FSRF9TSVpFIC0gbWF0Lmxlbmd0aDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXQubGVuZ3RoOyBpKyspIHtcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IG1hdFtpXS5sZW5ndGg7IGorKykge1xuICAgICAgY29uc3QgdmFsdWUgPSBtYXRbaV1bal07XG4gICAgICBpZiAodmFsdWUgIT09IDApIHtcbiAgICAgICAgY29uc3QgeCA9IEExX0xFVFRFUlNbaSArIHhPZmZzZXRdO1xuICAgICAgICBjb25zdCB5ID0gQTFfTlVNQkVSU1tqICsgeU9mZnNldF07XG4gICAgICAgIGNvbnN0IGNvbG9yID0gdmFsdWUgPT09IDEgPyAnYicgOiAndyc7XG4gICAgICAgIHJlc3VsdCArPSBgJHtjb2xvcn0gJHt4fSR7eX0gYDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbmV4cG9ydCBjb25zdCBtYXRUb0xpc3RPZlR1cGxlcyA9IChcbiAgbWF0OiBudW1iZXJbXVtdLFxuICB4T2Zmc2V0ID0gMCxcbiAgeU9mZnNldCA9IDBcbikgPT4ge1xuICBjb25zdCByZXN1bHRzID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbWF0Lmxlbmd0aDsgaSsrKSB7XG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCBtYXRbaV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gbWF0W2ldW2pdO1xuICAgICAgaWYgKHZhbHVlICE9PSAwKSB7XG4gICAgICAgIGNvbnN0IHggPSBBMV9MRVRURVJTW2kgKyB4T2Zmc2V0XTtcbiAgICAgICAgY29uc3QgeSA9IEExX05VTUJFUlNbaiArIHlPZmZzZXRdO1xuICAgICAgICBjb25zdCBjb2xvciA9IHZhbHVlID09PSAxID8gJ0InIDogJ1cnO1xuICAgICAgICByZXN1bHRzLnB1c2goW2NvbG9yLCB4ICsgeV0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0cztcbn07XG5cbmV4cG9ydCBjb25zdCBjb252ZXJ0U3RvbmVUeXBlVG9TdHJpbmcgPSAodHlwZTogYW55KSA9PiAodHlwZSA9PT0gMSA/ICdCJyA6ICdXJyk7XG5cbmV4cG9ydCBjb25zdCBjb252ZXJ0U3RlcHNGb3JBSSA9IChzdGVwczogYW55LCBvZmZzZXQgPSAwKSA9PiB7XG4gIGxldCByZXMgPSBjbG9uZShzdGVwcyk7XG4gIHJlcyA9IHJlcy5tYXAoKHM6IGFueSkgPT4gc2dmT2Zmc2V0KHMsIG9mZnNldCkpO1xuICBjb25zdCBoZWFkZXIgPSBgKDtGRls0XUdNWzFdU1pbJHtcbiAgICAxOSAtIG9mZnNldFxuICB9XUdOWzIyNl1QQltCbGFja11IQVswXVBXW1doaXRlXUtNWzcuNV1EVFsyMDE3LTA4LTAxXVRNWzE4MDBdUlVbQ2hpbmVzZV1DUFtDb3B5cmlnaHQgZ2hvc3QtZ28uY29tXUFQW2dob3N0LWdvLmNvbV1QTFtCbGFja107YDtcbiAgbGV0IGNvdW50ID0gMDtcbiAgbGV0IHByZXYgPSAnJztcbiAgc3RlcHMuZm9yRWFjaCgoc3RlcDogYW55LCBpbmRleDogYW55KSA9PiB7XG4gICAgaWYgKHN0ZXBbMF0gPT09IHByZXZbMF0pIHtcbiAgICAgIGlmIChzdGVwWzBdID09PSAnQicpIHtcbiAgICAgICAgcmVzLnNwbGljZShpbmRleCArIGNvdW50LCAwLCAnV1t0dF0nKTtcbiAgICAgICAgY291bnQgKz0gMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlcy5zcGxpY2UoaW5kZXggKyBjb3VudCwgMCwgJ0JbdHRdJyk7XG4gICAgICAgIGNvdW50ICs9IDE7XG4gICAgICB9XG4gICAgfVxuICAgIHByZXYgPSBzdGVwO1xuICB9KTtcbiAgcmV0dXJuIGAke2hlYWRlcn0ke3Jlcy5qb2luKCc7Jyl9KWA7XG59O1xuXG5leHBvcnQgY29uc3Qgb2Zmc2V0QTFNb3ZlID0gKG1vdmU6IHN0cmluZywgb3ggPSAwLCBveSA9IDApID0+IHtcbiAgaWYgKG1vdmUgPT09ICdwYXNzJykgcmV0dXJuIG1vdmU7XG4gIC8vIGNvbnNvbGUubG9nKCdveHknLCBveCwgb3kpO1xuICBjb25zdCBpbnggPSBBMV9MRVRURVJTLmluZGV4T2YobW92ZVswXSkgKyBveDtcbiAgY29uc3QgaW55ID0gQTFfTlVNQkVSUy5pbmRleE9mKHBhcnNlSW50KG1vdmUuc3Vic3RyKDEpLCAwKSkgKyBveTtcbiAgLy8gY29uc29sZS5sb2coJ2lueHknLCBpbngsIGlueSwgYCR7QTFfTEVUVEVSU1tpbnhdfSR7QTFfTlVNQkVSU1tpbnldfWApO1xuICBpZiAoXG4gICAgaW54IDwgMCB8fFxuICAgIGlueSA8IDAgfHxcbiAgICBpbnggPj0gQTFfTEVUVEVSUy5sZW5ndGggfHxcbiAgICBpbnkgPj0gQTFfTlVNQkVSUy5sZW5ndGhcbiAgKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIGAke0ExX0xFVFRFUlNbaW54XX0ke0ExX05VTUJFUlNbaW55XX1gO1xufTtcblxuZXhwb3J0IGNvbnN0IHJldmVyc2VPZmZzZXRBMU1vdmUgPSAoXG4gIG1vdmU6IHN0cmluZyxcbiAgbWF0OiBudW1iZXJbXVtdLFxuICBhbmFseXNpczogQW5hbHlzaXMsXG4gIGJvYXJkU2l6ZSA9IDE5XG4pID0+IHtcbiAgaWYgKG1vdmUgPT09ICdwYXNzJykgcmV0dXJuIG1vdmU7XG4gIGNvbnN0IGlkT2JqID0gSlNPTi5wYXJzZShhbmFseXNpcy5pZCk7XG4gIGNvbnN0IHt4LCB5fSA9IHJldmVyc2VPZmZzZXQobWF0LCBpZE9iai5ieCwgaWRPYmouYnksIGJvYXJkU2l6ZSk7XG4gIGNvbnN0IGlueCA9IEExX0xFVFRFUlMuaW5kZXhPZihtb3ZlWzBdKSArIHg7XG4gIGNvbnN0IGlueSA9IEExX05VTUJFUlMuaW5kZXhPZihwYXJzZUludChtb3ZlLnN1YnN0cigxKSwgMCkpICsgeTtcbiAgaWYgKFxuICAgIGlueCA8IDAgfHxcbiAgICBpbnkgPCAwIHx8XG4gICAgaW54ID49IEExX0xFVFRFUlMubGVuZ3RoIHx8XG4gICAgaW55ID49IEExX05VTUJFUlMubGVuZ3RoXG4gICkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiBgJHtBMV9MRVRURVJTW2lueF19JHtBMV9OVU1CRVJTW2lueV19YDtcbn07XG5cbmV4cG9ydCBjb25zdCBjYWxjU2NvcmVEaWZmVGV4dCA9IChcbiAgcm9vdEluZm8/OiBSb290SW5mbyB8IG51bGwsXG4gIGN1cnJJbmZvPzogTW92ZUluZm8gfCBSb290SW5mbyB8IG51bGwsXG4gIGZpeGVkID0gMSxcbiAgcmV2ZXJzZSA9IGZhbHNlXG4pID0+IHtcbiAgaWYgKCFyb290SW5mbyB8fCAhY3VyckluZm8pIHJldHVybiAnJztcbiAgbGV0IHNjb3JlID0gY2FsY1Njb3JlRGlmZihyb290SW5mbywgY3VyckluZm8pO1xuICBpZiAocmV2ZXJzZSkgc2NvcmUgPSAtc2NvcmU7XG4gIGNvbnN0IGZpeGVkU2NvcmUgPSBzY29yZS50b0ZpeGVkKGZpeGVkKTtcblxuICByZXR1cm4gc2NvcmUgPiAwID8gYCske2ZpeGVkU2NvcmV9YCA6IGAke2ZpeGVkU2NvcmV9YDtcbn07XG5cbmV4cG9ydCBjb25zdCBjYWxjV2lucmF0ZURpZmZUZXh0ID0gKFxuICByb290SW5mbz86IFJvb3RJbmZvIHwgbnVsbCxcbiAgY3VyckluZm8/OiBNb3ZlSW5mbyB8IFJvb3RJbmZvIHwgbnVsbCxcbiAgZml4ZWQgPSAxLFxuICByZXZlcnNlID0gZmFsc2VcbikgPT4ge1xuICBpZiAoIXJvb3RJbmZvIHx8ICFjdXJySW5mbykgcmV0dXJuICcnO1xuICBsZXQgd2lucmF0ZSA9IGNhbGNXaW5yYXRlRGlmZihyb290SW5mbywgY3VyckluZm8pO1xuICBpZiAocmV2ZXJzZSkgd2lucmF0ZSA9IC13aW5yYXRlO1xuICBjb25zdCBmaXhlZFdpbnJhdGUgPSB3aW5yYXRlLnRvRml4ZWQoZml4ZWQpO1xuXG4gIHJldHVybiB3aW5yYXRlID49IDAgPyBgKyR7Zml4ZWRXaW5yYXRlfSVgIDogYCR7Zml4ZWRXaW5yYXRlfSVgO1xufTtcblxuZXhwb3J0IGNvbnN0IGNhbGNTY29yZURpZmYgPSAoXG4gIHJvb3RJbmZvOiBSb290SW5mbyxcbiAgY3VyckluZm86IE1vdmVJbmZvIHwgUm9vdEluZm9cbikgPT4ge1xuICBjb25zdCBzaWduID0gcm9vdEluZm8uY3VycmVudFBsYXllciA9PT0gJ0InID8gMSA6IC0xO1xuICBjb25zdCBzY29yZSA9XG4gICAgTWF0aC5yb3VuZCgoY3VyckluZm8uc2NvcmVMZWFkIC0gcm9vdEluZm8uc2NvcmVMZWFkKSAqIHNpZ24gKiAxMDAwKSAvIDEwMDA7XG5cbiAgcmV0dXJuIHNjb3JlO1xufTtcblxuZXhwb3J0IGNvbnN0IGNhbGNXaW5yYXRlRGlmZiA9IChcbiAgcm9vdEluZm86IFJvb3RJbmZvLFxuICBjdXJySW5mbzogTW92ZUluZm8gfCBSb290SW5mb1xuKSA9PiB7XG4gIGNvbnN0IHNpZ24gPSByb290SW5mby5jdXJyZW50UGxheWVyID09PSAnQicgPyAxIDogLTE7XG4gIGNvbnN0IHNjb3JlID1cbiAgICBNYXRoLnJvdW5kKChjdXJySW5mby53aW5yYXRlIC0gcm9vdEluZm8ud2lucmF0ZSkgKiBzaWduICogMTAwMCAqIDEwMCkgL1xuICAgIDEwMDA7XG5cbiAgcmV0dXJuIHNjb3JlO1xufTtcblxuZXhwb3J0IGNvbnN0IGNhbGNBbmFseXNpc1BvaW50Q29sb3IgPSAoXG4gIHJvb3RJbmZvOiBSb290SW5mbyxcbiAgbW92ZUluZm86IE1vdmVJbmZvXG4pID0+IHtcbiAgY29uc3Qge3ByaW9yLCBvcmRlcn0gPSBtb3ZlSW5mbztcbiAgY29uc3Qgc2NvcmUgPSBjYWxjU2NvcmVEaWZmKHJvb3RJbmZvLCBtb3ZlSW5mbyk7XG4gIGxldCBwb2ludENvbG9yID0gJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC41KSc7XG4gIGlmIChcbiAgICBwcmlvciA+PSAwLjUgfHxcbiAgICAocHJpb3IgPj0gMC4xICYmIG9yZGVyIDwgMyAmJiBzY29yZSA+IC0wLjMpIHx8XG4gICAgb3JkZXIgPT09IDAgfHxcbiAgICBzY29yZSA+PSAwXG4gICkge1xuICAgIHBvaW50Q29sb3IgPSBMSUdIVF9HUkVFTl9SR0I7XG4gIH0gZWxzZSBpZiAoKHByaW9yID4gMC4wNSAmJiBzY29yZSA+IC0wLjUpIHx8IChwcmlvciA+IDAuMDEgJiYgc2NvcmUgPiAtMC4xKSkge1xuICAgIHBvaW50Q29sb3IgPSBMSUdIVF9ZRUxMT1dfUkdCO1xuICB9IGVsc2UgaWYgKHByaW9yID4gMC4wMSAmJiBzY29yZSA+IC0xKSB7XG4gICAgcG9pbnRDb2xvciA9IFlFTExPV19SR0I7XG4gIH0gZWxzZSB7XG4gICAgcG9pbnRDb2xvciA9IExJR0hUX1JFRF9SR0I7XG4gIH1cbiAgcmV0dXJuIHBvaW50Q29sb3I7XG59O1xuXG4vLyBleHBvcnQgY29uc3QgR29CYW5EZXRlY3Rpb24gPSAocGl4ZWxEYXRhLCBjYW52YXMpID0+IHtcbi8vIGNvbnN0IGNvbHVtbnMgPSBjYW52YXMud2lkdGg7XG4vLyBjb25zdCByb3dzID0gY2FudmFzLmhlaWdodDtcbi8vIGNvbnN0IGRhdGFUeXBlID0gSnNGZWF0LlU4QzFfdDtcbi8vIGNvbnN0IGRpc3RNYXRyaXhUID0gbmV3IEpzRmVhdC5tYXRyaXhfdChjb2x1bW5zLCByb3dzLCBkYXRhVHlwZSk7XG4vLyBKc0ZlYXQuaW1ncHJvYy5ncmF5c2NhbGUocGl4ZWxEYXRhLCBjb2x1bW5zLCByb3dzLCBkaXN0TWF0cml4VCk7XG4vLyBKc0ZlYXQuaW1ncHJvYy5nYXVzc2lhbl9ibHVyKGRpc3RNYXRyaXhULCBkaXN0TWF0cml4VCwgMiwgMCk7XG4vLyBKc0ZlYXQuaW1ncHJvYy5jYW5ueShkaXN0TWF0cml4VCwgZGlzdE1hdHJpeFQsIDUwLCA1MCk7XG5cbi8vIGNvbnN0IG5ld1BpeGVsRGF0YSA9IG5ldyBVaW50MzJBcnJheShwaXhlbERhdGEuYnVmZmVyKTtcbi8vIGNvbnN0IGFscGhhID0gKDB4ZmYgPDwgMjQpO1xuLy8gbGV0IGkgPSBkaXN0TWF0cml4VC5jb2xzICogZGlzdE1hdHJpeFQucm93cztcbi8vIGxldCBwaXggPSAwO1xuLy8gd2hpbGUgKGkgPj0gMCkge1xuLy8gICBwaXggPSBkaXN0TWF0cml4VC5kYXRhW2ldO1xuLy8gICBuZXdQaXhlbERhdGFbaV0gPSBhbHBoYSB8IChwaXggPDwgMTYpIHwgKHBpeCA8PCA4KSB8IHBpeDtcbi8vICAgaSAtPSAxO1xuLy8gfVxuLy8gfTtcblxuZXhwb3J0IGNvbnN0IGV4dHJhY3RQQUkgPSAobjogVE5vZGUpID0+IHtcbiAgY29uc3QgcGFpID0gbi5tb2RlbC5jdXN0b21Qcm9wcy5maW5kKChwOiBDdXN0b21Qcm9wKSA9PiBwLnRva2VuID09PSAnUEFJJyk7XG4gIGlmICghcGFpKSByZXR1cm47XG4gIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKHBhaS52YWx1ZSk7XG5cbiAgcmV0dXJuIGRhdGE7XG59O1xuXG5leHBvcnQgY29uc3QgZXh0cmFjdEFuc3dlclR5cGUgPSAobjogVE5vZGUpOiBzdHJpbmcgfCB1bmRlZmluZWQgPT4ge1xuICBjb25zdCBwYXQgPSBuLm1vZGVsLmN1c3RvbVByb3BzLmZpbmQoKHA6IEN1c3RvbVByb3ApID0+IHAudG9rZW4gPT09ICdQQVQnKTtcbiAgcmV0dXJuIHBhdD8udmFsdWU7XG59O1xuXG5leHBvcnQgY29uc3QgZXh0cmFjdFBJID0gKG46IFROb2RlKSA9PiB7XG4gIGNvbnN0IHBpID0gbi5tb2RlbC5jdXN0b21Qcm9wcy5maW5kKChwOiBDdXN0b21Qcm9wKSA9PiBwLnRva2VuID09PSAnUEknKTtcbiAgaWYgKCFwaSkgcmV0dXJuO1xuICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShwaS52YWx1ZSk7XG5cbiAgcmV0dXJuIGRhdGE7XG59O1xuXG5leHBvcnQgY29uc3QgaW5pdE5vZGVEYXRhID0gKHNoYTogc3RyaW5nLCBudW1iZXI/OiBudW1iZXIpOiBTZ2ZOb2RlID0+IHtcbiAgcmV0dXJuIHtcbiAgICBpZDogc2hhLFxuICAgIG5hbWU6IHNoYSxcbiAgICBudW1iZXI6IG51bWJlciB8fCAwLFxuICAgIHJvb3RQcm9wczogW10sXG4gICAgbW92ZVByb3BzOiBbXSxcbiAgICBzZXR1cFByb3BzOiBbXSxcbiAgICBtYXJrdXBQcm9wczogW10sXG4gICAgZ2FtZUluZm9Qcm9wczogW10sXG4gICAgbm9kZUFubm90YXRpb25Qcm9wczogW10sXG4gICAgbW92ZUFubm90YXRpb25Qcm9wczogW10sXG4gICAgY3VzdG9tUHJvcHM6IFtdLFxuICB9O1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIHRoZSBpbml0aWFsIHJvb3Qgbm9kZSBvZiB0aGUgdHJlZS5cbiAqXG4gKiBAcGFyYW0gcm9vdFByb3BzIC0gVGhlIHJvb3QgcHJvcGVydGllcy5cbiAqIEByZXR1cm5zIFRoZSBpbml0aWFsIHJvb3Qgbm9kZS5cbiAqL1xuZXhwb3J0IGNvbnN0IGluaXRpYWxSb290Tm9kZSA9IChcbiAgcm9vdFByb3BzID0gW1xuICAgICdGRls0XScsXG4gICAgJ0dNWzFdJyxcbiAgICAnQ0FbVVRGLThdJyxcbiAgICAnQVBbZ2hvc3RnbzowLjEuMF0nLFxuICAgICdTWlsxOV0nLFxuICAgICdTVFswXScsXG4gIF1cbikgPT4ge1xuICBjb25zdCB0cmVlID0gbmV3IFRyZWVNb2RlbCgpO1xuICBjb25zdCByb290ID0gdHJlZS5wYXJzZSh7XG4gICAgLy8gJzFiMTZiMScgaXMgdGhlIFNIQTI1NiBoYXNoIG9mIHRoZSAnbidcbiAgICBpZDogJycsXG4gICAgbmFtZTogJycsXG4gICAgaW5kZXg6IDAsXG4gICAgbnVtYmVyOiAwLFxuICAgIHJvb3RQcm9wczogcm9vdFByb3BzLm1hcChwID0+IFJvb3RQcm9wLmZyb20ocCkpLFxuICAgIG1vdmVQcm9wczogW10sXG4gICAgc2V0dXBQcm9wczogW10sXG4gICAgbWFya3VwUHJvcHM6IFtdLFxuICAgIGdhbWVJbmZvUHJvcHM6IFtdLFxuICAgIG5vZGVBbm5vdGF0aW9uUHJvcHM6IFtdLFxuICAgIG1vdmVBbm5vdGF0aW9uUHJvcHM6IFtdLFxuICAgIGN1c3RvbVByb3BzOiBbXSxcbiAgfSk7XG4gIGNvbnN0IGhhc2ggPSBjYWxjSGFzaChyb290KTtcbiAgcm9vdC5tb2RlbC5pZCA9IGhhc2g7XG5cbiAgcmV0dXJuIHJvb3Q7XG59O1xuXG4vKipcbiAqIEJ1aWxkcyBhIG5ldyB0cmVlIG5vZGUgd2l0aCB0aGUgZ2l2ZW4gbW92ZSwgcGFyZW50IG5vZGUsIGFuZCBhZGRpdGlvbmFsIHByb3BlcnRpZXMuXG4gKlxuICogQHBhcmFtIG1vdmUgLSBUaGUgbW92ZSB0byBiZSBhZGRlZCB0byB0aGUgbm9kZS5cbiAqIEBwYXJhbSBwYXJlbnROb2RlIC0gVGhlIHBhcmVudCBub2RlIG9mIHRoZSBuZXcgbm9kZS4gT3B0aW9uYWwuXG4gKiBAcGFyYW0gcHJvcHMgLSBBZGRpdGlvbmFsIHByb3BlcnRpZXMgdG8gYmUgYWRkZWQgdG8gdGhlIG5ldyBub2RlLiBPcHRpb25hbC5cbiAqIEByZXR1cm5zIFRoZSBuZXdseSBjcmVhdGVkIHRyZWUgbm9kZS5cbiAqL1xuZXhwb3J0IGNvbnN0IGJ1aWxkTW92ZU5vZGUgPSAoXG4gIG1vdmU6IHN0cmluZyxcbiAgcGFyZW50Tm9kZT86IFROb2RlLFxuICBwcm9wcz86IFNnZk5vZGVPcHRpb25zXG4pID0+IHtcbiAgY29uc3QgdHJlZSA9IG5ldyBUcmVlTW9kZWwoKTtcbiAgY29uc3QgbW92ZVByb3AgPSBNb3ZlUHJvcC5mcm9tKG1vdmUpO1xuICBjb25zdCBoYXNoID0gY2FsY0hhc2gocGFyZW50Tm9kZSwgW21vdmVQcm9wXSk7XG4gIGxldCBudW1iZXIgPSAxO1xuICBpZiAocGFyZW50Tm9kZSkgbnVtYmVyID0gZ2V0Tm9kZU51bWJlcihwYXJlbnROb2RlKSArIDE7XG4gIGNvbnN0IG5vZGVEYXRhID0gaW5pdE5vZGVEYXRhKGhhc2gsIG51bWJlcik7XG4gIG5vZGVEYXRhLm1vdmVQcm9wcyA9IFttb3ZlUHJvcF07XG5cbiAgY29uc3Qgbm9kZSA9IHRyZWUucGFyc2Uoe1xuICAgIC4uLm5vZGVEYXRhLFxuICAgIC4uLnByb3BzLFxuICB9KTtcbiAgcmV0dXJuIG5vZGU7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0TGFzdEluZGV4ID0gKHJvb3Q6IFROb2RlKSA9PiB7XG4gIGxldCBsYXN0Tm9kZSA9IHJvb3Q7XG4gIHJvb3Qud2Fsayhub2RlID0+IHtcbiAgICAvLyBIYWx0IHRoZSB0cmF2ZXJzYWwgYnkgcmV0dXJuaW5nIGZhbHNlXG4gICAgbGFzdE5vZGUgPSBub2RlO1xuICAgIHJldHVybiB0cnVlO1xuICB9KTtcbiAgcmV0dXJuIGxhc3ROb2RlLm1vZGVsLmluZGV4O1xufTtcblxuZXhwb3J0IGNvbnN0IGN1dE1vdmVOb2RlcyA9IChyb290OiBUTm9kZSwgcmV0dXJuUm9vdD86IGJvb2xlYW4pID0+IHtcbiAgbGV0IG5vZGUgPSBjbG9uZURlZXAocm9vdCk7XG4gIHdoaWxlIChub2RlICYmIG5vZGUuaGFzQ2hpbGRyZW4oKSAmJiBub2RlLm1vZGVsLm1vdmVQcm9wcy5sZW5ndGggPT09IDApIHtcbiAgICBub2RlID0gbm9kZS5jaGlsZHJlblswXTtcbiAgICBub2RlLmNoaWxkcmVuID0gW107XG4gIH1cblxuICBpZiAocmV0dXJuUm9vdCkge1xuICAgIHdoaWxlIChub2RlICYmIG5vZGUucGFyZW50ICYmICFub2RlLmlzUm9vdCgpKSB7XG4gICAgICBub2RlID0gbm9kZS5wYXJlbnQ7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5vZGU7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0Um9vdCA9IChub2RlOiBUTm9kZSkgPT4ge1xuICBsZXQgcm9vdCA9IG5vZGU7XG4gIHdoaWxlIChyb290ICYmIHJvb3QucGFyZW50ICYmICFyb290LmlzUm9vdCgpKSB7XG4gICAgcm9vdCA9IHJvb3QucGFyZW50O1xuICB9XG4gIHJldHVybiByb290O1xufTtcblxuZXhwb3J0IGNvbnN0IHplcm9zID0gKHNpemU6IFtudW1iZXIsIG51bWJlcl0pOiBudW1iZXJbXVtdID0+XG4gIG5ldyBBcnJheShzaXplWzBdKS5maWxsKDApLm1hcCgoKSA9PiBuZXcgQXJyYXkoc2l6ZVsxXSkuZmlsbCgwKSk7XG5cbmV4cG9ydCBjb25zdCBlbXB0eSA9IChzaXplOiBbbnVtYmVyLCBudW1iZXJdKTogc3RyaW5nW11bXSA9PlxuICBuZXcgQXJyYXkoc2l6ZVswXSkuZmlsbCgnJykubWFwKCgpID0+IG5ldyBBcnJheShzaXplWzFdKS5maWxsKCcnKSk7XG5cbmV4cG9ydCBjb25zdCBjYWxjTW9zdCA9IChtYXQ6IG51bWJlcltdW10sIGJvYXJkU2l6ZSA9IDE5KSA9PiB7XG4gIGxldCBsZWZ0TW9zdDogbnVtYmVyID0gYm9hcmRTaXplIC0gMTtcbiAgbGV0IHJpZ2h0TW9zdCA9IDA7XG4gIGxldCB0b3BNb3N0OiBudW1iZXIgPSBib2FyZFNpemUgLSAxO1xuICBsZXQgYm90dG9tTW9zdCA9IDA7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbWF0Lmxlbmd0aDsgaSsrKSB7XG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCBtYXRbaV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gbWF0W2ldW2pdO1xuICAgICAgaWYgKHZhbHVlICE9PSAwKSB7XG4gICAgICAgIGlmIChsZWZ0TW9zdCA+IGkpIGxlZnRNb3N0ID0gaTtcbiAgICAgICAgaWYgKHJpZ2h0TW9zdCA8IGkpIHJpZ2h0TW9zdCA9IGk7XG4gICAgICAgIGlmICh0b3BNb3N0ID4gaikgdG9wTW9zdCA9IGo7XG4gICAgICAgIGlmIChib3R0b21Nb3N0IDwgaikgYm90dG9tTW9zdCA9IGo7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB7bGVmdE1vc3QsIHJpZ2h0TW9zdCwgdG9wTW9zdCwgYm90dG9tTW9zdH07XG59O1xuXG5leHBvcnQgY29uc3QgY2FsY0NlbnRlciA9IChtYXQ6IG51bWJlcltdW10sIGJvYXJkU2l6ZSA9IDE5KSA9PiB7XG4gIGNvbnN0IHtsZWZ0TW9zdCwgcmlnaHRNb3N0LCB0b3BNb3N0LCBib3R0b21Nb3N0fSA9IGNhbGNNb3N0KG1hdCwgYm9hcmRTaXplKTtcbiAgY29uc3QgdG9wID0gdG9wTW9zdCA8IGJvYXJkU2l6ZSAtIDEgLSBib3R0b21Nb3N0O1xuICBjb25zdCBsZWZ0ID0gbGVmdE1vc3QgPCBib2FyZFNpemUgLSAxIC0gcmlnaHRNb3N0O1xuICBpZiAodG9wICYmIGxlZnQpIHJldHVybiBDZW50ZXIuVG9wTGVmdDtcbiAgaWYgKCF0b3AgJiYgbGVmdCkgcmV0dXJuIENlbnRlci5Cb3R0b21MZWZ0O1xuICBpZiAodG9wICYmICFsZWZ0KSByZXR1cm4gQ2VudGVyLlRvcFJpZ2h0O1xuICBpZiAoIXRvcCAmJiAhbGVmdCkgcmV0dXJuIENlbnRlci5Cb3R0b21SaWdodDtcbiAgcmV0dXJuIENlbnRlci5DZW50ZXI7XG59O1xuXG5leHBvcnQgY29uc3QgY2FsY0JvYXJkU2l6ZSA9IChcbiAgbWF0OiBudW1iZXJbXVtdLFxuICBib2FyZFNpemUgPSAxOSxcbiAgZXh0ZW50ID0gMlxuKTogbnVtYmVyW10gPT4ge1xuICBjb25zdCByZXN1bHQgPSBbMTksIDE5XTtcbiAgY29uc3QgY2VudGVyID0gY2FsY0NlbnRlcihtYXQpO1xuICBjb25zdCB7bGVmdE1vc3QsIHJpZ2h0TW9zdCwgdG9wTW9zdCwgYm90dG9tTW9zdH0gPSBjYWxjTW9zdChtYXQsIGJvYXJkU2l6ZSk7XG4gIGlmIChjZW50ZXIgPT09IENlbnRlci5Ub3BMZWZ0KSB7XG4gICAgcmVzdWx0WzBdID0gcmlnaHRNb3N0ICsgZXh0ZW50ICsgMTtcbiAgICByZXN1bHRbMV0gPSBib3R0b21Nb3N0ICsgZXh0ZW50ICsgMTtcbiAgfVxuICBpZiAoY2VudGVyID09PSBDZW50ZXIuVG9wUmlnaHQpIHtcbiAgICByZXN1bHRbMF0gPSBib2FyZFNpemUgLSBsZWZ0TW9zdCArIGV4dGVudDtcbiAgICByZXN1bHRbMV0gPSBib3R0b21Nb3N0ICsgZXh0ZW50ICsgMTtcbiAgfVxuICBpZiAoY2VudGVyID09PSBDZW50ZXIuQm90dG9tTGVmdCkge1xuICAgIHJlc3VsdFswXSA9IHJpZ2h0TW9zdCArIGV4dGVudCArIDE7XG4gICAgcmVzdWx0WzFdID0gYm9hcmRTaXplIC0gdG9wTW9zdCArIGV4dGVudDtcbiAgfVxuICBpZiAoY2VudGVyID09PSBDZW50ZXIuQm90dG9tUmlnaHQpIHtcbiAgICByZXN1bHRbMF0gPSBib2FyZFNpemUgLSBsZWZ0TW9zdCArIGV4dGVudDtcbiAgICByZXN1bHRbMV0gPSBib2FyZFNpemUgLSB0b3BNb3N0ICsgZXh0ZW50O1xuICB9XG4gIHJlc3VsdFswXSA9IE1hdGgubWluKHJlc3VsdFswXSwgYm9hcmRTaXplKTtcbiAgcmVzdWx0WzFdID0gTWF0aC5taW4ocmVzdWx0WzFdLCBib2FyZFNpemUpO1xuXG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5leHBvcnQgY29uc3QgY2FsY1BhcnRpYWxBcmVhID0gKFxuICBtYXQ6IG51bWJlcltdW10sXG4gIGV4dGVudCA9IDIsXG4gIGJvYXJkU2l6ZSA9IDE5XG4pOiBbW251bWJlciwgbnVtYmVyXSwgW251bWJlciwgbnVtYmVyXV0gPT4ge1xuICBjb25zdCB7bGVmdE1vc3QsIHJpZ2h0TW9zdCwgdG9wTW9zdCwgYm90dG9tTW9zdH0gPSBjYWxjTW9zdChtYXQpO1xuXG4gIGNvbnN0IHNpemUgPSBib2FyZFNpemUgLSAxO1xuICBjb25zdCB4MSA9IGxlZnRNb3N0IC0gZXh0ZW50IDwgMCA/IDAgOiBsZWZ0TW9zdCAtIGV4dGVudDtcbiAgY29uc3QgeTEgPSB0b3BNb3N0IC0gZXh0ZW50IDwgMCA/IDAgOiB0b3BNb3N0IC0gZXh0ZW50O1xuICBjb25zdCB4MiA9IHJpZ2h0TW9zdCArIGV4dGVudCA+IHNpemUgPyBzaXplIDogcmlnaHRNb3N0ICsgZXh0ZW50O1xuICBjb25zdCB5MiA9IGJvdHRvbU1vc3QgKyBleHRlbnQgPiBzaXplID8gc2l6ZSA6IGJvdHRvbU1vc3QgKyBleHRlbnQ7XG5cbiAgcmV0dXJuIFtcbiAgICBbeDEsIHkxXSxcbiAgICBbeDIsIHkyXSxcbiAgXTtcbn07XG5cbmV4cG9ydCBjb25zdCBjYWxjQXZvaWRNb3Zlc0ZvclBhcnRpYWxBbmFseXNpcyA9IChcbiAgcGFydGlhbEFyZWE6IFtbbnVtYmVyLCBudW1iZXJdLCBbbnVtYmVyLCBudW1iZXJdXSxcbiAgYm9hcmRTaXplID0gMTlcbikgPT4ge1xuICBjb25zdCByZXN1bHQ6IHN0cmluZ1tdID0gW107XG5cbiAgY29uc3QgW1t4MSwgeTFdLCBbeDIsIHkyXV0gPSBwYXJ0aWFsQXJlYTtcblxuICBmb3IgKGNvbnN0IGNvbCBvZiBBMV9MRVRURVJTLnNsaWNlKDAsIGJvYXJkU2l6ZSkpIHtcbiAgICBmb3IgKGNvbnN0IHJvdyBvZiBBMV9OVU1CRVJTLnNsaWNlKC1ib2FyZFNpemUpKSB7XG4gICAgICBjb25zdCB4ID0gQTFfTEVUVEVSUy5pbmRleE9mKGNvbCk7XG4gICAgICBjb25zdCB5ID0gQTFfTlVNQkVSUy5pbmRleE9mKHJvdyk7XG5cbiAgICAgIGlmICh4IDwgeDEgfHwgeCA+IHgyIHx8IHkgPCB5MSB8fCB5ID4geTIpIHtcbiAgICAgICAgcmVzdWx0LnB1c2goYCR7Y29sfSR7cm93fWApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5leHBvcnQgY29uc3QgY2FsY1RzdW1lZ29GcmFtZSA9IChcbiAgbWF0OiBudW1iZXJbXVtdLFxuICBleHRlbnQ6IG51bWJlcixcbiAgYm9hcmRTaXplID0gMTksXG4gIGtvbWkgPSA3LjUsXG4gIHR1cm46IEtpID0gS2kuQmxhY2ssXG4gIGtvID0gZmFsc2Vcbik6IG51bWJlcltdW10gPT4ge1xuICBjb25zdCByZXN1bHQgPSBjbG9uZURlZXAobWF0KTtcbiAgY29uc3QgcGFydGlhbEFyZWEgPSBjYWxjUGFydGlhbEFyZWEobWF0LCBleHRlbnQsIGJvYXJkU2l6ZSk7XG4gIGNvbnN0IGNlbnRlciA9IGNhbGNDZW50ZXIobWF0KTtcbiAgY29uc3QgcHV0Qm9yZGVyID0gKG1hdDogbnVtYmVyW11bXSkgPT4ge1xuICAgIGNvbnN0IFt4MSwgeTFdID0gcGFydGlhbEFyZWFbMF07XG4gICAgY29uc3QgW3gyLCB5Ml0gPSBwYXJ0aWFsQXJlYVsxXTtcbiAgICBmb3IgKGxldCBpID0geDE7IGkgPD0geDI7IGkrKykge1xuICAgICAgZm9yIChsZXQgaiA9IHkxOyBqIDw9IHkyOyBqKyspIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGNlbnRlciA9PT0gQ2VudGVyLlRvcExlZnQgJiZcbiAgICAgICAgICAoKGkgPT09IHgyICYmIGkgPCBib2FyZFNpemUgLSAxKSB8fFxuICAgICAgICAgICAgKGogPT09IHkyICYmIGogPCBib2FyZFNpemUgLSAxKSB8fFxuICAgICAgICAgICAgKGkgPT09IHgxICYmIGkgPiAwKSB8fFxuICAgICAgICAgICAgKGogPT09IHkxICYmIGogPiAwKSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgbWF0W2ldW2pdID0gdHVybjtcbiAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICBjZW50ZXIgPT09IENlbnRlci5Ub3BSaWdodCAmJlxuICAgICAgICAgICgoaSA9PT0geDEgJiYgaSA+IDApIHx8XG4gICAgICAgICAgICAoaiA9PT0geTIgJiYgaiA8IGJvYXJkU2l6ZSAtIDEpIHx8XG4gICAgICAgICAgICAoaSA9PT0geDIgJiYgaSA8IGJvYXJkU2l6ZSAtIDEpIHx8XG4gICAgICAgICAgICAoaiA9PT0geTEgJiYgaiA+IDApKVxuICAgICAgICApIHtcbiAgICAgICAgICBtYXRbaV1bal0gPSB0dXJuO1xuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgIGNlbnRlciA9PT0gQ2VudGVyLkJvdHRvbUxlZnQgJiZcbiAgICAgICAgICAoKGkgPT09IHgyICYmIGkgPCBib2FyZFNpemUgLSAxKSB8fFxuICAgICAgICAgICAgKGogPT09IHkxICYmIGogPiAwKSB8fFxuICAgICAgICAgICAgKGkgPT09IHgxICYmIGkgPiAwKSB8fFxuICAgICAgICAgICAgKGogPT09IHkyICYmIGogPCBib2FyZFNpemUgLSAxKSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgbWF0W2ldW2pdID0gdHVybjtcbiAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICBjZW50ZXIgPT09IENlbnRlci5Cb3R0b21SaWdodCAmJlxuICAgICAgICAgICgoaSA9PT0geDEgJiYgaSA+IDApIHx8XG4gICAgICAgICAgICAoaiA9PT0geTEgJiYgaiA+IDApIHx8XG4gICAgICAgICAgICAoaSA9PT0geDIgJiYgaSA8IGJvYXJkU2l6ZSAtIDEpIHx8XG4gICAgICAgICAgICAoaiA9PT0geTIgJiYgaiA8IGJvYXJkU2l6ZSAtIDEpKVxuICAgICAgICApIHtcbiAgICAgICAgICBtYXRbaV1bal0gPSB0dXJuO1xuICAgICAgICB9IGVsc2UgaWYgKGNlbnRlciA9PT0gQ2VudGVyLkNlbnRlcikge1xuICAgICAgICAgIG1hdFtpXVtqXSA9IHR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGNvbnN0IHB1dE91dHNpZGUgPSAobWF0OiBudW1iZXJbXVtdKSA9PiB7XG4gICAgY29uc3Qgb2ZmZW5jZVRvV2luID0gMTA7XG4gICAgY29uc3Qgb2ZmZW5zZUtvbWkgPSB0dXJuICoga29taTtcbiAgICBjb25zdCBbeDEsIHkxXSA9IHBhcnRpYWxBcmVhWzBdO1xuICAgIGNvbnN0IFt4MiwgeTJdID0gcGFydGlhbEFyZWFbMV07XG4gICAgLy8gVE9ETzogSGFyZCBjb2RlIGZvciBub3dcbiAgICAvLyBjb25zdCBibGFja1RvQXR0YWNrID0gdHVybiA9PT0gS2kuQmxhY2s7XG4gICAgY29uc3QgYmxhY2tUb0F0dGFjayA9IHR1cm4gPT09IEtpLkJsYWNrO1xuICAgIGNvbnN0IGlzaXplID0geDIgLSB4MTtcbiAgICBjb25zdCBqc2l6ZSA9IHkyIC0geTE7XG4gICAgLy8gVE9ETzogMzYxIGlzIGhhcmRjb2RlZFxuICAgIC8vIGNvbnN0IGRlZmVuc2VBcmVhID0gTWF0aC5mbG9vcihcbiAgICAvLyAgICgzNjEgLSBpc2l6ZSAqIGpzaXplIC0gb2ZmZW5zZUtvbWkgLSBvZmZlbmNlVG9XaW4pIC8gMlxuICAgIC8vICk7XG4gICAgY29uc3QgZGVmZW5zZUFyZWEgPVxuICAgICAgTWF0aC5mbG9vcigoMzYxIC0gaXNpemUgKiBqc2l6ZSkgLyAyKSAtIG9mZmVuc2VLb21pIC0gb2ZmZW5jZVRvV2luO1xuXG4gICAgLy8gY29uc3QgZGVmZW5zZUFyZWEgPSAzMDtcblxuICAgIC8vIG91dHNpZGUgdGhlIGZyYW1lXG4gICAgbGV0IGNvdW50ID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJvYXJkU2l6ZTsgaSsrKSB7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGJvYXJkU2l6ZTsgaisrKSB7XG4gICAgICAgIGlmIChpIDwgeDEgfHwgaSA+IHgyIHx8IGogPCB5MSB8fCBqID4geTIpIHtcbiAgICAgICAgICBjb3VudCsrO1xuICAgICAgICAgIGxldCBraSA9IEtpLkVtcHR5O1xuICAgICAgICAgIGlmIChjZW50ZXIgPT09IENlbnRlci5Ub3BMZWZ0IHx8IGNlbnRlciA9PT0gQ2VudGVyLkJvdHRvbUxlZnQpIHtcbiAgICAgICAgICAgIGtpID0gYmxhY2tUb0F0dGFjayAhPT0gY291bnQgPD0gZGVmZW5zZUFyZWEgPyBLaS5XaGl0ZSA6IEtpLkJsYWNrO1xuICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICBjZW50ZXIgPT09IENlbnRlci5Ub3BSaWdodCB8fFxuICAgICAgICAgICAgY2VudGVyID09PSBDZW50ZXIuQm90dG9tUmlnaHRcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGtpID0gYmxhY2tUb0F0dGFjayAhPT0gY291bnQgPD0gZGVmZW5zZUFyZWEgPyBLaS5CbGFjayA6IEtpLldoaXRlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoKGkgKyBqKSAlIDIgPT09IDAgJiYgTWF0aC5hYnMoY291bnQgLSBkZWZlbnNlQXJlYSkgPiBib2FyZFNpemUpIHtcbiAgICAgICAgICAgIGtpID0gS2kuRW1wdHk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbWF0W2ldW2pdID0ga2k7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIC8vIFRPRE86XG4gIGNvbnN0IHB1dEtvVGhyZWF0ID0gKG1hdDogbnVtYmVyW11bXSwga286IGJvb2xlYW4pID0+IHt9O1xuXG4gIHB1dEJvcmRlcihyZXN1bHQpO1xuICBwdXRPdXRzaWRlKHJlc3VsdCk7XG5cbiAgLy8gY29uc3QgZmxpcFNwZWMgPVxuICAvLyAgIGltaW4gPCBqbWluXG4gIC8vICAgICA/IFtmYWxzZSwgZmFsc2UsIHRydWVdXG4gIC8vICAgICA6IFtuZWVkRmxpcChpbWluLCBpbWF4LCBpc2l6ZSksIG5lZWRGbGlwKGptaW4sIGptYXgsIGpzaXplKSwgZmFsc2VdO1xuXG4gIC8vIGlmIChmbGlwU3BlYy5pbmNsdWRlcyh0cnVlKSkge1xuICAvLyAgIGNvbnN0IGZsaXBwZWQgPSBmbGlwU3RvbmVzKHN0b25lcywgZmxpcFNwZWMpO1xuICAvLyAgIGNvbnN0IGZpbGxlZCA9IHRzdW1lZ29GcmFtZVN0b25lcyhmbGlwcGVkLCBrb21pLCBibGFja1RvUGxheSwga28sIG1hcmdpbik7XG4gIC8vICAgcmV0dXJuIGZsaXBTdG9uZXMoZmlsbGVkLCBmbGlwU3BlYyk7XG4gIC8vIH1cblxuICAvLyBjb25zdCBpMCA9IGltaW4gLSBtYXJnaW47XG4gIC8vIGNvbnN0IGkxID0gaW1heCArIG1hcmdpbjtcbiAgLy8gY29uc3QgajAgPSBqbWluIC0gbWFyZ2luO1xuICAvLyBjb25zdCBqMSA9IGptYXggKyBtYXJnaW47XG4gIC8vIGNvbnN0IGZyYW1lUmFuZ2U6IFJlZ2lvbiA9IFtpMCwgaTEsIGowLCBqMV07XG4gIC8vIGNvbnN0IGJsYWNrVG9BdHRhY2sgPSBndWVzc0JsYWNrVG9BdHRhY2soXG4gIC8vICAgW3RvcCwgYm90dG9tLCBsZWZ0LCByaWdodF0sXG4gIC8vICAgW2lzaXplLCBqc2l6ZV1cbiAgLy8gKTtcblxuICAvLyBwdXRCb3JkZXIobWF0LCBbaXNpemUsIGpzaXplXSwgZnJhbWVSYW5nZSwgYmxhY2tUb0F0dGFjayk7XG4gIC8vIHB1dE91dHNpZGUoXG4gIC8vICAgc3RvbmVzLFxuICAvLyAgIFtpc2l6ZSwganNpemVdLFxuICAvLyAgIGZyYW1lUmFuZ2UsXG4gIC8vICAgYmxhY2tUb0F0dGFjayxcbiAgLy8gICBibGFja1RvUGxheSxcbiAgLy8gICBrb21pXG4gIC8vICk7XG4gIC8vIHB1dEtvVGhyZWF0KFxuICAvLyAgIHN0b25lcyxcbiAgLy8gICBbaXNpemUsIGpzaXplXSxcbiAgLy8gICBmcmFtZVJhbmdlLFxuICAvLyAgIGJsYWNrVG9BdHRhY2ssXG4gIC8vICAgYmxhY2tUb1BsYXksXG4gIC8vICAga29cbiAgLy8gKTtcbiAgLy8gcmV0dXJuIHN0b25lcztcblxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuZXhwb3J0IGNvbnN0IGNhbGNPZmZzZXQgPSAobWF0OiBudW1iZXJbXVtdKSA9PiB7XG4gIGNvbnN0IGJvYXJkU2l6ZSA9IGNhbGNCb2FyZFNpemUobWF0KTtcbiAgY29uc3Qgb3ggPSAxOSAtIGJvYXJkU2l6ZVswXTtcbiAgY29uc3Qgb3kgPSAxOSAtIGJvYXJkU2l6ZVsxXTtcbiAgY29uc3QgY2VudGVyID0gY2FsY0NlbnRlcihtYXQpO1xuXG4gIGxldCBvb3ggPSBveDtcbiAgbGV0IG9veSA9IG95O1xuICBzd2l0Y2ggKGNlbnRlcikge1xuICAgIGNhc2UgQ2VudGVyLlRvcExlZnQ6IHtcbiAgICAgIG9veCA9IDA7XG4gICAgICBvb3kgPSBveTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBjYXNlIENlbnRlci5Ub3BSaWdodDoge1xuICAgICAgb294ID0gLW94O1xuICAgICAgb295ID0gb3k7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgY2FzZSBDZW50ZXIuQm90dG9tTGVmdDoge1xuICAgICAgb294ID0gMDtcbiAgICAgIG9veSA9IDA7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgY2FzZSBDZW50ZXIuQm90dG9tUmlnaHQ6IHtcbiAgICAgIG9veCA9IC1veDtcbiAgICAgIG9veSA9IDA7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHt4OiBvb3gsIHk6IG9veX07XG59O1xuXG5leHBvcnQgY29uc3QgcmV2ZXJzZU9mZnNldCA9IChcbiAgbWF0OiBudW1iZXJbXVtdLFxuICBieCA9IDE5LFxuICBieSA9IDE5LFxuICBib2FyZFNpemUgPSAxOVxuKSA9PiB7XG4gIGNvbnN0IG94ID0gYm9hcmRTaXplIC0gYng7XG4gIGNvbnN0IG95ID0gYm9hcmRTaXplIC0gYnk7XG4gIGNvbnN0IGNlbnRlciA9IGNhbGNDZW50ZXIobWF0KTtcblxuICBsZXQgb294ID0gb3g7XG4gIGxldCBvb3kgPSBveTtcbiAgc3dpdGNoIChjZW50ZXIpIHtcbiAgICBjYXNlIENlbnRlci5Ub3BMZWZ0OiB7XG4gICAgICBvb3ggPSAwO1xuICAgICAgb295ID0gLW95O1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNhc2UgQ2VudGVyLlRvcFJpZ2h0OiB7XG4gICAgICBvb3ggPSBveDtcbiAgICAgIG9veSA9IC1veTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBjYXNlIENlbnRlci5Cb3R0b21MZWZ0OiB7XG4gICAgICBvb3ggPSAwO1xuICAgICAgb295ID0gMDtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBjYXNlIENlbnRlci5Cb3R0b21SaWdodDoge1xuICAgICAgb294ID0gb3g7XG4gICAgICBvb3kgPSAwO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiB7eDogb294LCB5OiBvb3l9O1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNhbGNWaXNpYmxlQXJlYShcbiAgbWF0OiBudW1iZXJbXVtdID0gemVyb3MoWzE5LCAxOV0pLFxuICBleHRlbnQ6IG51bWJlcixcbiAgYWxsb3dSZWN0YW5nbGUgPSBmYWxzZVxuKTogbnVtYmVyW11bXSB7XG4gIGxldCBtaW5Sb3cgPSBtYXQubGVuZ3RoO1xuICBsZXQgbWF4Um93ID0gMDtcbiAgbGV0IG1pbkNvbCA9IG1hdFswXS5sZW5ndGg7XG4gIGxldCBtYXhDb2wgPSAwO1xuXG4gIGxldCBlbXB0eSA9IHRydWU7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXQubGVuZ3RoOyBpKyspIHtcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IG1hdFswXS5sZW5ndGg7IGorKykge1xuICAgICAgaWYgKG1hdFtpXVtqXSAhPT0gMCkge1xuICAgICAgICBlbXB0eSA9IGZhbHNlO1xuICAgICAgICBtaW5Sb3cgPSBNYXRoLm1pbihtaW5Sb3csIGkpO1xuICAgICAgICBtYXhSb3cgPSBNYXRoLm1heChtYXhSb3csIGkpO1xuICAgICAgICBtaW5Db2wgPSBNYXRoLm1pbihtaW5Db2wsIGopO1xuICAgICAgICBtYXhDb2wgPSBNYXRoLm1heChtYXhDb2wsIGopO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmIChlbXB0eSkge1xuICAgIHJldHVybiBbXG4gICAgICBbMCwgbWF0Lmxlbmd0aCAtIDFdLFxuICAgICAgWzAsIG1hdFswXS5sZW5ndGggLSAxXSxcbiAgICBdO1xuICB9XG5cbiAgaWYgKCFhbGxvd1JlY3RhbmdsZSkge1xuICAgIGNvbnN0IG1pblJvd1dpdGhFeHRlbnQgPSBNYXRoLm1heChtaW5Sb3cgLSBleHRlbnQsIDApO1xuICAgIGNvbnN0IG1heFJvd1dpdGhFeHRlbnQgPSBNYXRoLm1pbihtYXhSb3cgKyBleHRlbnQsIG1hdC5sZW5ndGggLSAxKTtcbiAgICBjb25zdCBtaW5Db2xXaXRoRXh0ZW50ID0gTWF0aC5tYXgobWluQ29sIC0gZXh0ZW50LCAwKTtcbiAgICBjb25zdCBtYXhDb2xXaXRoRXh0ZW50ID0gTWF0aC5taW4obWF4Q29sICsgZXh0ZW50LCBtYXRbMF0ubGVuZ3RoIC0gMSk7XG5cbiAgICBjb25zdCBtYXhSYW5nZSA9IE1hdGgubWF4KFxuICAgICAgbWF4Um93V2l0aEV4dGVudCAtIG1pblJvd1dpdGhFeHRlbnQsXG4gICAgICBtYXhDb2xXaXRoRXh0ZW50IC0gbWluQ29sV2l0aEV4dGVudFxuICAgICk7XG5cbiAgICBtaW5Sb3cgPSBtaW5Sb3dXaXRoRXh0ZW50O1xuICAgIG1heFJvdyA9IG1pblJvdyArIG1heFJhbmdlO1xuXG4gICAgaWYgKG1heFJvdyA+PSBtYXQubGVuZ3RoKSB7XG4gICAgICBtYXhSb3cgPSBtYXQubGVuZ3RoIC0gMTtcbiAgICAgIG1pblJvdyA9IG1heFJvdyAtIG1heFJhbmdlO1xuICAgIH1cblxuICAgIG1pbkNvbCA9IG1pbkNvbFdpdGhFeHRlbnQ7XG4gICAgbWF4Q29sID0gbWluQ29sICsgbWF4UmFuZ2U7XG4gICAgaWYgKG1heENvbCA+PSBtYXRbMF0ubGVuZ3RoKSB7XG4gICAgICBtYXhDb2wgPSBtYXRbMF0ubGVuZ3RoIC0gMTtcbiAgICAgIG1pbkNvbCA9IG1heENvbCAtIG1heFJhbmdlO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBtaW5Sb3cgPSBNYXRoLm1heCgwLCBtaW5Sb3cgLSBleHRlbnQpO1xuICAgIG1heFJvdyA9IE1hdGgubWluKG1hdC5sZW5ndGggLSAxLCBtYXhSb3cgKyBleHRlbnQpO1xuICAgIG1pbkNvbCA9IE1hdGgubWF4KDAsIG1pbkNvbCAtIGV4dGVudCk7XG4gICAgbWF4Q29sID0gTWF0aC5taW4obWF0WzBdLmxlbmd0aCAtIDEsIG1heENvbCArIGV4dGVudCk7XG4gIH1cblxuICByZXR1cm4gW1xuICAgIFttaW5Sb3csIG1heFJvd10sXG4gICAgW21pbkNvbCwgbWF4Q29sXSxcbiAgXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1vdmUobWF0OiBudW1iZXJbXVtdLCBpOiBudW1iZXIsIGo6IG51bWJlciwga2k6IG51bWJlcikge1xuICBpZiAoaSA8IDAgfHwgaiA8IDApIHJldHVybiBtYXQ7XG4gIGNvbnN0IG5ld01hdCA9IGNsb25lRGVlcChtYXQpO1xuICBuZXdNYXRbaV1bal0gPSBraTtcbiAgcmV0dXJuIGV4ZWNDYXB0dXJlKG5ld01hdCwgaSwgaiwgLWtpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNob3dLaShtYXQ6IG51bWJlcltdW10sIHN0ZXBzOiBzdHJpbmdbXSwgaXNDYXB0dXJlZCA9IHRydWUpIHtcbiAgbGV0IG5ld01hdCA9IGNsb25lRGVlcChtYXQpO1xuICBsZXQgaGFzTW92ZWQgPSBmYWxzZTtcbiAgc3RlcHMuZm9yRWFjaChzdHIgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIHgsXG4gICAgICB5LFxuICAgICAga2ksXG4gICAgfToge1xuICAgICAgeDogbnVtYmVyO1xuICAgICAgeTogbnVtYmVyO1xuICAgICAga2k6IG51bWJlcjtcbiAgICB9ID0gc2dmVG9Qb3Moc3RyKTtcbiAgICBpZiAoaXNDYXB0dXJlZCkge1xuICAgICAgaWYgKGNhbk1vdmUobmV3TWF0LCB4LCB5LCBraSkpIHtcbiAgICAgICAgbmV3TWF0W3hdW3ldID0ga2k7XG4gICAgICAgIG5ld01hdCA9IGV4ZWNDYXB0dXJlKG5ld01hdCwgeCwgeSwgLWtpKTtcbiAgICAgICAgaGFzTW92ZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBuZXdNYXRbeF1beV0gPSBraTtcbiAgICAgIGhhc01vdmVkID0gdHJ1ZTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiB7XG4gICAgYXJyYW5nZW1lbnQ6IG5ld01hdCxcbiAgICBoYXNNb3ZlZCxcbiAgfTtcbn1cblxuLy8gVE9ETzpcbmV4cG9ydCBjb25zdCBoYW5kbGVNb3ZlID0gKFxuICBtYXQ6IG51bWJlcltdW10sXG4gIGk6IG51bWJlcixcbiAgajogbnVtYmVyLFxuICB0dXJuOiBLaSxcbiAgY3VycmVudE5vZGU6IFROb2RlLFxuICBvbkFmdGVyTW92ZTogKG5vZGU6IFROb2RlLCBpc01vdmVkOiBib29sZWFuKSA9PiB2b2lkXG4pID0+IHtcbiAgaWYgKHR1cm4gPT09IEtpLkVtcHR5KSByZXR1cm47XG4gIGlmIChjYW5Nb3ZlKG1hdCwgaSwgaiwgdHVybikpIHtcbiAgICAvLyBkaXNwYXRjaCh1aVNsaWNlLmFjdGlvbnMuc2V0VHVybigtdHVybikpO1xuICAgIGNvbnN0IHZhbHVlID0gU0dGX0xFVFRFUlNbaV0gKyBTR0ZfTEVUVEVSU1tqXTtcbiAgICBjb25zdCB0b2tlbiA9IHR1cm4gPT09IEtpLkJsYWNrID8gJ0InIDogJ1cnO1xuICAgIGNvbnN0IGhhc2ggPSBjYWxjSGFzaChjdXJyZW50Tm9kZSwgW01vdmVQcm9wLmZyb20oYCR7dG9rZW59WyR7dmFsdWV9XWApXSk7XG4gICAgY29uc3QgZmlsdGVyZWQgPSBjdXJyZW50Tm9kZS5jaGlsZHJlbi5maWx0ZXIoXG4gICAgICAobjogVE5vZGUpID0+IG4ubW9kZWwuaWQgPT09IGhhc2hcbiAgICApO1xuICAgIGxldCBub2RlOiBUTm9kZTtcbiAgICBpZiAoZmlsdGVyZWQubGVuZ3RoID4gMCkge1xuICAgICAgbm9kZSA9IGZpbHRlcmVkWzBdO1xuICAgIH0gZWxzZSB7XG4gICAgICBub2RlID0gYnVpbGRNb3ZlTm9kZShgJHt0b2tlbn1bJHt2YWx1ZX1dYCwgY3VycmVudE5vZGUpO1xuICAgICAgY3VycmVudE5vZGUuYWRkQ2hpbGQobm9kZSk7XG4gICAgfVxuICAgIGlmIChvbkFmdGVyTW92ZSkgb25BZnRlck1vdmUobm9kZSwgdHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKG9uQWZ0ZXJNb3ZlKSBvbkFmdGVyTW92ZShjdXJyZW50Tm9kZSwgZmFsc2UpO1xuICB9XG59O1xuXG4vKipcbiAqIENsZWFyIHN0b25lIGZyb20gdGhlIGN1cnJlbnROb2RlXG4gKiBAcGFyYW0gY3VycmVudE5vZGVcbiAqIEBwYXJhbSB2YWx1ZVxuICovXG5leHBvcnQgY29uc3QgY2xlYXJTdG9uZUZyb21DdXJyZW50Tm9kZSA9IChcbiAgY3VycmVudE5vZGU6IFROb2RlLFxuICB2YWx1ZTogc3RyaW5nXG4pID0+IHtcbiAgY29uc3QgcGF0aCA9IGN1cnJlbnROb2RlLmdldFBhdGgoKTtcbiAgcGF0aC5mb3JFYWNoKG5vZGUgPT4ge1xuICAgIGNvbnN0IHtzZXR1cFByb3BzfSA9IG5vZGUubW9kZWw7XG4gICAgaWYgKHNldHVwUHJvcHMuZmlsdGVyKChzOiBTZXR1cFByb3ApID0+IHMudmFsdWUgPT09IHZhbHVlKS5sZW5ndGggPiAwKSB7XG4gICAgICBub2RlLm1vZGVsLnNldHVwUHJvcHMgPSBzZXR1cFByb3BzLmZpbHRlcigoczogYW55KSA9PiBzLnZhbHVlICE9PSB2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldHVwUHJvcHMuZm9yRWFjaCgoczogU2V0dXBQcm9wKSA9PiB7XG4gICAgICAgIHMudmFsdWVzID0gcy52YWx1ZXMuZmlsdGVyKHYgPT4gdiAhPT0gdmFsdWUpO1xuICAgICAgICBpZiAocy52YWx1ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgbm9kZS5tb2RlbC5zZXR1cFByb3BzID0gbm9kZS5tb2RlbC5zZXR1cFByb3BzLmZpbHRlcihcbiAgICAgICAgICAgIChwOiBTZXR1cFByb3ApID0+IHAudG9rZW4gIT09IHMudG9rZW5cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xufTtcblxuLyoqXG4gKiBBZGRzIGEgc3RvbmUgdG8gdGhlIGN1cnJlbnQgbm9kZSBpbiB0aGUgdHJlZS5cbiAqXG4gKiBAcGFyYW0gY3VycmVudE5vZGUgVGhlIGN1cnJlbnQgbm9kZSBpbiB0aGUgdHJlZS5cbiAqIEBwYXJhbSBtYXQgVGhlIG1hdHJpeCByZXByZXNlbnRpbmcgdGhlIGJvYXJkLlxuICogQHBhcmFtIGkgVGhlIHJvdyBpbmRleCBvZiB0aGUgc3RvbmUuXG4gKiBAcGFyYW0gaiBUaGUgY29sdW1uIGluZGV4IG9mIHRoZSBzdG9uZS5cbiAqIEBwYXJhbSBraSBUaGUgY29sb3Igb2YgdGhlIHN0b25lIChLaS5XaGl0ZSBvciBLaS5CbGFjaykuXG4gKiBAcmV0dXJucyBUcnVlIGlmIHRoZSBzdG9uZSB3YXMgcmVtb3ZlZCBmcm9tIHByZXZpb3VzIG5vZGVzLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cbmV4cG9ydCBjb25zdCBhZGRTdG9uZVRvQ3VycmVudE5vZGUgPSAoXG4gIGN1cnJlbnROb2RlOiBUTm9kZSxcbiAgbWF0OiBudW1iZXJbXVtdLFxuICBpOiBudW1iZXIsXG4gIGo6IG51bWJlcixcbiAga2k6IEtpXG4pID0+IHtcbiAgY29uc3QgdmFsdWUgPSBTR0ZfTEVUVEVSU1tpXSArIFNHRl9MRVRURVJTW2pdO1xuICBjb25zdCB0b2tlbiA9IGtpID09PSBLaS5XaGl0ZSA/ICdBVycgOiAnQUInO1xuICBjb25zdCBwcm9wID0gZmluZFByb3AoY3VycmVudE5vZGUsIHRva2VuKTtcbiAgbGV0IHJlc3VsdCA9IGZhbHNlO1xuICBpZiAobWF0W2ldW2pdICE9PSBLaS5FbXB0eSkge1xuICAgIGNsZWFyU3RvbmVGcm9tQ3VycmVudE5vZGUoY3VycmVudE5vZGUsIHZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAocHJvcCkge1xuICAgICAgcHJvcC52YWx1ZXMgPSBbLi4ucHJvcC52YWx1ZXMsIHZhbHVlXTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudE5vZGUubW9kZWwuc2V0dXBQcm9wcyA9IFtcbiAgICAgICAgLi4uY3VycmVudE5vZGUubW9kZWwuc2V0dXBQcm9wcyxcbiAgICAgICAgbmV3IFNldHVwUHJvcCh0b2tlbiwgdmFsdWUpLFxuICAgICAgXTtcbiAgICB9XG4gICAgcmVzdWx0ID0gdHJ1ZTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBBZGRzIGEgbW92ZSB0byB0aGUgZ2l2ZW4gbWF0cml4IGFuZCByZXR1cm5zIHRoZSBjb3JyZXNwb25kaW5nIG5vZGUgaW4gdGhlIHRyZWUuXG4gKiBJZiB0aGUga2kgaXMgZW1wdHksIG5vIG1vdmUgaXMgYWRkZWQgYW5kIG51bGwgaXMgcmV0dXJuZWQuXG4gKlxuICogQHBhcmFtIG1hdCAtIFRoZSBtYXRyaXggcmVwcmVzZW50aW5nIHRoZSBnYW1lIGJvYXJkLlxuICogQHBhcmFtIGN1cnJlbnROb2RlIC0gVGhlIGN1cnJlbnQgbm9kZSBpbiB0aGUgdHJlZS5cbiAqIEBwYXJhbSBpIC0gVGhlIHJvdyBpbmRleCBvZiB0aGUgbW92ZS5cbiAqIEBwYXJhbSBqIC0gVGhlIGNvbHVtbiBpbmRleCBvZiB0aGUgbW92ZS5cbiAqIEBwYXJhbSBraSAtIFRoZSB0eXBlIG9mIG1vdmUgKEtpKS5cbiAqIEBwYXJhbSBwYXJlbnRNYXQgLSBPcHRpb25hbCBwYXJlbnQgbWF0cml4IHRvIGF2b2lkIHJlY2FsY3VsYXRpb25cbiAqIEByZXR1cm5zIFRoZSBjb3JyZXNwb25kaW5nIG5vZGUgaW4gdGhlIHRyZWUsIG9yIG51bGwgaWYgbm8gbW92ZSBpcyBhZGRlZC5cbiAqL1xuLy8gVE9ETzogVGhlIHBhcmFtcyBoZXJlIGlzIHdlaXJkXG5leHBvcnQgY29uc3QgYWRkTW92ZVRvQ3VycmVudE5vZGUgPSAoXG4gIGN1cnJlbnROb2RlOiBUTm9kZSxcbiAgbWF0OiBudW1iZXJbXVtdLFxuICBpOiBudW1iZXIsXG4gIGo6IG51bWJlcixcbiAga2k6IEtpLFxuICBwYXJlbnRNYXQ/OiBudW1iZXJbXVtdXG4pID0+IHtcbiAgaWYgKGtpID09PSBLaS5FbXB0eSkgcmV0dXJuO1xuXG4gIGNvbnN0IHByZXZpb3VzQm9hcmRTdGF0ZSA9XG4gICAgcGFyZW50TWF0ICE9PSB1bmRlZmluZWRcbiAgICAgID8gcGFyZW50TWF0XG4gICAgICA6IGN1cnJlbnROb2RlLnBhcmVudFxuICAgICAgICA/IGNhbGNNYXRBbmRNYXJrdXAoY3VycmVudE5vZGUucGFyZW50KS5tYXRcbiAgICAgICAgOiBudWxsO1xuXG4gIGxldCBub2RlO1xuICBpZiAoY2FuTW92ZShtYXQsIGksIGosIGtpLCBwcmV2aW91c0JvYXJkU3RhdGUpKSB7XG4gICAgY29uc3QgdmFsdWUgPSBTR0ZfTEVUVEVSU1tpXSArIFNHRl9MRVRURVJTW2pdO1xuICAgIGNvbnN0IHRva2VuID0ga2kgPT09IEtpLkJsYWNrID8gJ0InIDogJ1cnO1xuICAgIGNvbnN0IGhhc2ggPSBjYWxjSGFzaChjdXJyZW50Tm9kZSwgW01vdmVQcm9wLmZyb20oYCR7dG9rZW59WyR7dmFsdWV9XWApXSk7XG4gICAgY29uc3QgZmlsdGVyZWQgPSBjdXJyZW50Tm9kZS5jaGlsZHJlbi5maWx0ZXIoXG4gICAgICAobjogVE5vZGUpID0+IG4ubW9kZWwuaWQgPT09IGhhc2hcbiAgICApO1xuICAgIGlmIChmaWx0ZXJlZC5sZW5ndGggPiAwKSB7XG4gICAgICBub2RlID0gZmlsdGVyZWRbMF07XG4gICAgfSBlbHNlIHtcbiAgICAgIG5vZGUgPSBidWlsZE1vdmVOb2RlKGAke3Rva2VufVske3ZhbHVlfV1gLCBjdXJyZW50Tm9kZSk7XG4gICAgICBjdXJyZW50Tm9kZS5hZGRDaGlsZChub2RlKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG5vZGU7XG59O1xuXG5leHBvcnQgY29uc3QgY2FsY1ByZXZlbnRNb3ZlTWF0Rm9yRGlzcGxheU9ubHkgPSAoXG4gIG5vZGU6IFROb2RlLFxuICBkZWZhdWx0Qm9hcmRTaXplID0gMTlcbikgPT4ge1xuICBpZiAoIW5vZGUpIHJldHVybiB6ZXJvcyhbZGVmYXVsdEJvYXJkU2l6ZSwgZGVmYXVsdEJvYXJkU2l6ZV0pO1xuICBjb25zdCBzaXplID0gZXh0cmFjdEJvYXJkU2l6ZShub2RlLCBkZWZhdWx0Qm9hcmRTaXplKTtcbiAgY29uc3QgcHJldmVudE1vdmVNYXQgPSB6ZXJvcyhbc2l6ZSwgc2l6ZV0pO1xuXG4gIHByZXZlbnRNb3ZlTWF0LmZvckVhY2gocm93ID0+IHJvdy5maWxsKDEpKTtcbiAgaWYgKG5vZGUuaGFzQ2hpbGRyZW4oKSkge1xuICAgIG5vZGUuY2hpbGRyZW4uZm9yRWFjaCgobjogVE5vZGUpID0+IHtcbiAgICAgIG4ubW9kZWwubW92ZVByb3BzLmZvckVhY2goKG06IE1vdmVQcm9wKSA9PiB7XG4gICAgICAgIGNvbnN0IGkgPSBTR0ZfTEVUVEVSUy5pbmRleE9mKG0udmFsdWVbMF0pO1xuICAgICAgICBjb25zdCBqID0gU0dGX0xFVFRFUlMuaW5kZXhPZihtLnZhbHVlWzFdKTtcbiAgICAgICAgaWYgKGkgPj0gMCAmJiBqID49IDAgJiYgaSA8IHNpemUgJiYgaiA8IHNpemUpIHtcbiAgICAgICAgICBwcmV2ZW50TW92ZU1hdFtpXVtqXSA9IDA7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBwcmV2ZW50TW92ZU1hdDtcbn07XG5cbmV4cG9ydCBjb25zdCBjYWxjUHJldmVudE1vdmVNYXQgPSAobm9kZTogVE5vZGUsIGRlZmF1bHRCb2FyZFNpemUgPSAxOSkgPT4ge1xuICBpZiAoIW5vZGUpIHJldHVybiB6ZXJvcyhbZGVmYXVsdEJvYXJkU2l6ZSwgZGVmYXVsdEJvYXJkU2l6ZV0pO1xuICBjb25zdCBzaXplID0gZXh0cmFjdEJvYXJkU2l6ZShub2RlLCBkZWZhdWx0Qm9hcmRTaXplKTtcbiAgY29uc3QgcHJldmVudE1vdmVNYXQgPSB6ZXJvcyhbc2l6ZSwgc2l6ZV0pO1xuICBjb25zdCBmb3JjZU5vZGVzID0gW107XG4gIGxldCBwcmV2ZW50TW92ZU5vZGVzOiBUTm9kZVtdID0gW107XG4gIGlmIChub2RlLmhhc0NoaWxkcmVuKCkpIHtcbiAgICBwcmV2ZW50TW92ZU5vZGVzID0gbm9kZS5jaGlsZHJlbi5maWx0ZXIoKG46IFROb2RlKSA9PiBpc1ByZXZlbnRNb3ZlTm9kZShuKSk7XG4gIH1cblxuICBpZiAoaXNGb3JjZU5vZGUobm9kZSkpIHtcbiAgICBwcmV2ZW50TW92ZU1hdC5mb3JFYWNoKHJvdyA9PiByb3cuZmlsbCgxKSk7XG4gICAgaWYgKG5vZGUuaGFzQ2hpbGRyZW4oKSkge1xuICAgICAgbm9kZS5jaGlsZHJlbi5mb3JFYWNoKChuOiBUTm9kZSkgPT4ge1xuICAgICAgICBuLm1vZGVsLm1vdmVQcm9wcy5mb3JFYWNoKChtOiBNb3ZlUHJvcCkgPT4ge1xuICAgICAgICAgIGNvbnN0IGkgPSBTR0ZfTEVUVEVSUy5pbmRleE9mKG0udmFsdWVbMF0pO1xuICAgICAgICAgIGNvbnN0IGogPSBTR0ZfTEVUVEVSUy5pbmRleE9mKG0udmFsdWVbMV0pO1xuICAgICAgICAgIGlmIChpID49IDAgJiYgaiA+PSAwICYmIGkgPCBzaXplICYmIGogPCBzaXplKSB7XG4gICAgICAgICAgICBwcmV2ZW50TW92ZU1hdFtpXVtqXSA9IDA7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHByZXZlbnRNb3ZlTm9kZXMuZm9yRWFjaCgobjogVE5vZGUpID0+IHtcbiAgICBuLm1vZGVsLm1vdmVQcm9wcy5mb3JFYWNoKChtOiBNb3ZlUHJvcCkgPT4ge1xuICAgICAgY29uc3QgaSA9IFNHRl9MRVRURVJTLmluZGV4T2YobS52YWx1ZVswXSk7XG4gICAgICBjb25zdCBqID0gU0dGX0xFVFRFUlMuaW5kZXhPZihtLnZhbHVlWzFdKTtcbiAgICAgIGlmIChpID49IDAgJiYgaiA+PSAwICYmIGkgPCBzaXplICYmIGogPCBzaXplKSB7XG4gICAgICAgIHByZXZlbnRNb3ZlTWF0W2ldW2pdID0gMTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgcmV0dXJuIHByZXZlbnRNb3ZlTWF0O1xufTtcblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBtYXJrdXAgbWF0cml4IGZvciB2YXJpYXRpb25zIGluIGEgZ2l2ZW4gU0dGIG5vZGUuXG4gKlxuICogQHBhcmFtIG5vZGUgLSBUaGUgU0dGIG5vZGUgdG8gY2FsY3VsYXRlIHRoZSBtYXJrdXAgZm9yLlxuICogQHBhcmFtIHBvbGljeSAtIFRoZSBwb2xpY3kgZm9yIGhhbmRsaW5nIHRoZSBtYXJrdXAuIERlZmF1bHRzIHRvICdhcHBlbmQnLlxuICogQHJldHVybnMgVGhlIGNhbGN1bGF0ZWQgbWFya3VwIGZvciB0aGUgdmFyaWF0aW9ucy5cbiAqL1xuZXhwb3J0IGNvbnN0IGNhbGNWYXJpYXRpb25zTWFya3VwID0gKFxuICBub2RlOiBUTm9kZSxcbiAgcG9saWN5OiAnYXBwZW5kJyB8ICdwcmVwZW5kJyB8ICdyZXBsYWNlJyA9ICdhcHBlbmQnLFxuICBhY3RpdmVJbmRleDogbnVtYmVyID0gMCxcbiAgZGVmYXVsdEJvYXJkU2l6ZSA9IDE5XG4pID0+IHtcbiAgY29uc3QgcmVzID0gY2FsY01hdEFuZE1hcmt1cChub2RlKTtcbiAgY29uc3Qge21hdCwgbWFya3VwfSA9IHJlcztcbiAgY29uc3Qgc2l6ZSA9IGV4dHJhY3RCb2FyZFNpemUobm9kZSwgZGVmYXVsdEJvYXJkU2l6ZSk7XG5cbiAgaWYgKG5vZGUuaGFzQ2hpbGRyZW4oKSkge1xuICAgIG5vZGUuY2hpbGRyZW4uZm9yRWFjaCgobjogVE5vZGUpID0+IHtcbiAgICAgIG4ubW9kZWwubW92ZVByb3BzLmZvckVhY2goKG06IE1vdmVQcm9wKSA9PiB7XG4gICAgICAgIGNvbnN0IGkgPSBTR0ZfTEVUVEVSUy5pbmRleE9mKG0udmFsdWVbMF0pO1xuICAgICAgICBjb25zdCBqID0gU0dGX0xFVFRFUlMuaW5kZXhPZihtLnZhbHVlWzFdKTtcbiAgICAgICAgaWYgKGkgPCAwIHx8IGogPCAwKSByZXR1cm47XG4gICAgICAgIGlmIChpIDwgc2l6ZSAmJiBqIDwgc2l6ZSkge1xuICAgICAgICAgIGxldCBtYXJrID0gTWFya3VwLk5ldXRyYWxOb2RlO1xuICAgICAgICAgIGlmIChpbldyb25nUGF0aChuKSkge1xuICAgICAgICAgICAgbWFyayA9XG4gICAgICAgICAgICAgIG4uZ2V0SW5kZXgoKSA9PT0gYWN0aXZlSW5kZXhcbiAgICAgICAgICAgICAgICA/IE1hcmt1cC5OZWdhdGl2ZUFjdGl2ZU5vZGVcbiAgICAgICAgICAgICAgICA6IE1hcmt1cC5OZWdhdGl2ZU5vZGU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpblJpZ2h0UGF0aChuKSkge1xuICAgICAgICAgICAgbWFyayA9XG4gICAgICAgICAgICAgIG4uZ2V0SW5kZXgoKSA9PT0gYWN0aXZlSW5kZXhcbiAgICAgICAgICAgICAgICA/IE1hcmt1cC5Qb3NpdGl2ZUFjdGl2ZU5vZGVcbiAgICAgICAgICAgICAgICA6IE1hcmt1cC5Qb3NpdGl2ZU5vZGU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChtYXRbaV1bal0gPT09IEtpLkVtcHR5KSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHBvbGljeSkge1xuICAgICAgICAgICAgICBjYXNlICdwcmVwZW5kJzpcbiAgICAgICAgICAgICAgICBtYXJrdXBbaV1bal0gPSBtYXJrICsgJ3wnICsgbWFya3VwW2ldW2pdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlICdyZXBsYWNlJzpcbiAgICAgICAgICAgICAgICBtYXJrdXBbaV1bal0gPSBtYXJrO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlICdhcHBlbmQnOlxuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIG1hcmt1cFtpXVtqXSArPSAnfCcgKyBtYXJrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gbWFya3VwO1xufTtcblxuZXhwb3J0IGNvbnN0IGRldGVjdFNUID0gKG5vZGU6IFROb2RlKSA9PiB7XG4gIC8vIFJlZmVyZW5jZTogaHR0cHM6Ly93d3cucmVkLWJlYW4uY29tL3NnZi9wcm9wZXJ0aWVzLmh0bWwjU1RcbiAgY29uc3Qgcm9vdCA9IG5vZGUuZ2V0UGF0aCgpWzBdO1xuICBjb25zdCBzdFByb3AgPSByb290Lm1vZGVsLnJvb3RQcm9wcy5maW5kKChwOiBSb290UHJvcCkgPT4gcC50b2tlbiA9PT0gJ1NUJyk7XG4gIGxldCBzaG93VmFyaWF0aW9uc01hcmt1cCA9IGZhbHNlO1xuICBsZXQgc2hvd0NoaWxkcmVuTWFya3VwID0gZmFsc2U7XG4gIGxldCBzaG93U2libGluZ3NNYXJrdXAgPSBmYWxzZTtcblxuICBjb25zdCBzdCA9IHN0UHJvcD8udmFsdWUgfHwgJzAnO1xuICBpZiAoc3QpIHtcbiAgICBpZiAoc3QgPT09ICcwJykge1xuICAgICAgc2hvd1NpYmxpbmdzTWFya3VwID0gZmFsc2U7XG4gICAgICBzaG93Q2hpbGRyZW5NYXJrdXAgPSB0cnVlO1xuICAgICAgc2hvd1ZhcmlhdGlvbnNNYXJrdXAgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAoc3QgPT09ICcxJykge1xuICAgICAgc2hvd1NpYmxpbmdzTWFya3VwID0gdHJ1ZTtcbiAgICAgIHNob3dDaGlsZHJlbk1hcmt1cCA9IGZhbHNlO1xuICAgICAgc2hvd1ZhcmlhdGlvbnNNYXJrdXAgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAoc3QgPT09ICcyJykge1xuICAgICAgc2hvd1NpYmxpbmdzTWFya3VwID0gZmFsc2U7XG4gICAgICBzaG93Q2hpbGRyZW5NYXJrdXAgPSB0cnVlO1xuICAgICAgc2hvd1ZhcmlhdGlvbnNNYXJrdXAgPSBmYWxzZTtcbiAgICB9IGVsc2UgaWYgKHN0ID09PSAnMycpIHtcbiAgICAgIHNob3dTaWJsaW5nc01hcmt1cCA9IHRydWU7XG4gICAgICBzaG93Q2hpbGRyZW5NYXJrdXAgPSBmYWxzZTtcbiAgICAgIHNob3dWYXJpYXRpb25zTWFya3VwID0gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB7c2hvd1ZhcmlhdGlvbnNNYXJrdXAsIHNob3dDaGlsZHJlbk1hcmt1cCwgc2hvd1NpYmxpbmdzTWFya3VwfTtcbn07XG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgbWF0IGFuZCBtYXJrdXAgYXJyYXlzIGJhc2VkIG9uIHRoZSBjdXJyZW50Tm9kZSBhbmQgZGVmYXVsdEJvYXJkU2l6ZS5cbiAqIEBwYXJhbSBjdXJyZW50Tm9kZSBUaGUgY3VycmVudCBub2RlIGluIHRoZSB0cmVlLlxuICogQHBhcmFtIGRlZmF1bHRCb2FyZFNpemUgVGhlIGRlZmF1bHQgc2l6ZSBvZiB0aGUgYm9hcmQgKG9wdGlvbmFsLCBkZWZhdWx0IGlzIDE5KS5cbiAqIEByZXR1cm5zIEFuIG9iamVjdCBjb250YWluaW5nIHRoZSBtYXQvdmlzaWJsZUFyZWFNYXQvbWFya3VwL251bU1hcmt1cCBhcnJheXMuXG4gKi9cbmV4cG9ydCBjb25zdCBjYWxjTWF0QW5kTWFya3VwID0gKGN1cnJlbnROb2RlOiBUTm9kZSwgZGVmYXVsdEJvYXJkU2l6ZSA9IDE5KSA9PiB7XG4gIGNvbnN0IHBhdGggPSBjdXJyZW50Tm9kZS5nZXRQYXRoKCk7XG4gIGNvbnN0IHJvb3QgPSBwYXRoWzBdO1xuXG4gIGxldCBsaSwgbGo7XG4gIGxldCBzZXR1cENvdW50ID0gMDtcbiAgY29uc3Qgc2l6ZSA9IGV4dHJhY3RCb2FyZFNpemUoY3VycmVudE5vZGUsIGRlZmF1bHRCb2FyZFNpemUpO1xuICBsZXQgbWF0ID0gemVyb3MoW3NpemUsIHNpemVdKTtcbiAgY29uc3QgdmlzaWJsZUFyZWFNYXQgPSB6ZXJvcyhbc2l6ZSwgc2l6ZV0pO1xuICBjb25zdCBtYXJrdXAgPSBlbXB0eShbc2l6ZSwgc2l6ZV0pO1xuICBjb25zdCBudW1NYXJrdXAgPSBlbXB0eShbc2l6ZSwgc2l6ZV0pO1xuXG4gIHBhdGguZm9yRWFjaCgobm9kZSwgaW5kZXgpID0+IHtcbiAgICBjb25zdCB7bW92ZVByb3BzLCBzZXR1cFByb3BzLCByb290UHJvcHN9ID0gbm9kZS5tb2RlbDtcbiAgICBpZiAoc2V0dXBQcm9wcy5sZW5ndGggPiAwKSBzZXR1cENvdW50ICs9IDE7XG5cbiAgICBtb3ZlUHJvcHMuZm9yRWFjaCgobTogTW92ZVByb3ApID0+IHtcbiAgICAgIGNvbnN0IGkgPSBTR0ZfTEVUVEVSUy5pbmRleE9mKG0udmFsdWVbMF0pO1xuICAgICAgY29uc3QgaiA9IFNHRl9MRVRURVJTLmluZGV4T2YobS52YWx1ZVsxXSk7XG4gICAgICBpZiAoaSA8IDAgfHwgaiA8IDApIHJldHVybjtcbiAgICAgIGlmIChpIDwgc2l6ZSAmJiBqIDwgc2l6ZSkge1xuICAgICAgICBsaSA9IGk7XG4gICAgICAgIGxqID0gajtcbiAgICAgICAgbWF0ID0gbW92ZShtYXQsIGksIGosIG0udG9rZW4gPT09ICdCJyA/IEtpLkJsYWNrIDogS2kuV2hpdGUpO1xuXG4gICAgICAgIGlmIChsaSAhPT0gdW5kZWZpbmVkICYmIGxqICE9PSB1bmRlZmluZWQgJiYgbGkgPj0gMCAmJiBsaiA+PSAwKSB7XG4gICAgICAgICAgbnVtTWFya3VwW2xpXVtsal0gPSAoXG4gICAgICAgICAgICBub2RlLm1vZGVsLm51bWJlciB8fCBpbmRleCAtIHNldHVwQ291bnRcbiAgICAgICAgICApLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW5kZXggPT09IHBhdGgubGVuZ3RoIC0gMSkge1xuICAgICAgICAgIG1hcmt1cFtsaV1bbGpdID0gTWFya3VwLkN1cnJlbnQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIFNldHVwIHByb3BzIHNob3VsZCBvdmVycmlkZSBtb3ZlIHByb3BzXG4gICAgc2V0dXBQcm9wcy5mb3JFYWNoKChzZXR1cDogYW55KSA9PiB7XG4gICAgICBzZXR1cC52YWx1ZXMuZm9yRWFjaCgodmFsdWU6IGFueSkgPT4ge1xuICAgICAgICBjb25zdCBpID0gU0dGX0xFVFRFUlMuaW5kZXhPZih2YWx1ZVswXSk7XG4gICAgICAgIGNvbnN0IGogPSBTR0ZfTEVUVEVSUy5pbmRleE9mKHZhbHVlWzFdKTtcbiAgICAgICAgaWYgKGkgPCAwIHx8IGogPCAwKSByZXR1cm47XG4gICAgICAgIGlmIChpIDwgc2l6ZSAmJiBqIDwgc2l6ZSkge1xuICAgICAgICAgIGxpID0gaTtcbiAgICAgICAgICBsaiA9IGo7XG4gICAgICAgICAgbWF0W2ldW2pdID0gc2V0dXAudG9rZW4gPT09ICdBQicgPyAxIDogLTE7XG4gICAgICAgICAgaWYgKHNldHVwLnRva2VuID09PSAnQUUnKSBtYXRbaV1bal0gPSAwO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8vIElmIHRoZSByb290IG5vZGUgZG9lcyBub3QgaW5jbHVkZSBhbnkgc2V0dXAgcHJvcGVydGllc1xuICAgIC8vIGNoZWNrIHdoZXRoZXIgaXRzIGZpcnN0IGNoaWxkIGlzIGEgc2V0dXAgbm9kZSAoaS5lLiwgYSBub24tbW92ZSBub2RlKVxuICAgIC8vIGFuZCBhcHBseSBpdHMgc2V0dXAgcHJvcGVydGllcyBpbnN0ZWFkXG4gICAgaWYgKHNldHVwUHJvcHMubGVuZ3RoID09PSAwICYmIGN1cnJlbnROb2RlLmlzUm9vdCgpKSB7XG4gICAgICBjb25zdCBmaXJzdENoaWxkTm9kZSA9IGN1cnJlbnROb2RlLmNoaWxkcmVuWzBdO1xuICAgICAgaWYgKFxuICAgICAgICBmaXJzdENoaWxkTm9kZSAmJlxuICAgICAgICBpc1NldHVwTm9kZShmaXJzdENoaWxkTm9kZSkgJiZcbiAgICAgICAgIWlzTW92ZU5vZGUoZmlyc3RDaGlsZE5vZGUpXG4gICAgICApIHtcbiAgICAgICAgY29uc3Qgc2V0dXBQcm9wcyA9IGZpcnN0Q2hpbGROb2RlLm1vZGVsLnNldHVwUHJvcHM7XG4gICAgICAgIHNldHVwUHJvcHMuZm9yRWFjaCgoc2V0dXA6IGFueSkgPT4ge1xuICAgICAgICAgIHNldHVwLnZhbHVlcy5mb3JFYWNoKCh2YWx1ZTogYW55KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpID0gU0dGX0xFVFRFUlMuaW5kZXhPZih2YWx1ZVswXSk7XG4gICAgICAgICAgICBjb25zdCBqID0gU0dGX0xFVFRFUlMuaW5kZXhPZih2YWx1ZVsxXSk7XG4gICAgICAgICAgICBpZiAoaSA8IDAgfHwgaiA8IDApIHJldHVybjtcbiAgICAgICAgICAgIGlmIChpIDwgc2l6ZSAmJiBqIDwgc2l6ZSkge1xuICAgICAgICAgICAgICBsaSA9IGk7XG4gICAgICAgICAgICAgIGxqID0gajtcbiAgICAgICAgICAgICAgbWF0W2ldW2pdID0gc2V0dXAudG9rZW4gPT09ICdBQicgPyAxIDogLTE7XG4gICAgICAgICAgICAgIGlmIChzZXR1cC50b2tlbiA9PT0gJ0FFJykgbWF0W2ldW2pdID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2xlYXIgbnVtYmVyIHdoZW4gc3RvbmVzIGFyZSBjYXB0dXJlZFxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHNpemU7IGorKykge1xuICAgICAgICBpZiAobWF0W2ldW2pdID09PSAwKSBudW1NYXJrdXBbaV1bal0gPSAnJztcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIC8vIENhbGN1bGF0aW5nIHRoZSB2aXNpYmxlIGFyZWFcbiAgaWYgKHJvb3QpIHtcbiAgICByb290LmFsbCgobm9kZTogVE5vZGUpID0+IHtcbiAgICAgIGNvbnN0IHttb3ZlUHJvcHMsIHNldHVwUHJvcHMsIHJvb3RQcm9wc30gPSBub2RlLm1vZGVsO1xuICAgICAgaWYgKHNldHVwUHJvcHMubGVuZ3RoID4gMCkgc2V0dXBDb3VudCArPSAxO1xuICAgICAgc2V0dXBQcm9wcy5mb3JFYWNoKChzZXR1cDogYW55KSA9PiB7XG4gICAgICAgIHNldHVwLnZhbHVlcy5mb3JFYWNoKCh2YWx1ZTogYW55KSA9PiB7XG4gICAgICAgICAgY29uc3QgaSA9IFNHRl9MRVRURVJTLmluZGV4T2YodmFsdWVbMF0pO1xuICAgICAgICAgIGNvbnN0IGogPSBTR0ZfTEVUVEVSUy5pbmRleE9mKHZhbHVlWzFdKTtcbiAgICAgICAgICBpZiAoaSA+PSAwICYmIGogPj0gMCAmJiBpIDwgc2l6ZSAmJiBqIDwgc2l6ZSkge1xuICAgICAgICAgICAgdmlzaWJsZUFyZWFNYXRbaV1bal0gPSBLaS5CbGFjaztcbiAgICAgICAgICAgIGlmIChzZXR1cC50b2tlbiA9PT0gJ0FFJykgdmlzaWJsZUFyZWFNYXRbaV1bal0gPSAwO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgbW92ZVByb3BzLmZvckVhY2goKG06IE1vdmVQcm9wKSA9PiB7XG4gICAgICAgIGNvbnN0IGkgPSBTR0ZfTEVUVEVSUy5pbmRleE9mKG0udmFsdWVbMF0pO1xuICAgICAgICBjb25zdCBqID0gU0dGX0xFVFRFUlMuaW5kZXhPZihtLnZhbHVlWzFdKTtcbiAgICAgICAgaWYgKGkgPj0gMCAmJiBqID49IDAgJiYgaSA8IHNpemUgJiYgaiA8IHNpemUpIHtcbiAgICAgICAgICB2aXNpYmxlQXJlYU1hdFtpXVtqXSA9IEtpLkJsYWNrO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSk7XG4gIH1cblxuICBjb25zdCBtYXJrdXBQcm9wcyA9IGN1cnJlbnROb2RlLm1vZGVsLm1hcmt1cFByb3BzO1xuICBtYXJrdXBQcm9wcy5mb3JFYWNoKChtOiBNYXJrdXBQcm9wKSA9PiB7XG4gICAgY29uc3QgdG9rZW4gPSBtLnRva2VuO1xuICAgIGNvbnN0IHZhbHVlcyA9IG0udmFsdWVzO1xuICAgIHZhbHVlcy5mb3JFYWNoKHZhbHVlID0+IHtcbiAgICAgIGNvbnN0IGkgPSBTR0ZfTEVUVEVSUy5pbmRleE9mKHZhbHVlWzBdKTtcbiAgICAgIGNvbnN0IGogPSBTR0ZfTEVUVEVSUy5pbmRleE9mKHZhbHVlWzFdKTtcbiAgICAgIGlmIChpIDwgMCB8fCBqIDwgMCkgcmV0dXJuO1xuICAgICAgaWYgKGkgPCBzaXplICYmIGogPCBzaXplKSB7XG4gICAgICAgIGxldCBtYXJrO1xuICAgICAgICBzd2l0Y2ggKHRva2VuKSB7XG4gICAgICAgICAgY2FzZSAnQ1InOlxuICAgICAgICAgICAgbWFyayA9IE1hcmt1cC5DaXJjbGU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdTUSc6XG4gICAgICAgICAgICBtYXJrID0gTWFya3VwLlNxdWFyZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ1RSJzpcbiAgICAgICAgICAgIG1hcmsgPSBNYXJrdXAuVHJpYW5nbGU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdNQSc6XG4gICAgICAgICAgICBtYXJrID0gTWFya3VwLkNyb3NzO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgbWFyayA9IHZhbHVlLnNwbGl0KCc6JylbMV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG1hcmt1cFtpXVtqXSA9IG1hcms7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIGlmIChcbiAgLy8gICBsaSAhPT0gdW5kZWZpbmVkICYmXG4gIC8vICAgbGogIT09IHVuZGVmaW5lZCAmJlxuICAvLyAgIGxpID49IDAgJiZcbiAgLy8gICBsaiA+PSAwICYmXG4gIC8vICAgIW1hcmt1cFtsaV1bbGpdXG4gIC8vICkge1xuICAvLyAgIG1hcmt1cFtsaV1bbGpdID0gTWFya3VwLkN1cnJlbnQ7XG4gIC8vIH1cblxuICByZXR1cm4ge21hdCwgdmlzaWJsZUFyZWFNYXQsIG1hcmt1cCwgbnVtTWFya3VwfTtcbn07XG5cbi8qKlxuICogRmluZHMgYSBwcm9wZXJ0eSBpbiB0aGUgZ2l2ZW4gbm9kZSBiYXNlZCBvbiB0aGUgcHJvdmlkZWQgdG9rZW4uXG4gKiBAcGFyYW0gbm9kZSBUaGUgbm9kZSB0byBzZWFyY2ggZm9yIHRoZSBwcm9wZXJ0eS5cbiAqIEBwYXJhbSB0b2tlbiBUaGUgdG9rZW4gb2YgdGhlIHByb3BlcnR5IHRvIGZpbmQuXG4gKiBAcmV0dXJucyBUaGUgZm91bmQgcHJvcGVydHkgb3IgbnVsbCBpZiBub3QgZm91bmQuXG4gKi9cbmV4cG9ydCBjb25zdCBmaW5kUHJvcCA9IChub2RlOiBUTm9kZSwgdG9rZW46IHN0cmluZykgPT4ge1xuICBpZiAoIW5vZGUpIHJldHVybjtcbiAgaWYgKE1PVkVfUFJPUF9MSVNULmluY2x1ZGVzKHRva2VuKSkge1xuICAgIHJldHVybiBub2RlLm1vZGVsLm1vdmVQcm9wcy5maW5kKChwOiBNb3ZlUHJvcCkgPT4gcC50b2tlbiA9PT0gdG9rZW4pO1xuICB9XG4gIGlmIChOT0RFX0FOTk9UQVRJT05fUFJPUF9MSVNULmluY2x1ZGVzKHRva2VuKSkge1xuICAgIHJldHVybiBub2RlLm1vZGVsLm5vZGVBbm5vdGF0aW9uUHJvcHMuZmluZChcbiAgICAgIChwOiBOb2RlQW5ub3RhdGlvblByb3ApID0+IHAudG9rZW4gPT09IHRva2VuXG4gICAgKTtcbiAgfVxuICBpZiAoTU9WRV9BTk5PVEFUSU9OX1BST1BfTElTVC5pbmNsdWRlcyh0b2tlbikpIHtcbiAgICByZXR1cm4gbm9kZS5tb2RlbC5tb3ZlQW5ub3RhdGlvblByb3BzLmZpbmQoXG4gICAgICAocDogTW92ZUFubm90YXRpb25Qcm9wKSA9PiBwLnRva2VuID09PSB0b2tlblxuICAgICk7XG4gIH1cbiAgaWYgKFJPT1RfUFJPUF9MSVNULmluY2x1ZGVzKHRva2VuKSkge1xuICAgIHJldHVybiBub2RlLm1vZGVsLnJvb3RQcm9wcy5maW5kKChwOiBSb290UHJvcCkgPT4gcC50b2tlbiA9PT0gdG9rZW4pO1xuICB9XG4gIGlmIChTRVRVUF9QUk9QX0xJU1QuaW5jbHVkZXModG9rZW4pKSB7XG4gICAgcmV0dXJuIG5vZGUubW9kZWwuc2V0dXBQcm9wcy5maW5kKChwOiBTZXR1cFByb3ApID0+IHAudG9rZW4gPT09IHRva2VuKTtcbiAgfVxuICBpZiAoTUFSS1VQX1BST1BfTElTVC5pbmNsdWRlcyh0b2tlbikpIHtcbiAgICByZXR1cm4gbm9kZS5tb2RlbC5tYXJrdXBQcm9wcy5maW5kKChwOiBNYXJrdXBQcm9wKSA9PiBwLnRva2VuID09PSB0b2tlbik7XG4gIH1cbiAgaWYgKEdBTUVfSU5GT19QUk9QX0xJU1QuaW5jbHVkZXModG9rZW4pKSB7XG4gICAgcmV0dXJuIG5vZGUubW9kZWwuZ2FtZUluZm9Qcm9wcy5maW5kKFxuICAgICAgKHA6IEdhbWVJbmZvUHJvcCkgPT4gcC50b2tlbiA9PT0gdG9rZW5cbiAgICApO1xuICB9XG4gIHJldHVybiBudWxsO1xufTtcblxuLyoqXG4gKiBGaW5kcyBwcm9wZXJ0aWVzIGluIGEgZ2l2ZW4gbm9kZSBiYXNlZCBvbiB0aGUgcHJvdmlkZWQgdG9rZW4uXG4gKiBAcGFyYW0gbm9kZSAtIFRoZSBub2RlIHRvIHNlYXJjaCBmb3IgcHJvcGVydGllcy5cbiAqIEBwYXJhbSB0b2tlbiAtIFRoZSB0b2tlbiB0byBtYXRjaCBhZ2FpbnN0IHRoZSBwcm9wZXJ0aWVzLlxuICogQHJldHVybnMgQW4gYXJyYXkgb2YgcHJvcGVydGllcyB0aGF0IG1hdGNoIHRoZSBwcm92aWRlZCB0b2tlbi5cbiAqL1xuZXhwb3J0IGNvbnN0IGZpbmRQcm9wcyA9IChub2RlOiBUTm9kZSwgdG9rZW46IHN0cmluZykgPT4ge1xuICBpZiAoTU9WRV9QUk9QX0xJU1QuaW5jbHVkZXModG9rZW4pKSB7XG4gICAgcmV0dXJuIG5vZGUubW9kZWwubW92ZVByb3BzLmZpbHRlcigocDogTW92ZVByb3ApID0+IHAudG9rZW4gPT09IHRva2VuKTtcbiAgfVxuICBpZiAoTk9ERV9BTk5PVEFUSU9OX1BST1BfTElTVC5pbmNsdWRlcyh0b2tlbikpIHtcbiAgICByZXR1cm4gbm9kZS5tb2RlbC5ub2RlQW5ub3RhdGlvblByb3BzLmZpbHRlcihcbiAgICAgIChwOiBOb2RlQW5ub3RhdGlvblByb3ApID0+IHAudG9rZW4gPT09IHRva2VuXG4gICAgKTtcbiAgfVxuICBpZiAoTU9WRV9BTk5PVEFUSU9OX1BST1BfTElTVC5pbmNsdWRlcyh0b2tlbikpIHtcbiAgICByZXR1cm4gbm9kZS5tb2RlbC5tb3ZlQW5ub3RhdGlvblByb3BzLmZpbHRlcihcbiAgICAgIChwOiBNb3ZlQW5ub3RhdGlvblByb3ApID0+IHAudG9rZW4gPT09IHRva2VuXG4gICAgKTtcbiAgfVxuICBpZiAoUk9PVF9QUk9QX0xJU1QuaW5jbHVkZXModG9rZW4pKSB7XG4gICAgcmV0dXJuIG5vZGUubW9kZWwucm9vdFByb3BzLmZpbHRlcigocDogUm9vdFByb3ApID0+IHAudG9rZW4gPT09IHRva2VuKTtcbiAgfVxuICBpZiAoU0VUVVBfUFJPUF9MSVNULmluY2x1ZGVzKHRva2VuKSkge1xuICAgIHJldHVybiBub2RlLm1vZGVsLnNldHVwUHJvcHMuZmlsdGVyKChwOiBTZXR1cFByb3ApID0+IHAudG9rZW4gPT09IHRva2VuKTtcbiAgfVxuICBpZiAoTUFSS1VQX1BST1BfTElTVC5pbmNsdWRlcyh0b2tlbikpIHtcbiAgICByZXR1cm4gbm9kZS5tb2RlbC5tYXJrdXBQcm9wcy5maWx0ZXIoKHA6IE1hcmt1cFByb3ApID0+IHAudG9rZW4gPT09IHRva2VuKTtcbiAgfVxuICBpZiAoR0FNRV9JTkZPX1BST1BfTElTVC5pbmNsdWRlcyh0b2tlbikpIHtcbiAgICByZXR1cm4gbm9kZS5tb2RlbC5nYW1lSW5mb1Byb3BzLmZpbHRlcihcbiAgICAgIChwOiBHYW1lSW5mb1Byb3ApID0+IHAudG9rZW4gPT09IHRva2VuXG4gICAgKTtcbiAgfVxuICByZXR1cm4gW107XG59O1xuXG5leHBvcnQgY29uc3QgZ2VuTW92ZSA9IChcbiAgbm9kZTogVE5vZGUsXG4gIG9uUmlnaHQ6IChwYXRoOiBzdHJpbmcpID0+IHZvaWQsXG4gIG9uV3Jvbmc6IChwYXRoOiBzdHJpbmcpID0+IHZvaWQsXG4gIG9uVmFyaWFudDogKHBhdGg6IHN0cmluZykgPT4gdm9pZCxcbiAgb25PZmZQYXRoOiAocGF0aDogc3RyaW5nKSA9PiB2b2lkXG4pOiBUTm9kZSB8IHVuZGVmaW5lZCA9PiB7XG4gIGxldCBuZXh0Tm9kZTtcbiAgY29uc3QgZ2V0UGF0aCA9IChub2RlOiBUTm9kZSkgPT4ge1xuICAgIGNvbnN0IG5ld1BhdGggPSBjb21wYWN0KFxuICAgICAgbm9kZS5nZXRQYXRoKCkubWFwKG4gPT4gbi5tb2RlbC5tb3ZlUHJvcHNbMF0/LnRvU3RyaW5nKCkpXG4gICAgKS5qb2luKCc7Jyk7XG4gICAgcmV0dXJuIG5ld1BhdGg7XG4gIH07XG5cbiAgY29uc3QgY2hlY2tSZXN1bHQgPSAobm9kZTogVE5vZGUpID0+IHtcbiAgICBpZiAobm9kZS5oYXNDaGlsZHJlbigpKSByZXR1cm47XG5cbiAgICBjb25zdCBwYXRoID0gZ2V0UGF0aChub2RlKTtcbiAgICBpZiAoaXNSaWdodE5vZGUobm9kZSkpIHtcbiAgICAgIGlmIChvblJpZ2h0KSBvblJpZ2h0KHBhdGgpO1xuICAgIH0gZWxzZSBpZiAoaXNWYXJpYW50Tm9kZShub2RlKSkge1xuICAgICAgaWYgKG9uVmFyaWFudCkgb25WYXJpYW50KHBhdGgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAob25Xcm9uZykgb25Xcm9uZyhwYXRoKTtcbiAgICB9XG4gIH07XG5cbiAgaWYgKG5vZGUuaGFzQ2hpbGRyZW4oKSkge1xuICAgIGNvbnN0IHJpZ2h0Tm9kZXMgPSBub2RlLmNoaWxkcmVuLmZpbHRlcigobjogVE5vZGUpID0+IGluUmlnaHRQYXRoKG4pKTtcbiAgICBjb25zdCB3cm9uZ05vZGVzID0gbm9kZS5jaGlsZHJlbi5maWx0ZXIoKG46IFROb2RlKSA9PiBpbldyb25nUGF0aChuKSk7XG4gICAgY29uc3QgdmFyaWFudE5vZGVzID0gbm9kZS5jaGlsZHJlbi5maWx0ZXIoKG46IFROb2RlKSA9PiBpblZhcmlhbnRQYXRoKG4pKTtcblxuICAgIG5leHROb2RlID0gbm9kZTtcblxuICAgIGlmIChpblJpZ2h0UGF0aChub2RlKSAmJiByaWdodE5vZGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIG5leHROb2RlID0gc2FtcGxlKHJpZ2h0Tm9kZXMpO1xuICAgIH0gZWxzZSBpZiAoaW5Xcm9uZ1BhdGgobm9kZSkgJiYgd3JvbmdOb2Rlcy5sZW5ndGggPiAwKSB7XG4gICAgICBuZXh0Tm9kZSA9IHNhbXBsZSh3cm9uZ05vZGVzKTtcbiAgICB9IGVsc2UgaWYgKGluVmFyaWFudFBhdGgobm9kZSkgJiYgdmFyaWFudE5vZGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIG5leHROb2RlID0gc2FtcGxlKHZhcmlhbnROb2Rlcyk7XG4gICAgfSBlbHNlIGlmIChpc1JpZ2h0Tm9kZShub2RlKSkge1xuICAgICAgb25SaWdodChnZXRQYXRoKG5leHROb2RlKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9uV3JvbmcoZ2V0UGF0aChuZXh0Tm9kZSkpO1xuICAgIH1cbiAgICBpZiAobmV4dE5vZGUpIGNoZWNrUmVzdWx0KG5leHROb2RlKTtcbiAgfSBlbHNlIHtcbiAgICBjaGVja1Jlc3VsdChub2RlKTtcbiAgfVxuICByZXR1cm4gbmV4dE5vZGU7XG59O1xuXG5leHBvcnQgY29uc3QgZXh0cmFjdEJvYXJkU2l6ZSA9IChub2RlOiBUTm9kZSwgZGVmYXVsdEJvYXJkU2l6ZSA9IDE5KSA9PiB7XG4gIGNvbnN0IHJvb3QgPSBub2RlLmdldFBhdGgoKVswXTtcbiAgY29uc3Qgc2l6ZSA9IE1hdGgubWluKFxuICAgIHBhcnNlSW50KFN0cmluZyhmaW5kUHJvcChyb290LCAnU1onKT8udmFsdWUgfHwgZGVmYXVsdEJvYXJkU2l6ZSkpLFxuICAgIE1BWF9CT0FSRF9TSVpFXG4gICk7XG4gIHJldHVybiBzaXplO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldEZpcnN0VG9Nb3ZlQ29sb3JGcm9tUm9vdCA9IChcbiAgcm9vdDogVE5vZGUgfCB1bmRlZmluZWQgfCBudWxsLFxuICBkZWZhdWx0TW92ZUNvbG9yOiBLaSA9IEtpLkJsYWNrXG4pID0+IHtcbiAgaWYgKHJvb3QpIHtcbiAgICBjb25zdCBzZXR1cE5vZGUgPSByb290LmZpcnN0KG4gPT4gaXNTZXR1cE5vZGUobikpO1xuICAgIGlmIChzZXR1cE5vZGUpIHtcbiAgICAgIGNvbnN0IGZpcnN0TW92ZU5vZGUgPSBzZXR1cE5vZGUuZmlyc3QobiA9PiBpc01vdmVOb2RlKG4pKTtcbiAgICAgIGlmICghZmlyc3RNb3ZlTm9kZSkgcmV0dXJuIGRlZmF1bHRNb3ZlQ29sb3I7XG4gICAgICByZXR1cm4gZ2V0TW92ZUNvbG9yKGZpcnN0TW92ZU5vZGUpO1xuICAgIH1cbiAgfVxuICAvLyBjb25zb2xlLndhcm4oJ0RlZmF1bHQgZmlyc3QgdG8gbW92ZSBjb2xvcicsIGRlZmF1bHRNb3ZlQ29sb3IpO1xuICByZXR1cm4gZGVmYXVsdE1vdmVDb2xvcjtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRGaXJzdFRvTW92ZUNvbG9yRnJvbVNnZiA9IChcbiAgc2dmOiBzdHJpbmcsXG4gIGRlZmF1bHRNb3ZlQ29sb3I6IEtpID0gS2kuQmxhY2tcbikgPT4ge1xuICBjb25zdCBzZ2ZQYXJzZXIgPSBuZXcgU2dmKHNnZik7XG4gIGlmIChzZ2ZQYXJzZXIucm9vdClcbiAgICBnZXRGaXJzdFRvTW92ZUNvbG9yRnJvbVJvb3Qoc2dmUGFyc2VyLnJvb3QsIGRlZmF1bHRNb3ZlQ29sb3IpO1xuICAvLyBjb25zb2xlLndhcm4oJ0RlZmF1bHQgZmlyc3QgdG8gbW92ZSBjb2xvcicsIGRlZmF1bHRNb3ZlQ29sb3IpO1xuICByZXR1cm4gZGVmYXVsdE1vdmVDb2xvcjtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRNb3ZlQ29sb3IgPSAobm9kZTogVE5vZGUsIGRlZmF1bHRNb3ZlQ29sb3I6IEtpID0gS2kuQmxhY2spID0+IHtcbiAgY29uc3QgbW92ZVByb3AgPSBub2RlLm1vZGVsPy5tb3ZlUHJvcHM/LlswXTtcbiAgc3dpdGNoIChtb3ZlUHJvcD8udG9rZW4pIHtcbiAgICBjYXNlICdXJzpcbiAgICAgIHJldHVybiBLaS5XaGl0ZTtcbiAgICBjYXNlICdCJzpcbiAgICAgIHJldHVybiBLaS5CbGFjaztcbiAgICBkZWZhdWx0OlxuICAgICAgLy8gY29uc29sZS53YXJuKCdEZWZhdWx0IG1vdmUgY29sb3IgaXMnLCBkZWZhdWx0TW92ZUNvbG9yKTtcbiAgICAgIHJldHVybiBkZWZhdWx0TW92ZUNvbG9yO1xuICB9XG59O1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RvbmUge1xuICBwcm90ZWN0ZWQgZ2xvYmFsQWxwaGEgPSAxO1xuICBwcm90ZWN0ZWQgc2l6ZSA9IDA7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJvdGVjdGVkIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELFxuICAgIHByb3RlY3RlZCB4OiBudW1iZXIsXG4gICAgcHJvdGVjdGVkIHk6IG51bWJlcixcbiAgICBwcm90ZWN0ZWQga2k6IG51bWJlclxuICApIHt9XG4gIGRyYXcoKSB7XG4gICAgLy8gQmFzZSBkcmF3IG1ldGhvZCAtIHRvIGJlIGltcGxlbWVudGVkIGJ5IHN1YmNsYXNzZXNcbiAgfVxuXG4gIHNldEdsb2JhbEFscGhhKGFscGhhOiBudW1iZXIpIHtcbiAgICB0aGlzLmdsb2JhbEFscGhhID0gYWxwaGE7XG4gIH1cblxuICBzZXRTaXplKHNpemU6IG51bWJlcikge1xuICAgIHRoaXMuc2l6ZSA9IHNpemU7XG4gIH1cbn1cbiIsImltcG9ydCBTdG9uZSBmcm9tICcuL2Jhc2UnO1xuaW1wb3J0IHtLaSwgVGhlbWVDb25maWcsIFRoZW1lQ29udGV4dH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHtCQVNFX1RIRU1FX0NPTkZJR30gZnJvbSAnLi4vY29uc3QnO1xuXG5leHBvcnQgY2xhc3MgRmxhdFN0b25lIGV4dGVuZHMgU3RvbmUge1xuICBwcm90ZWN0ZWQgdGhlbWVDb250ZXh0PzogVGhlbWVDb250ZXh0O1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELFxuICAgIHg6IG51bWJlcixcbiAgICB5OiBudW1iZXIsXG4gICAga2k6IG51bWJlcixcbiAgICB0aGVtZUNvbnRleHQ/OiBUaGVtZUNvbnRleHRcbiAgKSB7XG4gICAgc3VwZXIoY3R4LCB4LCB5LCBraSk7XG4gICAgdGhpcy50aGVtZUNvbnRleHQgPSB0aGVtZUNvbnRleHQ7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGEgdGhlbWUgcHJvcGVydHkgdmFsdWUgd2l0aCBmYWxsYmFja1xuICAgKi9cbiAgcHJvdGVjdGVkIGdldFRoZW1lUHJvcGVydHk8SyBleHRlbmRzIGtleW9mIFRoZW1lQ29uZmlnPihcbiAgICBrZXk6IEtcbiAgKTogVGhlbWVDb25maWdbS10ge1xuICAgIGlmICghdGhpcy50aGVtZUNvbnRleHQpIHtcbiAgICAgIHJldHVybiBCQVNFX1RIRU1FX0NPTkZJR1trZXldO1xuICAgIH1cblxuICAgIGNvbnN0IHt0aGVtZSwgdGhlbWVPcHRpb25zfSA9IHRoaXMudGhlbWVDb250ZXh0O1xuICAgIGNvbnN0IHRoZW1lU3BlY2lmaWMgPSB0aGVtZU9wdGlvbnNbdGhlbWVdO1xuICAgIGNvbnN0IGRlZmF1bHRDb25maWcgPSB0aGVtZU9wdGlvbnMuZGVmYXVsdDtcblxuICAgIC8vIFRyeSB0aGVtZS1zcGVjaWZpYyB2YWx1ZSBmaXJzdCwgdGhlbiBkZWZhdWx0XG4gICAgY29uc3QgcmVzdWx0ID0gKHRoZW1lU3BlY2lmaWM/LltrZXldID8/XG4gICAgICBkZWZhdWx0Q29uZmlnW2tleV0pIGFzIFRoZW1lQ29uZmlnW0tdO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBkcmF3KCkge1xuICAgIGNvbnN0IHtjdHgsIHgsIHksIHNpemUsIGtpLCBnbG9iYWxBbHBoYX0gPSB0aGlzO1xuICAgIGlmIChzaXplIDw9IDApIHJldHVybjtcbiAgICBjdHguc2F2ZSgpO1xuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHguZ2xvYmFsQWxwaGEgPSBnbG9iYWxBbHBoYTtcbiAgICBjdHguYXJjKHgsIHksIHNpemUgLyAyLCAwLCAyICogTWF0aC5QSSwgdHJ1ZSk7XG4gICAgY3R4LmxpbmVXaWR0aCA9IDE7XG4gICAgY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5nZXRUaGVtZVByb3BlcnR5KCdib2FyZExpbmVDb2xvcicpO1xuICAgIGlmIChraSA9PT0gS2kuQmxhY2spIHtcbiAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmdldFRoZW1lUHJvcGVydHkoJ2ZsYXRCbGFja0NvbG9yJyk7XG4gICAgfSBlbHNlIGlmIChraSA9PT0gS2kuV2hpdGUpIHtcbiAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmdldFRoZW1lUHJvcGVydHkoJ2ZsYXRXaGl0ZUNvbG9yJyk7XG4gICAgfVxuICAgIGN0eC5maWxsKCk7XG4gICAgY3R4LnN0cm9rZSgpO1xuICAgIGN0eC5yZXN0b3JlKCk7XG4gIH1cbn1cbiIsImltcG9ydCBTdG9uZSBmcm9tICcuL2Jhc2UnO1xuaW1wb3J0IHtLaSwgVGhlbWVDb250ZXh0fSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQge0ZsYXRTdG9uZX0gZnJvbSAnLi9GbGF0U3RvbmUnO1xuXG5leHBvcnQgY2xhc3MgSW1hZ2VTdG9uZSBleHRlbmRzIFN0b25lIHtcbiAgcHJpdmF0ZSBmYWxsYmFja1N0b25lPzogRmxhdFN0b25lO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELFxuICAgIHg6IG51bWJlcixcbiAgICB5OiBudW1iZXIsXG4gICAga2k6IG51bWJlcixcbiAgICBwcml2YXRlIG1vZDogbnVtYmVyLFxuICAgIHByaXZhdGUgYmxhY2tzOiBhbnksXG4gICAgcHJpdmF0ZSB3aGl0ZXM6IGFueSxcbiAgICBwcml2YXRlIHRoZW1lQ29udGV4dD86IFRoZW1lQ29udGV4dFxuICApIHtcbiAgICBzdXBlcihjdHgsIHgsIHksIGtpKTtcblxuICAgIC8vIENyZWF0ZSBGbGF0U3RvbmUgYXMgZmFsbGJhY2sgb3B0aW9uXG4gICAgaWYgKHRoZW1lQ29udGV4dCkge1xuICAgICAgdGhpcy5mYWxsYmFja1N0b25lID0gbmV3IEZsYXRTdG9uZShjdHgsIHgsIHksIGtpLCB0aGVtZUNvbnRleHQpO1xuICAgIH1cbiAgfVxuXG4gIGRyYXcoKSB7XG4gICAgY29uc3Qge2N0eCwgeCwgeSwgc2l6ZSwga2ksIGJsYWNrcywgd2hpdGVzLCBtb2R9ID0gdGhpcztcbiAgICBpZiAoc2l6ZSA8PSAwKSByZXR1cm47XG5cbiAgICBsZXQgaW1nO1xuICAgIGlmIChraSA9PT0gS2kuQmxhY2spIHtcbiAgICAgIGltZyA9IGJsYWNrc1ttb2QgJSBibGFja3MubGVuZ3RoXTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW1nID0gd2hpdGVzW21vZCAlIHdoaXRlcy5sZW5ndGhdO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIGltYWdlIGlzIGxvYWRlZCBjb21wbGV0ZWx5XG4gICAgaWYgKGltZyAmJiBpbWcuY29tcGxldGUgJiYgaW1nLm5hdHVyYWxIZWlnaHQgIT09IDApIHtcbiAgICAgIC8vIEltYWdlIGxvYWRlZCwgcmVuZGVyIHdpdGggaW1hZ2VcbiAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCB4IC0gc2l6ZSAvIDIsIHkgLSBzaXplIC8gMiwgc2l6ZSwgc2l6ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEltYWdlIG5vdCBsb2FkZWQgb3IgbG9hZCBmYWlsZWQsIHVzZSBGbGF0U3RvbmUgYXMgZmFsbGJhY2tcbiAgICAgIGlmICh0aGlzLmZhbGxiYWNrU3RvbmUpIHtcbiAgICAgICAgdGhpcy5mYWxsYmFja1N0b25lLnNldFNpemUoc2l6ZSk7XG4gICAgICAgIHRoaXMuZmFsbGJhY2tTdG9uZS5kcmF3KCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc2V0U2l6ZShzaXplOiBudW1iZXIpIHtcbiAgICBzdXBlci5zZXRTaXplKHNpemUpO1xuICAgIC8vIFN5bmNocm9ub3VzbHkgdXBkYXRlIGZhbGxiYWNrU3RvbmUgc2l6ZVxuICAgIGlmICh0aGlzLmZhbGxiYWNrU3RvbmUpIHtcbiAgICAgIHRoaXMuZmFsbGJhY2tTdG9uZS5zZXRTaXplKHNpemUpO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHtcbiAgQW5hbHlzaXNQb2ludFRoZW1lLFxuICBBbmFseXNpc1BvaW50T3B0aW9ucyxcbiAgTW92ZUluZm8sXG4gIFJvb3RJbmZvLFxufSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQge1xuICBjYWxjQW5hbHlzaXNQb2ludENvbG9yLFxuICBjYWxjU2NvcmVEaWZmLFxuICBjYWxjU2NvcmVEaWZmVGV4dCxcbiAgbkZvcm1hdHRlcixcbiAgcm91bmQzLFxufSBmcm9tICcuLi9oZWxwZXInO1xuaW1wb3J0IHtcbiAgTElHSFRfR1JFRU5fUkdCLFxuICBMSUdIVF9SRURfUkdCLFxuICBMSUdIVF9ZRUxMT1dfUkdCLFxuICBZRUxMT1dfUkdCLFxufSBmcm9tICcuLi9jb25zdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFuYWx5c2lzUG9pbnQge1xuICBwcml2YXRlIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xuICBwcml2YXRlIHg6IG51bWJlcjtcbiAgcHJpdmF0ZSB5OiBudW1iZXI7XG4gIHByaXZhdGUgcjogbnVtYmVyO1xuICBwcml2YXRlIHJvb3RJbmZvOiBSb290SW5mbztcbiAgcHJpdmF0ZSBtb3ZlSW5mbzogTW92ZUluZm87XG4gIHByaXZhdGUgcG9saWN5VmFsdWU/OiBudW1iZXI7XG4gIHByaXZhdGUgdGhlbWU6IEFuYWx5c2lzUG9pbnRUaGVtZTtcbiAgcHJpdmF0ZSBvdXRsaW5lQ29sb3I/OiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3Iob3B0aW9uczogQW5hbHlzaXNQb2ludE9wdGlvbnMpIHtcbiAgICB0aGlzLmN0eCA9IG9wdGlvbnMuY3R4O1xuICAgIHRoaXMueCA9IG9wdGlvbnMueDtcbiAgICB0aGlzLnkgPSBvcHRpb25zLnk7XG4gICAgdGhpcy5yID0gb3B0aW9ucy5yO1xuICAgIHRoaXMucm9vdEluZm8gPSBvcHRpb25zLnJvb3RJbmZvO1xuICAgIHRoaXMubW92ZUluZm8gPSBvcHRpb25zLm1vdmVJbmZvO1xuICAgIHRoaXMucG9saWN5VmFsdWUgPSBvcHRpb25zLnBvbGljeVZhbHVlO1xuICAgIHRoaXMudGhlbWUgPSBvcHRpb25zLnRoZW1lID8/IEFuYWx5c2lzUG9pbnRUaGVtZS5EZWZhdWx0O1xuICAgIHRoaXMub3V0bGluZUNvbG9yID0gb3B0aW9ucy5vdXRsaW5lQ29sb3I7XG4gIH1cblxuICBkcmF3KCkge1xuICAgIGNvbnN0IHtjdHgsIHgsIHksIHIsIHJvb3RJbmZvLCBtb3ZlSW5mbywgdGhlbWV9ID0gdGhpcztcbiAgICBpZiAociA8IDApIHJldHVybjtcblxuICAgIGN0eC5zYXZlKCk7XG4gICAgY3R4LnNoYWRvd09mZnNldFggPSAwO1xuICAgIGN0eC5zaGFkb3dPZmZzZXRZID0gMDtcbiAgICBjdHguc2hhZG93Q29sb3IgPSAnI2ZmZic7XG4gICAgY3R4LnNoYWRvd0JsdXIgPSAwO1xuXG4gICAgLy8gdGhpcy5kcmF3RGVmYXVsdEFuYWx5c2lzUG9pbnQoKTtcbiAgICBpZiAodGhlbWUgPT09IEFuYWx5c2lzUG9pbnRUaGVtZS5EZWZhdWx0KSB7XG4gICAgICB0aGlzLmRyYXdEZWZhdWx0QW5hbHlzaXNQb2ludCgpO1xuICAgIH0gZWxzZSBpZiAodGhlbWUgPT09IEFuYWx5c2lzUG9pbnRUaGVtZS5Qcm9ibGVtKSB7XG4gICAgICB0aGlzLmRyYXdQcm9ibGVtQW5hbHlzaXNQb2ludCgpO1xuICAgIH0gZWxzZSBpZiAodGhlbWUgPT09IEFuYWx5c2lzUG9pbnRUaGVtZS5TY2VuYXJpbykge1xuICAgICAgdGhpcy5kcmF3U2NlbmFyaW9BbmFseXNpc1BvaW50KCk7XG4gICAgfVxuXG4gICAgY3R4LnJlc3RvcmUoKTtcbiAgfVxuXG4gIHByaXZhdGUgZHJhd1Byb2JsZW1BbmFseXNpc1BvaW50ID0gKCkgPT4ge1xuICAgIGNvbnN0IHtjdHgsIHgsIHksIHIsIHJvb3RJbmZvLCBtb3ZlSW5mbywgb3V0bGluZUNvbG9yfSA9IHRoaXM7XG4gICAgY29uc3Qge29yZGVyfSA9IG1vdmVJbmZvO1xuXG4gICAgbGV0IHBDb2xvciA9IGNhbGNBbmFseXNpc1BvaW50Q29sb3Iocm9vdEluZm8sIG1vdmVJbmZvKTtcblxuICAgIGlmIChvcmRlciA8IDUpIHtcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIGN0eC5hcmMoeCwgeSwgciwgMCwgMiAqIE1hdGguUEksIHRydWUpO1xuICAgICAgY3R4LmxpbmVXaWR0aCA9IDA7XG4gICAgICBjdHguc3Ryb2tlU3R5bGUgPSAncmdiYSgyNTUsMjU1LDI1NSwwKSc7XG4gICAgICBjb25zdCBncmFkaWVudCA9IGN0eC5jcmVhdGVSYWRpYWxHcmFkaWVudCh4LCB5LCByICogMC45LCB4LCB5LCByKTtcbiAgICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcCgwLCBwQ29sb3IpO1xuICAgICAgZ3JhZGllbnQuYWRkQ29sb3JTdG9wKDAuOSwgJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMCcpO1xuICAgICAgY3R4LmZpbGxTdHlsZSA9IGdyYWRpZW50O1xuICAgICAgY3R4LmZpbGwoKTtcbiAgICAgIGlmIChvdXRsaW5lQ29sb3IpIHtcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBjdHguYXJjKHgsIHksIHIsIDAsIDIgKiBNYXRoLlBJLCB0cnVlKTtcbiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDQ7XG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IG91dGxpbmVDb2xvcjtcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBmb250U2l6ZSA9IHIgLyAxLjU7XG5cbiAgICAgIGN0eC5mb250ID0gYCR7Zm9udFNpemUgKiAwLjh9cHggVGFob21hYDtcbiAgICAgIGN0eC5maWxsU3R5bGUgPSAnYmxhY2snO1xuICAgICAgY3R4LnRleHRBbGlnbiA9ICdjZW50ZXInO1xuXG4gICAgICBjdHguZm9udCA9IGAke2ZvbnRTaXplfXB4IFRhaG9tYWA7XG4gICAgICBjb25zdCBzY29yZVRleHQgPSBjYWxjU2NvcmVEaWZmVGV4dChyb290SW5mbywgbW92ZUluZm8pO1xuICAgICAgY3R4LmZpbGxUZXh0KHNjb3JlVGV4dCwgeCwgeSk7XG5cbiAgICAgIGN0eC5mb250ID0gYCR7Zm9udFNpemUgKiAwLjh9cHggVGFob21hYDtcbiAgICAgIGN0eC5maWxsU3R5bGUgPSAnYmxhY2snO1xuICAgICAgY3R4LnRleHRBbGlnbiA9ICdjZW50ZXInO1xuICAgICAgY3R4LmZpbGxUZXh0KG5Gb3JtYXR0ZXIobW92ZUluZm8udmlzaXRzKSwgeCwgeSArIHIgLyAyICsgZm9udFNpemUgLyA4KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kcmF3Q2FuZGlkYXRlUG9pbnQoKTtcbiAgICB9XG4gIH07XG5cbiAgcHJpdmF0ZSBkcmF3RGVmYXVsdEFuYWx5c2lzUG9pbnQgPSAoKSA9PiB7XG4gICAgY29uc3Qge2N0eCwgeCwgeSwgciwgcm9vdEluZm8sIG1vdmVJbmZvfSA9IHRoaXM7XG4gICAgY29uc3Qge29yZGVyfSA9IG1vdmVJbmZvO1xuXG4gICAgbGV0IHBDb2xvciA9IGNhbGNBbmFseXNpc1BvaW50Q29sb3Iocm9vdEluZm8sIG1vdmVJbmZvKTtcblxuICAgIGlmIChvcmRlciA8IDUpIHtcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIGN0eC5hcmMoeCwgeSwgciwgMCwgMiAqIE1hdGguUEksIHRydWUpO1xuICAgICAgY3R4LmxpbmVXaWR0aCA9IDA7XG4gICAgICBjdHguc3Ryb2tlU3R5bGUgPSAncmdiYSgyNTUsMjU1LDI1NSwwKSc7XG4gICAgICBjb25zdCBncmFkaWVudCA9IGN0eC5jcmVhdGVSYWRpYWxHcmFkaWVudCh4LCB5LCByICogMC45LCB4LCB5LCByKTtcbiAgICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcCgwLCBwQ29sb3IpO1xuICAgICAgZ3JhZGllbnQuYWRkQ29sb3JTdG9wKDAuOSwgJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMCcpO1xuICAgICAgY3R4LmZpbGxTdHlsZSA9IGdyYWRpZW50O1xuICAgICAgY3R4LmZpbGwoKTtcblxuICAgICAgY29uc3QgZm9udFNpemUgPSByIC8gMS41O1xuXG4gICAgICBjdHguZm9udCA9IGAke2ZvbnRTaXplICogMC44fXB4IFRhaG9tYWA7XG4gICAgICBjdHguZmlsbFN0eWxlID0gJ2JsYWNrJztcbiAgICAgIGN0eC50ZXh0QWxpZ24gPSAnY2VudGVyJztcblxuICAgICAgY29uc3Qgd2lucmF0ZSA9XG4gICAgICAgIHJvb3RJbmZvLmN1cnJlbnRQbGF5ZXIgPT09ICdCJ1xuICAgICAgICAgID8gbW92ZUluZm8ud2lucmF0ZVxuICAgICAgICAgIDogMSAtIG1vdmVJbmZvLndpbnJhdGU7XG5cbiAgICAgIGN0eC5maWxsVGV4dChyb3VuZDMod2lucmF0ZSwgMTAwLCAxKSwgeCwgeSAtIHIgLyAyICsgZm9udFNpemUgLyA1KTtcblxuICAgICAgY3R4LmZvbnQgPSBgJHtmb250U2l6ZX1weCBUYWhvbWFgO1xuICAgICAgY29uc3Qgc2NvcmVUZXh0ID0gY2FsY1Njb3JlRGlmZlRleHQocm9vdEluZm8sIG1vdmVJbmZvKTtcbiAgICAgIGN0eC5maWxsVGV4dChzY29yZVRleHQsIHgsIHkgKyBmb250U2l6ZSAvIDMpO1xuXG4gICAgICBjdHguZm9udCA9IGAke2ZvbnRTaXplICogMC44fXB4IFRhaG9tYWA7XG4gICAgICBjdHguZmlsbFN0eWxlID0gJ2JsYWNrJztcbiAgICAgIGN0eC50ZXh0QWxpZ24gPSAnY2VudGVyJztcbiAgICAgIGN0eC5maWxsVGV4dChuRm9ybWF0dGVyKG1vdmVJbmZvLnZpc2l0cyksIHgsIHkgKyByIC8gMiArIGZvbnRTaXplIC8gMyk7XG5cbiAgICAgIGNvbnN0IG9yZGVyID0gbW92ZUluZm8ub3JkZXI7XG4gICAgICBjdHguZmlsbFRleHQoKG9yZGVyICsgMSkudG9TdHJpbmcoKSwgeCArIHIsIHkgLSByIC8gMik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZHJhd0NhbmRpZGF0ZVBvaW50KCk7XG4gICAgfVxuICB9O1xuXG4gIHByaXZhdGUgZHJhd1NjZW5hcmlvQW5hbHlzaXNQb2ludCA9ICgpID0+IHtcbiAgICBjb25zdCB7Y3R4LCB4LCB5LCByLCByb290SW5mbywgbW92ZUluZm99ID0gdGhpcztcbiAgICBjb25zdCB7b3JkZXJ9ID0gbW92ZUluZm87XG5cbiAgICBsZXQgcENvbG9yID0gY2FsY0FuYWx5c2lzUG9pbnRDb2xvcihyb290SW5mbywgbW92ZUluZm8pO1xuXG4gICAgaWYgKG9yZGVyIDwgOSkge1xuICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgY3R4LmFyYyh4LCB5LCByLCAwLCAyICogTWF0aC5QSSwgdHJ1ZSk7XG4gICAgICBjdHgubGluZVdpZHRoID0gMDtcbiAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICdyZ2JhKDI1NSwyNTUsMjU1LDApJztcbiAgICAgIGNvbnN0IGdyYWRpZW50ID0gY3R4LmNyZWF0ZVJhZGlhbEdyYWRpZW50KHgsIHksIHIgKiAwLjksIHgsIHksIHIpO1xuICAgICAgZ3JhZGllbnQuYWRkQ29sb3JTdG9wKDAsIHBDb2xvcik7XG4gICAgICBncmFkaWVudC5hZGRDb2xvclN0b3AoMC45LCAncmdiYSgyNTUsIDI1NSwgMjU1LCAwJyk7XG4gICAgICBjdHguZmlsbFN0eWxlID0gZ3JhZGllbnQ7XG4gICAgICBjdHguZmlsbCgpO1xuXG4gICAgICBjb25zdCBmb250U2l6ZSA9IHIgLyAxLjU7XG5cbiAgICAgIGN0eC5mb250ID0gYCR7Zm9udFNpemUgKiAwLjh9cHggVGFob21hYDtcbiAgICAgIGN0eC5maWxsU3R5bGUgPSAnYmxhY2snO1xuICAgICAgY3R4LnRleHRBbGlnbiA9ICdjZW50ZXInO1xuXG4gICAgICAvLyBEaXNwbGF5IGh1bWFuUG9saWN5IHZhbHVlIChmcm9tIHBvbGljeVZhbHVlKSBvciBmYWxsYmFjayB0byBtb3ZlSW5mby5wcmlvclxuICAgICAgLy8gRmlsdGVyIG91dCAtMSB2YWx1ZXMgKGlsbGVnYWwgcG9zaXRpb25zIGluIHBvbGljeSBhcnJheSlcbiAgICAgIGNvbnN0IHBvbGljeSA9XG4gICAgICAgIHRoaXMucG9saWN5VmFsdWUgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnBvbGljeVZhbHVlICE9PSAtMVxuICAgICAgICAgID8gdGhpcy5wb2xpY3lWYWx1ZVxuICAgICAgICAgIDogbW92ZUluZm8ucHJpb3I7XG5cbiAgICAgIGNvbnN0IHBvbGljeVBlcmNlbnQgPSByb3VuZDMocG9saWN5LCAxMDAsIDEpO1xuICAgICAgY3R4LmZpbGxUZXh0KHBvbGljeVBlcmNlbnQsIHgsIHkgLSByIC8gMiArIGZvbnRTaXplIC8gNSk7XG5cbiAgICAgIGN0eC5mb250ID0gYCR7Zm9udFNpemV9cHggVGFob21hYDtcbiAgICAgIGNvbnN0IHNjb3JlVGV4dCA9IGNhbGNTY29yZURpZmZUZXh0KHJvb3RJbmZvLCBtb3ZlSW5mbyk7XG4gICAgICBjdHguZmlsbFRleHQoc2NvcmVUZXh0LCB4LCB5ICsgZm9udFNpemUgLyAzKTtcblxuICAgICAgY3R4LmZvbnQgPSBgJHtmb250U2l6ZSAqIDAuOH1weCBUYWhvbWFgO1xuICAgICAgY3R4LmZpbGxTdHlsZSA9ICdibGFjayc7XG4gICAgICBjdHgudGV4dEFsaWduID0gJ2NlbnRlcic7XG4gICAgICBjdHguZmlsbFRleHQobkZvcm1hdHRlcihtb3ZlSW5mby52aXNpdHMpLCB4LCB5ICsgciAvIDIgKyBmb250U2l6ZSAvIDMpO1xuXG4gICAgICBjb25zdCBvcmRlciA9IG1vdmVJbmZvLm9yZGVyO1xuICAgICAgY3R4LmZpbGxUZXh0KChvcmRlciArIDEpLnRvU3RyaW5nKCksIHggKyByLCB5IC0gciAvIDIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRyYXdDYW5kaWRhdGVQb2ludCgpO1xuICAgIH1cbiAgfTtcblxuICBwcml2YXRlIGRyYXdDYW5kaWRhdGVQb2ludCA9ICgpID0+IHtcbiAgICBjb25zdCB7Y3R4LCB4LCB5LCByLCByb290SW5mbywgbW92ZUluZm99ID0gdGhpcztcbiAgICBjb25zdCBwQ29sb3IgPSBjYWxjQW5hbHlzaXNQb2ludENvbG9yKHJvb3RJbmZvLCBtb3ZlSW5mbyk7XG4gICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgIGN0eC5hcmMoeCwgeSwgciAqIDAuNiwgMCwgMiAqIE1hdGguUEksIHRydWUpO1xuICAgIGN0eC5saW5lV2lkdGggPSAwO1xuICAgIGN0eC5zdHJva2VTdHlsZSA9ICdyZ2JhKDI1NSwyNTUsMjU1LDApJztcbiAgICBjb25zdCBncmFkaWVudCA9IGN0eC5jcmVhdGVSYWRpYWxHcmFkaWVudCh4LCB5LCByICogMC40LCB4LCB5LCByKTtcbiAgICBncmFkaWVudC5hZGRDb2xvclN0b3AoMCwgcENvbG9yKTtcbiAgICBncmFkaWVudC5hZGRDb2xvclN0b3AoMC45NSwgJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMCcpO1xuICAgIGN0eC5maWxsU3R5bGUgPSBncmFkaWVudDtcbiAgICBjdHguZmlsbCgpO1xuICAgIGN0eC5zdHJva2UoKTtcbiAgfTtcbn1cbiIsImltcG9ydCB7VGhlbWUsIFRoZW1lUHJvcGVydHlLZXksIFRoZW1lQ29udGV4dCwgVGhlbWVDb25maWd9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7QkFTRV9USEVNRV9DT05GSUd9IGZyb20gJy4uL2NvbnN0JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFya3VwIHtcbiAgcHJvdGVjdGVkIGdsb2JhbEFscGhhID0gMTtcbiAgcHJvdGVjdGVkIGNvbG9yID0gJyc7XG4gIHByb3RlY3RlZCBsaW5lRGFzaDogbnVtYmVyW10gPSBbXTtcbiAgcHJvdGVjdGVkIHRoZW1lQ29udGV4dD86IFRoZW1lQ29udGV4dDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcm90ZWN0ZWQgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsXG4gICAgcHJvdGVjdGVkIHg6IG51bWJlcixcbiAgICBwcm90ZWN0ZWQgeTogbnVtYmVyLFxuICAgIHByb3RlY3RlZCBzOiBudW1iZXIsXG4gICAgcHJvdGVjdGVkIGtpOiBudW1iZXIsXG4gICAgdGhlbWVDb250ZXh0PzogVGhlbWVDb250ZXh0LFxuICAgIHByb3RlY3RlZCB2YWw6IHN0cmluZyB8IG51bWJlciA9ICcnXG4gICkge1xuICAgIHRoaXMudGhlbWVDb250ZXh0ID0gdGhlbWVDb250ZXh0O1xuICB9XG5cbiAgZHJhdygpIHtcbiAgICAvLyBCYXNlIGRyYXcgbWV0aG9kIC0gdG8gYmUgaW1wbGVtZW50ZWQgYnkgc3ViY2xhc3Nlc1xuICB9XG5cbiAgc2V0R2xvYmFsQWxwaGEoYWxwaGE6IG51bWJlcikge1xuICAgIHRoaXMuZ2xvYmFsQWxwaGEgPSBhbHBoYTtcbiAgfVxuXG4gIHNldENvbG9yKGNvbG9yOiBzdHJpbmcpIHtcbiAgICB0aGlzLmNvbG9yID0gY29sb3I7XG4gIH1cblxuICBzZXRMaW5lRGFzaChsaW5lRGFzaDogbnVtYmVyW10pIHtcbiAgICB0aGlzLmxpbmVEYXNoID0gbGluZURhc2g7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGEgdGhlbWUgcHJvcGVydHkgdmFsdWUgd2l0aCBmYWxsYmFja1xuICAgKi9cbiAgcHJvdGVjdGVkIGdldFRoZW1lUHJvcGVydHk8SyBleHRlbmRzIGtleW9mIFRoZW1lQ29uZmlnPihcbiAgICBrZXk6IEtcbiAgKTogVGhlbWVDb25maWdbS10ge1xuICAgIGlmICghdGhpcy50aGVtZUNvbnRleHQpIHtcbiAgICAgIHJldHVybiBCQVNFX1RIRU1FX0NPTkZJR1trZXldO1xuICAgIH1cblxuICAgIGNvbnN0IHt0aGVtZSwgdGhlbWVPcHRpb25zfSA9IHRoaXMudGhlbWVDb250ZXh0O1xuICAgIGNvbnN0IHRoZW1lU3BlY2lmaWMgPSB0aGVtZU9wdGlvbnNbdGhlbWVdO1xuICAgIGNvbnN0IGRlZmF1bHRDb25maWcgPSB0aGVtZU9wdGlvbnMuZGVmYXVsdDtcblxuICAgIC8vIFRyeSB0aGVtZS1zcGVjaWZpYyB2YWx1ZSBmaXJzdCwgdGhlbiBkZWZhdWx0XG4gICAgY29uc3QgcmVzdWx0ID0gKHRoZW1lU3BlY2lmaWM/LltrZXldID8/XG4gICAgICBkZWZhdWx0Q29uZmlnW2tleV0pIGFzIFRoZW1lQ29uZmlnW0tdO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbn1cbiIsImltcG9ydCBNYXJrdXAgZnJvbSAnLi9NYXJrdXBCYXNlJztcbmltcG9ydCB7S2l9IGZyb20gJy4uL3R5cGVzJztcblxuZXhwb3J0IGNsYXNzIENpcmNsZU1hcmt1cCBleHRlbmRzIE1hcmt1cCB7XG4gIGRyYXcoKSB7XG4gICAgY29uc3Qge2N0eCwgeCwgeSwgcywga2ksIGdsb2JhbEFscGhhLCBjb2xvcn0gPSB0aGlzO1xuICAgIGNvbnN0IHJhZGl1cyA9IHMgKiAwLjU7XG4gICAgbGV0IHNpemUgPSByYWRpdXMgKiAwLjY1O1xuICAgIGN0eC5zYXZlKCk7XG4gICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgIGN0eC5nbG9iYWxBbHBoYSA9IGdsb2JhbEFscGhhO1xuICAgIGN0eC5saW5lV2lkdGggPSB0aGlzLmdldFRoZW1lUHJvcGVydHkoJ21hcmt1cExpbmVXaWR0aCcpO1xuICAgIGN0eC5zZXRMaW5lRGFzaCh0aGlzLmxpbmVEYXNoKTtcbiAgICBpZiAoa2kgPT09IEtpLldoaXRlKSB7XG4gICAgICBjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLmdldFRoZW1lUHJvcGVydHkoJ2ZsYXRCbGFja0NvbG9yJyk7XG4gICAgfSBlbHNlIGlmIChraSA9PT0gS2kuQmxhY2spIHtcbiAgICAgIGN0eC5zdHJva2VTdHlsZSA9IHRoaXMuZ2V0VGhlbWVQcm9wZXJ0eSgnZmxhdFdoaXRlQ29sb3InKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5nZXRUaGVtZVByb3BlcnR5KCdib2FyZExpbmVDb2xvcicpO1xuICAgICAgY3R4LmxpbmVXaWR0aCA9IDM7XG4gICAgfVxuICAgIGlmIChjb2xvcikgY3R4LnN0cm9rZVN0eWxlID0gY29sb3I7XG4gICAgaWYgKHNpemUgPiAwKSB7XG4gICAgICBjdHguYXJjKHgsIHksIHNpemUsIDAsIDIgKiBNYXRoLlBJLCB0cnVlKTtcbiAgICAgIGN0eC5zdHJva2UoKTtcbiAgICB9XG4gICAgY3R4LnJlc3RvcmUoKTtcbiAgfVxufVxuIiwiaW1wb3J0IE1hcmt1cCBmcm9tICcuL01hcmt1cEJhc2UnO1xuaW1wb3J0IHtLaX0gZnJvbSAnLi4vdHlwZXMnO1xuXG5leHBvcnQgY2xhc3MgQ3Jvc3NNYXJrdXAgZXh0ZW5kcyBNYXJrdXAge1xuICBkcmF3KCkge1xuICAgIGNvbnN0IHtjdHgsIHgsIHksIHMsIGtpLCBnbG9iYWxBbHBoYX0gPSB0aGlzO1xuICAgIGNvbnN0IHJhZGl1cyA9IHMgKiAwLjU7XG4gICAgbGV0IHNpemUgPSByYWRpdXMgKiAwLjU7XG4gICAgY3R4LnNhdmUoKTtcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4LmxpbmVXaWR0aCA9IDM7XG4gICAgY3R4Lmdsb2JhbEFscGhhID0gZ2xvYmFsQWxwaGE7XG4gICAgaWYgKGtpID09PSBLaS5XaGl0ZSkge1xuICAgICAgY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5nZXRUaGVtZVByb3BlcnR5KCdmbGF0QmxhY2tDb2xvcicpO1xuICAgIH0gZWxzZSBpZiAoa2kgPT09IEtpLkJsYWNrKSB7XG4gICAgICBjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLmdldFRoZW1lUHJvcGVydHkoJ2ZsYXRXaGl0ZUNvbG9yJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN0eC5zdHJva2VTdHlsZSA9IHRoaXMuZ2V0VGhlbWVQcm9wZXJ0eSgnYm9hcmRMaW5lQ29sb3InKTtcbiAgICAgIHNpemUgPSByYWRpdXMgKiAwLjU4O1xuICAgIH1cbiAgICBjdHgubW92ZVRvKHggLSBzaXplLCB5IC0gc2l6ZSk7XG4gICAgY3R4LmxpbmVUbyh4ICsgc2l6ZSwgeSArIHNpemUpO1xuICAgIGN0eC5tb3ZlVG8oeCArIHNpemUsIHkgLSBzaXplKTtcbiAgICBjdHgubGluZVRvKHggLSBzaXplLCB5ICsgc2l6ZSk7XG5cbiAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgY3R4LnN0cm9rZSgpO1xuICAgIGN0eC5yZXN0b3JlKCk7XG4gIH1cbn1cbiIsImltcG9ydCBNYXJrdXAgZnJvbSAnLi9NYXJrdXBCYXNlJztcbmltcG9ydCB7S2l9IGZyb20gJy4uL3R5cGVzJztcblxuZXhwb3J0IGNsYXNzIFRleHRNYXJrdXAgZXh0ZW5kcyBNYXJrdXAge1xuICBkcmF3KCkge1xuICAgIGNvbnN0IHtjdHgsIHgsIHksIHMsIGtpLCB2YWwsIGdsb2JhbEFscGhhfSA9IHRoaXM7XG4gICAgY29uc3Qgc2l6ZSA9IHMgKiAwLjg7XG4gICAgbGV0IGZvbnRTaXplID0gc2l6ZSAvIDEuNTtcbiAgICBjdHguc2F2ZSgpO1xuICAgIGN0eC5nbG9iYWxBbHBoYSA9IGdsb2JhbEFscGhhO1xuXG4gICAgaWYgKGtpID09PSBLaS5XaGl0ZSkge1xuICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMuZ2V0VGhlbWVQcm9wZXJ0eSgnZmxhdEJsYWNrQ29sb3InKTtcbiAgICB9IGVsc2UgaWYgKGtpID09PSBLaS5CbGFjaykge1xuICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMuZ2V0VGhlbWVQcm9wZXJ0eSgnZmxhdFdoaXRlQ29sb3InKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMuZ2V0VGhlbWVQcm9wZXJ0eSgnYm9hcmRMaW5lQ29sb3InKTtcbiAgICB9XG4gICAgLy8gZWxzZSB7XG4gICAgLy8gICBjdHguY2xlYXJSZWN0KHggLSBzaXplIC8gMiwgeSAtIHNpemUgLyAyLCBzaXplLCBzaXplKTtcbiAgICAvLyB9XG4gICAgaWYgKHZhbC50b1N0cmluZygpLmxlbmd0aCA9PT0gMSkge1xuICAgICAgZm9udFNpemUgPSBzaXplIC8gMS41O1xuICAgIH0gZWxzZSBpZiAodmFsLnRvU3RyaW5nKCkubGVuZ3RoID09PSAyKSB7XG4gICAgICBmb250U2l6ZSA9IHNpemUgLyAxLjg7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvbnRTaXplID0gc2l6ZSAvIDIuMDtcbiAgICB9XG4gICAgY3R4LmZvbnQgPSBgYm9sZCAke2ZvbnRTaXplfXB4IFRhaG9tYWA7XG4gICAgY3R4LnRleHRBbGlnbiA9ICdjZW50ZXInO1xuICAgIGN0eC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJztcbiAgICBjdHguZmlsbFRleHQodmFsLnRvU3RyaW5nKCksIHgsIHkgKyAyKTtcbiAgICBjdHgucmVzdG9yZSgpO1xuICB9XG59XG4iLCJpbXBvcnQgTWFya3VwIGZyb20gJy4vTWFya3VwQmFzZSc7XG5pbXBvcnQge0tpfSBmcm9tICcuLi90eXBlcyc7XG5cbmV4cG9ydCBjbGFzcyBTcXVhcmVNYXJrdXAgZXh0ZW5kcyBNYXJrdXAge1xuICBkcmF3KCkge1xuICAgIGNvbnN0IHtjdHgsIHgsIHksIHMsIGtpLCBnbG9iYWxBbHBoYX0gPSB0aGlzO1xuICAgIGN0eC5zYXZlKCk7XG4gICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgIGN0eC5saW5lV2lkdGggPSB0aGlzLmdldFRoZW1lUHJvcGVydHkoJ21hcmt1cExpbmVXaWR0aCcpO1xuICAgIGN0eC5nbG9iYWxBbHBoYSA9IGdsb2JhbEFscGhhO1xuICAgIGxldCBzaXplID0gcyAqIDAuNTU7XG4gICAgaWYgKGtpID09PSBLaS5XaGl0ZSkge1xuICAgICAgY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5nZXRUaGVtZVByb3BlcnR5KCdmbGF0QmxhY2tDb2xvcicpO1xuICAgIH0gZWxzZSBpZiAoa2kgPT09IEtpLkJsYWNrKSB7XG4gICAgICBjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLmdldFRoZW1lUHJvcGVydHkoJ2ZsYXRXaGl0ZUNvbG9yJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN0eC5zdHJva2VTdHlsZSA9IHRoaXMuZ2V0VGhlbWVQcm9wZXJ0eSgnYm9hcmRMaW5lQ29sb3InKTtcbiAgICAgIGN0eC5saW5lV2lkdGggPSAzO1xuICAgIH1cbiAgICBjdHgucmVjdCh4IC0gc2l6ZSAvIDIsIHkgLSBzaXplIC8gMiwgc2l6ZSwgc2l6ZSk7XG4gICAgY3R4LnN0cm9rZSgpO1xuICAgIGN0eC5yZXN0b3JlKCk7XG4gIH1cbn1cbiIsImltcG9ydCBNYXJrdXAgZnJvbSAnLi9NYXJrdXBCYXNlJztcbmltcG9ydCB7S2l9IGZyb20gJy4uL3R5cGVzJztcblxuZXhwb3J0IGNsYXNzIFRyaWFuZ2xlTWFya3VwIGV4dGVuZHMgTWFya3VwIHtcbiAgZHJhdygpIHtcbiAgICBjb25zdCB7Y3R4LCB4LCB5LCBzLCBraSwgZ2xvYmFsQWxwaGF9ID0gdGhpcztcbiAgICBjb25zdCByYWRpdXMgPSBzICogMC41O1xuICAgIGxldCBzaXplID0gcmFkaXVzICogMC43NTtcbiAgICBjdHguc2F2ZSgpO1xuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHguZ2xvYmFsQWxwaGEgPSBnbG9iYWxBbHBoYTtcbiAgICBjdHgubW92ZVRvKHgsIHkgLSBzaXplKTtcbiAgICBjdHgubGluZVRvKHggLSBzaXplICogTWF0aC5jb3MoMC41MjMpLCB5ICsgc2l6ZSAqIE1hdGguc2luKDAuNTIzKSk7XG4gICAgY3R4LmxpbmVUbyh4ICsgc2l6ZSAqIE1hdGguY29zKDAuNTIzKSwgeSArIHNpemUgKiBNYXRoLnNpbigwLjUyMykpO1xuXG4gICAgY3R4LmxpbmVXaWR0aCA9IHRoaXMuZ2V0VGhlbWVQcm9wZXJ0eSgnbWFya3VwTGluZVdpZHRoJyk7XG4gICAgaWYgKGtpID09PSBLaS5XaGl0ZSkge1xuICAgICAgY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5nZXRUaGVtZVByb3BlcnR5KCdmbGF0QmxhY2tDb2xvcicpO1xuICAgIH0gZWxzZSBpZiAoa2kgPT09IEtpLkJsYWNrKSB7XG4gICAgICBjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLmdldFRoZW1lUHJvcGVydHkoJ2ZsYXRXaGl0ZUNvbG9yJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN0eC5zdHJva2VTdHlsZSA9IHRoaXMuZ2V0VGhlbWVQcm9wZXJ0eSgnYm9hcmRMaW5lQ29sb3InKTtcbiAgICAgIGN0eC5saW5lV2lkdGggPSAzO1xuICAgICAgc2l6ZSA9IHJhZGl1cyAqIDAuNztcbiAgICB9XG4gICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgIGN0eC5zdHJva2UoKTtcbiAgICBjdHgucmVzdG9yZSgpO1xuICB9XG59XG4iLCJpbXBvcnQgTWFya3VwIGZyb20gJy4vTWFya3VwQmFzZSc7XG5cbmV4cG9ydCBjbGFzcyBHcmVlblBsdXNNYXJrdXAgZXh0ZW5kcyBNYXJrdXAge1xuICBkcmF3KCkge1xuICAgIGNvbnN0IHtjdHgsIHgsIHksIHMsIGdsb2JhbEFscGhhfSA9IHRoaXM7XG4gICAgY29uc3QgcmFkaXVzID0gcyAqIDAuNTtcbiAgICBjb25zdCBzaXplID0gcmFkaXVzICogMC4zODtcbiAgICBjdHguc2F2ZSgpO1xuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHguZ2xvYmFsQWxwaGEgPSBnbG9iYWxBbHBoYTtcbiAgICBjdHgubGluZVdpZHRoID0gdGhpcy5nZXRUaGVtZVByb3BlcnR5KCdtYXJrdXBMaW5lV2lkdGgnKSAqIDI7XG4gICAgY3R4LnN0cm9rZVN0eWxlID0gJyMyMmM1NWUnO1xuICAgIGN0eC5zZXRMaW5lRGFzaCh0aGlzLmxpbmVEYXNoKTtcblxuICAgIGN0eC5tb3ZlVG8oeCAtIHNpemUsIHkpO1xuICAgIGN0eC5saW5lVG8oeCArIHNpemUsIHkpO1xuICAgIGN0eC5tb3ZlVG8oeCwgeSAtIHNpemUpO1xuICAgIGN0eC5saW5lVG8oeCwgeSArIHNpemUpO1xuXG4gICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgIGN0eC5zdHJva2UoKTtcbiAgICBjdHgucmVzdG9yZSgpO1xuICB9XG59XG4iLCJpbXBvcnQgTWFya3VwIGZyb20gJy4vTWFya3VwQmFzZSc7XG5cbmV4cG9ydCBjbGFzcyBSZWRDcm9zc01hcmt1cCBleHRlbmRzIE1hcmt1cCB7XG4gIGRyYXcoKSB7XG4gICAgY29uc3Qge2N0eCwgeCwgeSwgcywgZ2xvYmFsQWxwaGF9ID0gdGhpcztcbiAgICBjb25zdCByYWRpdXMgPSBzICogMC41O1xuICAgIGNvbnN0IHNpemUgPSByYWRpdXMgKiAwLjM4O1xuICAgIGN0eC5zYXZlKCk7XG4gICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgIGN0eC5saW5lV2lkdGggPSB0aGlzLmdldFRoZW1lUHJvcGVydHkoJ21hcmt1cExpbmVXaWR0aCcpICogMjtcbiAgICBjdHguZ2xvYmFsQWxwaGEgPSBnbG9iYWxBbHBoYTtcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSAnI2VmNDQ0NCc7XG4gICAgY3R4LnNldExpbmVEYXNoKHRoaXMubGluZURhc2gpO1xuXG4gICAgY3R4Lm1vdmVUbyh4IC0gc2l6ZSwgeSAtIHNpemUpO1xuICAgIGN0eC5saW5lVG8oeCArIHNpemUsIHkgKyBzaXplKTtcbiAgICBjdHgubW92ZVRvKHggKyBzaXplLCB5IC0gc2l6ZSk7XG4gICAgY3R4LmxpbmVUbyh4IC0gc2l6ZSwgeSArIHNpemUpO1xuXG4gICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgIGN0eC5zdHJva2UoKTtcbiAgICBjdHgucmVzdG9yZSgpO1xuICB9XG59XG4iLCJpbXBvcnQgTWFya3VwIGZyb20gJy4vTWFya3VwQmFzZSc7XG5cbmV4cG9ydCBjbGFzcyBZZWxsb3dUcmlhbmdsZU1hcmt1cCBleHRlbmRzIE1hcmt1cCB7XG4gIGRyYXcoKSB7XG4gICAgY29uc3Qge2N0eCwgeCwgeSwgcywgZ2xvYmFsQWxwaGF9ID0gdGhpcztcbiAgICBjb25zdCByYWRpdXMgPSBzICogMC41O1xuICAgIGNvbnN0IHNpemUgPSByYWRpdXMgKiAwLjU7XG4gICAgY3R4LnNhdmUoKTtcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4Lmdsb2JhbEFscGhhID0gZ2xvYmFsQWxwaGE7XG5cbiAgICBjdHgubW92ZVRvKHgsIHkgLSBzaXplKTtcbiAgICBjdHgubGluZVRvKHggLSBzaXplICogTWF0aC5jb3MoMC41MjMpLCB5ICsgc2l6ZSAqIE1hdGguc2luKDAuNTIzKSk7XG4gICAgY3R4LmxpbmVUbyh4ICsgc2l6ZSAqIE1hdGguY29zKDAuNTIzKSwgeSArIHNpemUgKiBNYXRoLnNpbigwLjUyMykpO1xuXG4gICAgY3R4LmxpbmVXaWR0aCA9IHRoaXMuZ2V0VGhlbWVQcm9wZXJ0eSgnbWFya3VwTGluZVdpZHRoJykgKiAyO1xuICAgIGN0eC5zdHJva2VTdHlsZSA9ICcjZmFjYzE1JztcbiAgICBjdHguc2V0TGluZURhc2godGhpcy5saW5lRGFzaCk7XG5cbiAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgY3R4LnN0cm9rZSgpO1xuICAgIGN0eC5yZXN0b3JlKCk7XG4gIH1cbn1cbiIsImltcG9ydCBNYXJrdXAgZnJvbSAnLi9NYXJrdXBCYXNlJztcblxuZXhwb3J0IGNsYXNzIE5vZGVNYXJrdXAgZXh0ZW5kcyBNYXJrdXAge1xuICBkcmF3KCkge1xuICAgIGNvbnN0IHtjdHgsIHgsIHksIHMsIGtpLCBjb2xvciwgZ2xvYmFsQWxwaGF9ID0gdGhpcztcbiAgICBjb25zdCByYWRpdXMgPSBzICogMC41O1xuICAgIGxldCBzaXplID0gcmFkaXVzICogMC40O1xuICAgIGN0eC5zYXZlKCk7XG4gICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgIGN0eC5nbG9iYWxBbHBoYSA9IGdsb2JhbEFscGhhO1xuICAgIGN0eC5saW5lV2lkdGggPSA0O1xuICAgIGN0eC5zdHJva2VTdHlsZSA9IGNvbG9yO1xuICAgIGN0eC5zZXRMaW5lRGFzaCh0aGlzLmxpbmVEYXNoKTtcbiAgICBpZiAoc2l6ZSA+IDApIHtcbiAgICAgIGN0eC5hcmMoeCwgeSwgc2l6ZSwgMCwgMiAqIE1hdGguUEksIHRydWUpO1xuICAgICAgY3R4LnN0cm9rZSgpO1xuICAgIH1cbiAgICBjdHgucmVzdG9yZSgpO1xuICB9XG59XG4iLCJpbXBvcnQgTWFya3VwIGZyb20gJy4vTWFya3VwQmFzZSc7XG5cbmV4cG9ydCBjbGFzcyBBY3RpdmVOb2RlTWFya3VwIGV4dGVuZHMgTWFya3VwIHtcbiAgZHJhdygpIHtcbiAgICBjb25zdCB7Y3R4LCB4LCB5LCBzLCBraSwgY29sb3IsIGdsb2JhbEFscGhhfSA9IHRoaXM7XG4gICAgY29uc3QgcmFkaXVzID0gcyAqIDAuNTtcbiAgICBsZXQgc2l6ZSA9IHJhZGl1cyAqIDAuNTtcbiAgICBjdHguc2F2ZSgpO1xuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHguZ2xvYmFsQWxwaGEgPSBnbG9iYWxBbHBoYTtcbiAgICBjdHgubGluZVdpZHRoID0gNDtcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSBjb2xvcjtcbiAgICBjdHguZmlsbFN0eWxlID0gY29sb3I7XG4gICAgY3R4LnNldExpbmVEYXNoKHRoaXMubGluZURhc2gpO1xuICAgIGlmIChzaXplID4gMCkge1xuICAgICAgY3R4LmFyYyh4LCB5LCBzaXplLCAwLCAyICogTWF0aC5QSSwgdHJ1ZSk7XG4gICAgICBjdHguc3Ryb2tlKCk7XG4gICAgfVxuICAgIGN0eC5yZXN0b3JlKCk7XG5cbiAgICBjdHguc2F2ZSgpO1xuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHguZmlsbFN0eWxlID0gY29sb3I7XG4gICAgaWYgKHNpemUgPiAwKSB7XG4gICAgICBjdHguYXJjKHgsIHksIHNpemUgKiAwLjQsIDAsIDIgKiBNYXRoLlBJLCB0cnVlKTtcbiAgICAgIGN0eC5maWxsKCk7XG4gICAgfVxuICAgIGN0eC5yZXN0b3JlKCk7XG4gIH1cbn1cbiIsImltcG9ydCB7S2l9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCBNYXJrdXAgZnJvbSAnLi9NYXJrdXBCYXNlJztcblxuZXhwb3J0IGNsYXNzIENpcmNsZVNvbGlkTWFya3VwIGV4dGVuZHMgTWFya3VwIHtcbiAgZHJhdygpIHtcbiAgICBjb25zdCB7Y3R4LCB4LCB5LCBzLCBraSwgZ2xvYmFsQWxwaGEsIGNvbG9yfSA9IHRoaXM7XG4gICAgY29uc3QgcmFkaXVzID0gcyAqIDAuMjU7XG4gICAgbGV0IHNpemUgPSByYWRpdXMgKiAwLjY1O1xuICAgIGN0eC5zYXZlKCk7XG4gICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgIGN0eC5nbG9iYWxBbHBoYSA9IGdsb2JhbEFscGhhO1xuICAgIGN0eC5saW5lV2lkdGggPSB0aGlzLmdldFRoZW1lUHJvcGVydHkoJ21hcmt1cExpbmVXaWR0aCcpO1xuICAgIGN0eC5zZXRMaW5lRGFzaCh0aGlzLmxpbmVEYXNoKTtcbiAgICBpZiAoa2kgPT09IEtpLkJsYWNrKSB7XG4gICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5nZXRUaGVtZVByb3BlcnR5KCdmbGF0V2hpdGVDb2xvcicpO1xuICAgIH0gZWxzZSBpZiAoa2kgPT09IEtpLldoaXRlKSB7XG4gICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5nZXRUaGVtZVByb3BlcnR5KCdmbGF0QmxhY2tDb2xvcicpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5nZXRUaGVtZVByb3BlcnR5KCdib2FyZExpbmVDb2xvcicpO1xuICAgICAgY3R4LmxpbmVXaWR0aCA9IDM7XG4gICAgfVxuICAgIGlmIChjb2xvcikgY3R4LmZpbGxTdHlsZSA9IGNvbG9yO1xuICAgIGlmIChzaXplID4gMCkge1xuICAgICAgY3R4LmFyYyh4LCB5LCBzaXplLCAwLCAyICogTWF0aC5QSSwgdHJ1ZSk7XG4gICAgICBjdHguZmlsbCgpO1xuICAgIH1cbiAgICBjdHgucmVzdG9yZSgpO1xuICB9XG59XG4iLCJpbXBvcnQgTWFya3VwIGZyb20gJy4vTWFya3VwQmFzZSc7XG5pbXBvcnQge0tpfSBmcm9tICcuLi90eXBlcyc7XG5cbmV4cG9ydCBjbGFzcyBIaWdobGlnaHRNYXJrdXAgZXh0ZW5kcyBNYXJrdXAge1xuICBkcmF3KCkge1xuICAgIGNvbnN0IHtjdHgsIHgsIHksIHMsIGtpLCBnbG9iYWxBbHBoYX0gPSB0aGlzO1xuICAgIGN0eC5zYXZlKCk7XG4gICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgIGN0eC5saW5lV2lkdGggPSB0aGlzLmdldFRoZW1lUHJvcGVydHkoJ21hcmt1cExpbmVXaWR0aCcpO1xuICAgIGN0eC5nbG9iYWxBbHBoYSA9IDAuNjtcbiAgICBsZXQgc2l6ZSA9IHMgKiAwLjQ7XG4gICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMuZ2V0VGhlbWVQcm9wZXJ0eSgnaGlnaGxpZ2h0Q29sb3InKTtcbiAgICBpZiAoa2kgPT09IEtpLldoaXRlIHx8IGtpID09PSBLaS5CbGFjaykge1xuICAgICAgc2l6ZSA9IHMgKiAwLjM1O1xuICAgIH1cbiAgICBjdHguYXJjKHgsIHksIHNpemUsIDAsIDIgKiBNYXRoLlBJLCB0cnVlKTtcbiAgICBjdHguZmlsbCgpO1xuICAgIGN0eC5yZXN0b3JlKCk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEVmZmVjdEJhc2Uge1xuICBwcm90ZWN0ZWQgZ2xvYmFsQWxwaGEgPSAxO1xuICBwcm90ZWN0ZWQgY29sb3IgPSAnJztcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcm90ZWN0ZWQgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsXG4gICAgcHJvdGVjdGVkIHg6IG51bWJlcixcbiAgICBwcm90ZWN0ZWQgeTogbnVtYmVyLFxuICAgIHByb3RlY3RlZCBzaXplOiBudW1iZXIsXG4gICAgcHJvdGVjdGVkIGtpOiBudW1iZXJcbiAgKSB7fVxuXG4gIHBsYXkoKSB7XG4gICAgLy8gQmFzZSBwbGF5IG1ldGhvZCAtIHRvIGJlIGltcGxlbWVudGVkIGJ5IHN1YmNsYXNzZXNcbiAgfVxufVxuIiwiLyoqXG4gKiAgYmFzZTY0LnRzXG4gKlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBCU0QgMy1DbGF1c2UgTGljZW5zZS5cbiAqICAgIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9CU0QtMy1DbGF1c2VcbiAqXG4gKiAgUmVmZXJlbmNlczpcbiAqICAgIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQmFzZTY0XG4gKlxuICogQGF1dGhvciBEYW4gS29nYWkgKGh0dHBzOi8vZ2l0aHViLmNvbS9kYW5rb2dhaSlcbiAqL1xuY29uc3QgdmVyc2lvbiA9ICczLjcuNyc7XG4vKipcbiAqIEBkZXByZWNhdGVkIHVzZSBsb3dlcmNhc2UgYHZlcnNpb25gLlxuICovXG5jb25zdCBWRVJTSU9OID0gdmVyc2lvbjtcbmNvbnN0IF9oYXNCdWZmZXIgPSB0eXBlb2YgQnVmZmVyID09PSAnZnVuY3Rpb24nO1xuY29uc3QgX1REID0gdHlwZW9mIFRleHREZWNvZGVyID09PSAnZnVuY3Rpb24nID8gbmV3IFRleHREZWNvZGVyKCkgOiB1bmRlZmluZWQ7XG5jb25zdCBfVEUgPSB0eXBlb2YgVGV4dEVuY29kZXIgPT09ICdmdW5jdGlvbicgPyBuZXcgVGV4dEVuY29kZXIoKSA6IHVuZGVmaW5lZDtcbmNvbnN0IGI2NGNoID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89JztcbmNvbnN0IGI2NGNocyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGI2NGNoKTtcbmNvbnN0IGI2NHRhYiA9ICgoYSkgPT4ge1xuICAgIGxldCB0YWIgPSB7fTtcbiAgICBhLmZvckVhY2goKGMsIGkpID0+IHRhYltjXSA9IGkpO1xuICAgIHJldHVybiB0YWI7XG59KShiNjRjaHMpO1xuY29uc3QgYjY0cmUgPSAvXig/OltBLVphLXpcXGQrXFwvXXs0fSkqPyg/OltBLVphLXpcXGQrXFwvXXsyfSg/Oj09KT98W0EtWmEtelxcZCtcXC9dezN9PT8pPyQvO1xuY29uc3QgX2Zyb21DQyA9IFN0cmluZy5mcm9tQ2hhckNvZGUuYmluZChTdHJpbmcpO1xuY29uc3QgX1U4QWZyb20gPSB0eXBlb2YgVWludDhBcnJheS5mcm9tID09PSAnZnVuY3Rpb24nXG4gICAgPyBVaW50OEFycmF5LmZyb20uYmluZChVaW50OEFycmF5KVxuICAgIDogKGl0KSA9PiBuZXcgVWludDhBcnJheShBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChpdCwgMCkpO1xuY29uc3QgX21rVXJpU2FmZSA9IChzcmMpID0+IHNyY1xuICAgIC5yZXBsYWNlKC89L2csICcnKS5yZXBsYWNlKC9bK1xcL10vZywgKG0wKSA9PiBtMCA9PSAnKycgPyAnLScgOiAnXycpO1xuY29uc3QgX3RpZHlCNjQgPSAocykgPT4gcy5yZXBsYWNlKC9bXkEtWmEtejAtOVxcK1xcL10vZywgJycpO1xuLyoqXG4gKiBwb2x5ZmlsbCB2ZXJzaW9uIG9mIGBidG9hYFxuICovXG5jb25zdCBidG9hUG9seWZpbGwgPSAoYmluKSA9PiB7XG4gICAgLy8gY29uc29sZS5sb2coJ3BvbHlmaWxsZWQnKTtcbiAgICBsZXQgdTMyLCBjMCwgYzEsIGMyLCBhc2MgPSAnJztcbiAgICBjb25zdCBwYWQgPSBiaW4ubGVuZ3RoICUgMztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJpbi5sZW5ndGg7KSB7XG4gICAgICAgIGlmICgoYzAgPSBiaW4uY2hhckNvZGVBdChpKyspKSA+IDI1NSB8fFxuICAgICAgICAgICAgKGMxID0gYmluLmNoYXJDb2RlQXQoaSsrKSkgPiAyNTUgfHxcbiAgICAgICAgICAgIChjMiA9IGJpbi5jaGFyQ29kZUF0KGkrKykpID4gMjU1KVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignaW52YWxpZCBjaGFyYWN0ZXIgZm91bmQnKTtcbiAgICAgICAgdTMyID0gKGMwIDw8IDE2KSB8IChjMSA8PCA4KSB8IGMyO1xuICAgICAgICBhc2MgKz0gYjY0Y2hzW3UzMiA+PiAxOCAmIDYzXVxuICAgICAgICAgICAgKyBiNjRjaHNbdTMyID4+IDEyICYgNjNdXG4gICAgICAgICAgICArIGI2NGNoc1t1MzIgPj4gNiAmIDYzXVxuICAgICAgICAgICAgKyBiNjRjaHNbdTMyICYgNjNdO1xuICAgIH1cbiAgICByZXR1cm4gcGFkID8gYXNjLnNsaWNlKDAsIHBhZCAtIDMpICsgXCI9PT1cIi5zdWJzdHJpbmcocGFkKSA6IGFzYztcbn07XG4vKipcbiAqIGRvZXMgd2hhdCBgd2luZG93LmJ0b2FgIG9mIHdlYiBicm93c2VycyBkby5cbiAqIEBwYXJhbSB7U3RyaW5nfSBiaW4gYmluYXJ5IHN0cmluZ1xuICogQHJldHVybnMge3N0cmluZ30gQmFzZTY0LWVuY29kZWQgc3RyaW5nXG4gKi9cbmNvbnN0IF9idG9hID0gdHlwZW9mIGJ0b2EgPT09ICdmdW5jdGlvbicgPyAoYmluKSA9PiBidG9hKGJpbilcbiAgICA6IF9oYXNCdWZmZXIgPyAoYmluKSA9PiBCdWZmZXIuZnJvbShiaW4sICdiaW5hcnknKS50b1N0cmluZygnYmFzZTY0JylcbiAgICAgICAgOiBidG9hUG9seWZpbGw7XG5jb25zdCBfZnJvbVVpbnQ4QXJyYXkgPSBfaGFzQnVmZmVyXG4gICAgPyAodThhKSA9PiBCdWZmZXIuZnJvbSh1OGEpLnRvU3RyaW5nKCdiYXNlNjQnKVxuICAgIDogKHU4YSkgPT4ge1xuICAgICAgICAvLyBjZi4gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTI3MTAwMDEvaG93LXRvLWNvbnZlcnQtdWludDgtYXJyYXktdG8tYmFzZTY0LWVuY29kZWQtc3RyaW5nLzEyNzEzMzI2IzEyNzEzMzI2XG4gICAgICAgIGNvbnN0IG1heGFyZ3MgPSAweDEwMDA7XG4gICAgICAgIGxldCBzdHJzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gdThhLmxlbmd0aDsgaSA8IGw7IGkgKz0gbWF4YXJncykge1xuICAgICAgICAgICAgc3Rycy5wdXNoKF9mcm9tQ0MuYXBwbHkobnVsbCwgdThhLnN1YmFycmF5KGksIGkgKyBtYXhhcmdzKSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfYnRvYShzdHJzLmpvaW4oJycpKTtcbiAgICB9O1xuLyoqXG4gKiBjb252ZXJ0cyBhIFVpbnQ4QXJyYXkgdG8gYSBCYXNlNjQgc3RyaW5nLlxuICogQHBhcmFtIHtib29sZWFufSBbdXJsc2FmZV0gVVJMLWFuZC1maWxlbmFtZS1zYWZlIGEgbGEgUkZDNDY0OCDCpzVcbiAqIEByZXR1cm5zIHtzdHJpbmd9IEJhc2U2NCBzdHJpbmdcbiAqL1xuY29uc3QgZnJvbVVpbnQ4QXJyYXkgPSAodThhLCB1cmxzYWZlID0gZmFsc2UpID0+IHVybHNhZmUgPyBfbWtVcmlTYWZlKF9mcm9tVWludDhBcnJheSh1OGEpKSA6IF9mcm9tVWludDhBcnJheSh1OGEpO1xuLy8gVGhpcyB0cmljayBpcyBmb3VuZCBicm9rZW4gaHR0cHM6Ly9naXRodWIuY29tL2RhbmtvZ2FpL2pzLWJhc2U2NC9pc3N1ZXMvMTMwXG4vLyBjb25zdCB1dG9iID0gKHNyYzogc3RyaW5nKSA9PiB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoc3JjKSk7XG4vLyByZXZlcnRpbmcgZ29vZCBvbGQgZmF0aW9uZWQgcmVnZXhwXG5jb25zdCBjYl91dG9iID0gKGMpID0+IHtcbiAgICBpZiAoYy5sZW5ndGggPCAyKSB7XG4gICAgICAgIHZhciBjYyA9IGMuY2hhckNvZGVBdCgwKTtcbiAgICAgICAgcmV0dXJuIGNjIDwgMHg4MCA/IGNcbiAgICAgICAgICAgIDogY2MgPCAweDgwMCA/IChfZnJvbUNDKDB4YzAgfCAoY2MgPj4+IDYpKVxuICAgICAgICAgICAgICAgICsgX2Zyb21DQygweDgwIHwgKGNjICYgMHgzZikpKVxuICAgICAgICAgICAgICAgIDogKF9mcm9tQ0MoMHhlMCB8ICgoY2MgPj4+IDEyKSAmIDB4MGYpKVxuICAgICAgICAgICAgICAgICAgICArIF9mcm9tQ0MoMHg4MCB8ICgoY2MgPj4+IDYpICYgMHgzZikpXG4gICAgICAgICAgICAgICAgICAgICsgX2Zyb21DQygweDgwIHwgKGNjICYgMHgzZikpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZhciBjYyA9IDB4MTAwMDBcbiAgICAgICAgICAgICsgKGMuY2hhckNvZGVBdCgwKSAtIDB4RDgwMCkgKiAweDQwMFxuICAgICAgICAgICAgKyAoYy5jaGFyQ29kZUF0KDEpIC0gMHhEQzAwKTtcbiAgICAgICAgcmV0dXJuIChfZnJvbUNDKDB4ZjAgfCAoKGNjID4+PiAxOCkgJiAweDA3KSlcbiAgICAgICAgICAgICsgX2Zyb21DQygweDgwIHwgKChjYyA+Pj4gMTIpICYgMHgzZikpXG4gICAgICAgICAgICArIF9mcm9tQ0MoMHg4MCB8ICgoY2MgPj4+IDYpICYgMHgzZikpXG4gICAgICAgICAgICArIF9mcm9tQ0MoMHg4MCB8IChjYyAmIDB4M2YpKSk7XG4gICAgfVxufTtcbmNvbnN0IHJlX3V0b2IgPSAvW1xcdUQ4MDAtXFx1REJGRl1bXFx1REMwMC1cXHVERkZGRl18W15cXHgwMC1cXHg3Rl0vZztcbi8qKlxuICogQGRlcHJlY2F0ZWQgc2hvdWxkIGhhdmUgYmVlbiBpbnRlcm5hbCB1c2Ugb25seS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzcmMgVVRGLTggc3RyaW5nXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBVVEYtMTYgc3RyaW5nXG4gKi9cbmNvbnN0IHV0b2IgPSAodSkgPT4gdS5yZXBsYWNlKHJlX3V0b2IsIGNiX3V0b2IpO1xuLy9cbmNvbnN0IF9lbmNvZGUgPSBfaGFzQnVmZmVyXG4gICAgPyAocykgPT4gQnVmZmVyLmZyb20ocywgJ3V0ZjgnKS50b1N0cmluZygnYmFzZTY0JylcbiAgICA6IF9URVxuICAgICAgICA/IChzKSA9PiBfZnJvbVVpbnQ4QXJyYXkoX1RFLmVuY29kZShzKSlcbiAgICAgICAgOiAocykgPT4gX2J0b2EodXRvYihzKSk7XG4vKipcbiAqIGNvbnZlcnRzIGEgVVRGLTgtZW5jb2RlZCBzdHJpbmcgdG8gYSBCYXNlNjQgc3RyaW5nLlxuICogQHBhcmFtIHtib29sZWFufSBbdXJsc2FmZV0gaWYgYHRydWVgIG1ha2UgdGhlIHJlc3VsdCBVUkwtc2FmZVxuICogQHJldHVybnMge3N0cmluZ30gQmFzZTY0IHN0cmluZ1xuICovXG5jb25zdCBlbmNvZGUgPSAoc3JjLCB1cmxzYWZlID0gZmFsc2UpID0+IHVybHNhZmVcbiAgICA/IF9ta1VyaVNhZmUoX2VuY29kZShzcmMpKVxuICAgIDogX2VuY29kZShzcmMpO1xuLyoqXG4gKiBjb252ZXJ0cyBhIFVURi04LWVuY29kZWQgc3RyaW5nIHRvIFVSTC1zYWZlIEJhc2U2NCBSRkM0NjQ4IMKnNS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IEJhc2U2NCBzdHJpbmdcbiAqL1xuY29uc3QgZW5jb2RlVVJJID0gKHNyYykgPT4gZW5jb2RlKHNyYywgdHJ1ZSk7XG4vLyBUaGlzIHRyaWNrIGlzIGZvdW5kIGJyb2tlbiBodHRwczovL2dpdGh1Yi5jb20vZGFua29nYWkvanMtYmFzZTY0L2lzc3Vlcy8xMzBcbi8vIGNvbnN0IGJ0b3UgPSAoc3JjOiBzdHJpbmcpID0+IGRlY29kZVVSSUNvbXBvbmVudChlc2NhcGUoc3JjKSk7XG4vLyByZXZlcnRpbmcgZ29vZCBvbGQgZmF0aW9uZWQgcmVnZXhwXG5jb25zdCByZV9idG91ID0gL1tcXHhDMC1cXHhERl1bXFx4ODAtXFx4QkZdfFtcXHhFMC1cXHhFRl1bXFx4ODAtXFx4QkZdezJ9fFtcXHhGMC1cXHhGN11bXFx4ODAtXFx4QkZdezN9L2c7XG5jb25zdCBjYl9idG91ID0gKGNjY2MpID0+IHtcbiAgICBzd2l0Y2ggKGNjY2MubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgIHZhciBjcCA9ICgoMHgwNyAmIGNjY2MuY2hhckNvZGVBdCgwKSkgPDwgMTgpXG4gICAgICAgICAgICAgICAgfCAoKDB4M2YgJiBjY2NjLmNoYXJDb2RlQXQoMSkpIDw8IDEyKVxuICAgICAgICAgICAgICAgIHwgKCgweDNmICYgY2NjYy5jaGFyQ29kZUF0KDIpKSA8PCA2KVxuICAgICAgICAgICAgICAgIHwgKDB4M2YgJiBjY2NjLmNoYXJDb2RlQXQoMykpLCBvZmZzZXQgPSBjcCAtIDB4MTAwMDA7XG4gICAgICAgICAgICByZXR1cm4gKF9mcm9tQ0MoKG9mZnNldCA+Pj4gMTApICsgMHhEODAwKVxuICAgICAgICAgICAgICAgICsgX2Zyb21DQygob2Zmc2V0ICYgMHgzRkYpICsgMHhEQzAwKSk7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgIHJldHVybiBfZnJvbUNDKCgoMHgwZiAmIGNjY2MuY2hhckNvZGVBdCgwKSkgPDwgMTIpXG4gICAgICAgICAgICAgICAgfCAoKDB4M2YgJiBjY2NjLmNoYXJDb2RlQXQoMSkpIDw8IDYpXG4gICAgICAgICAgICAgICAgfCAoMHgzZiAmIGNjY2MuY2hhckNvZGVBdCgyKSkpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIF9mcm9tQ0MoKCgweDFmICYgY2NjYy5jaGFyQ29kZUF0KDApKSA8PCA2KVxuICAgICAgICAgICAgICAgIHwgKDB4M2YgJiBjY2NjLmNoYXJDb2RlQXQoMSkpKTtcbiAgICB9XG59O1xuLyoqXG4gKiBAZGVwcmVjYXRlZCBzaG91bGQgaGF2ZSBiZWVuIGludGVybmFsIHVzZSBvbmx5LlxuICogQHBhcmFtIHtzdHJpbmd9IHNyYyBVVEYtMTYgc3RyaW5nXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBVVEYtOCBzdHJpbmdcbiAqL1xuY29uc3QgYnRvdSA9IChiKSA9PiBiLnJlcGxhY2UocmVfYnRvdSwgY2JfYnRvdSk7XG4vKipcbiAqIHBvbHlmaWxsIHZlcnNpb24gb2YgYGF0b2JgXG4gKi9cbmNvbnN0IGF0b2JQb2x5ZmlsbCA9IChhc2MpID0+IHtcbiAgICAvLyBjb25zb2xlLmxvZygncG9seWZpbGxlZCcpO1xuICAgIGFzYyA9IGFzYy5yZXBsYWNlKC9cXHMrL2csICcnKTtcbiAgICBpZiAoIWI2NHJlLnRlc3QoYXNjKSlcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignbWFsZm9ybWVkIGJhc2U2NC4nKTtcbiAgICBhc2MgKz0gJz09Jy5zbGljZSgyIC0gKGFzYy5sZW5ndGggJiAzKSk7XG4gICAgbGV0IHUyNCwgYmluID0gJycsIHIxLCByMjtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFzYy5sZW5ndGg7KSB7XG4gICAgICAgIHUyNCA9IGI2NHRhYlthc2MuY2hhckF0KGkrKyldIDw8IDE4XG4gICAgICAgICAgICB8IGI2NHRhYlthc2MuY2hhckF0KGkrKyldIDw8IDEyXG4gICAgICAgICAgICB8IChyMSA9IGI2NHRhYlthc2MuY2hhckF0KGkrKyldKSA8PCA2XG4gICAgICAgICAgICB8IChyMiA9IGI2NHRhYlthc2MuY2hhckF0KGkrKyldKTtcbiAgICAgICAgYmluICs9IHIxID09PSA2NCA/IF9mcm9tQ0ModTI0ID4+IDE2ICYgMjU1KVxuICAgICAgICAgICAgOiByMiA9PT0gNjQgPyBfZnJvbUNDKHUyNCA+PiAxNiAmIDI1NSwgdTI0ID4+IDggJiAyNTUpXG4gICAgICAgICAgICAgICAgOiBfZnJvbUNDKHUyNCA+PiAxNiAmIDI1NSwgdTI0ID4+IDggJiAyNTUsIHUyNCAmIDI1NSk7XG4gICAgfVxuICAgIHJldHVybiBiaW47XG59O1xuLyoqXG4gKiBkb2VzIHdoYXQgYHdpbmRvdy5hdG9iYCBvZiB3ZWIgYnJvd3NlcnMgZG8uXG4gKiBAcGFyYW0ge1N0cmluZ30gYXNjIEJhc2U2NC1lbmNvZGVkIHN0cmluZ1xuICogQHJldHVybnMge3N0cmluZ30gYmluYXJ5IHN0cmluZ1xuICovXG5jb25zdCBfYXRvYiA9IHR5cGVvZiBhdG9iID09PSAnZnVuY3Rpb24nID8gKGFzYykgPT4gYXRvYihfdGlkeUI2NChhc2MpKVxuICAgIDogX2hhc0J1ZmZlciA/IChhc2MpID0+IEJ1ZmZlci5mcm9tKGFzYywgJ2Jhc2U2NCcpLnRvU3RyaW5nKCdiaW5hcnknKVxuICAgICAgICA6IGF0b2JQb2x5ZmlsbDtcbi8vXG5jb25zdCBfdG9VaW50OEFycmF5ID0gX2hhc0J1ZmZlclxuICAgID8gKGEpID0+IF9VOEFmcm9tKEJ1ZmZlci5mcm9tKGEsICdiYXNlNjQnKSlcbiAgICA6IChhKSA9PiBfVThBZnJvbShfYXRvYihhKS5zcGxpdCgnJykubWFwKGMgPT4gYy5jaGFyQ29kZUF0KDApKSk7XG4vKipcbiAqIGNvbnZlcnRzIGEgQmFzZTY0IHN0cmluZyB0byBhIFVpbnQ4QXJyYXkuXG4gKi9cbmNvbnN0IHRvVWludDhBcnJheSA9IChhKSA9PiBfdG9VaW50OEFycmF5KF91blVSSShhKSk7XG4vL1xuY29uc3QgX2RlY29kZSA9IF9oYXNCdWZmZXJcbiAgICA/IChhKSA9PiBCdWZmZXIuZnJvbShhLCAnYmFzZTY0JykudG9TdHJpbmcoJ3V0ZjgnKVxuICAgIDogX1REXG4gICAgICAgID8gKGEpID0+IF9URC5kZWNvZGUoX3RvVWludDhBcnJheShhKSlcbiAgICAgICAgOiAoYSkgPT4gYnRvdShfYXRvYihhKSk7XG5jb25zdCBfdW5VUkkgPSAoYSkgPT4gX3RpZHlCNjQoYS5yZXBsYWNlKC9bLV9dL2csIChtMCkgPT4gbTAgPT0gJy0nID8gJysnIDogJy8nKSk7XG4vKipcbiAqIGNvbnZlcnRzIGEgQmFzZTY0IHN0cmluZyB0byBhIFVURi04IHN0cmluZy5cbiAqIEBwYXJhbSB7U3RyaW5nfSBzcmMgQmFzZTY0IHN0cmluZy4gIEJvdGggbm9ybWFsIGFuZCBVUkwtc2FmZSBhcmUgc3VwcG9ydGVkXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBVVEYtOCBzdHJpbmdcbiAqL1xuY29uc3QgZGVjb2RlID0gKHNyYykgPT4gX2RlY29kZShfdW5VUkkoc3JjKSk7XG4vKipcbiAqIGNoZWNrIGlmIGEgdmFsdWUgaXMgYSB2YWxpZCBCYXNlNjQgc3RyaW5nXG4gKiBAcGFyYW0ge1N0cmluZ30gc3JjIGEgdmFsdWUgdG8gY2hlY2tcbiAgKi9cbmNvbnN0IGlzVmFsaWQgPSAoc3JjKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBzcmMgIT09ICdzdHJpbmcnKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgY29uc3QgcyA9IHNyYy5yZXBsYWNlKC9cXHMrL2csICcnKS5yZXBsYWNlKC89ezAsMn0kLywgJycpO1xuICAgIHJldHVybiAhL1teXFxzMC05YS16QS1aXFwrL10vLnRlc3QocykgfHwgIS9bXlxcczAtOWEtekEtWlxcLV9dLy50ZXN0KHMpO1xufTtcbi8vXG5jb25zdCBfbm9FbnVtID0gKHYpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgICB2YWx1ZTogdiwgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWVcbiAgICB9O1xufTtcbi8qKlxuICogZXh0ZW5kIFN0cmluZy5wcm90b3R5cGUgd2l0aCByZWxldmFudCBtZXRob2RzXG4gKi9cbmNvbnN0IGV4dGVuZFN0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBfYWRkID0gKG5hbWUsIGJvZHkpID0+IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdHJpbmcucHJvdG90eXBlLCBuYW1lLCBfbm9FbnVtKGJvZHkpKTtcbiAgICBfYWRkKCdmcm9tQmFzZTY0JywgZnVuY3Rpb24gKCkgeyByZXR1cm4gZGVjb2RlKHRoaXMpOyB9KTtcbiAgICBfYWRkKCd0b0Jhc2U2NCcsIGZ1bmN0aW9uICh1cmxzYWZlKSB7IHJldHVybiBlbmNvZGUodGhpcywgdXJsc2FmZSk7IH0pO1xuICAgIF9hZGQoJ3RvQmFzZTY0VVJJJywgZnVuY3Rpb24gKCkgeyByZXR1cm4gZW5jb2RlKHRoaXMsIHRydWUpOyB9KTtcbiAgICBfYWRkKCd0b0Jhc2U2NFVSTCcsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGVuY29kZSh0aGlzLCB0cnVlKTsgfSk7XG4gICAgX2FkZCgndG9VaW50OEFycmF5JywgZnVuY3Rpb24gKCkgeyByZXR1cm4gdG9VaW50OEFycmF5KHRoaXMpOyB9KTtcbn07XG4vKipcbiAqIGV4dGVuZCBVaW50OEFycmF5LnByb3RvdHlwZSB3aXRoIHJlbGV2YW50IG1ldGhvZHNcbiAqL1xuY29uc3QgZXh0ZW5kVWludDhBcnJheSA9IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBfYWRkID0gKG5hbWUsIGJvZHkpID0+IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShVaW50OEFycmF5LnByb3RvdHlwZSwgbmFtZSwgX25vRW51bShib2R5KSk7XG4gICAgX2FkZCgndG9CYXNlNjQnLCBmdW5jdGlvbiAodXJsc2FmZSkgeyByZXR1cm4gZnJvbVVpbnQ4QXJyYXkodGhpcywgdXJsc2FmZSk7IH0pO1xuICAgIF9hZGQoJ3RvQmFzZTY0VVJJJywgZnVuY3Rpb24gKCkgeyByZXR1cm4gZnJvbVVpbnQ4QXJyYXkodGhpcywgdHJ1ZSk7IH0pO1xuICAgIF9hZGQoJ3RvQmFzZTY0VVJMJywgZnVuY3Rpb24gKCkgeyByZXR1cm4gZnJvbVVpbnQ4QXJyYXkodGhpcywgdHJ1ZSk7IH0pO1xufTtcbi8qKlxuICogZXh0ZW5kIEJ1aWx0aW4gcHJvdG90eXBlcyB3aXRoIHJlbGV2YW50IG1ldGhvZHNcbiAqL1xuY29uc3QgZXh0ZW5kQnVpbHRpbnMgPSAoKSA9PiB7XG4gICAgZXh0ZW5kU3RyaW5nKCk7XG4gICAgZXh0ZW5kVWludDhBcnJheSgpO1xufTtcbmNvbnN0IGdCYXNlNjQgPSB7XG4gICAgdmVyc2lvbjogdmVyc2lvbixcbiAgICBWRVJTSU9OOiBWRVJTSU9OLFxuICAgIGF0b2I6IF9hdG9iLFxuICAgIGF0b2JQb2x5ZmlsbDogYXRvYlBvbHlmaWxsLFxuICAgIGJ0b2E6IF9idG9hLFxuICAgIGJ0b2FQb2x5ZmlsbDogYnRvYVBvbHlmaWxsLFxuICAgIGZyb21CYXNlNjQ6IGRlY29kZSxcbiAgICB0b0Jhc2U2NDogZW5jb2RlLFxuICAgIGVuY29kZTogZW5jb2RlLFxuICAgIGVuY29kZVVSSTogZW5jb2RlVVJJLFxuICAgIGVuY29kZVVSTDogZW5jb2RlVVJJLFxuICAgIHV0b2I6IHV0b2IsXG4gICAgYnRvdTogYnRvdSxcbiAgICBkZWNvZGU6IGRlY29kZSxcbiAgICBpc1ZhbGlkOiBpc1ZhbGlkLFxuICAgIGZyb21VaW50OEFycmF5OiBmcm9tVWludDhBcnJheSxcbiAgICB0b1VpbnQ4QXJyYXk6IHRvVWludDhBcnJheSxcbiAgICBleHRlbmRTdHJpbmc6IGV4dGVuZFN0cmluZyxcbiAgICBleHRlbmRVaW50OEFycmF5OiBleHRlbmRVaW50OEFycmF5LFxuICAgIGV4dGVuZEJ1aWx0aW5zOiBleHRlbmRCdWlsdGluc1xufTtcbi8vIG1ha2VjanM6Q1VUIC8vXG5leHBvcnQgeyB2ZXJzaW9uIH07XG5leHBvcnQgeyBWRVJTSU9OIH07XG5leHBvcnQgeyBfYXRvYiBhcyBhdG9iIH07XG5leHBvcnQgeyBhdG9iUG9seWZpbGwgfTtcbmV4cG9ydCB7IF9idG9hIGFzIGJ0b2EgfTtcbmV4cG9ydCB7IGJ0b2FQb2x5ZmlsbCB9O1xuZXhwb3J0IHsgZGVjb2RlIGFzIGZyb21CYXNlNjQgfTtcbmV4cG9ydCB7IGVuY29kZSBhcyB0b0Jhc2U2NCB9O1xuZXhwb3J0IHsgdXRvYiB9O1xuZXhwb3J0IHsgZW5jb2RlIH07XG5leHBvcnQgeyBlbmNvZGVVUkkgfTtcbmV4cG9ydCB7IGVuY29kZVVSSSBhcyBlbmNvZGVVUkwgfTtcbmV4cG9ydCB7IGJ0b3UgfTtcbmV4cG9ydCB7IGRlY29kZSB9O1xuZXhwb3J0IHsgaXNWYWxpZCB9O1xuZXhwb3J0IHsgZnJvbVVpbnQ4QXJyYXkgfTtcbmV4cG9ydCB7IHRvVWludDhBcnJheSB9O1xuZXhwb3J0IHsgZXh0ZW5kU3RyaW5nIH07XG5leHBvcnQgeyBleHRlbmRVaW50OEFycmF5IH07XG5leHBvcnQgeyBleHRlbmRCdWlsdGlucyB9O1xuLy8gYW5kIGZpbmFsbHksXG5leHBvcnQgeyBnQmFzZTY0IGFzIEJhc2U2NCB9O1xuIiwiaW1wb3J0IEVmZmVjdEJhc2UgZnJvbSAnLi9FZmZlY3RCYXNlJztcbmltcG9ydCB7ZW5jb2RlfSBmcm9tICdqcy1iYXNlNjQnO1xuXG5jb25zdCBiYW5TdmcgPSBgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIxNlwiIGhlaWdodD1cIjE2XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiIGNsYXNzPVwiYmkgYmktYmFuXCIgdmlld0JveD1cIjAgMCAxNiAxNlwiPlxuICA8cGF0aCBkPVwiTTE1IDhhNi45NyA2Ljk3IDAgMCAwLTEuNzEtNC41ODRsLTkuODc0IDkuODc1QTcgNyAwIDAgMCAxNSA4TTIuNzEgMTIuNTg0bDkuODc0LTkuODc1YTcgNyAwIDAgMC05Ljg3NCA5Ljg3NFpNMTYgOEE4IDggMCAxIDEgMCA4YTggOCAwIDAgMSAxNiAwXCIvPlxuPC9zdmc+YDtcblxuZXhwb3J0IGNsYXNzIEJhbkVmZmVjdCBleHRlbmRzIEVmZmVjdEJhc2Uge1xuICBwcml2YXRlIGltZyA9IG5ldyBJbWFnZSgpO1xuICBwcml2YXRlIGFscGhhID0gMDtcbiAgcHJpdmF0ZSBmYWRlSW5EdXJhdGlvbiA9IDIwMDtcbiAgcHJpdmF0ZSBmYWRlT3V0RHVyYXRpb24gPSAxNTA7XG4gIHByaXZhdGUgc3RheUR1cmF0aW9uID0gNDAwO1xuICBwcml2YXRlIHN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuXG4gIHByaXZhdGUgaXNGYWRpbmdPdXQgPSBmYWxzZTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcm90ZWN0ZWQgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsXG4gICAgcHJvdGVjdGVkIHg6IG51bWJlcixcbiAgICBwcm90ZWN0ZWQgeTogbnVtYmVyLFxuICAgIHByb3RlY3RlZCBzaXplOiBudW1iZXIsXG4gICAgcHJvdGVjdGVkIGtpOiBudW1iZXJcbiAgKSB7XG4gICAgc3VwZXIoY3R4LCB4LCB5LCBzaXplLCBraSk7XG5cbiAgICAvLyBDb252ZXJ0IFNWRyBzdHJpbmcgdG8gYSBkYXRhIFVSTFxuICAgIGNvbnN0IHN2Z0Jsb2IgPSBuZXcgQmxvYihbYmFuU3ZnXSwge3R5cGU6ICdpbWFnZS9zdmcreG1sJ30pO1xuXG4gICAgY29uc3Qgc3ZnRGF0YVVybCA9IGBkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LCR7ZW5jb2RlKGJhblN2Zyl9YDtcblxuICAgIHRoaXMuaW1nID0gbmV3IEltYWdlKCk7XG4gICAgdGhpcy5pbWcuc3JjID0gc3ZnRGF0YVVybDtcbiAgfVxuXG4gIHBsYXkgPSAoKSA9PiB7XG4gICAgaWYgKCF0aGlzLmltZy5jb21wbGV0ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHtjdHgsIHgsIHksIHNpemUsIGltZywgZmFkZUluRHVyYXRpb24sIGZhZGVPdXREdXJhdGlvbn0gPSB0aGlzO1xuXG4gICAgY29uc3Qgbm93ID0gcGVyZm9ybWFuY2Uubm93KCk7XG5cbiAgICBpZiAoIXRoaXMuc3RhcnRUaW1lKSB7XG4gICAgICB0aGlzLnN0YXJ0VGltZSA9IG5vdztcbiAgICB9XG5cbiAgICBjdHguY2xlYXJSZWN0KHggLSBzaXplIC8gMiwgeSAtIHNpemUgLyAyLCBzaXplLCBzaXplKTtcbiAgICBjdHguZ2xvYmFsQWxwaGEgPSB0aGlzLmFscGhhO1xuICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCB4IC0gc2l6ZSAvIDIsIHkgLSBzaXplIC8gMiwgc2l6ZSwgc2l6ZSk7XG4gICAgY3R4Lmdsb2JhbEFscGhhID0gMTtcblxuICAgIGNvbnN0IGVsYXBzZWQgPSBub3cgLSB0aGlzLnN0YXJ0VGltZTtcblxuICAgIGlmICghdGhpcy5pc0ZhZGluZ091dCkge1xuICAgICAgdGhpcy5hbHBoYSA9IE1hdGgubWluKGVsYXBzZWQgLyBmYWRlSW5EdXJhdGlvbiwgMSk7XG4gICAgICBpZiAoZWxhcHNlZCA+PSBmYWRlSW5EdXJhdGlvbikge1xuICAgICAgICB0aGlzLmFscGhhID0gMTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5pc0ZhZGluZ091dCA9IHRydWU7XG4gICAgICAgICAgdGhpcy5zdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgfSwgdGhpcy5zdGF5RHVyYXRpb24pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBmYWRlRWxhcHNlZCA9IG5vdyAtIHRoaXMuc3RhcnRUaW1lO1xuICAgICAgdGhpcy5hbHBoYSA9IE1hdGgubWF4KDEgLSBmYWRlRWxhcHNlZCAvIGZhZGVPdXREdXJhdGlvbiwgMCk7XG4gICAgICBpZiAoZmFkZUVsYXBzZWQgPj0gZmFkZU91dER1cmF0aW9uKSB7XG4gICAgICAgIHRoaXMuYWxwaGEgPSAwO1xuICAgICAgICBjdHguY2xlYXJSZWN0KHggLSBzaXplIC8gMiwgeSAtIHNpemUgLyAyLCBzaXplLCBzaXplKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLnBsYXkpO1xuICB9O1xufVxuIiwiaW1wb3J0IHtjb21wYWN0fSBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHtcbiAgY2FsY1Zpc2libGVBcmVhLFxuICByZXZlcnNlT2Zmc2V0LFxuICB6ZXJvcyxcbiAgZW1wdHksXG4gIGExVG9Qb3MsXG4gIGExVG9JbmRleCxcbiAgb2Zmc2V0QTFNb3ZlLFxuICBjYW5Nb3ZlLFxufSBmcm9tICcuL2hlbHBlcic7XG5pbXBvcnQge1xuICBBMV9MRVRURVJTLFxuICBBMV9OVU1CRVJTLFxuICBERUZBVUxUX09QVElPTlMsXG4gIE1BWF9CT0FSRF9TSVpFLFxuICBUSEVNRV9SRVNPVVJDRVMsXG4gIEJBU0VfVEhFTUVfQ09ORklHLFxufSBmcm9tICcuL2NvbnN0JztcbmltcG9ydCB7XG4gIEN1cnNvcixcbiAgTWFya3VwLFxuICBUaGVtZSxcbiAgS2ksXG4gIEFuYWx5c2lzLFxuICBHaG9zdEJhbk9wdGlvbnMsXG4gIEdob3N0QmFuT3B0aW9uc1BhcmFtcyxcbiAgQ2VudGVyLFxuICBBbmFseXNpc1BvaW50VGhlbWUsXG4gIEVmZmVjdCxcbiAgVGhlbWVPcHRpb25zLFxuICBUaGVtZUNvbmZpZyxcbiAgVGhlbWVQcm9wZXJ0eUtleSxcbiAgVGhlbWVDb250ZXh0LFxuICBDdXN0b21NYXJrdXBSZW5kZXJlcixcbn0gZnJvbSAnLi90eXBlcyc7XG5cbmltcG9ydCB7SW1hZ2VTdG9uZSwgRmxhdFN0b25lfSBmcm9tICcuL3N0b25lcyc7XG5pbXBvcnQgQW5hbHlzaXNQb2ludCBmcm9tICcuL3N0b25lcy9BbmFseXNpc1BvaW50JztcblxuaW1wb3J0IHtcbiAgQ2lyY2xlTWFya3VwLFxuICBDcm9zc01hcmt1cCxcbiAgVGV4dE1hcmt1cCxcbiAgU3F1YXJlTWFya3VwLFxuICBUcmlhbmdsZU1hcmt1cCxcbiAgR3JlZW5QbHVzTWFya3VwLFxuICBSZWRDcm9zc01hcmt1cCxcbiAgWWVsbG93VHJpYW5nbGVNYXJrdXAsXG4gIE5vZGVNYXJrdXAsXG4gIEFjdGl2ZU5vZGVNYXJrdXAsXG4gIENpcmNsZVNvbGlkTWFya3VwLFxuICBIaWdobGlnaHRNYXJrdXAsXG59IGZyb20gJy4vbWFya3Vwcyc7XG5pbXBvcnQge0JhbkVmZmVjdH0gZnJvbSAnLi9lZmZlY3RzJztcblxuY29uc3QgZ2V0VGhlbWVSZXNvdXJjZXMgPSAoXG4gIHRoZW1lOiBUaGVtZSxcbiAgdGhlbWVSZXNvdXJjZXM6IGFueSxcbiAgYm9hcmRTaXplOiBudW1iZXIgPSA1MTJcbikgPT4ge1xuICBjb25zdCByZXNvdXJjZXMgPSB0aGVtZVJlc291cmNlc1t0aGVtZV07XG4gIGlmICghcmVzb3VyY2VzKSByZXR1cm4gbnVsbDtcblxuICAvLyBJZiBib2FyZCBzaXplIDwgMjU2IGFuZCBtaWNyb1JlcyBleGlzdHMsIHVzZSBtaWNyb1JlcyByZXNvdXJjZXNcbiAgaWYgKGJvYXJkU2l6ZSA8IDI1NiAmJiByZXNvdXJjZXMubWljcm9SZXMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYm9hcmQ6IHJlc291cmNlcy5taWNyb1Jlcy5ib2FyZCB8fCByZXNvdXJjZXMuYm9hcmQsXG4gICAgICBibGFja3M6XG4gICAgICAgIHJlc291cmNlcy5taWNyb1Jlcy5ibGFja3M/Lmxlbmd0aCA+IDBcbiAgICAgICAgICA/IHJlc291cmNlcy5taWNyb1Jlcy5ibGFja3NcbiAgICAgICAgICA6IHJlc291cmNlcy5ibGFja3MsXG4gICAgICB3aGl0ZXM6XG4gICAgICAgIHJlc291cmNlcy5taWNyb1Jlcy53aGl0ZXM/Lmxlbmd0aCA+IDBcbiAgICAgICAgICA/IHJlc291cmNlcy5taWNyb1Jlcy53aGl0ZXNcbiAgICAgICAgICA6IHJlc291cmNlcy53aGl0ZXMsXG4gICAgfTtcbiAgfVxuXG4gIC8vIElmIGJvYXJkIHNpemUgPCA1MTIgYW5kIGxvd1JlcyBleGlzdHMsIHVzZSBsb3dSZXMgcmVzb3VyY2VzXG4gIGlmIChib2FyZFNpemUgPCA1MTIgJiYgcmVzb3VyY2VzLmxvd1Jlcykge1xuICAgIHJldHVybiB7XG4gICAgICBib2FyZDogcmVzb3VyY2VzLmxvd1Jlcy5ib2FyZCB8fCByZXNvdXJjZXMuYm9hcmQsXG4gICAgICBibGFja3M6XG4gICAgICAgIHJlc291cmNlcy5sb3dSZXMuYmxhY2tzPy5sZW5ndGggPiAwXG4gICAgICAgICAgPyByZXNvdXJjZXMubG93UmVzLmJsYWNrc1xuICAgICAgICAgIDogcmVzb3VyY2VzLmJsYWNrcyxcbiAgICAgIHdoaXRlczpcbiAgICAgICAgcmVzb3VyY2VzLmxvd1Jlcy53aGl0ZXM/Lmxlbmd0aCA+IDBcbiAgICAgICAgICA/IHJlc291cmNlcy5sb3dSZXMud2hpdGVzXG4gICAgICAgICAgOiByZXNvdXJjZXMud2hpdGVzLFxuICAgIH07XG4gIH1cblxuICAvLyBPdGhlcndpc2UgdXNlIHJlZ3VsYXIgcmVzb3VyY2VzXG4gIHJldHVybiB7XG4gICAgYm9hcmQ6IHJlc291cmNlcy5ib2FyZCxcbiAgICBibGFja3M6IHJlc291cmNlcy5ibGFja3MsXG4gICAgd2hpdGVzOiByZXNvdXJjZXMud2hpdGVzLFxuICB9O1xufTtcblxuLy8gR2V0IGFsbCB0aGVtZSByZXNvdXJjZXMgZm9yIHByZWxvYWRpbmcgKGFsbCByZXNvbHV0aW9ucylcbmNvbnN0IGdldEFsbFRoZW1lUmVzb3VyY2VzID0gKHRoZW1lOiBUaGVtZSwgdGhlbWVSZXNvdXJjZXM6IGFueSkgPT4ge1xuICBjb25zdCByZXNvdXJjZXMgPSB0aGVtZVJlc291cmNlc1t0aGVtZV07XG4gIGlmICghcmVzb3VyY2VzKSByZXR1cm4gW107XG5cbiAgY29uc3QgYWxsSW1hZ2VzOiBzdHJpbmdbXSA9IFtdO1xuXG4gIC8vIEFkZCByZWd1bGFyIHJlc29sdXRpb24gcmVzb3VyY2VzXG4gIGlmIChyZXNvdXJjZXMuYm9hcmQpIGFsbEltYWdlcy5wdXNoKHJlc291cmNlcy5ib2FyZCk7XG4gIGlmIChyZXNvdXJjZXMuYmxhY2tzKSBhbGxJbWFnZXMucHVzaCguLi5yZXNvdXJjZXMuYmxhY2tzKTtcbiAgaWYgKHJlc291cmNlcy53aGl0ZXMpIGFsbEltYWdlcy5wdXNoKC4uLnJlc291cmNlcy53aGl0ZXMpO1xuXG4gIC8vIEFkZCBsb3dSZXMgcmVzb3VyY2VzIGlmIHRoZXkgZXhpc3RcbiAgaWYgKHJlc291cmNlcy5sb3dSZXMpIHtcbiAgICBpZiAocmVzb3VyY2VzLmxvd1Jlcy5ib2FyZCkgYWxsSW1hZ2VzLnB1c2gocmVzb3VyY2VzLmxvd1Jlcy5ib2FyZCk7XG4gICAgaWYgKHJlc291cmNlcy5sb3dSZXMuYmxhY2tzKSBhbGxJbWFnZXMucHVzaCguLi5yZXNvdXJjZXMubG93UmVzLmJsYWNrcyk7XG4gICAgaWYgKHJlc291cmNlcy5sb3dSZXMud2hpdGVzKSBhbGxJbWFnZXMucHVzaCguLi5yZXNvdXJjZXMubG93UmVzLndoaXRlcyk7XG4gIH1cblxuICAvLyBBZGQgbWljcm9SZXMgcmVzb3VyY2VzIGlmIHRoZXkgZXhpc3RcbiAgaWYgKHJlc291cmNlcy5taWNyb1Jlcykge1xuICAgIGlmIChyZXNvdXJjZXMubWljcm9SZXMuYm9hcmQpIGFsbEltYWdlcy5wdXNoKHJlc291cmNlcy5taWNyb1Jlcy5ib2FyZCk7XG4gICAgaWYgKHJlc291cmNlcy5taWNyb1Jlcy5ibGFja3MpIGFsbEltYWdlcy5wdXNoKC4uLnJlc291cmNlcy5taWNyb1Jlcy5ibGFja3MpO1xuICAgIGlmIChyZXNvdXJjZXMubWljcm9SZXMud2hpdGVzKSBhbGxJbWFnZXMucHVzaCguLi5yZXNvdXJjZXMubWljcm9SZXMud2hpdGVzKTtcbiAgfVxuXG4gIC8vIFJlbW92ZSBkdXBsaWNhdGVzXG4gIHJldHVybiBBcnJheS5mcm9tKG5ldyBTZXQoYWxsSW1hZ2VzKSk7XG59O1xuXG5jb25zdCBpbWFnZXM6IHtcbiAgW2tleTogc3RyaW5nXTogSFRNTEltYWdlRWxlbWVudDtcbn0gPSB7fTtcblxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIHNldCBoaWdoLXF1YWxpdHkgaW1hZ2Ugc21vb3RoaW5nIGZvciBjYW52YXMgY29udGV4dFxuY29uc3Qgc2V0SW1hZ2VTbW9vdGhpbmdRdWFsaXR5ID0gKFxuICBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCB8IG51bGwgfCB1bmRlZmluZWRcbikgPT4ge1xuICBpZiAoY3R4KSB7XG4gICAgY3R4LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IHRydWU7XG4gICAgY3R4LmltYWdlU21vb3RoaW5nUXVhbGl0eSA9ICdoaWdoJztcbiAgfVxufTtcblxuZnVuY3Rpb24gaXNNb2JpbGVEZXZpY2UoKSB7XG4gIHJldHVybiAvTW9iaXxBbmRyb2lkfGlQaG9uZXxpUGFkfGlQb2R8QmxhY2tCZXJyeXxJRU1vYmlsZXxPcGVyYSBNaW5pL2kudGVzdChcbiAgICBuYXZpZ2F0b3IudXNlckFnZW50XG4gICk7XG59XG5cbmZ1bmN0aW9uIHByZWxvYWQoXG4gIHVybHM6IHN0cmluZ1tdLFxuICBkb25lOiAoKSA9PiB2b2lkLFxuICBvbkltYWdlTG9hZGVkPzogKHVybDogc3RyaW5nKSA9PiB2b2lkXG4pIHtcbiAgbGV0IGxvYWRlZCA9IDA7XG4gIGNvbnN0IGltYWdlTG9hZGVkID0gKCkgPT4ge1xuICAgIGxvYWRlZCsrO1xuICAgIGlmIChsb2FkZWQgPT09IHVybHMubGVuZ3RoKSB7XG4gICAgICBkb25lKCk7XG4gICAgfVxuICB9O1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHVybHMubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoIWltYWdlc1t1cmxzW2ldXSkge1xuICAgICAgaW1hZ2VzW3VybHNbaV1dID0gbmV3IEltYWdlKCk7XG4gICAgICBpbWFnZXNbdXJsc1tpXV0uc3JjID0gdXJsc1tpXTtcbiAgICAgIGltYWdlc1t1cmxzW2ldXS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGltYWdlTG9hZGVkKCk7XG4gICAgICAgIC8vIENhbGxiYWNrIHdoZW4gc2luZ2xlIGltYWdlIGxvYWQgY29tcGxldGVzXG4gICAgICAgIGlmIChvbkltYWdlTG9hZGVkKSB7XG4gICAgICAgICAgb25JbWFnZUxvYWRlZCh1cmxzW2ldKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGltYWdlc1t1cmxzW2ldXS5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpbWFnZUxvYWRlZCgpO1xuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKGltYWdlc1t1cmxzW2ldXS5jb21wbGV0ZSkge1xuICAgICAgLy8gSW1hZ2UgYWxyZWFkeSBsb2FkZWRcbiAgICAgIGltYWdlTG9hZGVkKCk7XG4gICAgfVxuICB9XG59XG5cbmxldCBkcHIgPSAxLjA7XG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgZHByID0gd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMS4wO1xufVxuXG5jb25zdCBERUZBVUxUX1RIRU1FX09QVElPTlM6IFRoZW1lT3B0aW9ucyA9IHtcbiAgZGVmYXVsdDogQkFTRV9USEVNRV9DT05GSUcsXG4gIFtUaGVtZS5GbGF0XToge1xuICAgIGJvYXJkQmFja2dyb3VuZENvbG9yOiAnI2U2YmI4NScsXG4gIH0sXG4gIFtUaGVtZS5XYXJtXToge1xuICAgIGJvYXJkQmFja2dyb3VuZENvbG9yOiAnI0MxOEI1MCcsXG4gIH0sXG4gIFtUaGVtZS5EYXJrXToge1xuICAgIGFjdGl2ZUNvbG9yOiAnIzlDQTNBRicsXG4gICAgaW5hY3RpdmVDb2xvcjogJyM2NjY2NjYnLFxuICAgIGJvYXJkTGluZUNvbG9yOiAnIzlDQTNBRicsXG4gICAgYm9hcmRCYWNrZ3JvdW5kQ29sb3I6ICcjMkIzMDM1JyxcbiAgfSxcbiAgW1RoZW1lLll1bnppTW9ua2V5RGFya106IHtcbiAgICBhY3RpdmVDb2xvcjogJyNBMUM5QUYnLFxuICAgIGluYWN0aXZlQ29sb3I6ICcjQTFDOUFGJyxcbiAgICBib2FyZExpbmVDb2xvcjogJyNBMUM5QUYnLFxuICAgIGZsYXRCbGFja0NvbG9yOiAnIzBFMjAxOScsXG4gICAgZmxhdEJsYWNrQ29sb3JBbHQ6ICcjMDIxRDExJyxcbiAgICBmbGF0V2hpdGVDb2xvcjogJyNBMkM4QjQnLFxuICAgIGZsYXRXaGl0ZUNvbG9yQWx0OiAnI0FGQ0JCQycsXG4gICAgc2hhZG93Q29sb3I6ICdyZ2JhKDAsIDAsIDAsIDAuMSknLFxuICAgIHN0b25lUmF0aW86IDAuNTExNSxcbiAgfSxcbiAgW1RoZW1lLkhpZ2hDb250cmFzdF06IHtcbiAgICAvLyBIaWdoIGNvbnRyYXN0IHRoZW1lLCBmcmllbmRseSBmb3IgYWxsIHR5cGVzIG9mIGNvbG9yIGJsaW5kbmVzc1xuICAgIGJvYXJkQmFja2dyb3VuZENvbG9yOiAnI0Y1RjVEQycsIC8vIEJlaWdlIGJhY2tncm91bmQsIGdlbnRsZSBvbiBleWVzXG4gICAgYm9hcmRMaW5lQ29sb3I6ICcjMkY0RjRGJywgLy8gRGFyayBzbGF0ZSBncmF5IGxpbmVzIGZvciBoaWdoIGNvbnRyYXN0XG4gICAgYWN0aXZlQ29sb3I6ICcjMkY0RjRGJyxcbiAgICBpbmFjdGl2ZUNvbG9yOiAnIzgwODA4MCcsXG5cbiAgICAvLyBTdG9uZSBjb2xvcnM6IHRyYWRpdGlvbmFsIGJsYWNrIGFuZCB3aGl0ZSBmb3IgbWF4aW11bSBjb250cmFzdCBhbmQgY29sb3IgYmxpbmQgZnJpZW5kbGluZXNzXG4gICAgZmxhdEJsYWNrQ29sb3I6ICcjMDAwMDAwJywgLy8gUHVyZSBibGFjayAtIHVuaXZlcnNhbGx5IGFjY2Vzc2libGVcbiAgICBmbGF0QmxhY2tDb2xvckFsdDogJyMxQTFBMUEnLCAvLyBWZXJ5IGRhcmsgZ3JheSB2YXJpYW50XG4gICAgZmxhdFdoaXRlQ29sb3I6ICcjRkZGRkZGJywgLy8gUHVyZSB3aGl0ZSAtIG1heGltdW0gY29udHJhc3Qgd2l0aCBibGFja1xuICAgIGZsYXRXaGl0ZUNvbG9yQWx0OiAnI0Y4RjhGOCcsIC8vIFZlcnkgbGlnaHQgZ3JheSB2YXJpYW50XG5cbiAgICAvLyBOb2RlIGFuZCBtYXJrdXAgY29sb3JzIC0gdXNpbmcgY29sb3JibGluZC1mcmllbmRseSBjb2xvcnMgdGhhdCBhdm9pZCByZWQtZ3JlZW4gY29tYmluYXRpb25zXG4gICAgcG9zaXRpdmVOb2RlQ29sb3I6ICcjMDI4NEM3JywgLy8gQmx1ZSAocG9zaXRpdmUpIC0gc2FmZSBmb3IgYWxsIGNvbG9yIGJsaW5kbmVzcyB0eXBlc1xuICAgIG5lZ2F0aXZlTm9kZUNvbG9yOiAnI0VBNTgwQycsIC8vIE9yYW5nZSAobmVnYXRpdmUpIC0gZGlzdGluZ3Vpc2hhYmxlIGZyb20gYmx1ZSBmb3IgYWxsIHVzZXJzXG4gICAgbmV1dHJhbE5vZGVDb2xvcjogJyM3QzJEMTInLCAvLyBCcm93biAobmV1dHJhbCkgLSBhbHRlcm5hdGl2ZSB0byBwcm9ibGVtYXRpYyBjb2xvcnNcbiAgICBkZWZhdWx0Tm9kZUNvbG9yOiAnIzRCNTU2MycsIC8vIERhcmsgZ3JheVxuICAgIHdhcm5pbmdOb2RlQ29sb3I6ICcjRkJCRjI0JywgLy8gQnJpZ2h0IHllbGxvdyB3YXJuaW5nXG5cbiAgICAvLyBIaWdobGlnaHQgYW5kIHNoYWRvd1xuICAgIGhpZ2hsaWdodENvbG9yOiAnI0ZERTA0NycsIC8vIEJyaWdodCB5ZWxsb3cgaGlnaGxpZ2h0XG4gICAgc2hhZG93Q29sb3I6ICcjMzc0MTUxJywgLy8gRGFyayBncmF5IHNoYWRvd1xuICB9LFxufTtcblxuZXhwb3J0IGNsYXNzIEdob3N0QmFuIHtcbiAgZGVmYXVsdE9wdGlvbnM6IEdob3N0QmFuT3B0aW9ucyA9IHtcbiAgICBib2FyZFNpemU6IDE5LFxuICAgIGR5bmFtaWNQYWRkaW5nOiBmYWxzZSxcbiAgICBwYWRkaW5nOiAxMCxcbiAgICBleHRlbnQ6IDMsXG4gICAgaW50ZXJhY3RpdmU6IGZhbHNlLFxuICAgIGNvb3JkaW5hdGU6IHRydWUsXG4gICAgdGhlbWU6IFRoZW1lLkJsYWNrQW5kV2hpdGUsXG4gICAgYW5hbHlzaXNQb2ludFRoZW1lOiBBbmFseXNpc1BvaW50VGhlbWUuRGVmYXVsdCxcbiAgICBiYWNrZ3JvdW5kOiBmYWxzZSxcbiAgICBzaG93QW5hbHlzaXM6IGZhbHNlLFxuICAgIHNob3dPd25lcnNoaXA6IGZhbHNlLFxuICAgIGFkYXB0aXZlQm9hcmRMaW5lOiB0cnVlLFxuICAgIHRoZW1lT3B0aW9uczogREVGQVVMVF9USEVNRV9PUFRJT05TLFxuICAgIHRoZW1lUmVzb3VyY2VzOiBUSEVNRV9SRVNPVVJDRVMsXG4gICAgbW92ZVNvdW5kOiBmYWxzZSxcbiAgICBhZGFwdGl2ZVN0YXJTaXplOiB0cnVlLFxuICAgIG1vYmlsZUluZGljYXRvck9mZnNldDogMCxcbiAgfTtcbiAgb3B0aW9uczogR2hvc3RCYW5PcHRpb25zO1xuICBkb206IEhUTUxFbGVtZW50IHwgdW5kZWZpbmVkO1xuICBjYW52YXM/OiBIVE1MQ2FudmFzRWxlbWVudDtcbiAgYm9hcmQ/OiBIVE1MQ2FudmFzRWxlbWVudDtcbiAgYW5hbHlzaXNDYW52YXM/OiBIVE1MQ2FudmFzRWxlbWVudDtcbiAgY3Vyc29yQ2FudmFzPzogSFRNTENhbnZhc0VsZW1lbnQ7XG4gIG1hcmt1cENhbnZhcz86IEhUTUxDYW52YXNFbGVtZW50O1xuICBlZmZlY3RDYW52YXM/OiBIVE1MQ2FudmFzRWxlbWVudDtcbiAgb3duZXJzaGlwQ2FudmFzPzogSFRNTENhbnZhc0VsZW1lbnQ7XG4gIG1vdmVTb3VuZEF1ZGlvPzogSFRNTEF1ZGlvRWxlbWVudDtcbiAgdHVybjogS2k7XG4gIHByaXZhdGUgY3Vyc29yOiBDdXJzb3IgPSBDdXJzb3IuTm9uZTtcbiAgcHJpdmF0ZSBjdXJzb3JWYWx1ZTogc3RyaW5nID0gJyc7XG4gIHByaXZhdGUgdG91Y2hNb3ZpbmcgPSBmYWxzZTtcbiAgcHJpdmF0ZSB0b3VjaFN0YXJ0UG9pbnQ6IERPTVBvaW50ID0gbmV3IERPTVBvaW50KCk7XG4gIHB1YmxpYyBjdXJzb3JQb3NpdGlvbjogW251bWJlciwgbnVtYmVyXTtcbiAgcHVibGljIGFjdHVhbEN1cnNvclBvc2l0aW9uOiBbbnVtYmVyLCBudW1iZXJdO1xuICBwdWJsaWMgY3Vyc29yUG9pbnQ6IERPTVBvaW50ID0gbmV3IERPTVBvaW50KCk7XG4gIHB1YmxpYyBhY3R1YWxDdXJzb3JQb2ludDogRE9NUG9pbnQgPSBuZXcgRE9NUG9pbnQoKTtcbiAgcHVibGljIG1hdDogbnVtYmVyW11bXTtcbiAgcHVibGljIG1hcmt1cDogc3RyaW5nW11bXTtcbiAgcHVibGljIHZpc2libGVBcmVhTWF0OiBudW1iZXJbXVtdIHwgdW5kZWZpbmVkO1xuICBwdWJsaWMgcHJldmVudE1vdmVNYXQ6IG51bWJlcltdW107XG4gIHB1YmxpYyBlZmZlY3RNYXQ6IHN0cmluZ1tdW107XG4gIHByaXZhdGUgcHJldmlvdXNCb2FyZFN0YXRlOiBudW1iZXJbXVtdIHwgbnVsbCA9IG51bGw7XG4gIG1heGh2OiBudW1iZXI7XG4gIHRyYW5zTWF0OiBET01NYXRyaXg7XG4gIGFuYWx5c2lzOiBBbmFseXNpcyB8IG51bGw7XG4gIHZpc2libGVBcmVhOiBudW1iZXJbXVtdO1xuICBub2RlTWFya3VwU3R5bGVzOiB7XG4gICAgW2tleTogc3RyaW5nXToge1xuICAgICAgY29sb3I6IHN0cmluZztcbiAgICAgIGxpbmVEYXNoOiBudW1iZXJbXTtcbiAgICB9O1xuICB9ID0ge307XG4gIHByaXZhdGUgY3VzdG9tTWFya3VwUmVuZGVyZXJzOiBSZWNvcmQ8c3RyaW5nLCBDdXN0b21NYXJrdXBSZW5kZXJlcj4gPSB7fTtcblxuICBjb25zdHJ1Y3RvcihvcHRpb25zOiBHaG9zdEJhbk9wdGlvbnNQYXJhbXMgPSB7fSkge1xuICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgIC4uLnRoaXMuZGVmYXVsdE9wdGlvbnMsXG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgdGhlbWVPcHRpb25zOiB7XG4gICAgICAgIC4uLnRoaXMuZGVmYXVsdE9wdGlvbnMudGhlbWVPcHRpb25zLFxuICAgICAgICAuLi4ob3B0aW9ucy50aGVtZU9wdGlvbnMgfHwge30pLFxuICAgICAgfSxcbiAgICB9O1xuICAgIHRoaXMuY3VzdG9tTWFya3VwUmVuZGVyZXJzID0ge1xuICAgICAgLi4udGhpcy5nZXREZWZhdWx0Q3VzdG9tTWFya3VwUmVuZGVyZXJzKCksXG4gICAgICAuLi4ob3B0aW9ucy5jdXN0b21NYXJrdXBSZW5kZXJlcnMgfHwge30pLFxuICAgIH07XG4gICAgY29uc3Qgc2l6ZSA9IHRoaXMub3B0aW9ucy5ib2FyZFNpemU7XG4gICAgdGhpcy5tYXQgPSB6ZXJvcyhbc2l6ZSwgc2l6ZV0pO1xuICAgIHRoaXMucHJldmVudE1vdmVNYXQgPSB6ZXJvcyhbc2l6ZSwgc2l6ZV0pO1xuICAgIHRoaXMubWFya3VwID0gZW1wdHkoW3NpemUsIHNpemVdKTtcbiAgICB0aGlzLmVmZmVjdE1hdCA9IGVtcHR5KFtzaXplLCBzaXplXSk7XG4gICAgdGhpcy50dXJuID0gS2kuQmxhY2s7XG4gICAgdGhpcy5jdXJzb3JQb3NpdGlvbiA9IFstMSwgLTFdO1xuICAgIHRoaXMuYWN0dWFsQ3Vyc29yUG9zaXRpb24gPSBbLTEsIC0xXTtcbiAgICB0aGlzLm1heGh2ID0gc2l6ZTtcbiAgICB0aGlzLnRyYW5zTWF0ID0gbmV3IERPTU1hdHJpeCgpO1xuICAgIHRoaXMuYW5hbHlzaXMgPSBudWxsO1xuICAgIHRoaXMudmlzaWJsZUFyZWEgPSBbXG4gICAgICBbMCwgc2l6ZSAtIDFdLFxuICAgICAgWzAsIHNpemUgLSAxXSxcbiAgICBdO1xuXG4gICAgdGhpcy51cGRhdGVOb2RlTWFya3VwU3R5bGVzKCk7XG4gIH1cblxuICBwcml2YXRlIGdldFRoZW1lUHJvcGVydHk8VCBleHRlbmRzIGtleW9mIFRoZW1lQ29uZmlnPihcbiAgICBwcm9wZXJ0eUtleTogVFxuICApOiBUaGVtZUNvbmZpZ1tUXTtcbiAgcHJpdmF0ZSBnZXRUaGVtZVByb3BlcnR5KHByb3BlcnR5S2V5OiBUaGVtZVByb3BlcnR5S2V5KTogc3RyaW5nIHwgbnVtYmVyO1xuICBwcml2YXRlIGdldFRoZW1lUHJvcGVydHk8VCBleHRlbmRzIGtleW9mIFRoZW1lQ29uZmlnPihcbiAgICBwcm9wZXJ0eUtleTogVCB8IFRoZW1lUHJvcGVydHlLZXlcbiAgKTogVGhlbWVDb25maWdbVF0gfCBzdHJpbmcgfCBudW1iZXIge1xuICAgIGNvbnN0IGtleSA9XG4gICAgICB0eXBlb2YgcHJvcGVydHlLZXkgPT09ICdzdHJpbmcnID8gcHJvcGVydHlLZXkgOiAocHJvcGVydHlLZXkgYXMgc3RyaW5nKTtcbiAgICBjb25zdCBjdXJyZW50VGhlbWUgPSB0aGlzLm9wdGlvbnMudGhlbWU7XG4gICAgY29uc3QgdGhlbWVDb25maWcgPSB0aGlzLm9wdGlvbnMudGhlbWVPcHRpb25zW2N1cnJlbnRUaGVtZV0gfHwge307XG4gICAgY29uc3QgZGVmYXVsdENvbmZpZyA9IHRoaXMub3B0aW9ucy50aGVtZU9wdGlvbnMuZGVmYXVsdCB8fCB7fTtcblxuICAgIGNvbnN0IHJlc3VsdCA9ICh0aGVtZUNvbmZpZ1trZXkgYXMga2V5b2YgVGhlbWVDb25maWddIHx8XG4gICAgICBkZWZhdWx0Q29uZmlnW2tleSBhcyBrZXlvZiBUaGVtZUNvbmZpZ10pIGFzIFRoZW1lQ29uZmlnW1RdO1xuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgdGhlbWUgY29udGV4dCBmb3IgbWFya3VwIGNvbXBvbmVudHNcbiAgICovXG4gIHByaXZhdGUgY3JlYXRlVGhlbWVDb250ZXh0KCk6IFRoZW1lQ29udGV4dCB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRoZW1lOiB0aGlzLm9wdGlvbnMudGhlbWUsXG4gICAgICB0aGVtZU9wdGlvbnM6IHRoaXMub3B0aW9ucy50aGVtZU9wdGlvbnMsXG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0RGVmYXVsdEN1c3RvbU1hcmt1cFJlbmRlcmVycygpOiBSZWNvcmQ8XG4gICAgc3RyaW5nLFxuICAgIEN1c3RvbU1hcmt1cFJlbmRlcmVyXG4gID4ge1xuICAgIHJldHVybiB7XG4gICAgICBbTWFya3VwLkdyZWVuUGx1c106ICh7Y3R4LCB4LCB5LCBzLCBraSwgdGhlbWVDb250ZXh0fSkgPT4ge1xuICAgICAgICBjb25zdCBtYXJrdXAgPSBuZXcgR3JlZW5QbHVzTWFya3VwKGN0eCwgeCwgeSwgcywga2ksIHRoZW1lQ29udGV4dCk7XG4gICAgICAgIG1hcmt1cC5kcmF3KCk7XG4gICAgICB9LFxuICAgICAgW01hcmt1cC5SZWRDcm9zc106ICh7Y3R4LCB4LCB5LCBzLCBraSwgdGhlbWVDb250ZXh0fSkgPT4ge1xuICAgICAgICBjb25zdCBtYXJrdXAgPSBuZXcgUmVkQ3Jvc3NNYXJrdXAoY3R4LCB4LCB5LCBzLCBraSwgdGhlbWVDb250ZXh0KTtcbiAgICAgICAgbWFya3VwLmRyYXcoKTtcbiAgICAgIH0sXG4gICAgICBbTWFya3VwLlllbGxvd1RyaWFuZ2xlXTogKHtjdHgsIHgsIHksIHMsIGtpLCB0aGVtZUNvbnRleHR9KSA9PiB7XG4gICAgICAgIGNvbnN0IG1hcmt1cCA9IG5ldyBZZWxsb3dUcmlhbmdsZU1hcmt1cChjdHgsIHgsIHksIHMsIGtpLCB0aGVtZUNvbnRleHQpO1xuICAgICAgICBtYXJrdXAuZHJhdygpO1xuICAgICAgfSxcbiAgICB9O1xuICB9XG5cbiAgcmVnaXN0ZXJDdXN0b21NYXJrdXAobmFtZTogc3RyaW5nLCByZW5kZXJlcjogQ3VzdG9tTWFya3VwUmVuZGVyZXIpIHtcbiAgICB0aGlzLmN1c3RvbU1hcmt1cFJlbmRlcmVyc1tuYW1lXSA9IHJlbmRlcmVyO1xuICB9XG5cbiAgdW5yZWdpc3RlckN1c3RvbU1hcmt1cChuYW1lOiBzdHJpbmcpIHtcbiAgICBkZWxldGUgdGhpcy5jdXN0b21NYXJrdXBSZW5kZXJlcnNbbmFtZV07XG4gIH1cblxuICBzZXRDdXN0b21NYXJrdXBzKHJlbmRlcmVyczogUmVjb3JkPHN0cmluZywgQ3VzdG9tTWFya3VwUmVuZGVyZXI+KSB7XG4gICAgdGhpcy5jdXN0b21NYXJrdXBSZW5kZXJlcnMgPSB7XG4gICAgICAuLi5yZW5kZXJlcnMsXG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlTm9kZU1hcmt1cFN0eWxlcygpIHtcbiAgICBjb25zdCBkZWZhdWx0RGFzaGVkTGluZURhc2ggPSBbOCwgNl07XG4gICAgY29uc3QgZGVmYXVsdERvdHRlZExpbmVEYXNoID0gWzQsIDRdO1xuXG4gICAgdGhpcy5ub2RlTWFya3VwU3R5bGVzID0ge1xuICAgICAgW01hcmt1cC5Qb3NpdGl2ZU5vZGVdOiB7XG4gICAgICAgIGNvbG9yOiB0aGlzLmdldFRoZW1lUHJvcGVydHkoVGhlbWVQcm9wZXJ0eUtleS5Qb3NpdGl2ZU5vZGVDb2xvciksXG4gICAgICAgIGxpbmVEYXNoOiBbXSxcbiAgICAgIH0sXG4gICAgICBbTWFya3VwLk5lZ2F0aXZlTm9kZV06IHtcbiAgICAgICAgY29sb3I6IHRoaXMuZ2V0VGhlbWVQcm9wZXJ0eShUaGVtZVByb3BlcnR5S2V5Lk5lZ2F0aXZlTm9kZUNvbG9yKSxcbiAgICAgICAgbGluZURhc2g6IFtdLFxuICAgICAgfSxcbiAgICAgIFtNYXJrdXAuTmV1dHJhbE5vZGVdOiB7XG4gICAgICAgIGNvbG9yOiB0aGlzLmdldFRoZW1lUHJvcGVydHkoVGhlbWVQcm9wZXJ0eUtleS5OZXV0cmFsTm9kZUNvbG9yKSxcbiAgICAgICAgbGluZURhc2g6IFtdLFxuICAgICAgfSxcbiAgICAgIFtNYXJrdXAuRGVmYXVsdE5vZGVdOiB7XG4gICAgICAgIGNvbG9yOiB0aGlzLmdldFRoZW1lUHJvcGVydHkoVGhlbWVQcm9wZXJ0eUtleS5EZWZhdWx0Tm9kZUNvbG9yKSxcbiAgICAgICAgbGluZURhc2g6IFtdLFxuICAgICAgfSxcbiAgICAgIFtNYXJrdXAuV2FybmluZ05vZGVdOiB7XG4gICAgICAgIGNvbG9yOiB0aGlzLmdldFRoZW1lUHJvcGVydHkoVGhlbWVQcm9wZXJ0eUtleS5XYXJuaW5nTm9kZUNvbG9yKSxcbiAgICAgICAgbGluZURhc2g6IFtdLFxuICAgICAgfSxcbiAgICAgIFtNYXJrdXAuUG9zaXRpdmVEYXNoZWROb2RlXToge1xuICAgICAgICBjb2xvcjogdGhpcy5nZXRUaGVtZVByb3BlcnR5KFRoZW1lUHJvcGVydHlLZXkuUG9zaXRpdmVOb2RlQ29sb3IpLFxuICAgICAgICBsaW5lRGFzaDogZGVmYXVsdERhc2hlZExpbmVEYXNoLFxuICAgICAgfSxcbiAgICAgIFtNYXJrdXAuTmVnYXRpdmVEYXNoZWROb2RlXToge1xuICAgICAgICBjb2xvcjogdGhpcy5nZXRUaGVtZVByb3BlcnR5KFRoZW1lUHJvcGVydHlLZXkuTmVnYXRpdmVOb2RlQ29sb3IpLFxuICAgICAgICBsaW5lRGFzaDogZGVmYXVsdERhc2hlZExpbmVEYXNoLFxuICAgICAgfSxcbiAgICAgIFtNYXJrdXAuTmV1dHJhbERhc2hlZE5vZGVdOiB7XG4gICAgICAgIGNvbG9yOiB0aGlzLmdldFRoZW1lUHJvcGVydHkoVGhlbWVQcm9wZXJ0eUtleS5OZXV0cmFsTm9kZUNvbG9yKSxcbiAgICAgICAgbGluZURhc2g6IGRlZmF1bHREYXNoZWRMaW5lRGFzaCxcbiAgICAgIH0sXG4gICAgICBbTWFya3VwLkRlZmF1bHREYXNoZWROb2RlXToge1xuICAgICAgICBjb2xvcjogdGhpcy5nZXRUaGVtZVByb3BlcnR5KFRoZW1lUHJvcGVydHlLZXkuRGVmYXVsdE5vZGVDb2xvciksXG4gICAgICAgIGxpbmVEYXNoOiBkZWZhdWx0RGFzaGVkTGluZURhc2gsXG4gICAgICB9LFxuICAgICAgW01hcmt1cC5XYXJuaW5nRGFzaGVkTm9kZV06IHtcbiAgICAgICAgY29sb3I6IHRoaXMuZ2V0VGhlbWVQcm9wZXJ0eShUaGVtZVByb3BlcnR5S2V5Lldhcm5pbmdOb2RlQ29sb3IpLFxuICAgICAgICBsaW5lRGFzaDogZGVmYXVsdERhc2hlZExpbmVEYXNoLFxuICAgICAgfSxcbiAgICAgIFtNYXJrdXAuUG9zaXRpdmVEb3R0ZWROb2RlXToge1xuICAgICAgICBjb2xvcjogdGhpcy5nZXRUaGVtZVByb3BlcnR5KFRoZW1lUHJvcGVydHlLZXkuUG9zaXRpdmVOb2RlQ29sb3IpLFxuICAgICAgICBsaW5lRGFzaDogZGVmYXVsdERvdHRlZExpbmVEYXNoLFxuICAgICAgfSxcbiAgICAgIFtNYXJrdXAuTmVnYXRpdmVEb3R0ZWROb2RlXToge1xuICAgICAgICBjb2xvcjogdGhpcy5nZXRUaGVtZVByb3BlcnR5KFRoZW1lUHJvcGVydHlLZXkuTmVnYXRpdmVOb2RlQ29sb3IpLFxuICAgICAgICBsaW5lRGFzaDogZGVmYXVsdERvdHRlZExpbmVEYXNoLFxuICAgICAgfSxcbiAgICAgIFtNYXJrdXAuTmV1dHJhbERvdHRlZE5vZGVdOiB7XG4gICAgICAgIGNvbG9yOiB0aGlzLmdldFRoZW1lUHJvcGVydHkoVGhlbWVQcm9wZXJ0eUtleS5OZXV0cmFsTm9kZUNvbG9yKSxcbiAgICAgICAgbGluZURhc2g6IGRlZmF1bHREb3R0ZWRMaW5lRGFzaCxcbiAgICAgIH0sXG4gICAgICBbTWFya3VwLkRlZmF1bHREb3R0ZWROb2RlXToge1xuICAgICAgICBjb2xvcjogdGhpcy5nZXRUaGVtZVByb3BlcnR5KFRoZW1lUHJvcGVydHlLZXkuRGVmYXVsdE5vZGVDb2xvciksXG4gICAgICAgIGxpbmVEYXNoOiBkZWZhdWx0RG90dGVkTGluZURhc2gsXG4gICAgICB9LFxuICAgICAgW01hcmt1cC5XYXJuaW5nRG90dGVkTm9kZV06IHtcbiAgICAgICAgY29sb3I6IHRoaXMuZ2V0VGhlbWVQcm9wZXJ0eShUaGVtZVByb3BlcnR5S2V5Lldhcm5pbmdOb2RlQ29sb3IpLFxuICAgICAgICBsaW5lRGFzaDogZGVmYXVsdERvdHRlZExpbmVEYXNoLFxuICAgICAgfSxcbiAgICAgIFtNYXJrdXAuUG9zaXRpdmVBY3RpdmVOb2RlXToge1xuICAgICAgICBjb2xvcjogdGhpcy5nZXRUaGVtZVByb3BlcnR5KFRoZW1lUHJvcGVydHlLZXkuUG9zaXRpdmVOb2RlQ29sb3IpLFxuICAgICAgICBsaW5lRGFzaDogW10sXG4gICAgICB9LFxuICAgICAgW01hcmt1cC5OZWdhdGl2ZUFjdGl2ZU5vZGVdOiB7XG4gICAgICAgIGNvbG9yOiB0aGlzLmdldFRoZW1lUHJvcGVydHkoVGhlbWVQcm9wZXJ0eUtleS5OZWdhdGl2ZU5vZGVDb2xvciksXG4gICAgICAgIGxpbmVEYXNoOiBbXSxcbiAgICAgIH0sXG4gICAgICBbTWFya3VwLk5ldXRyYWxBY3RpdmVOb2RlXToge1xuICAgICAgICBjb2xvcjogdGhpcy5nZXRUaGVtZVByb3BlcnR5KFRoZW1lUHJvcGVydHlLZXkuTmV1dHJhbE5vZGVDb2xvciksXG4gICAgICAgIGxpbmVEYXNoOiBbXSxcbiAgICAgIH0sXG4gICAgICBbTWFya3VwLkRlZmF1bHRBY3RpdmVOb2RlXToge1xuICAgICAgICBjb2xvcjogdGhpcy5nZXRUaGVtZVByb3BlcnR5KFRoZW1lUHJvcGVydHlLZXkuRGVmYXVsdE5vZGVDb2xvciksXG4gICAgICAgIGxpbmVEYXNoOiBbXSxcbiAgICAgIH0sXG4gICAgICBbTWFya3VwLldhcm5pbmdBY3RpdmVOb2RlXToge1xuICAgICAgICBjb2xvcjogdGhpcy5nZXRUaGVtZVByb3BlcnR5KFRoZW1lUHJvcGVydHlLZXkuV2FybmluZ05vZGVDb2xvciksXG4gICAgICAgIGxpbmVEYXNoOiBbXSxcbiAgICAgIH0sXG4gICAgICBbTWFya3VwLlBvc2l0aXZlRGFzaGVkQWN0aXZlTm9kZV06IHtcbiAgICAgICAgY29sb3I6IHRoaXMuZ2V0VGhlbWVQcm9wZXJ0eShUaGVtZVByb3BlcnR5S2V5LlBvc2l0aXZlTm9kZUNvbG9yKSxcbiAgICAgICAgbGluZURhc2g6IGRlZmF1bHREYXNoZWRMaW5lRGFzaCxcbiAgICAgIH0sXG4gICAgICBbTWFya3VwLk5lZ2F0aXZlRGFzaGVkQWN0aXZlTm9kZV06IHtcbiAgICAgICAgY29sb3I6IHRoaXMuZ2V0VGhlbWVQcm9wZXJ0eShUaGVtZVByb3BlcnR5S2V5Lk5lZ2F0aXZlTm9kZUNvbG9yKSxcbiAgICAgICAgbGluZURhc2g6IGRlZmF1bHREYXNoZWRMaW5lRGFzaCxcbiAgICAgIH0sXG4gICAgICBbTWFya3VwLk5ldXRyYWxEYXNoZWRBY3RpdmVOb2RlXToge1xuICAgICAgICBjb2xvcjogdGhpcy5nZXRUaGVtZVByb3BlcnR5KFRoZW1lUHJvcGVydHlLZXkuTmV1dHJhbE5vZGVDb2xvciksXG4gICAgICAgIGxpbmVEYXNoOiBkZWZhdWx0RGFzaGVkTGluZURhc2gsXG4gICAgICB9LFxuICAgICAgW01hcmt1cC5EZWZhdWx0RGFzaGVkQWN0aXZlTm9kZV06IHtcbiAgICAgICAgY29sb3I6IHRoaXMuZ2V0VGhlbWVQcm9wZXJ0eShUaGVtZVByb3BlcnR5S2V5LkRlZmF1bHROb2RlQ29sb3IpLFxuICAgICAgICBsaW5lRGFzaDogZGVmYXVsdERhc2hlZExpbmVEYXNoLFxuICAgICAgfSxcbiAgICAgIFtNYXJrdXAuV2FybmluZ0Rhc2hlZEFjdGl2ZU5vZGVdOiB7XG4gICAgICAgIGNvbG9yOiB0aGlzLmdldFRoZW1lUHJvcGVydHkoVGhlbWVQcm9wZXJ0eUtleS5XYXJuaW5nTm9kZUNvbG9yKSxcbiAgICAgICAgbGluZURhc2g6IGRlZmF1bHREYXNoZWRMaW5lRGFzaCxcbiAgICAgIH0sXG4gICAgICBbTWFya3VwLlBvc2l0aXZlRG90dGVkQWN0aXZlTm9kZV06IHtcbiAgICAgICAgY29sb3I6IHRoaXMuZ2V0VGhlbWVQcm9wZXJ0eShUaGVtZVByb3BlcnR5S2V5LlBvc2l0aXZlTm9kZUNvbG9yKSxcbiAgICAgICAgbGluZURhc2g6IGRlZmF1bHREb3R0ZWRMaW5lRGFzaCxcbiAgICAgIH0sXG4gICAgICBbTWFya3VwLk5lZ2F0aXZlRG90dGVkQWN0aXZlTm9kZV06IHtcbiAgICAgICAgY29sb3I6IHRoaXMuZ2V0VGhlbWVQcm9wZXJ0eShUaGVtZVByb3BlcnR5S2V5Lk5lZ2F0aXZlTm9kZUNvbG9yKSxcbiAgICAgICAgbGluZURhc2g6IGRlZmF1bHREb3R0ZWRMaW5lRGFzaCxcbiAgICAgIH0sXG4gICAgICBbTWFya3VwLk5ldXRyYWxEb3R0ZWRBY3RpdmVOb2RlXToge1xuICAgICAgICBjb2xvcjogdGhpcy5nZXRUaGVtZVByb3BlcnR5KFRoZW1lUHJvcGVydHlLZXkuTmV1dHJhbE5vZGVDb2xvciksXG4gICAgICAgIGxpbmVEYXNoOiBkZWZhdWx0RG90dGVkTGluZURhc2gsXG4gICAgICB9LFxuICAgICAgW01hcmt1cC5EZWZhdWx0RG90dGVkQWN0aXZlTm9kZV06IHtcbiAgICAgICAgY29sb3I6IHRoaXMuZ2V0VGhlbWVQcm9wZXJ0eShUaGVtZVByb3BlcnR5S2V5LkRlZmF1bHROb2RlQ29sb3IpLFxuICAgICAgICBsaW5lRGFzaDogZGVmYXVsdERvdHRlZExpbmVEYXNoLFxuICAgICAgfSxcbiAgICAgIFtNYXJrdXAuV2FybmluZ0RvdHRlZEFjdGl2ZU5vZGVdOiB7XG4gICAgICAgIGNvbG9yOiB0aGlzLmdldFRoZW1lUHJvcGVydHkoVGhlbWVQcm9wZXJ0eUtleS5XYXJuaW5nTm9kZUNvbG9yKSxcbiAgICAgICAgbGluZURhc2g6IGRlZmF1bHREb3R0ZWRMaW5lRGFzaCxcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuXG4gIHNldFR1cm4odHVybjogS2kpIHtcbiAgICB0aGlzLnR1cm4gPSB0dXJuO1xuICB9XG5cbiAgc2V0UHJldmlvdXNCb2FyZFN0YXRlKGJvYXJkU3RhdGU6IG51bWJlcltdW10gfCBudWxsKSB7XG4gICAgdGhpcy5wcmV2aW91c0JvYXJkU3RhdGUgPSBib2FyZFN0YXRlO1xuICB9XG5cbiAgZ2V0UHJldmlvdXNCb2FyZFN0YXRlKCk6IG51bWJlcltdW10gfCBudWxsIHtcbiAgICByZXR1cm4gdGhpcy5wcmV2aW91c0JvYXJkU3RhdGU7XG4gIH1cblxuICAvKipcbiAgICogUmVjb3JkIGN1cnJlbnQgYm9hcmQgc3RhdGUgYXMgaGlzdG9yeSBzdGF0ZSBmb3Iga28gcnVsZSBjaGVja2luZyBpbiBuZXh0IG1vdmVcbiAgICovXG4gIHJlY29yZEN1cnJlbnRCb2FyZFN0YXRlKCkge1xuICAgIHRoaXMucHJldmlvdXNCb2FyZFN0YXRlID0gdGhpcy5tYXQubWFwKHJvdyA9PiBbLi4ucm93XSk7XG4gIH1cblxuICBzZXRCb2FyZFNpemUoc2l6ZTogbnVtYmVyKSB7XG4gICAgdGhpcy5vcHRpb25zLmJvYXJkU2l6ZSA9IE1hdGgubWluKHNpemUsIE1BWF9CT0FSRF9TSVpFKTtcbiAgfVxuXG4gIHJlc2l6ZSgpIHtcbiAgICBpZiAoXG4gICAgICAhdGhpcy5jYW52YXMgfHxcbiAgICAgICF0aGlzLmN1cnNvckNhbnZhcyB8fFxuICAgICAgIXRoaXMuZG9tIHx8XG4gICAgICAhdGhpcy5ib2FyZCB8fFxuICAgICAgIXRoaXMubWFya3VwQ2FudmFzIHx8XG4gICAgICAhdGhpcy5vd25lcnNoaXBDYW52YXMgfHxcbiAgICAgICF0aGlzLmFuYWx5c2lzQ2FudmFzIHx8XG4gICAgICAhdGhpcy5lZmZlY3RDYW52YXNcbiAgICApXG4gICAgICByZXR1cm47XG5cbiAgICBjb25zdCBjYW52YXNlcyA9IFtcbiAgICAgIHRoaXMuYm9hcmQsXG4gICAgICB0aGlzLmNhbnZhcyxcbiAgICAgIHRoaXMubWFya3VwQ2FudmFzLFxuICAgICAgdGhpcy5vd25lcnNoaXBDYW52YXMsXG4gICAgICB0aGlzLmN1cnNvckNhbnZhcyxcbiAgICAgIHRoaXMuYW5hbHlzaXNDYW52YXMsXG4gICAgICB0aGlzLmVmZmVjdENhbnZhcyxcbiAgICBdO1xuXG4gICAgY29uc3Qge3NpemV9ID0gdGhpcy5vcHRpb25zO1xuICAgIGNvbnN0IHtjbGllbnRXaWR0aH0gPSB0aGlzLmRvbTtcblxuICAgIGNhbnZhc2VzLmZvckVhY2goY2FudmFzID0+IHtcbiAgICAgIGlmIChzaXplKSB7XG4gICAgICAgIGNhbnZhcy53aWR0aCA9IHNpemUgKiBkcHI7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSBzaXplICogZHByO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FudmFzLnN0eWxlLndpZHRoID0gY2xpZW50V2lkdGggKyAncHgnO1xuICAgICAgICBjYW52YXMuc3R5bGUuaGVpZ2h0ID0gY2xpZW50V2lkdGggKyAncHgnO1xuICAgICAgICBjYW52YXMud2lkdGggPSBNYXRoLmZsb29yKGNsaWVudFdpZHRoICogZHByKTtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IE1hdGguZmxvb3IoY2xpZW50V2lkdGggKiBkcHIpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5yZW5kZXIoKTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlQ2FudmFzKGlkOiBzdHJpbmcsIHBvaW50ZXJFdmVudHMgPSB0cnVlKTogSFRNTENhbnZhc0VsZW1lbnQge1xuICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIGNhbnZhcy5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgY2FudmFzLmlkID0gaWQ7XG4gICAgaWYgKCFwb2ludGVyRXZlbnRzKSB7XG4gICAgICBjYW52YXMuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJztcbiAgICB9XG4gICAgcmV0dXJuIGNhbnZhcztcbiAgfVxuXG4gIGluaXQoZG9tOiBIVE1MRWxlbWVudCkge1xuICAgIGNvbnN0IHNpemUgPSB0aGlzLm9wdGlvbnMuYm9hcmRTaXplO1xuICAgIHRoaXMubWF0ID0gemVyb3MoW3NpemUsIHNpemVdKTtcbiAgICB0aGlzLm1hcmt1cCA9IGVtcHR5KFtzaXplLCBzaXplXSk7XG4gICAgdGhpcy50cmFuc01hdCA9IG5ldyBET01NYXRyaXgoKTtcblxuICAgIHRoaXMuYm9hcmQgPSB0aGlzLmNyZWF0ZUNhbnZhcygnZ2hvc3RiYW4tYm9hcmQnKTtcbiAgICB0aGlzLmNhbnZhcyA9IHRoaXMuY3JlYXRlQ2FudmFzKCdnaG9zdGJhbi1jYW52YXMnKTtcbiAgICB0aGlzLm93bmVyc2hpcENhbnZhcyA9IHRoaXMuY3JlYXRlQ2FudmFzKCdnaG9zdGJhbi1vd25lcnNoaXAnLCBmYWxzZSk7XG4gICAgdGhpcy5tYXJrdXBDYW52YXMgPSB0aGlzLmNyZWF0ZUNhbnZhcygnZ2hvc3RiYW4tbWFya3VwJywgZmFsc2UpO1xuICAgIHRoaXMuYW5hbHlzaXNDYW52YXMgPSB0aGlzLmNyZWF0ZUNhbnZhcygnZ2hvc3RiYW4tYW5hbHlzaXMnLCBmYWxzZSk7XG4gICAgdGhpcy5jdXJzb3JDYW52YXMgPSB0aGlzLmNyZWF0ZUNhbnZhcygnZ2hvc3RiYW4tY3Vyc29yJyk7XG4gICAgdGhpcy5lZmZlY3RDYW52YXMgPSB0aGlzLmNyZWF0ZUNhbnZhcygnZ2hvc3RiYW4tZWZmZWN0JywgZmFsc2UpO1xuXG4gICAgdGhpcy5kb20gPSBkb207XG4gICAgZG9tLmlubmVySFRNTCA9ICcnO1xuICAgIGRvbS5hcHBlbmRDaGlsZCh0aGlzLmJvYXJkKTtcbiAgICBkb20uYXBwZW5kQ2hpbGQodGhpcy5jYW52YXMpO1xuICAgIGRvbS5hcHBlbmRDaGlsZCh0aGlzLm93bmVyc2hpcENhbnZhcyk7XG4gICAgZG9tLmFwcGVuZENoaWxkKHRoaXMubWFya3VwQ2FudmFzKTtcbiAgICBkb20uYXBwZW5kQ2hpbGQodGhpcy5hbmFseXNpc0NhbnZhcyk7XG4gICAgZG9tLmFwcGVuZENoaWxkKHRoaXMuY3Vyc29yQ2FudmFzKTtcbiAgICBkb20uYXBwZW5kQ2hpbGQodGhpcy5lZmZlY3RDYW52YXMpO1xuXG4gICAgdGhpcy5yZXNpemUoKTtcbiAgICB0aGlzLnJlbmRlckludGVyYWN0aXZlKCk7XG5cbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB7XG4gICAgICAgIHRoaXMucmVzaXplKCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBzZXRPcHRpb25zKG9wdGlvbnM6IEdob3N0QmFuT3B0aW9uc1BhcmFtcykge1xuICAgIGNvbnN0IHByZXZpb3VzU2hvd0FuYWx5c2lzID0gdGhpcy5vcHRpb25zLnNob3dBbmFseXNpcztcbiAgICBjb25zdCBwcmV2aW91c1Nob3dPd25lcnNoaXAgPSB0aGlzLm9wdGlvbnMuc2hvd093bmVyc2hpcDtcblxuICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgIC4uLnRoaXMub3B0aW9ucyxcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICB0aGVtZU9wdGlvbnM6IHtcbiAgICAgICAgLi4udGhpcy5vcHRpb25zLnRoZW1lT3B0aW9ucyxcbiAgICAgICAgLi4uKG9wdGlvbnMudGhlbWVPcHRpb25zIHx8IHt9KSxcbiAgICAgIH0sXG4gICAgfTtcbiAgICB0aGlzLnVwZGF0ZU5vZGVNYXJrdXBTdHlsZXMoKTtcbiAgICB0aGlzLnJlbmRlckludGVyYWN0aXZlKCk7XG5cbiAgICBpZiAocHJldmlvdXNTaG93QW5hbHlzaXMgJiYgIXRoaXMub3B0aW9ucy5zaG93QW5hbHlzaXMpIHtcbiAgICAgIHRoaXMuY2xlYXJBbmFseXNpc0NhbnZhcygpO1xuICAgIH1cblxuICAgIGlmIChwcmV2aW91c1Nob3dPd25lcnNoaXAgJiYgIXRoaXMub3B0aW9ucy5zaG93T3duZXJzaGlwKSB7XG4gICAgICB0aGlzLmNsZWFyT3duZXJzaGlwQ2FudmFzKCk7XG4gICAgfVxuXG4gICAgaWYgKCFwcmV2aW91c1Nob3dBbmFseXNpcyAmJiB0aGlzLm9wdGlvbnMuc2hvd0FuYWx5c2lzICYmIHRoaXMuYW5hbHlzaXMpIHtcbiAgICAgIHRoaXMuZHJhd0FuYWx5c2lzKCk7XG4gICAgfVxuXG4gICAgaWYgKCFwcmV2aW91c1Nob3dPd25lcnNoaXAgJiYgdGhpcy5vcHRpb25zLnNob3dPd25lcnNoaXAgJiYgdGhpcy5hbmFseXNpcykge1xuICAgICAgdGhpcy5kcmF3T3duZXJzaGlwKCk7XG4gICAgfVxuICB9XG5cbiAgc2V0TWF0KG1hdDogbnVtYmVyW11bXSkge1xuICAgIHRoaXMubWF0ID0gbWF0O1xuICAgIGlmICghdGhpcy52aXNpYmxlQXJlYU1hdCkge1xuICAgICAgdGhpcy52aXNpYmxlQXJlYU1hdCA9IG1hdDtcbiAgICB9XG4gIH1cblxuICBzZXRWaXNpYmxlQXJlYU1hdChtYXQ6IG51bWJlcltdW10pIHtcbiAgICB0aGlzLnZpc2libGVBcmVhTWF0ID0gbWF0O1xuICB9XG5cbiAgc2V0UHJldmVudE1vdmVNYXQobWF0OiBudW1iZXJbXVtdKSB7XG4gICAgdGhpcy5wcmV2ZW50TW92ZU1hdCA9IG1hdDtcbiAgfVxuXG4gIHNldEVmZmVjdE1hdChtYXQ6IHN0cmluZ1tdW10pIHtcbiAgICB0aGlzLmVmZmVjdE1hdCA9IG1hdDtcbiAgfVxuXG4gIHNldE1hcmt1cChtYXJrdXA6IHN0cmluZ1tdW10pIHtcbiAgICB0aGlzLm1hcmt1cCA9IG1hcmt1cDtcbiAgfVxuXG4gIHNldEN1cnNvcihjdXJzb3I6IEN1cnNvciwgdmFsdWUgPSAnJykge1xuICAgIHRoaXMuY3Vyc29yID0gY3Vyc29yO1xuICAgIHRoaXMuY3Vyc29yVmFsdWUgPSB2YWx1ZTtcbiAgfVxuXG4gIHNldEN1cnNvcldpdGhSZW5kZXIgPSAoZG9tUG9pbnQ6IERPTVBvaW50LCBvZmZzZXRZID0gMCkgPT4ge1xuICAgIGNvbnN0IHtwYWRkaW5nfSA9IHRoaXMub3B0aW9ucztcbiAgICBjb25zdCB7c3BhY2V9ID0gdGhpcy5jYWxjU3BhY2VBbmRQYWRkaW5nKCk7XG4gICAgY29uc3QgcG9pbnQgPSB0aGlzLnRyYW5zTWF0LmludmVyc2UoKS50cmFuc2Zvcm1Qb2ludChkb21Qb2ludCk7XG4gICAgY29uc3QgaWR4ID0gTWF0aC5yb3VuZCgocG9pbnQueCAtIHBhZGRpbmcgKyBzcGFjZSAvIDIpIC8gc3BhY2UpO1xuICAgIGNvbnN0IGlkeSA9IE1hdGgucm91bmQoKHBvaW50LnkgLSBwYWRkaW5nICsgc3BhY2UgLyAyKSAvIHNwYWNlKSArIG9mZnNldFk7XG4gICAgY29uc3QgeHggPSBpZHggKiBzcGFjZTtcbiAgICBjb25zdCB5eSA9IGlkeSAqIHNwYWNlO1xuICAgIGNvbnN0IHBvaW50T25DYW52YXMgPSBuZXcgRE9NUG9pbnQoeHgsIHl5KTtcbiAgICBjb25zdCBwID0gdGhpcy50cmFuc01hdC50cmFuc2Zvcm1Qb2ludChwb2ludE9uQ2FudmFzKTtcbiAgICB0aGlzLmFjdHVhbEN1cnNvclBvaW50ID0gcDtcbiAgICB0aGlzLmFjdHVhbEN1cnNvclBvc2l0aW9uID0gW2lkeCAtIDEsIGlkeSAtIDFdO1xuXG4gICAgaWYgKHRoaXMucHJldmVudE1vdmVNYXQ/LltpZHggLSAxXT8uW2lkeSAtIDFdID09PSAxKSB7XG4gICAgICB0aGlzLmN1cnNvclBvc2l0aW9uID0gWy0xLCAtMV07XG4gICAgICB0aGlzLmN1cnNvclBvaW50ID0gbmV3IERPTVBvaW50KCk7XG4gICAgICB0aGlzLmRyYXdDdXJzb3IoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmN1cnNvclBvaW50ID0gcDtcbiAgICB0aGlzLmN1cnNvclBvc2l0aW9uID0gW2lkeCAtIDEsIGlkeSAtIDFdO1xuICAgIHRoaXMuZHJhd0N1cnNvcigpO1xuXG4gICAgaWYgKGlzTW9iaWxlRGV2aWNlKCkpIHRoaXMuZHJhd0JvYXJkKCk7XG4gIH07XG5cbiAgcHJpdmF0ZSBvbk1vdXNlTW92ZSA9IChlOiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgY29uc3QgY2FudmFzID0gdGhpcy5jdXJzb3JDYW52YXM7XG4gICAgaWYgKCFjYW52YXMpIHJldHVybjtcblxuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCBwb2ludCA9IG5ldyBET01Qb2ludChlLm9mZnNldFggKiBkcHIsIGUub2Zmc2V0WSAqIGRwcik7XG4gICAgdGhpcy5zZXRDdXJzb3JXaXRoUmVuZGVyKHBvaW50KTtcbiAgfTtcblxuICBwcml2YXRlIGNhbGNUb3VjaFBvaW50ID0gKGU6IFRvdWNoRXZlbnQpID0+IHtcbiAgICBsZXQgcG9pbnQgPSBuZXcgRE9NUG9pbnQoKTtcbiAgICBjb25zdCBjYW52YXMgPSB0aGlzLmN1cnNvckNhbnZhcztcbiAgICBpZiAoIWNhbnZhcykgcmV0dXJuIHBvaW50O1xuICAgIGNvbnN0IHJlY3QgPSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3QgdG91Y2hlcyA9IGUuY2hhbmdlZFRvdWNoZXM7XG4gICAgcG9pbnQgPSBuZXcgRE9NUG9pbnQoXG4gICAgICAodG91Y2hlc1swXS5jbGllbnRYIC0gcmVjdC5sZWZ0KSAqIGRwcixcbiAgICAgICh0b3VjaGVzWzBdLmNsaWVudFkgLSByZWN0LnRvcCkgKiBkcHJcbiAgICApO1xuICAgIHJldHVybiBwb2ludDtcbiAgfTtcblxuICBwcml2YXRlIG9uVG91Y2hTdGFydCA9IChlOiBUb3VjaEV2ZW50KSA9PiB7XG4gICAgY29uc3QgY2FudmFzID0gdGhpcy5jdXJzb3JDYW52YXM7XG4gICAgaWYgKCFjYW52YXMpIHJldHVybjtcblxuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLnRvdWNoTW92aW5nID0gdHJ1ZTtcbiAgICBjb25zdCBwb2ludCA9IHRoaXMuY2FsY1RvdWNoUG9pbnQoZSk7XG4gICAgdGhpcy50b3VjaFN0YXJ0UG9pbnQgPSBwb2ludDtcbiAgICB0aGlzLnNldEN1cnNvcldpdGhSZW5kZXIocG9pbnQpO1xuICB9O1xuXG4gIHByaXZhdGUgb25Ub3VjaE1vdmUgPSAoZTogVG91Y2hFdmVudCkgPT4ge1xuICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuY3Vyc29yQ2FudmFzO1xuICAgIGlmICghY2FudmFzKSByZXR1cm47XG5cbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgdGhpcy50b3VjaE1vdmluZyA9IHRydWU7XG4gICAgY29uc3QgcG9pbnQgPSB0aGlzLmNhbGNUb3VjaFBvaW50KGUpO1xuICAgIGxldCBvZmZzZXQgPSAwO1xuICAgIGxldCBkaXN0YW5jZSA9IDEwO1xuICAgIGlmIChcbiAgICAgIE1hdGguYWJzKHBvaW50LnggLSB0aGlzLnRvdWNoU3RhcnRQb2ludC54KSA+IGRpc3RhbmNlIHx8XG4gICAgICBNYXRoLmFicyhwb2ludC55IC0gdGhpcy50b3VjaFN0YXJ0UG9pbnQueSkgPiBkaXN0YW5jZVxuICAgICkge1xuICAgICAgb2Zmc2V0ID0gdGhpcy5vcHRpb25zLm1vYmlsZUluZGljYXRvck9mZnNldDtcbiAgICB9XG4gICAgdGhpcy5zZXRDdXJzb3JXaXRoUmVuZGVyKHBvaW50LCBvZmZzZXQpO1xuICB9O1xuXG4gIHByaXZhdGUgb25Ub3VjaEVuZCA9ICgpID0+IHtcbiAgICB0aGlzLnRvdWNoTW92aW5nID0gZmFsc2U7XG4gIH07XG5cbiAgcmVuZGVySW50ZXJhY3RpdmUoKSB7XG4gICAgY29uc3QgY2FudmFzID0gdGhpcy5jdXJzb3JDYW52YXM7XG4gICAgaWYgKCFjYW52YXMpIHJldHVybjtcblxuICAgIGNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm9uTW91c2VNb3ZlKTtcbiAgICBjYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCB0aGlzLm9uTW91c2VNb3ZlKTtcbiAgICBjYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMub25Ub3VjaFN0YXJ0KTtcbiAgICBjYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5vblRvdWNoTW92ZSk7XG4gICAgY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5vblRvdWNoRW5kKTtcblxuICAgIGlmICh0aGlzLm9wdGlvbnMuaW50ZXJhY3RpdmUpIHtcbiAgICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm9uTW91c2VNb3ZlKTtcbiAgICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIHRoaXMub25Nb3VzZU1vdmUpO1xuICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLm9uVG91Y2hTdGFydCk7XG4gICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5vblRvdWNoTW92ZSk7XG4gICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLm9uVG91Y2hFbmQpO1xuICAgIH1cbiAgfVxuXG4gIHNldEFuYWx5c2lzKGFuYWx5c2lzOiBBbmFseXNpcyB8IG51bGwpIHtcbiAgICB0aGlzLmFuYWx5c2lzID0gYW5hbHlzaXM7XG4gICAgaWYgKCFhbmFseXNpcykge1xuICAgICAgdGhpcy5jbGVhckFuYWx5c2lzQ2FudmFzKCk7XG4gICAgICB0aGlzLmNsZWFyT3duZXJzaGlwQ2FudmFzKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLm9wdGlvbnMuc2hvd0FuYWx5c2lzKSB0aGlzLmRyYXdBbmFseXNpcyhhbmFseXNpcyk7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5zaG93T3duZXJzaGlwKSB0aGlzLmRyYXdPd25lcnNoaXAoKTtcbiAgfVxuXG4gIHNldFRoZW1lKHRoZW1lOiBUaGVtZSwgb3B0aW9uczogUGFydGlhbDxHaG9zdEJhbk9wdGlvbnNQYXJhbXM+ID0ge30pIHtcbiAgICBjb25zdCB7dGhlbWVSZXNvdXJjZXN9ID0gdGhpcy5vcHRpb25zO1xuICAgIGlmICghdGhlbWVSZXNvdXJjZXNbdGhlbWVdKSByZXR1cm47XG5cbiAgICAvLyBHZXQgYWxsIHRoZW1lIHJlc291cmNlcyBmb3IgcHJlbG9hZGluZyAoYWxsIHJlc29sdXRpb25zKVxuICAgIGNvbnN0IGFsbFRoZW1lSW1hZ2VzID0gZ2V0QWxsVGhlbWVSZXNvdXJjZXModGhlbWUsIHRoZW1lUmVzb3VyY2VzKTtcblxuICAgIHRoaXMub3B0aW9ucy50aGVtZSA9IHRoZW1lO1xuICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgIC4uLnRoaXMub3B0aW9ucyxcbiAgICAgIHRoZW1lLFxuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIHRoZW1lT3B0aW9uczoge1xuICAgICAgICAuLi50aGlzLm9wdGlvbnMudGhlbWVPcHRpb25zLFxuICAgICAgICAuLi4ob3B0aW9ucy50aGVtZU9wdGlvbnMgfHwge30pLFxuICAgICAgfSxcbiAgICB9O1xuICAgIHRoaXMudXBkYXRlTm9kZU1hcmt1cFN0eWxlcygpO1xuXG4gICAgLy8gUmVkcmF3IGNhbGxiYWNrIGFmdGVyIGltYWdlIGxvYWRpbmcgY29tcGxldGVzXG4gICAgY29uc3Qgb25JbWFnZUxvYWRlZCA9ICh1cmw6IHN0cmluZykgPT4ge1xuICAgICAgdGhpcy5kcmF3Qm9hcmQoKTtcbiAgICAgIHRoaXMuZHJhd1N0b25lcygpO1xuICAgIH07XG5cbiAgICAvLyBQcmVsb2FkIGFsbCB0aGVtZSByZXNvdXJjZXMgKGFsbCByZXNvbHV0aW9ucylcbiAgICBwcmVsb2FkKFxuICAgICAgYWxsVGhlbWVJbWFnZXMsXG4gICAgICAoKSA9PiB7XG4gICAgICAgIHRoaXMuZHJhd0JvYXJkKCk7XG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICB9LFxuICAgICAgb25JbWFnZUxvYWRlZFxuICAgICk7XG5cbiAgICB0aGlzLmRyYXdCb2FyZCgpO1xuICAgIHRoaXMucmVuZGVyKCk7XG4gIH1cblxuICBjYWxjQ2VudGVyID0gKCk6IENlbnRlciA9PiB7XG4gICAgY29uc3Qge3Zpc2libGVBcmVhfSA9IHRoaXM7XG4gICAgY29uc3Qge2JvYXJkU2l6ZX0gPSB0aGlzLm9wdGlvbnM7XG5cbiAgICBpZiAoXG4gICAgICAodmlzaWJsZUFyZWFbMF1bMF0gPT09IDAgJiYgdmlzaWJsZUFyZWFbMF1bMV0gPT09IGJvYXJkU2l6ZSAtIDEpIHx8XG4gICAgICAodmlzaWJsZUFyZWFbMV1bMF0gPT09IDAgJiYgdmlzaWJsZUFyZWFbMV1bMV0gPT09IGJvYXJkU2l6ZSAtIDEpXG4gICAgKSB7XG4gICAgICByZXR1cm4gQ2VudGVyLkNlbnRlcjtcbiAgICB9XG5cbiAgICBpZiAodmlzaWJsZUFyZWFbMF1bMF0gPT09IDApIHtcbiAgICAgIGlmICh2aXNpYmxlQXJlYVsxXVswXSA9PT0gMCkgcmV0dXJuIENlbnRlci5Ub3BMZWZ0O1xuICAgICAgZWxzZSBpZiAodmlzaWJsZUFyZWFbMV1bMV0gPT09IGJvYXJkU2l6ZSAtIDEpIHJldHVybiBDZW50ZXIuQm90dG9tTGVmdDtcbiAgICAgIGVsc2UgcmV0dXJuIENlbnRlci5MZWZ0O1xuICAgIH0gZWxzZSBpZiAodmlzaWJsZUFyZWFbMF1bMV0gPT09IGJvYXJkU2l6ZSAtIDEpIHtcbiAgICAgIGlmICh2aXNpYmxlQXJlYVsxXVswXSA9PT0gMCkgcmV0dXJuIENlbnRlci5Ub3BSaWdodDtcbiAgICAgIGVsc2UgaWYgKHZpc2libGVBcmVhWzFdWzFdID09PSBib2FyZFNpemUgLSAxKSByZXR1cm4gQ2VudGVyLkJvdHRvbVJpZ2h0O1xuICAgICAgZWxzZSByZXR1cm4gQ2VudGVyLlJpZ2h0O1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodmlzaWJsZUFyZWFbMV1bMF0gPT09IDApIHJldHVybiBDZW50ZXIuVG9wO1xuICAgICAgZWxzZSBpZiAodmlzaWJsZUFyZWFbMV1bMV0gPT09IGJvYXJkU2l6ZSAtIDEpIHJldHVybiBDZW50ZXIuQm90dG9tO1xuICAgICAgZWxzZSByZXR1cm4gQ2VudGVyLkNlbnRlcjtcbiAgICB9XG4gIH07XG5cbiAgY2FsY0R5bmFtaWNQYWRkaW5nKHZpc2libGVBcmVhU2l6ZTogbnVtYmVyKSB7XG4gICAgY29uc3Qge2Nvb3JkaW5hdGV9ID0gdGhpcy5vcHRpb25zO1xuXG4gICAgY29uc3Qge2NhbnZhc30gPSB0aGlzO1xuICAgIGlmICghY2FudmFzKSByZXR1cm47XG4gICAgY29uc3QgcGFkZGluZyA9IGNhbnZhcy53aWR0aCAvICh2aXNpYmxlQXJlYVNpemUgKyAyKSAvIDI7XG4gICAgY29uc3QgcGFkZGluZ1dpdGhvdXRDb29yZGluYXRlID0gY2FudmFzLndpZHRoIC8gKHZpc2libGVBcmVhU2l6ZSArIDIpIC8gNDtcblxuICAgIHRoaXMub3B0aW9ucy5wYWRkaW5nID0gY29vcmRpbmF0ZSA/IHBhZGRpbmcgOiBwYWRkaW5nV2l0aG91dENvb3JkaW5hdGU7XG4gIH1cblxuICB6b29tQm9hcmQoem9vbSA9IGZhbHNlKSB7XG4gICAgY29uc3Qge1xuICAgICAgY2FudmFzLFxuICAgICAgYW5hbHlzaXNDYW52YXMsXG4gICAgICBib2FyZCxcbiAgICAgIGN1cnNvckNhbnZhcyxcbiAgICAgIG1hcmt1cENhbnZhcyxcbiAgICAgIGVmZmVjdENhbnZhcyxcbiAgICB9ID0gdGhpcztcbiAgICBpZiAoIWNhbnZhcykgcmV0dXJuO1xuICAgIGNvbnN0IHtib2FyZFNpemUsIGV4dGVudCwgcGFkZGluZywgZHluYW1pY1BhZGRpbmd9ID0gdGhpcy5vcHRpb25zO1xuICAgIGNvbnN0IGJvYXJkTGluZUV4dGVudCA9IHRoaXMuZ2V0VGhlbWVQcm9wZXJ0eShcbiAgICAgIFRoZW1lUHJvcGVydHlLZXkuQm9hcmRMaW5lRXh0ZW50XG4gICAgKTtcbiAgICBjb25zdCB6b29tZWRWaXNpYmxlQXJlYSA9IGNhbGNWaXNpYmxlQXJlYShcbiAgICAgIHRoaXMudmlzaWJsZUFyZWFNYXQsXG4gICAgICBleHRlbnQsXG4gICAgICBmYWxzZVxuICAgICk7XG4gICAgY29uc3QgY3R4ID0gY2FudmFzPy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGNvbnN0IGJvYXJkQ3R4ID0gYm9hcmQ/LmdldENvbnRleHQoJzJkJyk7XG4gICAgY29uc3QgY3Vyc29yQ3R4ID0gY3Vyc29yQ2FudmFzPy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGNvbnN0IG1hcmt1cEN0eCA9IG1hcmt1cENhbnZhcz8uZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBjb25zdCBhbmFseXNpc0N0eCA9IGFuYWx5c2lzQ2FudmFzPy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGNvbnN0IGVmZmVjdEN0eCA9IGVmZmVjdENhbnZhcz8uZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBjb25zdCB2aXNpYmxlQXJlYSA9IHpvb21cbiAgICAgID8gem9vbWVkVmlzaWJsZUFyZWFcbiAgICAgIDogW1xuICAgICAgICAgIFswLCBib2FyZFNpemUgLSAxXSxcbiAgICAgICAgICBbMCwgYm9hcmRTaXplIC0gMV0sXG4gICAgICAgIF07XG5cbiAgICB0aGlzLnZpc2libGVBcmVhID0gdmlzaWJsZUFyZWE7XG4gICAgY29uc3QgdmlzaWJsZUFyZWFTaXplID0gTWF0aC5tYXgoXG4gICAgICB2aXNpYmxlQXJlYVswXVsxXSAtIHZpc2libGVBcmVhWzBdWzBdLFxuICAgICAgdmlzaWJsZUFyZWFbMV1bMV0gLSB2aXNpYmxlQXJlYVsxXVswXVxuICAgICk7XG5cbiAgICBpZiAoZHluYW1pY1BhZGRpbmcpIHtcbiAgICAgIHRoaXMuY2FsY0R5bmFtaWNQYWRkaW5nKHZpc2libGVBcmVhU2l6ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMub3B0aW9ucy5wYWRkaW5nID0gREVGQVVMVF9PUFRJT05TLnBhZGRpbmc7XG4gICAgfVxuXG4gICAgaWYgKHpvb20pIHtcbiAgICAgIGNvbnN0IHtzcGFjZX0gPSB0aGlzLmNhbGNTcGFjZUFuZFBhZGRpbmcoKTtcbiAgICAgIGNvbnN0IGNlbnRlciA9IHRoaXMuY2FsY0NlbnRlcigpO1xuXG4gICAgICBpZiAoZHluYW1pY1BhZGRpbmcpIHtcbiAgICAgICAgdGhpcy5jYWxjRHluYW1pY1BhZGRpbmcodmlzaWJsZUFyZWFTaXplKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMub3B0aW9ucy5wYWRkaW5nID0gREVGQVVMVF9PUFRJT05TLnBhZGRpbmc7XG4gICAgICB9XG5cbiAgICAgIGxldCBleHRyYVZpc2libGVTaXplID0gYm9hcmRMaW5lRXh0ZW50ICogMiArIDE7XG5cbiAgICAgIGlmIChcbiAgICAgICAgY2VudGVyID09PSBDZW50ZXIuVG9wUmlnaHQgfHxcbiAgICAgICAgY2VudGVyID09PSBDZW50ZXIuVG9wTGVmdCB8fFxuICAgICAgICBjZW50ZXIgPT09IENlbnRlci5Cb3R0b21SaWdodCB8fFxuICAgICAgICBjZW50ZXIgPT09IENlbnRlci5Cb3R0b21MZWZ0XG4gICAgICApIHtcbiAgICAgICAgZXh0cmFWaXNpYmxlU2l6ZSA9IGJvYXJkTGluZUV4dGVudCArIDAuNTtcbiAgICAgIH1cbiAgICAgIGxldCB6b29tZWRCb2FyZFNpemUgPSB2aXNpYmxlQXJlYVNpemUgKyBleHRyYVZpc2libGVTaXplO1xuXG4gICAgICBpZiAoem9vbWVkQm9hcmRTaXplIDwgYm9hcmRTaXplKSB7XG4gICAgICAgIGxldCBzY2FsZSA9IChjYW52YXMud2lkdGggLSBwYWRkaW5nICogMikgLyAoem9vbWVkQm9hcmRTaXplICogc3BhY2UpO1xuXG4gICAgICAgIGxldCBvZmZzZXRYID1cbiAgICAgICAgICB2aXNpYmxlQXJlYVswXVswXSAqIHNwYWNlICogc2NhbGUgK1xuICAgICAgICAgIHBhZGRpbmcgKiBzY2FsZSAtXG4gICAgICAgICAgcGFkZGluZyAtXG4gICAgICAgICAgKHNwYWNlICogZXh0cmFWaXNpYmxlU2l6ZSAqIHNjYWxlKSAvIDIgK1xuICAgICAgICAgIChzcGFjZSAqIHNjYWxlKSAvIDI7XG5cbiAgICAgICAgbGV0IG9mZnNldFkgPVxuICAgICAgICAgIHZpc2libGVBcmVhWzFdWzBdICogc3BhY2UgKiBzY2FsZSArXG4gICAgICAgICAgcGFkZGluZyAqIHNjYWxlIC1cbiAgICAgICAgICBwYWRkaW5nIC1cbiAgICAgICAgICAoc3BhY2UgKiBleHRyYVZpc2libGVTaXplICogc2NhbGUpIC8gMiArXG4gICAgICAgICAgKHNwYWNlICogc2NhbGUpIC8gMjtcblxuICAgICAgICB0aGlzLnRyYW5zTWF0ID0gbmV3IERPTU1hdHJpeCgpO1xuICAgICAgICB0aGlzLnRyYW5zTWF0LnRyYW5zbGF0ZVNlbGYoLW9mZnNldFgsIC1vZmZzZXRZKTtcbiAgICAgICAgdGhpcy50cmFuc01hdC5zY2FsZVNlbGYoc2NhbGUsIHNjYWxlKTtcbiAgICAgICAgY3R4Py5zZXRUcmFuc2Zvcm0odGhpcy50cmFuc01hdCk7XG4gICAgICAgIGJvYXJkQ3R4Py5zZXRUcmFuc2Zvcm0odGhpcy50cmFuc01hdCk7XG4gICAgICAgIGFuYWx5c2lzQ3R4Py5zZXRUcmFuc2Zvcm0odGhpcy50cmFuc01hdCk7XG4gICAgICAgIGN1cnNvckN0eD8uc2V0VHJhbnNmb3JtKHRoaXMudHJhbnNNYXQpO1xuICAgICAgICBtYXJrdXBDdHg/LnNldFRyYW5zZm9ybSh0aGlzLnRyYW5zTWF0KTtcbiAgICAgICAgZWZmZWN0Q3R4Py5zZXRUcmFuc2Zvcm0odGhpcy50cmFuc01hdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnJlc2V0VHJhbnNmb3JtKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmVzZXRUcmFuc2Zvcm0oKTtcbiAgICB9XG4gIH1cblxuICBjYWxjQm9hcmRWaXNpYmxlQXJlYSh6b29tID0gZmFsc2UpIHtcbiAgICB0aGlzLnpvb21Cb2FyZCh0aGlzLm9wdGlvbnMuem9vbSk7XG4gIH1cblxuICByZXNldFRyYW5zZm9ybSgpIHtcbiAgICBjb25zdCB7XG4gICAgICBjYW52YXMsXG4gICAgICBhbmFseXNpc0NhbnZhcyxcbiAgICAgIGJvYXJkLFxuICAgICAgY3Vyc29yQ2FudmFzLFxuICAgICAgbWFya3VwQ2FudmFzLFxuICAgICAgZWZmZWN0Q2FudmFzLFxuICAgIH0gPSB0aGlzO1xuICAgIGNvbnN0IGN0eCA9IGNhbnZhcz8uZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBjb25zdCBib2FyZEN0eCA9IGJvYXJkPy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGNvbnN0IGN1cnNvckN0eCA9IGN1cnNvckNhbnZhcz8uZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBjb25zdCBtYXJrdXBDdHggPSBtYXJrdXBDYW52YXM/LmdldENvbnRleHQoJzJkJyk7XG4gICAgY29uc3QgYW5hbHlzaXNDdHggPSBhbmFseXNpc0NhbnZhcz8uZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBjb25zdCBlZmZlY3RDdHggPSBlZmZlY3RDYW52YXM/LmdldENvbnRleHQoJzJkJyk7XG4gICAgdGhpcy50cmFuc01hdCA9IG5ldyBET01NYXRyaXgoKTtcbiAgICBjdHg/LnJlc2V0VHJhbnNmb3JtKCk7XG4gICAgYm9hcmRDdHg/LnJlc2V0VHJhbnNmb3JtKCk7XG4gICAgYW5hbHlzaXNDdHg/LnJlc2V0VHJhbnNmb3JtKCk7XG4gICAgY3Vyc29yQ3R4Py5yZXNldFRyYW5zZm9ybSgpO1xuICAgIG1hcmt1cEN0eD8ucmVzZXRUcmFuc2Zvcm0oKTtcbiAgICBlZmZlY3RDdHg/LnJlc2V0VHJhbnNmb3JtKCk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qge21hdH0gPSB0aGlzO1xuICAgIGlmICh0aGlzLm1hdCAmJiBtYXRbMF0pIHRoaXMub3B0aW9ucy5ib2FyZFNpemUgPSBtYXRbMF0ubGVuZ3RoO1xuXG4gICAgdGhpcy56b29tQm9hcmQodGhpcy5vcHRpb25zLnpvb20pO1xuICAgIHRoaXMuem9vbUJvYXJkKHRoaXMub3B0aW9ucy56b29tKTtcbiAgICB0aGlzLmNsZWFyQWxsQ2FudmFzKCk7XG4gICAgdGhpcy5kcmF3Qm9hcmQoKTtcbiAgICB0aGlzLmRyYXdTdG9uZXMoKTtcbiAgICB0aGlzLmRyYXdNYXJrdXAoKTtcbiAgICBpZiAodGhpcy5vcHRpb25zLnNob3dPd25lcnNoaXApIHRoaXMuZHJhd093bmVyc2hpcCgpO1xuICAgIHRoaXMuZHJhd0N1cnNvcigpO1xuICAgIGlmICh0aGlzLm9wdGlvbnMuc2hvd0FuYWx5c2lzKSB0aGlzLmRyYXdBbmFseXNpcygpO1xuICB9XG5cbiAgcmVuZGVySW5PbmVDYW52YXMoY2FudmFzID0gdGhpcy5jYW52YXMpIHtcbiAgICB0aGlzLmNsZWFyQWxsQ2FudmFzKCk7XG4gICAgdGhpcy5kcmF3Qm9hcmQoY2FudmFzLCBmYWxzZSk7XG4gICAgdGhpcy5kcmF3U3RvbmVzKHRoaXMubWF0LCBjYW52YXMsIGZhbHNlKTtcbiAgICB0aGlzLmRyYXdNYXJrdXAodGhpcy5tYXQsIHRoaXMubWFya3VwLCBjYW52YXMsIGZhbHNlKTtcbiAgfVxuXG4gIGNsZWFyQWxsQ2FudmFzID0gKCkgPT4ge1xuICAgIHRoaXMuY2xlYXJDYW52YXModGhpcy5ib2FyZCk7XG4gICAgdGhpcy5jbGVhckNhbnZhcygpO1xuICAgIHRoaXMuY2xlYXJDYW52YXModGhpcy5tYXJrdXBDYW52YXMpO1xuICAgIHRoaXMuY2xlYXJPd25lcnNoaXBDYW52YXMoKTtcbiAgICB0aGlzLmNsZWFyQ2FudmFzKHRoaXMuZWZmZWN0Q2FudmFzKTtcbiAgICB0aGlzLmNsZWFyQ3Vyc29yQ2FudmFzKCk7XG4gICAgdGhpcy5jbGVhckFuYWx5c2lzQ2FudmFzKCk7XG4gIH07XG5cbiAgY2xlYXJCb2FyZCA9ICgpID0+IHtcbiAgICBpZiAoIXRoaXMuYm9hcmQpIHJldHVybjtcbiAgICBjb25zdCBjdHggPSB0aGlzLmJvYXJkLmdldENvbnRleHQoJzJkJyk7XG4gICAgaWYgKGN0eCkge1xuICAgICAgY3R4LnNhdmUoKTtcbiAgICAgIGN0eC5zZXRUcmFuc2Zvcm0oMSwgMCwgMCwgMSwgMCwgMCk7XG4gICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGN0eC5jYW52YXMud2lkdGgsIGN0eC5jYW52YXMuaGVpZ2h0KTtcbiAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgfVxuICB9O1xuXG4gIGNsZWFyQ2FudmFzID0gKGNhbnZhcyA9IHRoaXMuY2FudmFzKSA9PiB7XG4gICAgaWYgKCFjYW52YXMpIHJldHVybjtcbiAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBpZiAoY3R4KSB7XG4gICAgICBjdHguc2F2ZSgpO1xuICAgICAgY3R4LnNldFRyYW5zZm9ybSgxLCAwLCAwLCAxLCAwLCAwKTtcbiAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgfVxuICB9O1xuXG4gIGNsZWFyTWFya3VwQ2FudmFzID0gKCkgPT4ge1xuICAgIGlmICghdGhpcy5tYXJrdXBDYW52YXMpIHJldHVybjtcbiAgICBjb25zdCBjdHggPSB0aGlzLm1hcmt1cENhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGlmIChjdHgpIHtcbiAgICAgIGN0eC5zYXZlKCk7XG4gICAgICBjdHguc2V0VHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIDApO1xuICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLm1hcmt1cENhbnZhcy53aWR0aCwgdGhpcy5tYXJrdXBDYW52YXMuaGVpZ2h0KTtcbiAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgfVxuICB9O1xuXG4gIGNsZWFyQ3Vyc29yQ2FudmFzID0gKCkgPT4ge1xuICAgIGlmICghdGhpcy5jdXJzb3JDYW52YXMpIHJldHVybjtcbiAgICBjb25zdCBzaXplID0gdGhpcy5vcHRpb25zLmJvYXJkU2l6ZTtcbiAgICBjb25zdCBjdHggPSB0aGlzLmN1cnNvckNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGlmIChjdHgpIHtcbiAgICAgIGN0eC5zYXZlKCk7XG4gICAgICBjdHguc2V0VHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIDApO1xuICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmN1cnNvckNhbnZhcy53aWR0aCwgdGhpcy5jdXJzb3JDYW52YXMuaGVpZ2h0KTtcbiAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgfVxuICB9O1xuXG4gIGNsZWFyQW5hbHlzaXNDYW52YXMgPSAoKSA9PiB7XG4gICAgaWYgKCF0aGlzLmFuYWx5c2lzQ2FudmFzKSByZXR1cm47XG4gICAgY29uc3QgY3R4ID0gdGhpcy5hbmFseXNpc0NhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGlmIChjdHgpIHtcbiAgICAgIGN0eC5zYXZlKCk7XG4gICAgICBjdHguc2V0VHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIDApO1xuICAgICAgY3R4LmNsZWFyUmVjdChcbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgdGhpcy5hbmFseXNpc0NhbnZhcy53aWR0aCxcbiAgICAgICAgdGhpcy5hbmFseXNpc0NhbnZhcy5oZWlnaHRcbiAgICAgICk7XG4gICAgICBjdHgucmVzdG9yZSgpO1xuICAgIH1cbiAgfTtcblxuICBkcmF3QW5hbHlzaXMgPSAoYW5hbHlzaXMgPSB0aGlzLmFuYWx5c2lzKSA9PiB7XG4gICAgY29uc3QgY2FudmFzID0gdGhpcy5hbmFseXNpc0NhbnZhcztcbiAgICBjb25zdCB7XG4gICAgICB0aGVtZSA9IFRoZW1lLkJsYWNrQW5kV2hpdGUsXG4gICAgICBhbmFseXNpc1BvaW50VGhlbWUsXG4gICAgICBib2FyZFNpemUsXG4gICAgICBmb3JjZUFuYWx5c2lzQm9hcmRTaXplLFxuICAgIH0gPSB0aGlzLm9wdGlvbnM7XG4gICAgY29uc3Qge21hdCwgbWFya3VwfSA9IHRoaXM7XG4gICAgaWYgKCFjYW52YXMgfHwgIWFuYWx5c2lzKSByZXR1cm47XG4gICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgaWYgKCFjdHgpIHJldHVybjtcbiAgICB0aGlzLmNsZWFyQW5hbHlzaXNDYW52YXMoKTtcbiAgICBjb25zdCB7cm9vdEluZm99ID0gYW5hbHlzaXM7XG4gICAgYW5hbHlzaXMubW92ZUluZm9zLmZvckVhY2gobSA9PiB7XG4gICAgICBpZiAoIW0ubW92ZSB8fCBtLm1vdmUgPT09ICdwYXNzJykgcmV0dXJuO1xuICAgICAgY29uc3QgaWRPYmogPSBKU09OLnBhcnNlKGFuYWx5c2lzLmlkKTtcbiAgICAgIGxldCBhbmFseXNpc0JvYXJkU2l6ZSA9IGJvYXJkU2l6ZTtcbiAgICAgIGNvbnN0IG9mZnNldGVkTW92ZSA9IG9mZnNldEExTW92ZShcbiAgICAgICAgbS5tb3ZlLFxuICAgICAgICAwLFxuICAgICAgICBhbmFseXNpc0JvYXJkU2l6ZSAtIGlkT2JqLmJ5XG4gICAgICApO1xuICAgICAgaWYgKCFvZmZzZXRlZE1vdmUpIHJldHVybjtcbiAgICAgIGxldCB7eDogaSwgeTogan0gPSBhMVRvUG9zKG9mZnNldGVkTW92ZSk7XG4gICAgICBpZiAoaSA8IDAgfHwgaiA8IDAgfHwgaSA+PSBtYXQubGVuZ3RoIHx8IGogPj0gbWF0WzBdLmxlbmd0aCkgcmV0dXJuO1xuICAgICAgaWYgKG1hdFtpXVtqXSAhPT0gMCkgcmV0dXJuO1xuICAgICAgY29uc3Qge3NwYWNlLCBzY2FsZWRQYWRkaW5nfSA9IHRoaXMuY2FsY1NwYWNlQW5kUGFkZGluZygpO1xuICAgICAgY29uc3QgeCA9IHNjYWxlZFBhZGRpbmcgKyBpICogc3BhY2U7XG4gICAgICBjb25zdCB5ID0gc2NhbGVkUGFkZGluZyArIGogKiBzcGFjZTtcbiAgICAgIGNvbnN0IHJhdGlvID0gMC40NjtcbiAgICAgIGN0eC5zYXZlKCk7XG4gICAgICBpZiAoXG4gICAgICAgIHRoZW1lICE9PSBUaGVtZS5TdWJkdWVkICYmXG4gICAgICAgIHRoZW1lICE9PSBUaGVtZS5CbGFja0FuZFdoaXRlICYmXG4gICAgICAgIHRoZW1lICE9PSBUaGVtZS5GbGF0ICYmXG4gICAgICAgIHRoZW1lICE9PSBUaGVtZS5XYXJtICYmXG4gICAgICAgIHRoZW1lICE9PSBUaGVtZS5EYXJrXG4gICAgICApIHtcbiAgICAgICAgY3R4LnNoYWRvd09mZnNldFggPSAzMDtcbiAgICAgICAgY3R4LnNoYWRvd09mZnNldFkgPSAzMDtcbiAgICAgICAgY3R4LnNoYWRvd0NvbG9yID0gdGhpcy5nZXRUaGVtZVByb3BlcnR5KFRoZW1lUHJvcGVydHlLZXkuU2hhZG93Q29sb3IpO1xuICAgICAgICBjdHguc2hhZG93Qmx1ciA9IDg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjdHguc2hhZG93T2Zmc2V0WCA9IDA7XG4gICAgICAgIGN0eC5zaGFkb3dPZmZzZXRZID0gMDtcbiAgICAgICAgY3R4LnNoYWRvd0NvbG9yID0gJyNmZmYnO1xuICAgICAgICBjdHguc2hhZG93Qmx1ciA9IDA7XG4gICAgICB9XG5cbiAgICAgIGxldCBvdXRsaW5lQ29sb3I7XG4gICAgICBpZiAobWFya3VwW2ldW2pdLmluY2x1ZGVzKE1hcmt1cC5Qb3NpdGl2ZU5vZGUpKSB7XG4gICAgICAgIG91dGxpbmVDb2xvciA9IHRoaXMuZ2V0VGhlbWVQcm9wZXJ0eShcbiAgICAgICAgICBUaGVtZVByb3BlcnR5S2V5LlBvc2l0aXZlTm9kZUNvbG9yXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGlmIChtYXJrdXBbaV1bal0uaW5jbHVkZXMoTWFya3VwLk5lZ2F0aXZlTm9kZSkpIHtcbiAgICAgICAgb3V0bGluZUNvbG9yID0gdGhpcy5nZXRUaGVtZVByb3BlcnR5KFxuICAgICAgICAgIFRoZW1lUHJvcGVydHlLZXkuTmVnYXRpdmVOb2RlQ29sb3JcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1hcmt1cFtpXVtqXS5pbmNsdWRlcyhNYXJrdXAuTmV1dHJhbE5vZGUpKSB7XG4gICAgICAgIG91dGxpbmVDb2xvciA9IHRoaXMuZ2V0VGhlbWVQcm9wZXJ0eShUaGVtZVByb3BlcnR5S2V5Lk5ldXRyYWxOb2RlQ29sb3IpO1xuICAgICAgfVxuXG4gICAgICBsZXQgcG9saWN5VmFsdWU6IG51bWJlciB8IHVuZGVmaW5lZDtcbiAgICAgIC8vIENvbnZlcnQgbS5tb3ZlIHRvIHJvdy1tYWpvciBpbmRleCBmb3IgcG9saWN5IGFycmF5XG4gICAgICAvLyBLYXRhR28ncyBwb2xpY3kgYXJyYXkgaXMgc3RvcmVkIGluIHJvdy1tYWpvciBvcmRlcjogcG9saWN5W3JvdyAqIGJvYXJkU2l6ZSArIGNvbF1cbiAgICAgIGNvbnN0IHt4OiBjb2wsIHk6IHJvd30gPSBhMVRvUG9zKG0ubW92ZSk7XG4gICAgICBjb25zdCBwb2xpY3lJbmRleCA9IHJvdyAqIGFuYWx5c2lzQm9hcmRTaXplICsgY29sO1xuXG4gICAgICBpZiAoYW5hbHlzaXNQb2ludFRoZW1lID09PSBBbmFseXNpc1BvaW50VGhlbWUuU2NlbmFyaW8pIHtcbiAgICAgICAgaWYgKGFuYWx5c2lzLmh1bWFuUG9saWN5ICYmIGFuYWx5c2lzLmh1bWFuUG9saWN5Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBwb2xpY3lWYWx1ZSA9IGFuYWx5c2lzLmh1bWFuUG9saWN5W3BvbGljeUluZGV4XTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCBwb2ludCA9IG5ldyBBbmFseXNpc1BvaW50KHtcbiAgICAgICAgY3R4LFxuICAgICAgICB4LFxuICAgICAgICB5LFxuICAgICAgICByOiBzcGFjZSAqIHJhdGlvLFxuICAgICAgICByb290SW5mbyxcbiAgICAgICAgbW92ZUluZm86IG0sXG4gICAgICAgIHBvbGljeVZhbHVlLFxuICAgICAgICB0aGVtZTogYW5hbHlzaXNQb2ludFRoZW1lLFxuICAgICAgICBvdXRsaW5lQ29sb3IsXG4gICAgICB9KTtcbiAgICAgIHBvaW50LmRyYXcoKTtcbiAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgfSk7XG4gIH07XG5cbiAgY2xlYXJPd25lcnNoaXBDYW52YXMgPSAoKSA9PiB7XG4gICAgaWYgKCF0aGlzLm93bmVyc2hpcENhbnZhcykgcmV0dXJuO1xuICAgIGNvbnN0IGN0eCA9IHRoaXMub3duZXJzaGlwQ2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgaWYgKGN0eCkge1xuICAgICAgY3R4LnNhdmUoKTtcbiAgICAgIGN0eC5zZXRUcmFuc2Zvcm0oMSwgMCwgMCwgMSwgMCwgMCk7XG4gICAgICBjdHguY2xlYXJSZWN0KFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICB0aGlzLm93bmVyc2hpcENhbnZhcy53aWR0aCxcbiAgICAgICAgdGhpcy5vd25lcnNoaXBDYW52YXMuaGVpZ2h0XG4gICAgICApO1xuICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICB9XG4gIH07XG5cbiAgZHJhd093bmVyc2hpcCA9IChcbiAgICBvd25lcnNoaXA6IG51bWJlcltdIHwgbnVsbCA9IHRoaXMuYW5hbHlzaXM/Lm93bmVyc2hpcCA/PyBudWxsLFxuICAgIG93bmVyc2hpcENhbnZhcyA9IHRoaXMub3duZXJzaGlwQ2FudmFzLFxuICAgIGNsZWFyID0gdHJ1ZVxuICApID0+IHtcbiAgICBjb25zdCBjYW52YXMgPSBvd25lcnNoaXBDYW52YXM7XG4gICAgaWYgKCFjYW52YXMgfHwgIW93bmVyc2hpcCkgcmV0dXJuO1xuICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGlmICghY3R4KSByZXR1cm47XG5cbiAgICBpZiAoY2xlYXIpIHRoaXMuY2xlYXJPd25lcnNoaXBDYW52YXMoKTtcblxuICAgIGNvbnN0IHtzcGFjZSwgc2NhbGVkUGFkZGluZ30gPSB0aGlzLmNhbGNTcGFjZUFuZFBhZGRpbmcoKTtcbiAgICBjb25zdCB7Ym9hcmRTaXplfSA9IHRoaXMub3B0aW9ucztcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYm9hcmRTaXplOyBpKyspIHtcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgYm9hcmRTaXplOyBqKyspIHtcbiAgICAgICAgLy8gcm93LW1ham9yIG9yZGVyXG4gICAgICAgIGNvbnN0IGluZGV4ID0gaiAqIGJvYXJkU2l6ZSArIGk7XG4gICAgICAgIGNvbnN0IG93bmVyc2hpcFZhbHVlID0gb3duZXJzaGlwW2luZGV4XTtcblxuICAgICAgICBpZiAoTWF0aC5hYnMob3duZXJzaGlwVmFsdWUpIDwgMC4xKSBjb250aW51ZTtcblxuICAgICAgICBjb25zdCBzdG9uZVZhbHVlID0gdGhpcy5tYXRbaV0/LltqXSB8fCAwO1xuXG4gICAgICAgIGNvbnN0IHNob3VsZFNob3cgPVxuICAgICAgICAgIHN0b25lVmFsdWUgPT09IDAgfHxcbiAgICAgICAgICAoc3RvbmVWYWx1ZSA9PT0gS2kuQmxhY2sgJiYgb3duZXJzaGlwVmFsdWUgPCAwKSB8fFxuICAgICAgICAgIChzdG9uZVZhbHVlID09PSBLaS5XaGl0ZSAmJiBvd25lcnNoaXBWYWx1ZSA+IDApO1xuXG4gICAgICAgIGlmICghc2hvdWxkU2hvdykgY29udGludWU7XG5cbiAgICAgICAgY29uc3QgeCA9IHNjYWxlZFBhZGRpbmcgKyBpICogc3BhY2U7XG4gICAgICAgIGNvbnN0IHkgPSBzY2FsZWRQYWRkaW5nICsgaiAqIHNwYWNlO1xuICAgICAgICBjb25zdCBzcXVhcmVTaXplID0gc3BhY2UgKiAwLjM7XG5cbiAgICAgICAgY3R4LnNhdmUoKTtcbiAgICAgICAgY29uc3QgbWluT3BhY2l0eSA9IDAuMTU7XG4gICAgICAgIGNvbnN0IHJhd09wYWNpdHkgPSBNYXRoLm1pbihNYXRoLmFicyhvd25lcnNoaXBWYWx1ZSksIDEpO1xuICAgICAgICBjb25zdCBvcGFjaXR5ID0gbWluT3BhY2l0eSArIHJhd09wYWNpdHkgKiAoMSAtIG1pbk9wYWNpdHkpO1xuICAgICAgICBpZiAob3duZXJzaGlwVmFsdWUgPiAwKSB7XG4gICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGByZ2JhKDAsIDAsIDAsICR7b3BhY2l0eX0pYDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gYHJnYmEoMjU1LCAyNTUsIDI1NSwgJHtvcGFjaXR5fSlgO1xuICAgICAgICB9XG4gICAgICAgIGN0eC5maWxsUmVjdChcbiAgICAgICAgICB4IC0gc3F1YXJlU2l6ZSAvIDIsXG4gICAgICAgICAgeSAtIHNxdWFyZVNpemUgLyAyLFxuICAgICAgICAgIHNxdWFyZVNpemUsXG4gICAgICAgICAgc3F1YXJlU2l6ZVxuICAgICAgICApO1xuXG4gICAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGRyYXdNYXJrdXAgPSAoXG4gICAgbWF0ID0gdGhpcy5tYXQsXG4gICAgbWFya3VwID0gdGhpcy5tYXJrdXAsXG4gICAgbWFya3VwQ2FudmFzID0gdGhpcy5tYXJrdXBDYW52YXMsXG4gICAgY2xlYXIgPSB0cnVlXG4gICkgPT4ge1xuICAgIGNvbnN0IGNhbnZhcyA9IG1hcmt1cENhbnZhcztcbiAgICBjb25zdCB7dGhlbWV9ID0gdGhpcy5vcHRpb25zO1xuICAgIGlmIChjYW52YXMpIHtcbiAgICAgIGlmIChjbGVhcikgdGhpcy5jbGVhckNhbnZhcyhjYW52YXMpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXJrdXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBtYXJrdXBbaV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBtYXJrdXBbaV1bal07XG4gICAgICAgICAgdmFsdWVzPy5zcGxpdCgnfCcpLmZvckVhY2godmFsdWUgPT4ge1xuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSAnJykge1xuICAgICAgICAgICAgICBjb25zdCB7c3BhY2UsIHNjYWxlZFBhZGRpbmd9ID0gdGhpcy5jYWxjU3BhY2VBbmRQYWRkaW5nKCk7XG4gICAgICAgICAgICAgIGNvbnN0IHggPSBzY2FsZWRQYWRkaW5nICsgaSAqIHNwYWNlO1xuICAgICAgICAgICAgICBjb25zdCB5ID0gc2NhbGVkUGFkZGluZyArIGogKiBzcGFjZTtcbiAgICAgICAgICAgICAgY29uc3Qga2kgPSBtYXRbaV1bal07XG4gICAgICAgICAgICAgIGxldCBtYXJrdXA7XG4gICAgICAgICAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgICAgICAgICAgIGlmIChjdHgpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICBjYXNlIE1hcmt1cC5DaXJjbGU6IHtcbiAgICAgICAgICAgICAgICAgICAgbWFya3VwID0gbmV3IENpcmNsZU1hcmt1cChcbiAgICAgICAgICAgICAgICAgICAgICBjdHgsXG4gICAgICAgICAgICAgICAgICAgICAgeCxcbiAgICAgICAgICAgICAgICAgICAgICB5LFxuICAgICAgICAgICAgICAgICAgICAgIHNwYWNlLFxuICAgICAgICAgICAgICAgICAgICAgIGtpLFxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlVGhlbWVDb250ZXh0KClcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBjYXNlIE1hcmt1cC5DdXJyZW50OiB7XG4gICAgICAgICAgICAgICAgICAgIG1hcmt1cCA9IG5ldyBDaXJjbGVTb2xpZE1hcmt1cChcbiAgICAgICAgICAgICAgICAgICAgICBjdHgsXG4gICAgICAgICAgICAgICAgICAgICAgeCxcbiAgICAgICAgICAgICAgICAgICAgICB5LFxuICAgICAgICAgICAgICAgICAgICAgIHNwYWNlLFxuICAgICAgICAgICAgICAgICAgICAgIGtpLFxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlVGhlbWVDb250ZXh0KClcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBjYXNlIE1hcmt1cC5Qb3NpdGl2ZUFjdGl2ZU5vZGU6XG4gICAgICAgICAgICAgICAgICBjYXNlIE1hcmt1cC5Qb3NpdGl2ZURhc2hlZEFjdGl2ZU5vZGU6XG4gICAgICAgICAgICAgICAgICBjYXNlIE1hcmt1cC5Qb3NpdGl2ZURvdHRlZEFjdGl2ZU5vZGU6XG4gICAgICAgICAgICAgICAgICBjYXNlIE1hcmt1cC5OZWdhdGl2ZUFjdGl2ZU5vZGU6XG4gICAgICAgICAgICAgICAgICBjYXNlIE1hcmt1cC5OZWdhdGl2ZURhc2hlZEFjdGl2ZU5vZGU6XG4gICAgICAgICAgICAgICAgICBjYXNlIE1hcmt1cC5OZWdhdGl2ZURvdHRlZEFjdGl2ZU5vZGU6XG4gICAgICAgICAgICAgICAgICBjYXNlIE1hcmt1cC5OZXV0cmFsQWN0aXZlTm9kZTpcbiAgICAgICAgICAgICAgICAgIGNhc2UgTWFya3VwLk5ldXRyYWxEYXNoZWRBY3RpdmVOb2RlOlxuICAgICAgICAgICAgICAgICAgY2FzZSBNYXJrdXAuTmV1dHJhbERvdHRlZEFjdGl2ZU5vZGU6XG4gICAgICAgICAgICAgICAgICBjYXNlIE1hcmt1cC5XYXJuaW5nQWN0aXZlTm9kZTpcbiAgICAgICAgICAgICAgICAgIGNhc2UgTWFya3VwLldhcm5pbmdEYXNoZWRBY3RpdmVOb2RlOlxuICAgICAgICAgICAgICAgICAgY2FzZSBNYXJrdXAuV2FybmluZ0RvdHRlZEFjdGl2ZU5vZGU6XG4gICAgICAgICAgICAgICAgICBjYXNlIE1hcmt1cC5EZWZhdWx0QWN0aXZlTm9kZTpcbiAgICAgICAgICAgICAgICAgIGNhc2UgTWFya3VwLkRlZmF1bHREYXNoZWRBY3RpdmVOb2RlOlxuICAgICAgICAgICAgICAgICAgY2FzZSBNYXJrdXAuRGVmYXVsdERvdHRlZEFjdGl2ZU5vZGU6IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHtjb2xvciwgbGluZURhc2h9ID0gdGhpcy5ub2RlTWFya3VwU3R5bGVzW3ZhbHVlXTtcblxuICAgICAgICAgICAgICAgICAgICBtYXJrdXAgPSBuZXcgQWN0aXZlTm9kZU1hcmt1cChcbiAgICAgICAgICAgICAgICAgICAgICBjdHgsXG4gICAgICAgICAgICAgICAgICAgICAgeCxcbiAgICAgICAgICAgICAgICAgICAgICB5LFxuICAgICAgICAgICAgICAgICAgICAgIHNwYWNlLFxuICAgICAgICAgICAgICAgICAgICAgIGtpLFxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlVGhlbWVDb250ZXh0KCksXG4gICAgICAgICAgICAgICAgICAgICAgTWFya3VwLkNpcmNsZVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBtYXJrdXAuc2V0Q29sb3IoY29sb3IpO1xuICAgICAgICAgICAgICAgICAgICBtYXJrdXAuc2V0TGluZURhc2gobGluZURhc2gpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGNhc2UgTWFya3VwLlBvc2l0aXZlTm9kZTpcbiAgICAgICAgICAgICAgICAgIGNhc2UgTWFya3VwLlBvc2l0aXZlRGFzaGVkTm9kZTpcbiAgICAgICAgICAgICAgICAgIGNhc2UgTWFya3VwLlBvc2l0aXZlRG90dGVkTm9kZTpcbiAgICAgICAgICAgICAgICAgIGNhc2UgTWFya3VwLk5lZ2F0aXZlTm9kZTpcbiAgICAgICAgICAgICAgICAgIGNhc2UgTWFya3VwLk5lZ2F0aXZlRGFzaGVkTm9kZTpcbiAgICAgICAgICAgICAgICAgIGNhc2UgTWFya3VwLk5lZ2F0aXZlRG90dGVkTm9kZTpcbiAgICAgICAgICAgICAgICAgIGNhc2UgTWFya3VwLk5ldXRyYWxOb2RlOlxuICAgICAgICAgICAgICAgICAgY2FzZSBNYXJrdXAuTmV1dHJhbERhc2hlZE5vZGU6XG4gICAgICAgICAgICAgICAgICBjYXNlIE1hcmt1cC5OZXV0cmFsRG90dGVkTm9kZTpcbiAgICAgICAgICAgICAgICAgIGNhc2UgTWFya3VwLldhcm5pbmdOb2RlOlxuICAgICAgICAgICAgICAgICAgY2FzZSBNYXJrdXAuV2FybmluZ0Rhc2hlZE5vZGU6XG4gICAgICAgICAgICAgICAgICBjYXNlIE1hcmt1cC5XYXJuaW5nRG90dGVkTm9kZTpcbiAgICAgICAgICAgICAgICAgIGNhc2UgTWFya3VwLkRlZmF1bHROb2RlOlxuICAgICAgICAgICAgICAgICAgY2FzZSBNYXJrdXAuRGVmYXVsdERhc2hlZE5vZGU6XG4gICAgICAgICAgICAgICAgICBjYXNlIE1hcmt1cC5EZWZhdWx0RG90dGVkTm9kZTpcbiAgICAgICAgICAgICAgICAgIGNhc2UgTWFya3VwLk5vZGU6IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHtjb2xvciwgbGluZURhc2h9ID0gdGhpcy5ub2RlTWFya3VwU3R5bGVzW3ZhbHVlXTtcbiAgICAgICAgICAgICAgICAgICAgbWFya3VwID0gbmV3IE5vZGVNYXJrdXAoXG4gICAgICAgICAgICAgICAgICAgICAgY3R4LFxuICAgICAgICAgICAgICAgICAgICAgIHgsXG4gICAgICAgICAgICAgICAgICAgICAgeSxcbiAgICAgICAgICAgICAgICAgICAgICBzcGFjZSxcbiAgICAgICAgICAgICAgICAgICAgICBraSxcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZVRoZW1lQ29udGV4dCgpLFxuICAgICAgICAgICAgICAgICAgICAgIE1hcmt1cC5DaXJjbGVcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgbWFya3VwLnNldENvbG9yKGNvbG9yKTtcbiAgICAgICAgICAgICAgICAgICAgbWFya3VwLnNldExpbmVEYXNoKGxpbmVEYXNoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBjYXNlIE1hcmt1cC5TcXVhcmU6IHtcbiAgICAgICAgICAgICAgICAgICAgbWFya3VwID0gbmV3IFNxdWFyZU1hcmt1cChcbiAgICAgICAgICAgICAgICAgICAgICBjdHgsXG4gICAgICAgICAgICAgICAgICAgICAgeCxcbiAgICAgICAgICAgICAgICAgICAgICB5LFxuICAgICAgICAgICAgICAgICAgICAgIHNwYWNlLFxuICAgICAgICAgICAgICAgICAgICAgIGtpLFxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlVGhlbWVDb250ZXh0KClcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBjYXNlIE1hcmt1cC5UcmlhbmdsZToge1xuICAgICAgICAgICAgICAgICAgICBtYXJrdXAgPSBuZXcgVHJpYW5nbGVNYXJrdXAoXG4gICAgICAgICAgICAgICAgICAgICAgY3R4LFxuICAgICAgICAgICAgICAgICAgICAgIHgsXG4gICAgICAgICAgICAgICAgICAgICAgeSxcbiAgICAgICAgICAgICAgICAgICAgICBzcGFjZSxcbiAgICAgICAgICAgICAgICAgICAgICBraSxcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZVRoZW1lQ29udGV4dCgpXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgY2FzZSBNYXJrdXAuQ3Jvc3M6IHtcbiAgICAgICAgICAgICAgICAgICAgbWFya3VwID0gbmV3IENyb3NzTWFya3VwKFxuICAgICAgICAgICAgICAgICAgICAgIGN0eCxcbiAgICAgICAgICAgICAgICAgICAgICB4LFxuICAgICAgICAgICAgICAgICAgICAgIHksXG4gICAgICAgICAgICAgICAgICAgICAgc3BhY2UsXG4gICAgICAgICAgICAgICAgICAgICAga2ksXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVUaGVtZUNvbnRleHQoKVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGNhc2UgTWFya3VwLkhpZ2hsaWdodDoge1xuICAgICAgICAgICAgICAgICAgICBtYXJrdXAgPSBuZXcgSGlnaGxpZ2h0TWFya3VwKFxuICAgICAgICAgICAgICAgICAgICAgIGN0eCxcbiAgICAgICAgICAgICAgICAgICAgICB4LFxuICAgICAgICAgICAgICAgICAgICAgIHksXG4gICAgICAgICAgICAgICAgICAgICAgc3BhY2UsXG4gICAgICAgICAgICAgICAgICAgICAga2ksXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVUaGVtZUNvbnRleHQoKVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VzdG9tUmVuZGVyZXIgPSB0aGlzLmN1c3RvbU1hcmt1cFJlbmRlcmVyc1t2YWx1ZV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXN0b21SZW5kZXJlcikge1xuICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbVJlbmRlcmVyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHgsXG4gICAgICAgICAgICAgICAgICAgICAgICB5LFxuICAgICAgICAgICAgICAgICAgICAgICAgczogc3BhY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBraSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoZW1lQ29udGV4dDogdGhpcy5jcmVhdGVUaGVtZUNvbnRleHQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlICE9PSAnJykge1xuICAgICAgICAgICAgICAgICAgICAgIG1hcmt1cCA9IG5ldyBUZXh0TWFya3VwKFxuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LFxuICAgICAgICAgICAgICAgICAgICAgICAgeCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHksXG4gICAgICAgICAgICAgICAgICAgICAgICBzcGFjZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGtpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVUaGVtZUNvbnRleHQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbWFya3VwPy5kcmF3KCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBkcmF3Qm9hcmQgPSAoYm9hcmQgPSB0aGlzLmJvYXJkLCBjbGVhciA9IHRydWUpID0+IHtcbiAgICBpZiAoY2xlYXIpIHRoaXMuY2xlYXJDYW52YXMoYm9hcmQpO1xuICAgIHRoaXMuZHJhd0Jhbihib2FyZCk7XG4gICAgdGhpcy5kcmF3Qm9hcmRMaW5lKGJvYXJkKTtcbiAgICB0aGlzLmRyYXdTdGFycyhib2FyZCk7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5jb29yZGluYXRlKSB7XG4gICAgICB0aGlzLmRyYXdDb29yZGluYXRlKCk7XG4gICAgfVxuICB9O1xuXG4gIGRyYXdCYW4gPSAoYm9hcmQgPSB0aGlzLmJvYXJkKSA9PiB7XG4gICAgY29uc3Qge3RoZW1lLCB0aGVtZVJlc291cmNlcywgcGFkZGluZ30gPSB0aGlzLm9wdGlvbnM7XG4gICAgaWYgKGJvYXJkKSB7XG4gICAgICBib2FyZC5zdHlsZS5ib3JkZXJSYWRpdXMgPSAnMnB4JztcbiAgICAgIGNvbnN0IGN0eCA9IGJvYXJkLmdldENvbnRleHQoJzJkJyk7XG4gICAgICBpZiAoY3R4KSB7XG4gICAgICAgIHNldEltYWdlU21vb3RoaW5nUXVhbGl0eShjdHgpO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgdGhlbWUgPT09IFRoZW1lLkJsYWNrQW5kV2hpdGUgfHxcbiAgICAgICAgICB0aGVtZSA9PT0gVGhlbWUuRmxhdCB8fFxuICAgICAgICAgIHRoZW1lID09PSBUaGVtZS5XYXJtIHx8XG4gICAgICAgICAgdGhlbWUgPT09IFRoZW1lLkRhcmsgfHxcbiAgICAgICAgICB0aGVtZSA9PT0gVGhlbWUuSGlnaENvbnRyYXN0XG4gICAgICAgICkge1xuICAgICAgICAgIGJvYXJkLnN0eWxlLmJveFNoYWRvdyA9XG4gICAgICAgICAgICB0aGVtZSA9PT0gVGhlbWUuQmxhY2tBbmRXaGl0ZSA/ICcwcHggMHB4IDBweCAjMDAwMDAwJyA6ICcnO1xuXG4gICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMuZ2V0VGhlbWVQcm9wZXJ0eShcbiAgICAgICAgICAgIFRoZW1lUHJvcGVydHlLZXkuQm9hcmRCYWNrZ3JvdW5kQ29sb3JcbiAgICAgICAgICApO1xuICAgICAgICAgIC8vIGN0eC5maWxsUmVjdChcbiAgICAgICAgICAvLyAgIC1wYWRkaW5nLFxuICAgICAgICAgIC8vICAgLXBhZGRpbmcsXG4gICAgICAgICAgLy8gICBib2FyZC53aWR0aCArIHBhZGRpbmcsXG4gICAgICAgICAgLy8gICBib2FyZC5oZWlnaHQgKyBwYWRkaW5nXG4gICAgICAgICAgLy8gKTtcbiAgICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgYm9hcmQud2lkdGgsIGJvYXJkLmhlaWdodCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgYm9hcmRQaXhlbFNpemUgPSBib2FyZC53aWR0aDtcbiAgICAgICAgICBjb25zdCByZXNvdXJjZXMgPSBnZXRUaGVtZVJlc291cmNlcyhcbiAgICAgICAgICAgIHRoZW1lLFxuICAgICAgICAgICAgdGhlbWVSZXNvdXJjZXMsXG4gICAgICAgICAgICBib2FyZFBpeGVsU2l6ZVxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKHJlc291cmNlcyAmJiByZXNvdXJjZXMuYm9hcmQpIHtcbiAgICAgICAgICAgIGNvbnN0IGJvYXJkVXJsID0gcmVzb3VyY2VzLmJvYXJkO1xuICAgICAgICAgICAgY29uc3QgYm9hcmRSZXMgPSBpbWFnZXNbYm9hcmRVcmxdO1xuICAgICAgICAgICAgaWYgKGJvYXJkUmVzKSB7XG4gICAgICAgICAgICAgIGlmICh0aGVtZSA9PT0gVGhlbWUuV2FsbnV0IHx8IHRoZW1lID09PSBUaGVtZS5ZdW56aU1vbmtleURhcmspIHtcbiAgICAgICAgICAgICAgICBjdHguZHJhd0ltYWdlKGJvYXJkUmVzLCAwLCAwLCBib2FyZC53aWR0aCwgYm9hcmQuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXR0ZXJuID0gY3R4LmNyZWF0ZVBhdHRlcm4oYm9hcmRSZXMsICdyZXBlYXQnKTtcbiAgICAgICAgICAgICAgICBpZiAocGF0dGVybikge1xuICAgICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHBhdHRlcm47XG4gICAgICAgICAgICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgYm9hcmQud2lkdGgsIGJvYXJkLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGRyYXdCb2FyZExpbmUgPSAoYm9hcmQgPSB0aGlzLmJvYXJkKSA9PiB7XG4gICAgaWYgKCFib2FyZCkgcmV0dXJuO1xuICAgIGNvbnN0IHt2aXNpYmxlQXJlYSwgb3B0aW9ucywgbWF0LCBwcmV2ZW50TW92ZU1hdCwgY3Vyc29yUG9zaXRpb259ID0gdGhpcztcbiAgICBjb25zdCB7em9vbSwgYm9hcmRTaXplLCBhZGFwdGl2ZUJvYXJkTGluZSwgdGhlbWV9ID0gb3B0aW9ucztcbiAgICBjb25zdCBib2FyZExpbmVXaWR0aCA9IHRoaXMuZ2V0VGhlbWVQcm9wZXJ0eShcbiAgICAgIFRoZW1lUHJvcGVydHlLZXkuQm9hcmRMaW5lV2lkdGhcbiAgICApO1xuICAgIGNvbnN0IGJvYXJkRWRnZUxpbmVXaWR0aCA9IHRoaXMuZ2V0VGhlbWVQcm9wZXJ0eShcbiAgICAgIFRoZW1lUHJvcGVydHlLZXkuQm9hcmRFZGdlTGluZVdpZHRoXG4gICAgKTtcbiAgICBjb25zdCBib2FyZExpbmVFeHRlbnQgPSB0aGlzLmdldFRoZW1lUHJvcGVydHkoXG4gICAgICBUaGVtZVByb3BlcnR5S2V5LkJvYXJkTGluZUV4dGVudFxuICAgICk7XG4gICAgY29uc3QgY3R4ID0gYm9hcmQuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBpZiAoY3R4KSB7XG4gICAgICBjb25zdCB7c3BhY2UsIHNjYWxlZFBhZGRpbmd9ID0gdGhpcy5jYWxjU3BhY2VBbmRQYWRkaW5nKCk7XG5cbiAgICAgIGNvbnN0IGV4dGVuZFNwYWNlID0gem9vbSA/IGJvYXJkTGluZUV4dGVudCAqIHNwYWNlIDogMDtcbiAgICAgIGxldCBhY3RpdmVDb2xvciA9IHRoaXMuZ2V0VGhlbWVQcm9wZXJ0eShUaGVtZVByb3BlcnR5S2V5LkFjdGl2ZUNvbG9yKTtcbiAgICAgIGxldCBpbmFjdGl2ZUNvbG9yID0gdGhpcy5nZXRUaGVtZVByb3BlcnR5KFRoZW1lUHJvcGVydHlLZXkuSW5hY3RpdmVDb2xvcik7XG5cbiAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmdldFRoZW1lUHJvcGVydHkoVGhlbWVQcm9wZXJ0eUtleS5Cb2FyZExpbmVDb2xvcik7XG5cbiAgICAgIGNvbnN0IGFkYXB0aXZlRmFjdG9yID0gMC4wMDE7XG4gICAgICBjb25zdCB0b3VjaGluZ0ZhY3RvciA9IDIuNTtcbiAgICAgIGxldCBlZGdlTGluZVdpZHRoID0gYWRhcHRpdmVCb2FyZExpbmVcbiAgICAgICAgPyBib2FyZC53aWR0aCAqIGFkYXB0aXZlRmFjdG9yICogMlxuICAgICAgICA6IGJvYXJkRWRnZUxpbmVXaWR0aDtcblxuICAgICAgbGV0IGxpbmVXaWR0aCA9IGFkYXB0aXZlQm9hcmRMaW5lXG4gICAgICAgID8gYm9hcmQud2lkdGggKiBhZGFwdGl2ZUZhY3RvclxuICAgICAgICA6IGJvYXJkTGluZVdpZHRoO1xuXG4gICAgICBjb25zdCBbY3Vyc29yWCwgY3Vyc29yWV0gPSBjdXJzb3JQb3NpdGlvbjtcbiAgICAgIGNvbnN0IGlzVmFsaWRQb3NpdGlvbiA9XG4gICAgICAgIGN1cnNvclggPj0gMCAmJlxuICAgICAgICBjdXJzb3JZID49IDAgJiZcbiAgICAgICAgY3Vyc29yWCA8IGJvYXJkU2l6ZSAmJlxuICAgICAgICBjdXJzb3JZIDwgYm9hcmRTaXplO1xuICAgICAgY29uc3QgaXNOb3RCbG9ja2VkID1cbiAgICAgICAgaXNWYWxpZFBvc2l0aW9uICYmIHByZXZlbnRNb3ZlTWF0W2N1cnNvclhdW2N1cnNvclldID09PSAwO1xuICAgICAgY29uc3QgY2FuUGxhY2VTdG9uZSA9IGNhbk1vdmUoXG4gICAgICAgIG1hdCxcbiAgICAgICAgY3Vyc29yWCxcbiAgICAgICAgY3Vyc29yWSxcbiAgICAgICAgdGhpcy50dXJuLFxuICAgICAgICB0aGlzLnByZXZpb3VzQm9hcmRTdGF0ZVxuICAgICAgKTtcbiAgICAgIGNvbnN0IGFsbG93TW92ZSA9IGNhblBsYWNlU3RvbmUgJiYgaXNOb3RCbG9ja2VkO1xuXG4gICAgICBmb3IgKGxldCBpID0gdmlzaWJsZUFyZWFbMF1bMF07IGkgPD0gdmlzaWJsZUFyZWFbMF1bMV07IGkrKykge1xuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAodmlzaWJsZUFyZWFbMF1bMF0gPT09IDAgJiYgaSA9PT0gMCkgfHxcbiAgICAgICAgICAodmlzaWJsZUFyZWFbMF1bMV0gPT09IGJvYXJkU2l6ZSAtIDEgJiYgaSA9PT0gYm9hcmRTaXplIC0gMSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgY3R4LmxpbmVXaWR0aCA9IGVkZ2VMaW5lV2lkdGg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY3R4LmxpbmVXaWR0aCA9IGxpbmVXaWR0aDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXG4gICAgICAgICAgaXNNb2JpbGVEZXZpY2UoKSAmJlxuICAgICAgICAgIGkgPT09IHRoaXMuY3Vyc29yUG9zaXRpb25bMF0gJiZcbiAgICAgICAgICB0aGlzLnRvdWNoTW92aW5nXG4gICAgICAgICkge1xuICAgICAgICAgIGN0eC5saW5lV2lkdGggPSBjdHgubGluZVdpZHRoICogdG91Y2hpbmdGYWN0b3I7XG4gICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gYWxsb3dNb3ZlID8gYWN0aXZlQ29sb3IgOiBpbmFjdGl2ZUNvbG9yO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IGFjdGl2ZUNvbG9yO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzdGFydFBvaW50WSA9XG4gICAgICAgICAgaSA9PT0gMCB8fCBpID09PSBib2FyZFNpemUgLSAxXG4gICAgICAgICAgICA/IHNjYWxlZFBhZGRpbmcgKyB2aXNpYmxlQXJlYVsxXVswXSAqIHNwYWNlIC0gZWRnZUxpbmVXaWR0aCAvIDJcbiAgICAgICAgICAgIDogc2NhbGVkUGFkZGluZyArIHZpc2libGVBcmVhWzFdWzBdICogc3BhY2U7XG4gICAgICAgIGlmIChpc01vYmlsZURldmljZSgpKSB7XG4gICAgICAgICAgc3RhcnRQb2ludFkgKz0gZHByIC8gMjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZW5kUG9pbnRZID1cbiAgICAgICAgICBpID09PSAwIHx8IGkgPT09IGJvYXJkU2l6ZSAtIDFcbiAgICAgICAgICAgID8gc3BhY2UgKiB2aXNpYmxlQXJlYVsxXVsxXSArIHNjYWxlZFBhZGRpbmcgKyBlZGdlTGluZVdpZHRoIC8gMlxuICAgICAgICAgICAgOiBzcGFjZSAqIHZpc2libGVBcmVhWzFdWzFdICsgc2NhbGVkUGFkZGluZztcbiAgICAgICAgaWYgKGlzTW9iaWxlRGV2aWNlKCkpIHtcbiAgICAgICAgICBlbmRQb2ludFkgLT0gZHByIC8gMjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmlzaWJsZUFyZWFbMV1bMF0gPiAwKSBzdGFydFBvaW50WSAtPSBleHRlbmRTcGFjZTtcbiAgICAgICAgaWYgKHZpc2libGVBcmVhWzFdWzFdIDwgYm9hcmRTaXplIC0gMSkgZW5kUG9pbnRZICs9IGV4dGVuZFNwYWNlO1xuICAgICAgICBjdHgubW92ZVRvKGkgKiBzcGFjZSArIHNjYWxlZFBhZGRpbmcsIHN0YXJ0UG9pbnRZKTtcbiAgICAgICAgY3R4LmxpbmVUbyhpICogc3BhY2UgKyBzY2FsZWRQYWRkaW5nLCBlbmRQb2ludFkpO1xuICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICB9XG5cbiAgICAgIGZvciAobGV0IGkgPSB2aXNpYmxlQXJlYVsxXVswXTsgaSA8PSB2aXNpYmxlQXJlYVsxXVsxXTsgaSsrKSB7XG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICh2aXNpYmxlQXJlYVsxXVswXSA9PT0gMCAmJiBpID09PSAwKSB8fFxuICAgICAgICAgICh2aXNpYmxlQXJlYVsxXVsxXSA9PT0gYm9hcmRTaXplIC0gMSAmJiBpID09PSBib2FyZFNpemUgLSAxKVxuICAgICAgICApIHtcbiAgICAgICAgICBjdHgubGluZVdpZHRoID0gZWRnZUxpbmVXaWR0aDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjdHgubGluZVdpZHRoID0gbGluZVdpZHRoO1xuICAgICAgICB9XG4gICAgICAgIGlmIChcbiAgICAgICAgICBpc01vYmlsZURldmljZSgpICYmXG4gICAgICAgICAgaSA9PT0gdGhpcy5jdXJzb3JQb3NpdGlvblsxXSAmJlxuICAgICAgICAgIHRoaXMudG91Y2hNb3ZpbmdcbiAgICAgICAgKSB7XG4gICAgICAgICAgY3R4LmxpbmVXaWR0aCA9IGN0eC5saW5lV2lkdGggKiB0b3VjaGluZ0ZhY3RvcjtcbiAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBhbGxvd01vdmUgPyBhY3RpdmVDb2xvciA6IGluYWN0aXZlQ29sb3I7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gYWN0aXZlQ29sb3I7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHN0YXJ0UG9pbnRYID1cbiAgICAgICAgICBpID09PSAwIHx8IGkgPT09IGJvYXJkU2l6ZSAtIDFcbiAgICAgICAgICAgID8gc2NhbGVkUGFkZGluZyArIHZpc2libGVBcmVhWzBdWzBdICogc3BhY2UgLSBlZGdlTGluZVdpZHRoIC8gMlxuICAgICAgICAgICAgOiBzY2FsZWRQYWRkaW5nICsgdmlzaWJsZUFyZWFbMF1bMF0gKiBzcGFjZTtcbiAgICAgICAgbGV0IGVuZFBvaW50WCA9XG4gICAgICAgICAgaSA9PT0gMCB8fCBpID09PSBib2FyZFNpemUgLSAxXG4gICAgICAgICAgICA/IHNwYWNlICogdmlzaWJsZUFyZWFbMF1bMV0gKyBzY2FsZWRQYWRkaW5nICsgZWRnZUxpbmVXaWR0aCAvIDJcbiAgICAgICAgICAgIDogc3BhY2UgKiB2aXNpYmxlQXJlYVswXVsxXSArIHNjYWxlZFBhZGRpbmc7XG4gICAgICAgIGlmIChpc01vYmlsZURldmljZSgpKSB7XG4gICAgICAgICAgc3RhcnRQb2ludFggKz0gZHByIC8gMjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNNb2JpbGVEZXZpY2UoKSkge1xuICAgICAgICAgIGVuZFBvaW50WCAtPSBkcHIgLyAyO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHZpc2libGVBcmVhWzBdWzBdID4gMCkgc3RhcnRQb2ludFggLT0gZXh0ZW5kU3BhY2U7XG4gICAgICAgIGlmICh2aXNpYmxlQXJlYVswXVsxXSA8IGJvYXJkU2l6ZSAtIDEpIGVuZFBvaW50WCArPSBleHRlbmRTcGFjZTtcbiAgICAgICAgY3R4Lm1vdmVUbyhzdGFydFBvaW50WCwgaSAqIHNwYWNlICsgc2NhbGVkUGFkZGluZyk7XG4gICAgICAgIGN0eC5saW5lVG8oZW5kUG9pbnRYLCBpICogc3BhY2UgKyBzY2FsZWRQYWRkaW5nKTtcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBkcmF3U3RhcnMgPSAoYm9hcmQgPSB0aGlzLmJvYXJkKSA9PiB7XG4gICAgaWYgKCFib2FyZCkgcmV0dXJuO1xuICAgIGlmICh0aGlzLm9wdGlvbnMuYm9hcmRTaXplICE9PSAxOSkgcmV0dXJuO1xuXG4gICAgbGV0IHthZGFwdGl2ZVN0YXJTaXplfSA9IHRoaXMub3B0aW9ucztcbiAgICBjb25zdCBzdGFyU2l6ZU9wdGlvbnMgPSB0aGlzLmdldFRoZW1lUHJvcGVydHkoVGhlbWVQcm9wZXJ0eUtleS5TdGFyU2l6ZSk7XG5cbiAgICBjb25zdCB2aXNpYmxlQXJlYSA9IHRoaXMudmlzaWJsZUFyZWE7XG4gICAgY29uc3QgY3R4ID0gYm9hcmQuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBsZXQgc3RhclNpemUgPSBhZGFwdGl2ZVN0YXJTaXplID8gYm9hcmQud2lkdGggKiAwLjAwMzUgOiBzdGFyU2l6ZU9wdGlvbnM7XG4gICAgaWYgKGN0eCkge1xuICAgICAgY29uc3Qge3NwYWNlLCBzY2FsZWRQYWRkaW5nfSA9IHRoaXMuY2FsY1NwYWNlQW5kUGFkZGluZygpO1xuICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgWzMsIDksIDE1XS5mb3JFYWNoKGkgPT4ge1xuICAgICAgICBbMywgOSwgMTVdLmZvckVhY2goaiA9PiB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgaSA+PSB2aXNpYmxlQXJlYVswXVswXSAmJlxuICAgICAgICAgICAgaSA8PSB2aXNpYmxlQXJlYVswXVsxXSAmJlxuICAgICAgICAgICAgaiA+PSB2aXNpYmxlQXJlYVsxXVswXSAmJlxuICAgICAgICAgICAgaiA8PSB2aXNpYmxlQXJlYVsxXVsxXVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgY3R4LmFyYyhcbiAgICAgICAgICAgICAgaSAqIHNwYWNlICsgc2NhbGVkUGFkZGluZyxcbiAgICAgICAgICAgICAgaiAqIHNwYWNlICsgc2NhbGVkUGFkZGluZyxcbiAgICAgICAgICAgICAgc3RhclNpemUsXG4gICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgIDIgKiBNYXRoLlBJLFxuICAgICAgICAgICAgICB0cnVlXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMuZ2V0VGhlbWVQcm9wZXJ0eSgnYm9hcmRMaW5lQ29sb3InKTtcbiAgICAgICAgICAgIGN0eC5maWxsKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBkcmF3Q29vcmRpbmF0ZSA9ICgpID0+IHtcbiAgICBjb25zdCB7Ym9hcmQsIG9wdGlvbnMsIHZpc2libGVBcmVhfSA9IHRoaXM7XG4gICAgaWYgKCFib2FyZCkgcmV0dXJuO1xuICAgIGNvbnN0IHtib2FyZFNpemUsIHpvb20sIHBhZGRpbmcsIHRoZW1lfSA9IG9wdGlvbnM7XG4gICAgY29uc3QgYm9hcmRMaW5lRXh0ZW50ID0gdGhpcy5nZXRUaGVtZVByb3BlcnR5KCdib2FyZExpbmVFeHRlbnQnKTtcbiAgICBsZXQgem9vbWVkQm9hcmRTaXplID0gdmlzaWJsZUFyZWFbMF1bMV0gLSB2aXNpYmxlQXJlYVswXVswXSArIDE7XG4gICAgY29uc3QgY3R4ID0gYm9hcmQuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBjb25zdCB7c3BhY2UsIHNjYWxlZFBhZGRpbmd9ID0gdGhpcy5jYWxjU3BhY2VBbmRQYWRkaW5nKCk7XG4gICAgaWYgKGN0eCkge1xuICAgICAgY3R4LnRleHRCYXNlbGluZSA9ICdtaWRkbGUnO1xuICAgICAgY3R4LnRleHRBbGlnbiA9ICdjZW50ZXInO1xuICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMuZ2V0VGhlbWVQcm9wZXJ0eSgnYm9hcmRMaW5lQ29sb3InKTtcblxuICAgICAgY3R4LmZvbnQgPSBgYm9sZCAke3NwYWNlIC8gM31weCBIZWx2ZXRpY2FgO1xuXG4gICAgICBjb25zdCBjZW50ZXIgPSB0aGlzLmNhbGNDZW50ZXIoKTtcbiAgICAgIGxldCBvZmZzZXQgPSBzcGFjZSAvIDEuNTtcblxuICAgICAgaWYgKFxuICAgICAgICBjZW50ZXIgPT09IENlbnRlci5DZW50ZXIgJiZcbiAgICAgICAgdmlzaWJsZUFyZWFbMF1bMF0gPT09IDAgJiZcbiAgICAgICAgdmlzaWJsZUFyZWFbMF1bMV0gPT09IGJvYXJkU2l6ZSAtIDFcbiAgICAgICkge1xuICAgICAgICBvZmZzZXQgLT0gc2NhbGVkUGFkZGluZyAvIDI7XG4gICAgICB9XG5cbiAgICAgIEExX0xFVFRFUlMuZm9yRWFjaCgobCwgaW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgeCA9IHNwYWNlICogaW5kZXggKyBzY2FsZWRQYWRkaW5nO1xuICAgICAgICBsZXQgb2Zmc2V0VG9wID0gb2Zmc2V0O1xuICAgICAgICBsZXQgb2Zmc2V0Qm90dG9tID0gb2Zmc2V0O1xuICAgICAgICBpZiAoXG4gICAgICAgICAgY2VudGVyID09PSBDZW50ZXIuVG9wTGVmdCB8fFxuICAgICAgICAgIGNlbnRlciA9PT0gQ2VudGVyLlRvcFJpZ2h0IHx8XG4gICAgICAgICAgY2VudGVyID09PSBDZW50ZXIuVG9wXG4gICAgICAgICkge1xuICAgICAgICAgIG9mZnNldFRvcCAtPSBzcGFjZSAqIGJvYXJkTGluZUV4dGVudDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXG4gICAgICAgICAgY2VudGVyID09PSBDZW50ZXIuQm90dG9tTGVmdCB8fFxuICAgICAgICAgIGNlbnRlciA9PT0gQ2VudGVyLkJvdHRvbVJpZ2h0IHx8XG4gICAgICAgICAgY2VudGVyID09PSBDZW50ZXIuQm90dG9tXG4gICAgICAgICkge1xuICAgICAgICAgIG9mZnNldEJvdHRvbSAtPSAoc3BhY2UgKiBib2FyZExpbmVFeHRlbnQpIC8gMjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgeTEgPSB2aXNpYmxlQXJlYVsxXVswXSAqIHNwYWNlICsgcGFkZGluZyAtIG9mZnNldFRvcDtcbiAgICAgICAgbGV0IHkyID0geTEgKyB6b29tZWRCb2FyZFNpemUgKiBzcGFjZSArIG9mZnNldEJvdHRvbSAqIDI7XG4gICAgICAgIGlmIChpbmRleCA+PSB2aXNpYmxlQXJlYVswXVswXSAmJiBpbmRleCA8PSB2aXNpYmxlQXJlYVswXVsxXSkge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGNlbnRlciAhPT0gQ2VudGVyLkJvdHRvbUxlZnQgJiZcbiAgICAgICAgICAgIGNlbnRlciAhPT0gQ2VudGVyLkJvdHRvbVJpZ2h0ICYmXG4gICAgICAgICAgICBjZW50ZXIgIT09IENlbnRlci5Cb3R0b21cbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGN0eC5maWxsVGV4dChsLCB4LCB5MSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgY2VudGVyICE9PSBDZW50ZXIuVG9wTGVmdCAmJlxuICAgICAgICAgICAgY2VudGVyICE9PSBDZW50ZXIuVG9wUmlnaHQgJiZcbiAgICAgICAgICAgIGNlbnRlciAhPT0gQ2VudGVyLlRvcFxuICAgICAgICAgICkge1xuICAgICAgICAgICAgY3R4LmZpbGxUZXh0KGwsIHgsIHkyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBBMV9OVU1CRVJTLnNsaWNlKC10aGlzLm9wdGlvbnMuYm9hcmRTaXplKS5mb3JFYWNoKChsOiBudW1iZXIsIGluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHkgPSBzcGFjZSAqIGluZGV4ICsgc2NhbGVkUGFkZGluZztcbiAgICAgICAgbGV0IG9mZnNldExlZnQgPSBvZmZzZXQ7XG4gICAgICAgIGxldCBvZmZzZXRSaWdodCA9IG9mZnNldDtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGNlbnRlciA9PT0gQ2VudGVyLlRvcExlZnQgfHxcbiAgICAgICAgICBjZW50ZXIgPT09IENlbnRlci5Cb3R0b21MZWZ0IHx8XG4gICAgICAgICAgY2VudGVyID09PSBDZW50ZXIuTGVmdFxuICAgICAgICApIHtcbiAgICAgICAgICBvZmZzZXRMZWZ0IC09IHNwYWNlICogYm9hcmRMaW5lRXh0ZW50O1xuICAgICAgICB9XG4gICAgICAgIGlmIChcbiAgICAgICAgICBjZW50ZXIgPT09IENlbnRlci5Ub3BSaWdodCB8fFxuICAgICAgICAgIGNlbnRlciA9PT0gQ2VudGVyLkJvdHRvbVJpZ2h0IHx8XG4gICAgICAgICAgY2VudGVyID09PSBDZW50ZXIuUmlnaHRcbiAgICAgICAgKSB7XG4gICAgICAgICAgb2Zmc2V0UmlnaHQgLT0gKHNwYWNlICogYm9hcmRMaW5lRXh0ZW50KSAvIDI7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHgxID0gdmlzaWJsZUFyZWFbMF1bMF0gKiBzcGFjZSArIHBhZGRpbmcgLSBvZmZzZXRMZWZ0O1xuICAgICAgICBsZXQgeDIgPSB4MSArIHpvb21lZEJvYXJkU2l6ZSAqIHNwYWNlICsgMiAqIG9mZnNldFJpZ2h0O1xuICAgICAgICBpZiAoaW5kZXggPj0gdmlzaWJsZUFyZWFbMV1bMF0gJiYgaW5kZXggPD0gdmlzaWJsZUFyZWFbMV1bMV0pIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBjZW50ZXIgIT09IENlbnRlci5Ub3BSaWdodCAmJlxuICAgICAgICAgICAgY2VudGVyICE9PSBDZW50ZXIuQm90dG9tUmlnaHQgJiZcbiAgICAgICAgICAgIGNlbnRlciAhPT0gQ2VudGVyLlJpZ2h0XG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBjdHguZmlsbFRleHQobC50b1N0cmluZygpLCB4MSwgeSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGNlbnRlciAhPT0gQ2VudGVyLlRvcExlZnQgJiZcbiAgICAgICAgICAgIGNlbnRlciAhPT0gQ2VudGVyLkJvdHRvbUxlZnQgJiZcbiAgICAgICAgICAgIGNlbnRlciAhPT0gQ2VudGVyLkxlZnRcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGN0eC5maWxsVGV4dChsLnRvU3RyaW5nKCksIHgyLCB5KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBjYWxjU3BhY2VBbmRQYWRkaW5nID0gKGNhbnZhcyA9IHRoaXMuY2FudmFzKSA9PiB7XG4gICAgbGV0IHNwYWNlID0gMDtcbiAgICBsZXQgc2NhbGVkUGFkZGluZyA9IDA7XG4gICAgbGV0IHNjYWxlZEJvYXJkRXh0ZW50ID0gMDtcbiAgICBpZiAoY2FudmFzKSB7XG4gICAgICBjb25zdCB7cGFkZGluZywgYm9hcmRTaXplLCB6b29tfSA9IHRoaXMub3B0aW9ucztcbiAgICAgIGNvbnN0IGJvYXJkTGluZUV4dGVudCA9IHRoaXMuZ2V0VGhlbWVQcm9wZXJ0eSgnYm9hcmRMaW5lRXh0ZW50Jyk7XG4gICAgICBjb25zdCB7dmlzaWJsZUFyZWF9ID0gdGhpcztcblxuICAgICAgaWYgKFxuICAgICAgICAodmlzaWJsZUFyZWFbMF1bMF0gIT09IDAgJiYgdmlzaWJsZUFyZWFbMF1bMV0gPT09IGJvYXJkU2l6ZSAtIDEpIHx8XG4gICAgICAgICh2aXNpYmxlQXJlYVsxXVswXSAhPT0gMCAmJiB2aXNpYmxlQXJlYVsxXVsxXSA9PT0gYm9hcmRTaXplIC0gMSlcbiAgICAgICkge1xuICAgICAgICBzY2FsZWRCb2FyZEV4dGVudCA9IGJvYXJkTGluZUV4dGVudDtcbiAgICAgIH1cbiAgICAgIGlmIChcbiAgICAgICAgKHZpc2libGVBcmVhWzBdWzBdICE9PSAwICYmIHZpc2libGVBcmVhWzBdWzFdICE9PSBib2FyZFNpemUgLSAxKSB8fFxuICAgICAgICAodmlzaWJsZUFyZWFbMV1bMF0gIT09IDAgJiYgdmlzaWJsZUFyZWFbMV1bMV0gIT09IGJvYXJkU2l6ZSAtIDEpXG4gICAgICApIHtcbiAgICAgICAgc2NhbGVkQm9hcmRFeHRlbnQgPSBib2FyZExpbmVFeHRlbnQgKiAyO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBkaXZpc29yID0gem9vbSA/IGJvYXJkU2l6ZSArIHNjYWxlZEJvYXJkRXh0ZW50IDogYm9hcmRTaXplO1xuICAgICAgc3BhY2UgPSAoY2FudmFzLndpZHRoIC0gcGFkZGluZyAqIDIpIC8gTWF0aC5jZWlsKGRpdmlzb3IpO1xuICAgICAgc2NhbGVkUGFkZGluZyA9IHBhZGRpbmcgKyBzcGFjZSAvIDI7XG4gICAgfVxuICAgIHJldHVybiB7c3BhY2UsIHNjYWxlZFBhZGRpbmcsIHNjYWxlZEJvYXJkRXh0ZW50fTtcbiAgfTtcblxuICBwbGF5RWZmZWN0ID0gKG1hdCA9IHRoaXMubWF0LCBlZmZlY3RNYXQgPSB0aGlzLmVmZmVjdE1hdCwgY2xlYXIgPSB0cnVlKSA9PiB7XG4gICAgY29uc3QgY2FudmFzID0gdGhpcy5lZmZlY3RDYW52YXM7XG5cbiAgICBpZiAoY2FudmFzKSB7XG4gICAgICBpZiAoY2xlYXIpIHRoaXMuY2xlYXJDYW52YXMoY2FudmFzKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWZmZWN0TWF0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgZWZmZWN0TWF0W2ldLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgY29uc3QgdmFsdWUgPSBlZmZlY3RNYXRbaV1bal07XG4gICAgICAgICAgY29uc3Qge3NwYWNlLCBzY2FsZWRQYWRkaW5nfSA9IHRoaXMuY2FsY1NwYWNlQW5kUGFkZGluZygpO1xuICAgICAgICAgIGNvbnN0IHggPSBzY2FsZWRQYWRkaW5nICsgaSAqIHNwYWNlO1xuICAgICAgICAgIGNvbnN0IHkgPSBzY2FsZWRQYWRkaW5nICsgaiAqIHNwYWNlO1xuICAgICAgICAgIGNvbnN0IGtpID0gbWF0W2ldW2pdO1xuICAgICAgICAgIGxldCBlZmZlY3Q7XG4gICAgICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICAgICAgICBpZiAoY3R4KSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgICAgICAgICAgIGNhc2UgRWZmZWN0LkJhbjoge1xuICAgICAgICAgICAgICAgIGVmZmVjdCA9IG5ldyBCYW5FZmZlY3QoY3R4LCB4LCB5LCBzcGFjZSwga2kpO1xuICAgICAgICAgICAgICAgIGVmZmVjdC5wbGF5KCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVmZmVjdE1hdFtpXVtqXSA9IEVmZmVjdC5Ob25lO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3Qge2JvYXJkU2l6ZX0gPSB0aGlzLm9wdGlvbnM7XG4gICAgICB0aGlzLnNldEVmZmVjdE1hdChlbXB0eShbYm9hcmRTaXplLCBib2FyZFNpemVdKSk7XG4gICAgfVxuICB9O1xuXG4gIGRyYXdDdXJzb3IgPSAoKSA9PiB7XG4gICAgY29uc3QgY2FudmFzID0gdGhpcy5jdXJzb3JDYW52YXM7XG4gICAgaWYgKGNhbnZhcykge1xuICAgICAgdGhpcy5jbGVhckN1cnNvckNhbnZhcygpO1xuICAgICAgaWYgKHRoaXMuY3Vyc29yID09PSBDdXJzb3IuTm9uZSkgcmV0dXJuO1xuICAgICAgaWYgKGlzTW9iaWxlRGV2aWNlKCkgJiYgIXRoaXMudG91Y2hNb3ZpbmcpIHJldHVybjtcblxuICAgICAgY29uc3Qge3BhZGRpbmcsIHRoZW1lfSA9IHRoaXMub3B0aW9ucztcbiAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgY29uc3Qge3NwYWNlfSA9IHRoaXMuY2FsY1NwYWNlQW5kUGFkZGluZygpO1xuICAgICAgY29uc3Qge3Zpc2libGVBcmVhLCBjdXJzb3IsIGN1cnNvclZhbHVlfSA9IHRoaXM7XG5cbiAgICAgIGNvbnN0IFtpZHgsIGlkeV0gPSB0aGlzLmN1cnNvclBvc2l0aW9uO1xuICAgICAgaWYgKGlkeCA8IHZpc2libGVBcmVhWzBdWzBdIHx8IGlkeCA+IHZpc2libGVBcmVhWzBdWzFdKSByZXR1cm47XG4gICAgICBpZiAoaWR5IDwgdmlzaWJsZUFyZWFbMV1bMF0gfHwgaWR5ID4gdmlzaWJsZUFyZWFbMV1bMV0pIHJldHVybjtcbiAgICAgIGNvbnN0IHggPSBpZHggKiBzcGFjZSArIHNwYWNlIC8gMiArIHBhZGRpbmc7XG4gICAgICBjb25zdCB5ID0gaWR5ICogc3BhY2UgKyBzcGFjZSAvIDIgKyBwYWRkaW5nO1xuICAgICAgY29uc3Qga2kgPSB0aGlzLm1hdD8uW2lkeF0/LltpZHldIHx8IEtpLkVtcHR5O1xuXG4gICAgICBpZiAoY3R4KSB7XG4gICAgICAgIGxldCBjdXI7XG4gICAgICAgIGNvbnN0IHNpemUgPSBzcGFjZSAqIDAuODtcbiAgICAgICAgaWYgKGN1cnNvciA9PT0gQ3Vyc29yLkNpcmNsZSkge1xuICAgICAgICAgIGN1ciA9IG5ldyBDaXJjbGVNYXJrdXAoXG4gICAgICAgICAgICBjdHgsXG4gICAgICAgICAgICB4LFxuICAgICAgICAgICAgeSxcbiAgICAgICAgICAgIHNwYWNlLFxuICAgICAgICAgICAga2ksXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVRoZW1lQ29udGV4dCgpXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjdXIuc2V0R2xvYmFsQWxwaGEoMC44KTtcbiAgICAgICAgfSBlbHNlIGlmIChjdXJzb3IgPT09IEN1cnNvci5TcXVhcmUpIHtcbiAgICAgICAgICBjdXIgPSBuZXcgU3F1YXJlTWFya3VwKFxuICAgICAgICAgICAgY3R4LFxuICAgICAgICAgICAgeCxcbiAgICAgICAgICAgIHksXG4gICAgICAgICAgICBzcGFjZSxcbiAgICAgICAgICAgIGtpLFxuICAgICAgICAgICAgdGhpcy5jcmVhdGVUaGVtZUNvbnRleHQoKVxuICAgICAgICAgICk7XG4gICAgICAgICAgY3VyLnNldEdsb2JhbEFscGhhKDAuOCk7XG4gICAgICAgIH0gZWxzZSBpZiAoY3Vyc29yID09PSBDdXJzb3IuVHJpYW5nbGUpIHtcbiAgICAgICAgICBjdXIgPSBuZXcgVHJpYW5nbGVNYXJrdXAoXG4gICAgICAgICAgICBjdHgsXG4gICAgICAgICAgICB4LFxuICAgICAgICAgICAgeSxcbiAgICAgICAgICAgIHNwYWNlLFxuICAgICAgICAgICAga2ksXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVRoZW1lQ29udGV4dCgpXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjdXIuc2V0R2xvYmFsQWxwaGEoMC44KTtcbiAgICAgICAgfSBlbHNlIGlmIChjdXJzb3IgPT09IEN1cnNvci5Dcm9zcykge1xuICAgICAgICAgIGN1ciA9IG5ldyBDcm9zc01hcmt1cChcbiAgICAgICAgICAgIGN0eCxcbiAgICAgICAgICAgIHgsXG4gICAgICAgICAgICB5LFxuICAgICAgICAgICAgc3BhY2UsXG4gICAgICAgICAgICBraSxcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlVGhlbWVDb250ZXh0KClcbiAgICAgICAgICApO1xuICAgICAgICAgIGN1ci5zZXRHbG9iYWxBbHBoYSgwLjgpO1xuICAgICAgICB9IGVsc2UgaWYgKGN1cnNvciA9PT0gQ3Vyc29yLlRleHQpIHtcbiAgICAgICAgICBjdXIgPSBuZXcgVGV4dE1hcmt1cChcbiAgICAgICAgICAgIGN0eCxcbiAgICAgICAgICAgIHgsXG4gICAgICAgICAgICB5LFxuICAgICAgICAgICAgc3BhY2UsXG4gICAgICAgICAgICBraSxcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlVGhlbWVDb250ZXh0KCksXG4gICAgICAgICAgICBjdXJzb3JWYWx1ZVxuICAgICAgICAgICk7XG4gICAgICAgICAgY3VyLnNldEdsb2JhbEFscGhhKDAuOCk7XG4gICAgICAgIH0gZWxzZSBpZiAoa2kgPT09IEtpLkVtcHR5ICYmIGN1cnNvciA9PT0gQ3Vyc29yLkJsYWNrU3RvbmUpIHtcbiAgICAgICAgICBjdXIgPSBuZXcgRmxhdFN0b25lKGN0eCwgeCwgeSwgS2kuQmxhY2ssIHRoaXMuY3JlYXRlVGhlbWVDb250ZXh0KCkpO1xuICAgICAgICAgIGN1ci5zZXRTaXplKHNpemUpO1xuICAgICAgICAgIGN1ci5zZXRHbG9iYWxBbHBoYSgwLjUpO1xuICAgICAgICB9IGVsc2UgaWYgKGtpID09PSBLaS5FbXB0eSAmJiBjdXJzb3IgPT09IEN1cnNvci5XaGl0ZVN0b25lKSB7XG4gICAgICAgICAgY3VyID0gbmV3IEZsYXRTdG9uZShjdHgsIHgsIHksIEtpLldoaXRlLCB0aGlzLmNyZWF0ZVRoZW1lQ29udGV4dCgpKTtcbiAgICAgICAgICBjdXIuc2V0U2l6ZShzaXplKTtcbiAgICAgICAgICBjdXIuc2V0R2xvYmFsQWxwaGEoMC41KTtcbiAgICAgICAgfSBlbHNlIGlmIChjdXJzb3IgPT09IEN1cnNvci5DbGVhcikge1xuICAgICAgICAgIGN1ciA9IG5ldyBGbGF0U3RvbmUoY3R4LCB4LCB5LCBLaS5FbXB0eSwgdGhpcy5jcmVhdGVUaGVtZUNvbnRleHQoKSk7XG4gICAgICAgICAgY3VyLnNldFNpemUoc2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY3VyPy5kcmF3KCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGRyYXdTdG9uZXMgPSAoXG4gICAgbWF0OiBudW1iZXJbXVtdID0gdGhpcy5tYXQsXG4gICAgY2FudmFzID0gdGhpcy5jYW52YXMsXG4gICAgY2xlYXIgPSB0cnVlXG4gICkgPT4ge1xuICAgIGNvbnN0IHt0aGVtZSA9IFRoZW1lLkJsYWNrQW5kV2hpdGUsIHRoZW1lUmVzb3VyY2VzfSA9IHRoaXMub3B0aW9ucztcbiAgICBpZiAoY2xlYXIpIHRoaXMuY2xlYXJDYW52YXMoKTtcbiAgICBpZiAoY2FudmFzKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1hdC5sZW5ndGg7IGkrKykge1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IG1hdFtpXS5sZW5ndGg7IGorKykge1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gbWF0W2ldW2pdO1xuICAgICAgICAgIGlmICh2YWx1ZSAhPT0gMCkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgICAgICBpZiAoY3R4KSB7XG4gICAgICAgICAgICAgIHNldEltYWdlU21vb3RoaW5nUXVhbGl0eShjdHgpO1xuICAgICAgICAgICAgICBjb25zdCB7c3BhY2UsIHNjYWxlZFBhZGRpbmd9ID0gdGhpcy5jYWxjU3BhY2VBbmRQYWRkaW5nKCk7XG4gICAgICAgICAgICAgIGNvbnN0IHggPSBzY2FsZWRQYWRkaW5nICsgaSAqIHNwYWNlO1xuICAgICAgICAgICAgICBjb25zdCB5ID0gc2NhbGVkUGFkZGluZyArIGogKiBzcGFjZTtcbiAgICAgICAgICAgICAgY29uc3QgcmF0aW8gPSB0aGlzLmdldFRoZW1lUHJvcGVydHkoJ3N0b25lUmF0aW8nKTtcbiAgICAgICAgICAgICAgY3R4LnNhdmUoKTtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIHRoZW1lICE9PSBUaGVtZS5TdWJkdWVkICYmXG4gICAgICAgICAgICAgICAgdGhlbWUgIT09IFRoZW1lLkJsYWNrQW5kV2hpdGUgJiZcbiAgICAgICAgICAgICAgICB0aGVtZSAhPT0gVGhlbWUuRmxhdCAmJlxuICAgICAgICAgICAgICAgIHRoZW1lICE9PSBUaGVtZS5XYXJtICYmXG4gICAgICAgICAgICAgICAgdGhlbWUgIT09IFRoZW1lLkRhcmsgJiZcbiAgICAgICAgICAgICAgICB0aGVtZSAhPT0gVGhlbWUuSGlnaENvbnRyYXN0XG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGN0eC5zaGFkb3dPZmZzZXRYID0gMztcbiAgICAgICAgICAgICAgICBjdHguc2hhZG93T2Zmc2V0WSA9IDM7XG4gICAgICAgICAgICAgICAgY3R4LnNoYWRvd0NvbG9yID0gdGhpcy5nZXRUaGVtZVByb3BlcnR5KCdzaGFkb3dDb2xvcicpO1xuICAgICAgICAgICAgICAgIGN0eC5zaGFkb3dCbHVyID0gODtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjdHguc2hhZG93T2Zmc2V0WCA9IDA7XG4gICAgICAgICAgICAgICAgY3R4LnNoYWRvd09mZnNldFkgPSAwO1xuICAgICAgICAgICAgICAgIGN0eC5zaGFkb3dCbHVyID0gMDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBsZXQgc3RvbmU7XG5cbiAgICAgICAgICAgICAgc3dpdGNoICh0aGVtZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgVGhlbWUuQmxhY2tBbmRXaGl0ZTpcbiAgICAgICAgICAgICAgICBjYXNlIFRoZW1lLkZsYXQ6XG4gICAgICAgICAgICAgICAgY2FzZSBUaGVtZS5XYXJtOlxuICAgICAgICAgICAgICAgIGNhc2UgVGhlbWUuSGlnaENvbnRyYXN0OiB7XG4gICAgICAgICAgICAgICAgICBzdG9uZSA9IG5ldyBGbGF0U3RvbmUoXG4gICAgICAgICAgICAgICAgICAgIGN0eCxcbiAgICAgICAgICAgICAgICAgICAgeCxcbiAgICAgICAgICAgICAgICAgICAgeSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlVGhlbWVDb250ZXh0KClcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBzdG9uZS5zZXRTaXplKHNwYWNlICogcmF0aW8gKiAyKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIFRoZW1lLkRhcms6IHtcbiAgICAgICAgICAgICAgICAgIHN0b25lID0gbmV3IEZsYXRTdG9uZShcbiAgICAgICAgICAgICAgICAgICAgY3R4LFxuICAgICAgICAgICAgICAgICAgICB4LFxuICAgICAgICAgICAgICAgICAgICB5LFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVUaGVtZUNvbnRleHQoKVxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIHN0b25lLnNldFNpemUoc3BhY2UgKiByYXRpbyAqIDIpO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGJvYXJkUGl4ZWxTaXplID0gY2FudmFzPy53aWR0aCB8fCA1MTI7XG4gICAgICAgICAgICAgICAgICBjb25zdCByZXNvdXJjZXMgPSBnZXRUaGVtZVJlc291cmNlcyhcbiAgICAgICAgICAgICAgICAgICAgdGhlbWUsXG4gICAgICAgICAgICAgICAgICAgIHRoZW1lUmVzb3VyY2VzLFxuICAgICAgICAgICAgICAgICAgICBib2FyZFBpeGVsU2l6ZVxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGlmIChyZXNvdXJjZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYmxhY2tzID0gcmVzb3VyY2VzLmJsYWNrcy5tYXAoXG4gICAgICAgICAgICAgICAgICAgICAgKGk6IHN0cmluZykgPT4gaW1hZ2VzW2ldXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHdoaXRlcyA9IHJlc291cmNlcy53aGl0ZXMubWFwKFxuICAgICAgICAgICAgICAgICAgICAgIChpOiBzdHJpbmcpID0+IGltYWdlc1tpXVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtb2QgPSBpICsgMTAgKyBqO1xuICAgICAgICAgICAgICAgICAgICBzdG9uZSA9IG5ldyBJbWFnZVN0b25lKFxuICAgICAgICAgICAgICAgICAgICAgIGN0eCxcbiAgICAgICAgICAgICAgICAgICAgICB4LFxuICAgICAgICAgICAgICAgICAgICAgIHksXG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgbW9kLFxuICAgICAgICAgICAgICAgICAgICAgIGJsYWNrcyxcbiAgICAgICAgICAgICAgICAgICAgICB3aGl0ZXMsXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVUaGVtZUNvbnRleHQoKVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBzdG9uZS5zZXRTaXplKHNwYWNlICogcmF0aW8gKiAyKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgc3RvbmU/LmRyYXcoKTtcbiAgICAgICAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG59XG4iXSwibmFtZXMiOlsiZXh0ZW5kU3RhdGljcyIsImQiLCJiIiwiT2JqZWN0Iiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJBcnJheSIsInAiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJfX2V4dGVuZHMiLCJUeXBlRXJyb3IiLCJTdHJpbmciLCJfXyIsInRoaXMiLCJjb25zdHJ1Y3RvciIsImNyZWF0ZSIsIl9fYXNzaWduIiwiYXNzaWduIiwidCIsInMiLCJpIiwibiIsImFyZ3VtZW50cyIsImxlbmd0aCIsImFwcGx5IiwiX192YWx1ZXMiLCJvIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJtIiwibmV4dCIsInZhbHVlIiwiZG9uZSIsIl9fcmVhZCIsInIiLCJlIiwiYXIiLCJwdXNoIiwiZXJyb3IiLCJfX3NwcmVhZEFycmF5IiwidG8iLCJmcm9tIiwicGFjayIsImwiLCJzbGljZSIsImNvbmNhdCIsIm1lcmdlU29ydCIsImNvbXBhcmF0b3JGbiIsImFyciIsImxlbiIsImZpcnN0SGFsZiIsInNlY29uZEhhbGYiLCJhcnIxIiwiYXJyMiIsInJlc3VsdCIsImxlZnQxIiwibGVmdDIiLCJzaGlmdCIsIm1lcmdlIiwiU3VwcHJlc3NlZEVycm9yIiwiVE5vZGUiLCJjb25maWciLCJtb2RlbCIsImNoaWxkcmVuIiwiaXNSb290IiwidW5kZWZpbmVkIiwicGFyZW50IiwiaGFzQ2hpbGRyZW4iLCJhZGRDaGlsZCIsImNoaWxkIiwiYWRkQ2hpbGRBdEluZGV4IiwiaW5kZXgiLCJtb2RlbENvbXBhcmF0b3JGbiIsIkVycm9yIiwicHJvcCIsImNoaWxkcmVuUHJvcGVydHlOYW1lIiwibW9kZWxDaGlsZHJlbiIsInNwbGljZSIsImdldFBhdGgiLCJwYXRoIiwiY3VycmVudCIsInVuc2hpZnQiLCJnZXRJbmRleCIsImluZGV4T2YiLCJzZXRJbmRleCIsInNpYmxpbmdzIiwibW9kZWxTaWJsaW5ncyIsIm9sZEluZGV4Iiwid2FsayIsImZuIiwid2Fsa1JlY3Vyc2l2ZSIsIm5vZGUiLCJfYiIsIl9jIiwiZmlyc3QiLCJhbGwiLCJkcm9wIiwiaWR4IiwiZWwiLCJmaW5kSW5zZXJ0SW5kZXgiLCJUcmVlTW9kZWwiLCJwYXJzZSIsImlzQXJyYXkiLCJjaGlsZE1vZGVsIiwiRlVOQ19FUlJPUl9URVhUIiwiSEFTSF9VTkRFRklORUQiLCJQTEFDRUhPTERFUiIsIldSQVBfQ1VSUllfUklHSFRfRkxBRyIsIldSQVBfUEFSVElBTF9GTEFHIiwiV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUciLCJXUkFQX0FSWV9GTEFHIiwiV1JBUF9SRUFSR19GTEFHIiwiSU5GSU5JVFkiLCJNQVhfU0FGRV9JTlRFR0VSIiwiTkFOIiwiTUFYX0FSUkFZX0xFTkdUSCIsIndyYXBGbGFncyIsImFyZ3NUYWciLCJhcnJheVRhZyIsImJvb2xUYWciLCJkYXRlVGFnIiwiZXJyb3JUYWciLCJmdW5jVGFnIiwiZ2VuVGFnIiwibWFwVGFnIiwibnVtYmVyVGFnIiwib2JqZWN0VGFnIiwicHJvbWlzZVRhZyIsInJlZ2V4cFRhZyIsInNldFRhZyIsInN0cmluZ1RhZyIsInN5bWJvbFRhZyIsIndlYWtNYXBUYWciLCJhcnJheUJ1ZmZlclRhZyIsImRhdGFWaWV3VGFnIiwiZmxvYXQzMlRhZyIsImZsb2F0NjRUYWciLCJpbnQ4VGFnIiwiaW50MTZUYWciLCJpbnQzMlRhZyIsInVpbnQ4VGFnIiwidWludDhDbGFtcGVkVGFnIiwidWludDE2VGFnIiwidWludDMyVGFnIiwicmVFbXB0eVN0cmluZ0xlYWRpbmciLCJyZUVtcHR5U3RyaW5nTWlkZGxlIiwicmVFbXB0eVN0cmluZ1RyYWlsaW5nIiwicmVFc2NhcGVkSHRtbCIsInJlVW5lc2NhcGVkSHRtbCIsInJlSGFzRXNjYXBlZEh0bWwiLCJSZWdFeHAiLCJzb3VyY2UiLCJyZUhhc1VuZXNjYXBlZEh0bWwiLCJyZUVzY2FwZSIsInJlRXZhbHVhdGUiLCJyZUludGVycG9sYXRlIiwicmVJc0RlZXBQcm9wIiwicmVJc1BsYWluUHJvcCIsInJlUHJvcE5hbWUiLCJyZVJlZ0V4cENoYXIiLCJyZUhhc1JlZ0V4cENoYXIiLCJyZVRyaW1TdGFydCIsInJlV2hpdGVzcGFjZSIsInJlV3JhcENvbW1lbnQiLCJyZVdyYXBEZXRhaWxzIiwicmVTcGxpdERldGFpbHMiLCJyZUFzY2lpV29yZCIsInJlRm9yYmlkZGVuSWRlbnRpZmllckNoYXJzIiwicmVFc2NhcGVDaGFyIiwicmVFc1RlbXBsYXRlIiwicmVGbGFncyIsInJlSXNCYWRIZXgiLCJyZUlzQmluYXJ5IiwicmVJc0hvc3RDdG9yIiwicmVJc09jdGFsIiwicmVJc1VpbnQiLCJyZUxhdGluIiwicmVOb01hdGNoIiwicmVVbmVzY2FwZWRTdHJpbmciLCJyc0FzdHJhbFJhbmdlIiwicnNDb21ib1JhbmdlIiwicnNDb21ib01hcmtzUmFuZ2UiLCJyc0RpbmdiYXRSYW5nZSIsInJzTG93ZXJSYW5nZSIsInJzVXBwZXJSYW5nZSIsInJzVmFyUmFuZ2UiLCJyc0JyZWFrUmFuZ2UiLCJyc01hdGhPcFJhbmdlIiwicnNBcG9zIiwicnNBc3RyYWwiLCJyc0JyZWFrIiwicnNDb21ibyIsInJzRGlnaXRzIiwicnNEaW5nYmF0IiwicnNMb3dlciIsInJzTWlzYyIsInJzRml0eiIsInJzTm9uQXN0cmFsIiwicnNSZWdpb25hbCIsInJzU3VyclBhaXIiLCJyc1VwcGVyIiwicnNaV0oiLCJyc01pc2NMb3dlciIsInJzTWlzY1VwcGVyIiwicnNPcHRDb250ckxvd2VyIiwicnNPcHRDb250clVwcGVyIiwicmVPcHRNb2QiLCJyc09wdFZhciIsInJzU2VxIiwiam9pbiIsInJzRW1vamkiLCJyc1N5bWJvbCIsInJlQXBvcyIsInJlQ29tYm9NYXJrIiwicmVVbmljb2RlIiwicmVVbmljb2RlV29yZCIsInJlSGFzVW5pY29kZSIsInJlSGFzVW5pY29kZVdvcmQiLCJjb250ZXh0UHJvcHMiLCJ0ZW1wbGF0ZUNvdW50ZXIiLCJ0eXBlZEFycmF5VGFncyIsImNsb25lYWJsZVRhZ3MiLCJzdHJpbmdFc2NhcGVzIiwiZnJlZVBhcnNlRmxvYXQiLCJwYXJzZUZsb2F0IiwiZnJlZVBhcnNlSW50IiwicGFyc2VJbnQiLCJmcmVlR2xvYmFsIiwiX3R5cGVvZiIsImdsb2JhbCIsImZyZWVTZWxmIiwic2VsZiIsInJvb3QiLCJGdW5jdGlvbiIsImZyZWVFeHBvcnRzIiwiZXhwb3J0cyIsIm5vZGVUeXBlIiwiZnJlZU1vZHVsZSIsIm1vZHVsZSIsIm1vZHVsZUV4cG9ydHMiLCJmcmVlUHJvY2VzcyIsInByb2Nlc3MiLCJub2RlVXRpbCIsInR5cGVzIiwicmVxdWlyZSIsImJpbmRpbmciLCJub2RlSXNBcnJheUJ1ZmZlciIsImlzQXJyYXlCdWZmZXIiLCJub2RlSXNEYXRlIiwiaXNEYXRlIiwibm9kZUlzTWFwIiwiaXNNYXAiLCJub2RlSXNSZWdFeHAiLCJpc1JlZ0V4cCIsIm5vZGVJc1NldCIsImlzU2V0Iiwibm9kZUlzVHlwZWRBcnJheSIsImlzVHlwZWRBcnJheSIsImZ1bmMiLCJ0aGlzQXJnIiwiYXJncyIsImFycmF5QWdncmVnYXRvciIsImFycmF5Iiwic2V0dGVyIiwiaXRlcmF0ZWUiLCJhY2N1bXVsYXRvciIsImFycmF5RWFjaCIsImFycmF5RWFjaFJpZ2h0IiwiYXJyYXlFdmVyeSIsInByZWRpY2F0ZSIsImFycmF5RmlsdGVyIiwicmVzSW5kZXgiLCJhcnJheUluY2x1ZGVzIiwiYmFzZUluZGV4T2YiLCJhcnJheUluY2x1ZGVzV2l0aCIsImNvbXBhcmF0b3IiLCJhcnJheU1hcCIsImFycmF5UHVzaCIsInZhbHVlcyIsIm9mZnNldCIsImFycmF5UmVkdWNlIiwiaW5pdEFjY3VtIiwiYXJyYXlSZWR1Y2VSaWdodCIsImFycmF5U29tZSIsImFzY2lpU2l6ZSIsImJhc2VQcm9wZXJ0eSIsImJhc2VGaW5kS2V5IiwiY29sbGVjdGlvbiIsImVhY2hGdW5jIiwia2V5IiwiYmFzZUZpbmRJbmRleCIsImZyb21JbmRleCIsImZyb21SaWdodCIsInN0cmljdEluZGV4T2YiLCJiYXNlSXNOYU4iLCJiYXNlSW5kZXhPZldpdGgiLCJiYXNlTWVhbiIsImJhc2VTdW0iLCJvYmplY3QiLCJiYXNlUHJvcGVydHlPZiIsImJhc2VSZWR1Y2UiLCJiYXNlVGltZXMiLCJiYXNlVHJpbSIsInN0cmluZyIsInRyaW1tZWRFbmRJbmRleCIsInJlcGxhY2UiLCJiYXNlVW5hcnkiLCJiYXNlVmFsdWVzIiwicHJvcHMiLCJjYWNoZUhhcyIsImNhY2hlIiwiaGFzIiwiY2hhcnNTdGFydEluZGV4Iiwic3RyU3ltYm9scyIsImNoclN5bWJvbHMiLCJjaGFyc0VuZEluZGV4IiwiZGVidXJyTGV0dGVyIiwiZXNjYXBlSHRtbENoYXIiLCJlc2NhcGVTdHJpbmdDaGFyIiwiY2hyIiwiaGFzVW5pY29kZSIsInRlc3QiLCJtYXBUb0FycmF5IiwibWFwIiwic2l6ZSIsImZvckVhY2giLCJvdmVyQXJnIiwidHJhbnNmb3JtIiwiYXJnIiwicmVwbGFjZUhvbGRlcnMiLCJwbGFjZWhvbGRlciIsInNldFRvQXJyYXkiLCJzZXQiLCJzZXRUb1BhaXJzIiwic3RyaW5nU2l6ZSIsImxhc3RJbmRleCIsInVuaWNvZGVTaXplIiwic3RyaW5nVG9BcnJheSIsIm1hdGNoIiwidW5pY29kZVRvQXJyYXkiLCJzcGxpdCIsImFzY2lpVG9BcnJheSIsImNoYXJBdCIsInVuZXNjYXBlSHRtbENoYXIiLCJfIiwicnVuSW5Db250ZXh0IiwiY29udGV4dCIsInVpZCIsImRlZmF1bHRzIiwicGljayIsIkRhdGUiLCJNYXRoIiwiYXJyYXlQcm90byIsImZ1bmNQcm90byIsIm9iamVjdFByb3RvIiwiY29yZUpzRGF0YSIsImZ1bmNUb1N0cmluZyIsInRvU3RyaW5nIiwiaWRDb3VudGVyIiwibWFza1NyY0tleSIsImV4ZWMiLCJrZXlzIiwiSUVfUFJPVE8iLCJuYXRpdmVPYmplY3RUb1N0cmluZyIsIm9iamVjdEN0b3JTdHJpbmciLCJvbGREYXNoIiwicmVJc05hdGl2ZSIsIkJ1ZmZlciIsIlVpbnQ4QXJyYXkiLCJhbGxvY1Vuc2FmZSIsImdldFByb3RvdHlwZSIsImdldFByb3RvdHlwZU9mIiwib2JqZWN0Q3JlYXRlIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJzcHJlYWRhYmxlU3ltYm9sIiwiaXNDb25jYXRTcHJlYWRhYmxlIiwic3ltSXRlcmF0b3IiLCJzeW1Ub1N0cmluZ1RhZyIsInRvU3RyaW5nVGFnIiwiZGVmaW5lUHJvcGVydHkiLCJnZXROYXRpdmUiLCJjdHhDbGVhclRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJjdHhOb3ciLCJub3ciLCJjdHhTZXRUaW1lb3V0Iiwic2V0VGltZW91dCIsIm5hdGl2ZUNlaWwiLCJjZWlsIiwibmF0aXZlRmxvb3IiLCJmbG9vciIsIm5hdGl2ZUdldFN5bWJvbHMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJuYXRpdmVJc0J1ZmZlciIsImlzQnVmZmVyIiwibmF0aXZlSXNGaW5pdGUiLCJpc0Zpbml0ZSIsIm5hdGl2ZUpvaW4iLCJuYXRpdmVLZXlzIiwibmF0aXZlTWF4IiwibWF4IiwibmF0aXZlTWluIiwibWluIiwibmF0aXZlTm93IiwibmF0aXZlUGFyc2VJbnQiLCJuYXRpdmVSYW5kb20iLCJyYW5kb20iLCJuYXRpdmVSZXZlcnNlIiwicmV2ZXJzZSIsIkRhdGFWaWV3IiwiTWFwIiwiUHJvbWlzZSIsIlNldCIsIldlYWtNYXAiLCJuYXRpdmVDcmVhdGUiLCJtZXRhTWFwIiwicmVhbE5hbWVzIiwiZGF0YVZpZXdDdG9yU3RyaW5nIiwidG9Tb3VyY2UiLCJtYXBDdG9yU3RyaW5nIiwicHJvbWlzZUN0b3JTdHJpbmciLCJzZXRDdG9yU3RyaW5nIiwid2Vha01hcEN0b3JTdHJpbmciLCJzeW1ib2xQcm90byIsInN5bWJvbFZhbHVlT2YiLCJ2YWx1ZU9mIiwic3ltYm9sVG9TdHJpbmciLCJsb2Rhc2giLCJpc09iamVjdExpa2UiLCJMYXp5V3JhcHBlciIsIkxvZGFzaFdyYXBwZXIiLCJ3cmFwcGVyQ2xvbmUiLCJiYXNlQ3JlYXRlIiwicHJvdG8iLCJpc09iamVjdCIsImJhc2VMb2Rhc2giLCJjaGFpbkFsbCIsIl9fd3JhcHBlZF9fIiwiX19hY3Rpb25zX18iLCJfX2NoYWluX18iLCJfX2luZGV4X18iLCJfX3ZhbHVlc19fIiwiX19kaXJfXyIsIl9fZmlsdGVyZWRfXyIsIl9faXRlcmF0ZWVzX18iLCJfX3Rha2VDb3VudF9fIiwiX192aWV3c19fIiwiSGFzaCIsImVudHJpZXMiLCJjbGVhciIsImVudHJ5IiwiTGlzdENhY2hlIiwiTWFwQ2FjaGUiLCJTZXRDYWNoZSIsIl9fZGF0YV9fIiwiYWRkIiwiU3RhY2siLCJkYXRhIiwiYXJyYXlMaWtlS2V5cyIsImluaGVyaXRlZCIsImlzQXJyIiwiaXNBcmciLCJpc0FyZ3VtZW50cyIsImlzQnVmZiIsImlzVHlwZSIsInNraXBJbmRleGVzIiwiaXNJbmRleCIsImFycmF5U2FtcGxlIiwiYmFzZVJhbmRvbSIsImFycmF5U2FtcGxlU2l6ZSIsInNodWZmbGVTZWxmIiwiY29weUFycmF5IiwiYmFzZUNsYW1wIiwiYXJyYXlTaHVmZmxlIiwiYXNzaWduTWVyZ2VWYWx1ZSIsImVxIiwiYmFzZUFzc2lnblZhbHVlIiwiYXNzaWduVmFsdWUiLCJvYmpWYWx1ZSIsImFzc29jSW5kZXhPZiIsImJhc2VBZ2dyZWdhdG9yIiwiYmFzZUVhY2giLCJiYXNlQXNzaWduIiwiY29weU9iamVjdCIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJ3cml0YWJsZSIsImJhc2VBdCIsInBhdGhzIiwic2tpcCIsImdldCIsIm51bWJlciIsImxvd2VyIiwidXBwZXIiLCJiYXNlQ2xvbmUiLCJiaXRtYXNrIiwiY3VzdG9taXplciIsInN0YWNrIiwiaXNEZWVwIiwiaXNGbGF0IiwiaXNGdWxsIiwiaW5wdXQiLCJpbml0Q2xvbmVBcnJheSIsInRhZyIsImdldFRhZyIsImlzRnVuYyIsImNsb25lQnVmZmVyIiwiaW5pdENsb25lT2JqZWN0IiwiZ2V0U3ltYm9sc0luIiwiY29weVN5bWJvbHNJbiIsImtleXNJbiIsImJhc2VBc3NpZ25JbiIsImdldFN5bWJvbHMiLCJjb3B5U3ltYm9scyIsIkN0b3IiLCJjbG9uZUFycmF5QnVmZmVyIiwiZGF0YVZpZXciLCJidWZmZXIiLCJieXRlT2Zmc2V0IiwiYnl0ZUxlbmd0aCIsImNsb25lRGF0YVZpZXciLCJjbG9uZVR5cGVkQXJyYXkiLCJyZWdleHAiLCJjbG9uZVJlZ0V4cCIsInN5bWJvbCIsImluaXRDbG9uZUJ5VGFnIiwic3RhY2tlZCIsInN1YlZhbHVlIiwiZ2V0QWxsS2V5c0luIiwiZ2V0QWxsS2V5cyIsImJhc2VDb25mb3Jtc1RvIiwiYmFzZURlbGF5Iiwid2FpdCIsImJhc2VEaWZmZXJlbmNlIiwiaW5jbHVkZXMiLCJpc0NvbW1vbiIsInZhbHVlc0xlbmd0aCIsIm91dGVyIiwiY29tcHV0ZWQiLCJ2YWx1ZXNJbmRleCIsInRlbXBsYXRlU2V0dGluZ3MiLCJlc2NhcGUiLCJldmFsdWF0ZSIsImludGVycG9sYXRlIiwidmFyaWFibGUiLCJpbXBvcnRzIiwicG9wIiwiaGFzaCIsImdldE1hcERhdGEiLCJwYWlycyIsIkxBUkdFX0FSUkFZX1NJWkUiLCJjcmVhdGVCYXNlRWFjaCIsImJhc2VGb3JPd24iLCJiYXNlRWFjaFJpZ2h0IiwiYmFzZUZvck93blJpZ2h0IiwiYmFzZUV2ZXJ5IiwiYmFzZUV4dHJlbXVtIiwiaXNTeW1ib2wiLCJiYXNlRmlsdGVyIiwiYmFzZUZsYXR0ZW4iLCJkZXB0aCIsImlzU3RyaWN0IiwiaXNGbGF0dGVuYWJsZSIsImJhc2VGb3IiLCJjcmVhdGVCYXNlRm9yIiwiYmFzZUZvclJpZ2h0IiwiYmFzZUZ1bmN0aW9ucyIsImlzRnVuY3Rpb24iLCJiYXNlR2V0IiwiY2FzdFBhdGgiLCJ0b0tleSIsImJhc2VHZXRBbGxLZXlzIiwia2V5c0Z1bmMiLCJzeW1ib2xzRnVuYyIsImJhc2VHZXRUYWciLCJpc093biIsInVubWFza2VkIiwiZ2V0UmF3VGFnIiwib2JqZWN0VG9TdHJpbmciLCJiYXNlR3QiLCJvdGhlciIsImJhc2VIYXMiLCJiYXNlSGFzSW4iLCJiYXNlSW50ZXJzZWN0aW9uIiwiYXJyYXlzIiwib3RoTGVuZ3RoIiwib3RoSW5kZXgiLCJjYWNoZXMiLCJtYXhMZW5ndGgiLCJJbmZpbml0eSIsInNlZW4iLCJiYXNlSW52b2tlIiwibGFzdCIsImJhc2VJc0FyZ3VtZW50cyIsImJhc2VJc0VxdWFsIiwiZXF1YWxGdW5jIiwib2JqSXNBcnIiLCJvdGhJc0FyciIsIm9ialRhZyIsIm90aFRhZyIsIm9iaklzT2JqIiwib3RoSXNPYmoiLCJpc1NhbWVUYWciLCJlcXVhbEFycmF5cyIsIm5hbWUiLCJtZXNzYWdlIiwiY29udmVydCIsImlzUGFydGlhbCIsImVxdWFsQnlUYWciLCJvYmpJc1dyYXBwZWQiLCJvdGhJc1dyYXBwZWQiLCJvYmpVbndyYXBwZWQiLCJvdGhVbndyYXBwZWQiLCJvYmpQcm9wcyIsIm9iakxlbmd0aCIsIm90aFByb3BzIiwib2JqU3RhY2tlZCIsIm90aFN0YWNrZWQiLCJza2lwQ3RvciIsIm90aFZhbHVlIiwiY29tcGFyZWQiLCJvYmpDdG9yIiwib3RoQ3RvciIsImVxdWFsT2JqZWN0cyIsImJhc2VJc0VxdWFsRGVlcCIsImJhc2VJc01hdGNoIiwibWF0Y2hEYXRhIiwibm9DdXN0b21pemVyIiwic3JjVmFsdWUiLCJDT01QQVJFX1BBUlRJQUxfRkxBRyIsImJhc2VJc05hdGl2ZSIsImJhc2VJdGVyYXRlZSIsImlkZW50aXR5IiwiYmFzZU1hdGNoZXNQcm9wZXJ0eSIsImJhc2VNYXRjaGVzIiwicHJvcGVydHkiLCJiYXNlS2V5cyIsImlzUHJvdG90eXBlIiwiYmFzZUtleXNJbiIsIm5hdGl2ZUtleXNJbiIsImlzUHJvdG8iLCJiYXNlTHQiLCJiYXNlTWFwIiwiaXNBcnJheUxpa2UiLCJnZXRNYXRjaERhdGEiLCJtYXRjaGVzU3RyaWN0Q29tcGFyYWJsZSIsImlzS2V5IiwiaXNTdHJpY3RDb21wYXJhYmxlIiwiaGFzSW4iLCJiYXNlTWVyZ2UiLCJzcmNJbmRleCIsIm1lcmdlRnVuYyIsInNhZmVHZXQiLCJuZXdWYWx1ZSIsImlzVHlwZWQiLCJpc0FycmF5TGlrZU9iamVjdCIsImlzUGxhaW5PYmplY3QiLCJ0b1BsYWluT2JqZWN0IiwiYmFzZU1lcmdlRGVlcCIsImJhc2VOdGgiLCJiYXNlT3JkZXJCeSIsIml0ZXJhdGVlcyIsIm9yZGVycyIsImdldEl0ZXJhdGVlIiwiY3JpdGVyaWEiLCJjb21wYXJlciIsInNvcnQiLCJiYXNlU29ydEJ5Iiwib2JqQ3JpdGVyaWEiLCJvdGhDcml0ZXJpYSIsIm9yZGVyc0xlbmd0aCIsImNvbXBhcmVBc2NlbmRpbmciLCJjb21wYXJlTXVsdGlwbGUiLCJiYXNlUGlja0J5IiwiYmFzZVNldCIsImJhc2VQdWxsQWxsIiwiYmFzZVB1bGxBdCIsImluZGV4ZXMiLCJwcmV2aW91cyIsImJhc2VVbnNldCIsImJhc2VSZXBlYXQiLCJiYXNlUmVzdCIsInN0YXJ0Iiwic2V0VG9TdHJpbmciLCJvdmVyUmVzdCIsImJhc2VTYW1wbGUiLCJiYXNlU2FtcGxlU2l6ZSIsIm5lc3RlZCIsImJhc2VTZXREYXRhIiwiYmFzZVNldFRvU3RyaW5nIiwiY29uc3RhbnQiLCJiYXNlU2h1ZmZsZSIsImJhc2VTbGljZSIsImVuZCIsImJhc2VTb21lIiwiYmFzZVNvcnRlZEluZGV4IiwicmV0SGlnaGVzdCIsImxvdyIsImhpZ2giLCJtaWQiLCJiYXNlU29ydGVkSW5kZXhCeSIsInZhbElzTmFOIiwidmFsSXNOdWxsIiwidmFsSXNTeW1ib2wiLCJ2YWxJc1VuZGVmaW5lZCIsIm90aElzRGVmaW5lZCIsIm90aElzTnVsbCIsIm90aElzUmVmbGV4aXZlIiwib3RoSXNTeW1ib2wiLCJzZXRMb3ciLCJiYXNlU29ydGVkVW5pcSIsImJhc2VUb051bWJlciIsImJhc2VUb1N0cmluZyIsImJhc2VVbmlxIiwiY3JlYXRlU2V0Iiwic2VlbkluZGV4IiwiYmFzZVVwZGF0ZSIsInVwZGF0ZXIiLCJiYXNlV2hpbGUiLCJpc0Ryb3AiLCJiYXNlV3JhcHBlclZhbHVlIiwiYWN0aW9ucyIsImFjdGlvbiIsImJhc2VYb3IiLCJiYXNlWmlwT2JqZWN0IiwiYXNzaWduRnVuYyIsInZhbHNMZW5ndGgiLCJjYXN0QXJyYXlMaWtlT2JqZWN0IiwiY2FzdEZ1bmN0aW9uIiwic3RyaW5nVG9QYXRoIiwiY2FzdFJlc3QiLCJjYXN0U2xpY2UiLCJpZCIsImNvcHkiLCJhcnJheUJ1ZmZlciIsInR5cGVkQXJyYXkiLCJ2YWxJc0RlZmluZWQiLCJ2YWxJc1JlZmxleGl2ZSIsImNvbXBvc2VBcmdzIiwicGFydGlhbHMiLCJob2xkZXJzIiwiaXNDdXJyaWVkIiwiYXJnc0luZGV4IiwiYXJnc0xlbmd0aCIsImhvbGRlcnNMZW5ndGgiLCJsZWZ0SW5kZXgiLCJsZWZ0TGVuZ3RoIiwicmFuZ2VMZW5ndGgiLCJpc1VuY3VycmllZCIsImNvbXBvc2VBcmdzUmlnaHQiLCJob2xkZXJzSW5kZXgiLCJyaWdodEluZGV4IiwicmlnaHRMZW5ndGgiLCJpc05ldyIsImNyZWF0ZUFnZ3JlZ2F0b3IiLCJpbml0aWFsaXplciIsImNyZWF0ZUFzc2lnbmVyIiwiYXNzaWduZXIiLCJzb3VyY2VzIiwiZ3VhcmQiLCJpc0l0ZXJhdGVlQ2FsbCIsIml0ZXJhYmxlIiwiY3JlYXRlQ2FzZUZpcnN0IiwibWV0aG9kTmFtZSIsInRyYWlsaW5nIiwiY3JlYXRlQ29tcG91bmRlciIsImNhbGxiYWNrIiwid29yZHMiLCJkZWJ1cnIiLCJjcmVhdGVDdG9yIiwidGhpc0JpbmRpbmciLCJjcmVhdGVGaW5kIiwiZmluZEluZGV4RnVuYyIsImNyZWF0ZUZsb3ciLCJmbGF0UmVzdCIsImZ1bmNzIiwicHJlcmVxIiwidGhydSIsIndyYXBwZXIiLCJnZXRGdW5jTmFtZSIsImZ1bmNOYW1lIiwiZ2V0RGF0YSIsImlzTGF6aWFibGUiLCJwbGFudCIsImNyZWF0ZUh5YnJpZCIsInBhcnRpYWxzUmlnaHQiLCJob2xkZXJzUmlnaHQiLCJhcmdQb3MiLCJhcnkiLCJhcml0eSIsImlzQXJ5IiwiaXNCaW5kIiwiaXNCaW5kS2V5IiwiV1JBUF9DVVJSWV9GTEFHIiwiaXNGbGlwIiwiZ2V0SG9sZGVyIiwiaG9sZGVyc0NvdW50IiwiY291bnRIb2xkZXJzIiwibmV3SG9sZGVycyIsImNyZWF0ZVJlY3VycnkiLCJhcnJMZW5ndGgiLCJvbGRBcnJheSIsInJlb3JkZXIiLCJjcmVhdGVJbnZlcnRlciIsInRvSXRlcmF0ZWUiLCJiYXNlSW52ZXJ0ZXIiLCJjcmVhdGVNYXRoT3BlcmF0aW9uIiwib3BlcmF0b3IiLCJkZWZhdWx0VmFsdWUiLCJjcmVhdGVPdmVyIiwiYXJyYXlGdW5jIiwiY3JlYXRlUGFkZGluZyIsImNoYXJzIiwiY2hhcnNMZW5ndGgiLCJjcmVhdGVSYW5nZSIsInN0ZXAiLCJ0b0Zpbml0ZSIsImJhc2VSYW5nZSIsImNyZWF0ZVJlbGF0aW9uYWxPcGVyYXRpb24iLCJ0b051bWJlciIsIndyYXBGdW5jIiwiaXNDdXJyeSIsIm5ld0RhdGEiLCJzZXREYXRhIiwic2V0V3JhcFRvU3RyaW5nIiwiY3JlYXRlUm91bmQiLCJwcmVjaXNpb24iLCJ0b0ludGVnZXIiLCJwYWlyIiwibm9vcCIsImNyZWF0ZVRvUGFpcnMiLCJiYXNlVG9QYWlycyIsImNyZWF0ZVdyYXAiLCJzcmNCaXRtYXNrIiwibmV3Qml0bWFzayIsIldSQVBfQklORF9GTEFHIiwiaXNDb21ibyIsIm1lcmdlRGF0YSIsImNyZWF0ZUN1cnJ5IiwiY3JlYXRlUGFydGlhbCIsImNyZWF0ZUJpbmQiLCJjdXN0b21EZWZhdWx0c0Fzc2lnbkluIiwiY3VzdG9tRGVmYXVsdHNNZXJnZSIsImN1c3RvbU9taXRDbG9uZSIsImFyclN0YWNrZWQiLCJhcnJWYWx1ZSIsImZsYXR0ZW4iLCJvdGhlckZ1bmMiLCJ0eXBlIiwiZ2V0VmFsdWUiLCJzdHViQXJyYXkiLCJoYXNQYXRoIiwiaGFzRnVuYyIsImlzTGVuZ3RoIiwiQXJyYXlCdWZmZXIiLCJyZXNvbHZlIiwiY3RvclN0cmluZyIsImlzTWFza2FibGUiLCJzdHViRmFsc2UiLCJvdGhlckFyZ3MiLCJzaG9ydE91dCIsInJlZmVyZW5jZSIsImRldGFpbHMiLCJpbnNlcnRXcmFwRGV0YWlscyIsInVwZGF0ZVdyYXBEZXRhaWxzIiwiZ2V0V3JhcERldGFpbHMiLCJjb3VudCIsImxhc3RDYWxsZWQiLCJzdGFtcCIsInJlbWFpbmluZyIsInJhbmQiLCJtZW1vaXplIiwibWVtb2l6ZUNhcHBlZCIsImNoYXJDb2RlQXQiLCJxdW90ZSIsInN1YlN0cmluZyIsImNsb25lIiwiZGlmZmVyZW5jZSIsImRpZmZlcmVuY2VCeSIsImRpZmZlcmVuY2VXaXRoIiwiZmluZEluZGV4IiwiZmluZExhc3RJbmRleCIsImhlYWQiLCJpbnRlcnNlY3Rpb24iLCJtYXBwZWQiLCJpbnRlcnNlY3Rpb25CeSIsImludGVyc2VjdGlvbldpdGgiLCJwdWxsIiwicHVsbEFsbCIsInB1bGxBdCIsInVuaW9uIiwidW5pb25CeSIsInVuaW9uV2l0aCIsInVuemlwIiwiZ3JvdXAiLCJ1bnppcFdpdGgiLCJ3aXRob3V0IiwieG9yIiwieG9yQnkiLCJ4b3JXaXRoIiwiemlwIiwiemlwV2l0aCIsImNoYWluIiwiaW50ZXJjZXB0b3IiLCJ3cmFwcGVyQXQiLCJjb3VudEJ5IiwiZmluZCIsImZpbmRMYXN0IiwiZm9yRWFjaFJpZ2h0IiwiZ3JvdXBCeSIsImludm9rZU1hcCIsImtleUJ5IiwicGFydGl0aW9uIiwic29ydEJ5IiwiYmVmb3JlIiwiYmluZCIsImJpbmRLZXkiLCJkZWJvdW5jZSIsIm9wdGlvbnMiLCJsYXN0QXJncyIsImxhc3RUaGlzIiwibWF4V2FpdCIsInRpbWVySWQiLCJsYXN0Q2FsbFRpbWUiLCJsYXN0SW52b2tlVGltZSIsImxlYWRpbmciLCJtYXhpbmciLCJpbnZva2VGdW5jIiwidGltZSIsInNob3VsZEludm9rZSIsInRpbWVTaW5jZUxhc3RDYWxsIiwidGltZXJFeHBpcmVkIiwidHJhaWxpbmdFZGdlIiwidGltZVdhaXRpbmciLCJyZW1haW5pbmdXYWl0IiwiZGVib3VuY2VkIiwiaXNJbnZva2luZyIsImxlYWRpbmdFZGdlIiwiY2FuY2VsIiwiZmx1c2giLCJkZWZlciIsImRlbGF5IiwicmVzb2x2ZXIiLCJtZW1vaXplZCIsIkNhY2hlIiwibmVnYXRlIiwib3ZlckFyZ3MiLCJ0cmFuc2Zvcm1zIiwiZnVuY3NMZW5ndGgiLCJwYXJ0aWFsIiwicGFydGlhbFJpZ2h0IiwicmVhcmciLCJndCIsImd0ZSIsImlzRXJyb3IiLCJpc0ludGVnZXIiLCJpc051bWJlciIsImlzU3RyaW5nIiwibHQiLCJsdGUiLCJ0b0FycmF5IiwiaXRlcmF0b3JUb0FycmF5IiwicmVtYWluZGVyIiwidG9MZW5ndGgiLCJpc0JpbmFyeSIsImFzc2lnbkluIiwiYXNzaWduSW5XaXRoIiwiYXNzaWduV2l0aCIsImF0IiwicHJvcHNJbmRleCIsInByb3BzTGVuZ3RoIiwiZGVmYXVsdHNEZWVwIiwibWVyZ2VXaXRoIiwiaW52ZXJ0IiwiaW52ZXJ0QnkiLCJpbnZva2UiLCJvbWl0IiwiQ0xPTkVfREVFUF9GTEFHIiwiYmFzZVBpY2siLCJwaWNrQnkiLCJ0b1BhaXJzIiwidG9QYWlyc0luIiwiY2FtZWxDYXNlIiwid29yZCIsInRvTG93ZXJDYXNlIiwiY2FwaXRhbGl6ZSIsInVwcGVyRmlyc3QiLCJrZWJhYkNhc2UiLCJsb3dlckNhc2UiLCJsb3dlckZpcnN0Iiwic25ha2VDYXNlIiwic3RhcnRDYXNlIiwidXBwZXJDYXNlIiwidG9VcHBlckNhc2UiLCJwYXR0ZXJuIiwiaGFzVW5pY29kZVdvcmQiLCJ1bmljb2RlV29yZHMiLCJhc2NpaVdvcmRzIiwiYXR0ZW1wdCIsImJpbmRBbGwiLCJtZXRob2ROYW1lcyIsImZsb3ciLCJmbG93UmlnaHQiLCJtZXRob2QiLCJtZXRob2RPZiIsIm1peGluIiwib3ZlciIsIm92ZXJFdmVyeSIsIm92ZXJTb21lIiwiYmFzZVByb3BlcnR5RGVlcCIsInJhbmdlIiwicmFuZ2VSaWdodCIsImF1Z2VuZCIsImFkZGVuZCIsImRpdmlkZSIsImRpdmlkZW5kIiwiZGl2aXNvciIsIm11bHRpcGx5IiwibXVsdGlwbGllciIsIm11bHRpcGxpY2FuZCIsInJvdW5kIiwic3VidHJhY3QiLCJtaW51ZW5kIiwic3VidHJhaGVuZCIsImFmdGVyIiwiY2FzdEFycmF5IiwiY2h1bmsiLCJjb21wYWN0IiwiY29uZCIsImNvbmZvcm1zIiwiYmFzZUNvbmZvcm1zIiwicHJvcGVydGllcyIsImN1cnJ5IiwiY3VycnlSaWdodCIsImRyb3BSaWdodCIsImRyb3BSaWdodFdoaWxlIiwiZHJvcFdoaWxlIiwiZmlsbCIsImJhc2VGaWxsIiwiZmlsdGVyIiwiZmxhdE1hcCIsImZsYXRNYXBEZWVwIiwiZmxhdE1hcERlcHRoIiwiZmxhdHRlbkRlZXAiLCJmbGF0dGVuRGVwdGgiLCJmbGlwIiwiZnJvbVBhaXJzIiwiZnVuY3Rpb25zIiwiZnVuY3Rpb25zSW4iLCJpbml0aWFsIiwibWFwS2V5cyIsIm1hcFZhbHVlcyIsIm1hdGNoZXMiLCJtYXRjaGVzUHJvcGVydHkiLCJudGhBcmciLCJvbWl0QnkiLCJvbmNlIiwib3JkZXJCeSIsInByb3BlcnR5T2YiLCJwdWxsQWxsQnkiLCJwdWxsQWxsV2l0aCIsInJlamVjdCIsInJlbW92ZSIsInJlc3QiLCJzYW1wbGVTaXplIiwic2V0V2l0aCIsInNodWZmbGUiLCJzb3J0ZWRVbmlxIiwic29ydGVkVW5pcUJ5Iiwic2VwYXJhdG9yIiwibGltaXQiLCJzcHJlYWQiLCJ0YWlsIiwidGFrZSIsInRha2VSaWdodCIsInRha2VSaWdodFdoaWxlIiwidGFrZVdoaWxlIiwidGFwIiwidGhyb3R0bGUiLCJ0b1BhdGgiLCJpc0Fyckxpa2UiLCJ1bmFyeSIsInVuaXEiLCJ1bmlxQnkiLCJ1bmlxV2l0aCIsInVuc2V0IiwidXBkYXRlIiwidXBkYXRlV2l0aCIsInZhbHVlc0luIiwid3JhcCIsInppcE9iamVjdCIsInppcE9iamVjdERlZXAiLCJlbnRyaWVzSW4iLCJleHRlbmQiLCJleHRlbmRXaXRoIiwiY2xhbXAiLCJjbG9uZURlZXAiLCJjbG9uZURlZXBXaXRoIiwiY2xvbmVXaXRoIiwiY29uZm9ybXNUbyIsImRlZmF1bHRUbyIsImVuZHNXaXRoIiwidGFyZ2V0IiwicG9zaXRpb24iLCJlc2NhcGVSZWdFeHAiLCJldmVyeSIsImZpbmRLZXkiLCJmaW5kTGFzdEtleSIsImZvckluIiwiZm9ySW5SaWdodCIsImZvck93biIsImZvck93blJpZ2h0IiwiaW5SYW5nZSIsImJhc2VJblJhbmdlIiwiaXNCb29sZWFuIiwiaXNFbGVtZW50IiwiaXNFbXB0eSIsImlzRXF1YWwiLCJpc0VxdWFsV2l0aCIsImlzTWF0Y2giLCJpc01hdGNoV2l0aCIsImlzTmFOIiwiaXNOYXRpdmUiLCJpc05pbCIsImlzTnVsbCIsImlzU2FmZUludGVnZXIiLCJpc1VuZGVmaW5lZCIsImlzV2Vha01hcCIsImlzV2Vha1NldCIsImxhc3RJbmRleE9mIiwic3RyaWN0TGFzdEluZGV4T2YiLCJtYXhCeSIsIm1lYW4iLCJtZWFuQnkiLCJtaW5CeSIsInN0dWJPYmplY3QiLCJzdHViU3RyaW5nIiwic3R1YlRydWUiLCJudGgiLCJub0NvbmZsaWN0IiwicGFkIiwic3RyTGVuZ3RoIiwicGFkRW5kIiwicGFkU3RhcnQiLCJyYWRpeCIsImZsb2F0aW5nIiwidGVtcCIsInJlZHVjZSIsInJlZHVjZVJpZ2h0IiwicmVwZWF0Iiwic2FtcGxlIiwic29tZSIsInNvcnRlZEluZGV4Iiwic29ydGVkSW5kZXhCeSIsInNvcnRlZEluZGV4T2YiLCJzb3J0ZWRMYXN0SW5kZXgiLCJzb3J0ZWRMYXN0SW5kZXhCeSIsInNvcnRlZExhc3RJbmRleE9mIiwic3RhcnRzV2l0aCIsInN1bSIsInN1bUJ5IiwidGVtcGxhdGUiLCJzZXR0aW5ncyIsImlzRXNjYXBpbmciLCJpc0V2YWx1YXRpbmciLCJpbXBvcnRzS2V5cyIsImltcG9ydHNWYWx1ZXMiLCJyZURlbGltaXRlcnMiLCJzb3VyY2VVUkwiLCJlc2NhcGVWYWx1ZSIsImludGVycG9sYXRlVmFsdWUiLCJlc1RlbXBsYXRlVmFsdWUiLCJldmFsdWF0ZVZhbHVlIiwidGltZXMiLCJ0b0xvd2VyIiwidG9TYWZlSW50ZWdlciIsInRvVXBwZXIiLCJ0cmltIiwidHJpbUVuZCIsInRyaW1TdGFydCIsInRydW5jYXRlIiwib21pc3Npb24iLCJzZWFyY2giLCJzdWJzdHJpbmciLCJuZXdFbmQiLCJ1bmVzY2FwZSIsInVuaXF1ZUlkIiwicHJlZml4IiwiZWFjaCIsImVhY2hSaWdodCIsIlZFUlNJT04iLCJpc0ZpbHRlciIsInRha2VOYW1lIiwiZHJvcE5hbWUiLCJjaGVja0l0ZXJhdGVlIiwiaXNUYWtlciIsImxvZGFzaEZ1bmMiLCJyZXRVbndyYXBwZWQiLCJpc0xhenkiLCJ1c2VMYXp5IiwiaXNIeWJyaWQiLCJpc1Vud3JhcHBlZCIsIm9ubHlMYXp5IiwiY2hhaW5OYW1lIiwiZGlyIiwiaXNSaWdodCIsInZpZXciLCJnZXRWaWV3IiwiaXRlckxlbmd0aCIsInRha2VDb3VudCIsIml0ZXJJbmRleCIsImNvbW1pdCIsIndyYXBwZWQiLCJ0b0pTT04iLCJTcGFya01ENSIsImNhbGNIYXNoIiwibW92ZVByb3BzIiwiZnVsbG5hbWUiLCJ0b2tlbiIsImJ1aWxkUHJvcGVydHlWYWx1ZVJhbmdlcyIsInNnZiIsInJhbmdlcyIsInByb3BTdGFydCIsInZhbHVlU3RhcnQiLCJpc0luc2lkZUV4aXN0aW5nUmFuZ2UiLCJfYSIsImVzY2FwZWQiLCJjaGFyIiwiaXNJbkFueVJhbmdlIiwibGVmdCIsInJpZ2h0IiwiVGhlbWVQcm9wZXJ0eUtleSIsIktpIiwiVGhlbWUiLCJBbmFseXNpc1BvaW50VGhlbWUiLCJDZW50ZXIiLCJFZmZlY3QiLCJDdXJzb3IiLCJQcm9ibGVtQW5zd2VyVHlwZSIsIlBhdGhEZXRlY3Rpb25TdHJhdGVneSIsImdldERlZHVwbGljYXRlZFByb3BzIiwidGFyZ2V0UHJvcHMiLCJsYXN0UHJvIiwiaXNNb3ZlTm9kZSIsImlzU2V0dXBOb2RlIiwic2V0dXBQcm9wcyIsImdldE5vZGVOdW1iZXIiLCJtb3Zlc0NvdW50IiwiTWFya3VwIiwiQkFTRV9USEVNRV9DT05GSUciLCJwb3NpdGl2ZU5vZGVDb2xvciIsIm5lZ2F0aXZlTm9kZUNvbG9yIiwibmV1dHJhbE5vZGVDb2xvciIsImRlZmF1bHROb2RlQ29sb3IiLCJ3YXJuaW5nTm9kZUNvbG9yIiwic2hhZG93Q29sb3IiLCJib2FyZExpbmVDb2xvciIsImFjdGl2ZUNvbG9yIiwiaW5hY3RpdmVDb2xvciIsImJvYXJkQmFja2dyb3VuZENvbG9yIiwiZmxhdEJsYWNrQ29sb3IiLCJmbGF0QmxhY2tDb2xvckFsdCIsImZsYXRXaGl0ZUNvbG9yIiwiZmxhdFdoaXRlQ29sb3JBbHQiLCJib2FyZEVkZ2VMaW5lV2lkdGgiLCJib2FyZExpbmVXaWR0aCIsImJvYXJkTGluZUV4dGVudCIsInN0YXJTaXplIiwibWFya3VwTGluZVdpZHRoIiwiaGlnaGxpZ2h0Q29sb3IiLCJzdG9uZVJhdGlvIiwiQTFfTEVUVEVSUyIsIkExX05VTUJFUlMiLCJTR0ZfTEVUVEVSUyIsIkRFRkFVTFRfT1BUSU9OUyIsImJvYXJkU2l6ZSIsInBhZGRpbmciLCJleHRlbnQiLCJpbnRlcmFjdGl2ZSIsImNvb3JkaW5hdGUiLCJ0aGVtZSIsIkZsYXQiLCJiYWNrZ3JvdW5kIiwiem9vbSIsInNob3dBbmFseXNpcyIsIlRIRU1FX1JFU09VUkNFUyIsIkJsYWNrQW5kV2hpdGUiLCJibGFja3MiLCJ3aGl0ZXMiLCJTdWJkdWVkIiwiYm9hcmQiLCJTaGVsbFN0b25lIiwiU2xhdGVBbmRTaGVsbCIsIldhbG51dCIsIlBob3RvcmVhbGlzdGljIiwiV2FybSIsIkRhcmsiLCJZdW56aU1vbmtleURhcmsiLCJsb3dSZXMiLCJtaWNyb1JlcyIsIkhpZ2hDb250cmFzdCIsIkxJR0hUX0dSRUVOX1JHQiIsIkxJR0hUX1lFTExPV19SR0IiLCJZRUxMT1dfUkdCIiwiTElHSFRfUkVEX1JHQiIsIk1PVkVfUFJPUF9MSVNUIiwiU0VUVVBfUFJPUF9MSVNUIiwiTk9ERV9BTk5PVEFUSU9OX1BST1BfTElTVCIsIk1PVkVfQU5OT1RBVElPTl9QUk9QX0xJU1QiLCJNQVJLVVBfUFJPUF9MSVNUIiwiUk9PVF9QUk9QX0xJU1QiLCJHQU1FX0lORk9fUFJPUF9MSVNUIiwiQ1VTVE9NX1BST1BfTElTVCIsIkxJU1RfT0ZfUE9JTlRTX1BST1AiLCJUT0tFTl9SRUdFWCIsIlRPS0VOX1JFR0VYX1dJVEhfRVNDQVBFUyIsIlNnZlByb3BCYXNlIiwiX3ZhbHVlIiwiX3ZhbHVlcyIsIm5ld1ZhbHVlcyIsInYiLCJNb3ZlUHJvcCIsIl9zdXBlciIsIl90aGlzIiwic3RyIiwiU2V0dXBQcm9wIiwidG9rZW5NYXRjaCIsInZhbHMiLCJtYXRjaEFsbCIsIk5vZGVBbm5vdGF0aW9uUHJvcCIsIk1vdmVBbm5vdGF0aW9uUHJvcCIsIkFubm90YXRpb25Qcm9wIiwiTWFya3VwUHJvcCIsIlJvb3RQcm9wIiwiR2FtZUluZm9Qcm9wIiwiQ3VzdG9tUHJvcCIsIlRpbWluZ1Byb3AiLCJNaXNjZWxsYW5lb3VzUHJvcCIsImxpYmVydGllcyIsInJlY3Vyc2lvblBhdGgiLCJjYWxjU2l6ZSIsIm1hdCIsImNhbGNMaWJlcnR5Q29yZSIsIngiLCJ5Iiwia2kiLCJjYWxjTGliZXJ0eSIsImxpYmVydHkiLCJleGVjQ2FwdHVyZSIsImoiLCJuZXdBcnJheSIsImxpYmVydHlVcCIsInJlY3Vyc2lvblBhdGhVcCIsImxpYmVydHlEb3duIiwicmVjdXJzaW9uUGF0aERvd24iLCJsaWJlcnR5TGVmdCIsInJlY3Vyc2lvblBhdGhMZWZ0IiwiX2QiLCJsaWJlcnR5UmlnaHQiLCJyZWN1cnNpb25QYXRoUmlnaHQiLCJpdGVtIiwiY29vcmQiLCJjYW5DYXB0dXJlIiwiY2FuTW92ZSIsInByZXZpb3VzQm9hcmRTdGF0ZSIsImJvYXJkU3RhdGVBZnRlck1vdmUiLCJuZXdNYXQiLCJzaW11bGF0ZU1vdmVXaXRoQ2FwdHVyZSIsImJvYXJkMSIsImJvYXJkMiIsImJvYXJkU3RhdGVzRXF1YWwiLCJTZ2YiLCJjb250ZW50IiwicGFyc2VPcHRpb25zIiwiaWdub3JlUHJvcExpc3QiLCJlbmFibGVOb2RlTWFwIiwiZW5hYmxlUGF0aE1hcCIsIk5FV19OT0RFIiwiQlJBTkNISU5HIiwiUFJPUEVSVFkiLCJMSVNUX0lERU5USVRJRVMiLCJOT0RFX0RFTElNSVRFUlMiLCJ0cmVlIiwiY3VycmVudE5vZGUiLCJwYXJlbnROb2RlIiwibm9kZVByb3BzIiwibm9kZU1hcCIsInBhdGhNYXAiLCJzZXRSb290IiwidG9TZ2YiLCJub2RlVG9TdHJpbmciLCJ0b1NnZldpdGhvdXRBbmFseXNpcyIsImFsbFByb3BlcnR5S2V5cyIsInByb3BlcnR5VmFsdWVSYW5nZXMiLCJhIiwicHJvY2Vzc2VkU2dmIiwicHJvcGVydHlWYWx1ZVJhbmdlc18xIiwicHJvcGVydHlWYWx1ZVJhbmdlc18xXzEiLCJub2RlU3RhcnQiLCJjb3VudGVyIiwiaW5Ob2RlUmFuZ2VzIiwiYyIsImluc2lkZVByb3AiLCJ0aGlzXzEiLCJtb3ZlUHJvcHNfMSIsInNldHVwUHJvcHNfMSIsInJvb3RQcm9wc18xIiwibWFya3VwUHJvcHNfMSIsImdhbWVJbmZvUHJvcHNfMSIsIm5vZGVBbm5vdGF0aW9uUHJvcHNfMSIsIm1vdmVBbm5vdGF0aW9uUHJvcHNfMSIsImN1c3RvbVByb3BzXzEiLCJyb290UHJvcHMiLCJtYXJrdXBQcm9wcyIsImdhbWVJbmZvUHJvcHMiLCJub2RlQW5ub3RhdGlvblByb3BzIiwibW92ZUFubm90YXRpb25Qcm9wcyIsImN1c3RvbVByb3BzIiwicGFyZW50UGF0aCIsIm5vZGVzIiwicm91bmQzIiwic2NhbGUiLCJmaXhlZCIsInRvRml4ZWQiLCJpc0Nob2ljZU5vZGUiLCJpc1RhcmdldE5vZGUiLCJpc0ZvcmNlTm9kZSIsImlzUHJldmVudE1vdmVOb2RlIiwiaXNSaWdodE5vZGUiLCJpc0ZpcnN0UmlnaHROb2RlIiwiZmlyc3RSaWdodE5vZGUiLCJpc1ZhcmlhbnROb2RlIiwiaXNXcm9uZ05vZGUiLCJpblBhdGgiLCJkZXRlY3Rpb25NZXRob2QiLCJzdHJhdGVneSIsInByZU5vZGVzIiwicG9zdE5vZGVzIiwiUG9zdCIsInBvc3RSaWdodE5vZGVzIiwicHJlUmlnaHROb2RlcyIsIlByZSIsIkJvdGgiLCJpblJpZ2h0UGF0aCIsImluQ2hvaWNlUGF0aCIsImluVGFyZ2V0UGF0aCIsImluVmFyaWFudFBhdGgiLCJpbldyb25nUGF0aCIsIm5Gb3JtYXR0ZXIiLCJudW0iLCJzZ2ZUb1BvcyIsInRlbXBTdHIiLCJwb3MiLCJhMVRvUG9zIiwibW92ZSIsInN1YnN0ciIsInNnZk9mZnNldCIsInJlcyIsImNoYXJJbmRleCIsIm9mZnNldEExTW92ZSIsIm94Iiwib3kiLCJpbngiLCJpbnkiLCJjYWxjU2NvcmVEaWZmVGV4dCIsInJvb3RJbmZvIiwiY3VyckluZm8iLCJzY29yZSIsImNhbGNTY29yZURpZmYiLCJmaXhlZFNjb3JlIiwic2lnbiIsImN1cnJlbnRQbGF5ZXIiLCJzY29yZUxlYWQiLCJjYWxjV2lucmF0ZURpZmYiLCJ3aW5yYXRlIiwiY2FsY0FuYWx5c2lzUG9pbnRDb2xvciIsIm1vdmVJbmZvIiwicHJpb3IiLCJvcmRlciIsImluaXROb2RlRGF0YSIsInNoYSIsImJ1aWxkTW92ZU5vZGUiLCJtb3ZlUHJvcCIsIm5vZGVEYXRhIiwiemVyb3MiLCJlbXB0eSIsImNhbGNNb3N0IiwibGVmdE1vc3QiLCJyaWdodE1vc3QiLCJ0b3BNb3N0IiwiYm90dG9tTW9zdCIsImNhbGNDZW50ZXIiLCJ0b3AiLCJUb3BMZWZ0IiwiQm90dG9tTGVmdCIsIlRvcFJpZ2h0IiwiQm90dG9tUmlnaHQiLCJjYWxjQm9hcmRTaXplIiwiY2VudGVyIiwiY2FsY1BhcnRpYWxBcmVhIiwicmV2ZXJzZU9mZnNldCIsImJ4IiwiYnkiLCJvb3giLCJvb3kiLCJjYWxjVmlzaWJsZUFyZWEiLCJhbGxvd1JlY3RhbmdsZSIsIm1pblJvdyIsIm1heFJvdyIsIm1pbkNvbCIsIm1heENvbCIsIm1pblJvd1dpdGhFeHRlbnQiLCJtYXhSb3dXaXRoRXh0ZW50IiwibWluQ29sV2l0aEV4dGVudCIsIm1heENvbFdpdGhFeHRlbnQiLCJtYXhSYW5nZSIsImNsZWFyU3RvbmVGcm9tQ3VycmVudE5vZGUiLCJjYWxjTWF0QW5kTWFya3VwIiwiZGVmYXVsdEJvYXJkU2l6ZSIsImxpIiwibGoiLCJzZXR1cENvdW50IiwiZXh0cmFjdEJvYXJkU2l6ZSIsInZpc2libGVBcmVhTWF0IiwibWFya3VwIiwibnVtTWFya3VwIiwiQmxhY2siLCJXaGl0ZSIsIkN1cnJlbnQiLCJzZXR1cCIsImZpcnN0Q2hpbGROb2RlIiwibWFyayIsIkNpcmNsZSIsIlNxdWFyZSIsIlRyaWFuZ2xlIiwiQ3Jvc3MiLCJmaW5kUHJvcCIsImdldEZpcnN0VG9Nb3ZlQ29sb3JGcm9tUm9vdCIsImRlZmF1bHRNb3ZlQ29sb3IiLCJzZXR1cE5vZGUiLCJmaXJzdE1vdmVOb2RlIiwiZ2V0TW92ZUNvbG9yIiwiU3RvbmUiLCJjdHgiLCJnbG9iYWxBbHBoYSIsImRyYXciLCJzZXRHbG9iYWxBbHBoYSIsImFscGhhIiwic2V0U2l6ZSIsIkZsYXRTdG9uZSIsInRoZW1lQ29udGV4dCIsImdldFRoZW1lUHJvcGVydHkiLCJ0aGVtZU9wdGlvbnMiLCJ0aGVtZVNwZWNpZmljIiwiZGVmYXVsdENvbmZpZyIsImRlZmF1bHQiLCJzYXZlIiwiYmVnaW5QYXRoIiwiYXJjIiwiUEkiLCJsaW5lV2lkdGgiLCJzdHJva2VTdHlsZSIsImZpbGxTdHlsZSIsInN0cm9rZSIsInJlc3RvcmUiLCJJbWFnZVN0b25lIiwibW9kIiwiZmFsbGJhY2tTdG9uZSIsImltZyIsImNvbXBsZXRlIiwibmF0dXJhbEhlaWdodCIsImRyYXdJbWFnZSIsIkFuYWx5c2lzUG9pbnQiLCJkcmF3UHJvYmxlbUFuYWx5c2lzUG9pbnQiLCJvdXRsaW5lQ29sb3IiLCJwQ29sb3IiLCJncmFkaWVudCIsImNyZWF0ZVJhZGlhbEdyYWRpZW50IiwiYWRkQ29sb3JTdG9wIiwiZm9udFNpemUiLCJmb250IiwidGV4dEFsaWduIiwic2NvcmVUZXh0IiwiZmlsbFRleHQiLCJ2aXNpdHMiLCJkcmF3Q2FuZGlkYXRlUG9pbnQiLCJkcmF3RGVmYXVsdEFuYWx5c2lzUG9pbnQiLCJvcmRlcl8xIiwiZHJhd1NjZW5hcmlvQW5hbHlzaXNQb2ludCIsInBvbGljeSIsInBvbGljeVZhbHVlIiwicG9saWN5UGVyY2VudCIsIm9yZGVyXzIiLCJEZWZhdWx0Iiwic2hhZG93T2Zmc2V0WCIsInNoYWRvd09mZnNldFkiLCJzaGFkb3dCbHVyIiwiUHJvYmxlbSIsIlNjZW5hcmlvIiwidmFsIiwiY29sb3IiLCJsaW5lRGFzaCIsInNldENvbG9yIiwic2V0TGluZURhc2giLCJDaXJjbGVNYXJrdXAiLCJDcm9zc01hcmt1cCIsInJhZGl1cyIsIm1vdmVUbyIsImxpbmVUbyIsImNsb3NlUGF0aCIsIlRleHRNYXJrdXAiLCJ0ZXh0QmFzZWxpbmUiLCJTcXVhcmVNYXJrdXAiLCJyZWN0IiwiVHJpYW5nbGVNYXJrdXAiLCJjb3MiLCJzaW4iLCJHcmVlblBsdXNNYXJrdXAiLCJSZWRDcm9zc01hcmt1cCIsIlllbGxvd1RyaWFuZ2xlTWFya3VwIiwiTm9kZU1hcmt1cCIsIkFjdGl2ZU5vZGVNYXJrdXAiLCJDaXJjbGVTb2xpZE1hcmt1cCIsIkhpZ2hsaWdodE1hcmt1cCIsIkVmZmVjdEJhc2UiLCJwbGF5IiwiX2hhc0J1ZmZlciIsIlRleHREZWNvZGVyIiwidGFiIiwiX1RFIiwiVGV4dEVuY29kZXIiLCJiNjRjaHMiLCJfZnJvbUNDIiwiZnJvbUNoYXJDb2RlIiwiX2J0b2EiLCJidG9hIiwiYmluIiwidTMyIiwiYzAiLCJjMSIsImMyIiwiYXNjIiwiX2Zyb21VaW50OEFycmF5IiwidThhIiwic3RycyIsInN1YmFycmF5IiwiY2JfdXRvYiIsImNjIiwicmVfdXRvYiIsIl9lbmNvZGUiLCJlbmNvZGUiLCJiYW5TdmciLCJCYW5FZmZlY3QiLCJJbWFnZSIsImZhZGVJbkR1cmF0aW9uIiwiZmFkZU91dER1cmF0aW9uIiwic3RheUR1cmF0aW9uIiwic3RhcnRUaW1lIiwicGVyZm9ybWFuY2UiLCJpc0ZhZGluZ091dCIsImNsZWFyUmVjdCIsImVsYXBzZWQiLCJmYWRlRWxhcHNlZCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIkJsb2IiLCJzdmdEYXRhVXJsIiwic3JjIiwibTAiLCJfbWtVcmlTYWZlIiwiZ2V0VGhlbWVSZXNvdXJjZXMiLCJ0aGVtZVJlc291cmNlcyIsInJlc291cmNlcyIsImltYWdlcyIsInNldEltYWdlU21vb3RoaW5nUXVhbGl0eSIsImltYWdlU21vb3RoaW5nRW5hYmxlZCIsImltYWdlU21vb3RoaW5nUXVhbGl0eSIsImlzTW9iaWxlRGV2aWNlIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiZHByIiwid2luZG93IiwiZGV2aWNlUGl4ZWxSYXRpbyIsIkRFRkFVTFRfVEhFTUVfT1BUSU9OUyIsIkdob3N0QmFuIiwiZGVmYXVsdE9wdGlvbnMiLCJkeW5hbWljUGFkZGluZyIsImFuYWx5c2lzUG9pbnRUaGVtZSIsInNob3dPd25lcnNoaXAiLCJhZGFwdGl2ZUJvYXJkTGluZSIsIm1vdmVTb3VuZCIsImFkYXB0aXZlU3RhclNpemUiLCJtb2JpbGVJbmRpY2F0b3JPZmZzZXQiLCJjdXJzb3IiLCJOb25lIiwiY3Vyc29yVmFsdWUiLCJ0b3VjaE1vdmluZyIsInRvdWNoU3RhcnRQb2ludCIsIkRPTVBvaW50IiwiY3Vyc29yUG9pbnQiLCJhY3R1YWxDdXJzb3JQb2ludCIsIm5vZGVNYXJrdXBTdHlsZXMiLCJjdXN0b21NYXJrdXBSZW5kZXJlcnMiLCJzZXRDdXJzb3JXaXRoUmVuZGVyIiwiZG9tUG9pbnQiLCJvZmZzZXRZIiwic3BhY2UiLCJjYWxjU3BhY2VBbmRQYWRkaW5nIiwicG9pbnQiLCJ0cmFuc01hdCIsImludmVyc2UiLCJ0cmFuc2Zvcm1Qb2ludCIsImlkeSIsInBvaW50T25DYW52YXMiLCJhY3R1YWxDdXJzb3JQb3NpdGlvbiIsInByZXZlbnRNb3ZlTWF0IiwiY3Vyc29yUG9zaXRpb24iLCJkcmF3Q3Vyc29yIiwiZHJhd0JvYXJkIiwib25Nb3VzZU1vdmUiLCJjdXJzb3JDYW52YXMiLCJwcmV2ZW50RGVmYXVsdCIsIm9mZnNldFgiLCJjYWxjVG91Y2hQb2ludCIsImNhbnZhcyIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInRvdWNoZXMiLCJjaGFuZ2VkVG91Y2hlcyIsImNsaWVudFgiLCJjbGllbnRZIiwib25Ub3VjaFN0YXJ0Iiwib25Ub3VjaE1vdmUiLCJhYnMiLCJvblRvdWNoRW5kIiwidmlzaWJsZUFyZWEiLCJMZWZ0IiwiUmlnaHQiLCJUb3AiLCJCb3R0b20iLCJjbGVhckFsbENhbnZhcyIsImNsZWFyQ2FudmFzIiwibWFya3VwQ2FudmFzIiwiY2xlYXJPd25lcnNoaXBDYW52YXMiLCJlZmZlY3RDYW52YXMiLCJjbGVhckN1cnNvckNhbnZhcyIsImNsZWFyQW5hbHlzaXNDYW52YXMiLCJjbGVhckJvYXJkIiwiZ2V0Q29udGV4dCIsInNldFRyYW5zZm9ybSIsIndpZHRoIiwiaGVpZ2h0IiwiY2xlYXJNYXJrdXBDYW52YXMiLCJhbmFseXNpc0NhbnZhcyIsImRyYXdBbmFseXNpcyIsImFuYWx5c2lzIiwiZm9yY2VBbmFseXNpc0JvYXJkU2l6ZSIsIm1vdmVJbmZvcyIsImlkT2JqIiwiSlNPTiIsImFuYWx5c2lzQm9hcmRTaXplIiwib2Zmc2V0ZWRNb3ZlIiwic2NhbGVkUGFkZGluZyIsIlNoYWRvd0NvbG9yIiwiUG9zaXRpdmVOb2RlIiwiUG9zaXRpdmVOb2RlQ29sb3IiLCJOZWdhdGl2ZU5vZGUiLCJOZWdhdGl2ZU5vZGVDb2xvciIsIk5ldXRyYWxOb2RlIiwiTmV1dHJhbE5vZGVDb2xvciIsImNvbCIsInBvbGljeUluZGV4IiwiaHVtYW5Qb2xpY3kiLCJvd25lcnNoaXBDYW52YXMiLCJkcmF3T3duZXJzaGlwIiwib3duZXJzaGlwIiwib3duZXJzaGlwVmFsdWUiLCJzdG9uZVZhbHVlIiwic3F1YXJlU2l6ZSIsIm9wYWNpdHkiLCJmaWxsUmVjdCIsImRyYXdNYXJrdXAiLCJtYXJrdXBfMSIsImNyZWF0ZVRoZW1lQ29udGV4dCIsIlBvc2l0aXZlQWN0aXZlTm9kZSIsIlBvc2l0aXZlRGFzaGVkQWN0aXZlTm9kZSIsIlBvc2l0aXZlRG90dGVkQWN0aXZlTm9kZSIsIk5lZ2F0aXZlQWN0aXZlTm9kZSIsIk5lZ2F0aXZlRGFzaGVkQWN0aXZlTm9kZSIsIk5lZ2F0aXZlRG90dGVkQWN0aXZlTm9kZSIsIk5ldXRyYWxBY3RpdmVOb2RlIiwiTmV1dHJhbERhc2hlZEFjdGl2ZU5vZGUiLCJOZXV0cmFsRG90dGVkQWN0aXZlTm9kZSIsIldhcm5pbmdBY3RpdmVOb2RlIiwiV2FybmluZ0Rhc2hlZEFjdGl2ZU5vZGUiLCJXYXJuaW5nRG90dGVkQWN0aXZlTm9kZSIsIkRlZmF1bHRBY3RpdmVOb2RlIiwiRGVmYXVsdERhc2hlZEFjdGl2ZU5vZGUiLCJEZWZhdWx0RG90dGVkQWN0aXZlTm9kZSIsIlBvc2l0aXZlRGFzaGVkTm9kZSIsIlBvc2l0aXZlRG90dGVkTm9kZSIsIk5lZ2F0aXZlRGFzaGVkTm9kZSIsIk5lZ2F0aXZlRG90dGVkTm9kZSIsIk5ldXRyYWxEYXNoZWROb2RlIiwiTmV1dHJhbERvdHRlZE5vZGUiLCJXYXJuaW5nTm9kZSIsIldhcm5pbmdEYXNoZWROb2RlIiwiV2FybmluZ0RvdHRlZE5vZGUiLCJEZWZhdWx0Tm9kZSIsIkRlZmF1bHREYXNoZWROb2RlIiwiRGVmYXVsdERvdHRlZE5vZGUiLCJOb2RlIiwiSGlnaGxpZ2h0IiwiY3VzdG9tUmVuZGVyZXIiLCJkcmF3QmFuIiwiZHJhd0JvYXJkTGluZSIsImRyYXdTdGFycyIsImRyYXdDb29yZGluYXRlIiwic3R5bGUiLCJib3JkZXJSYWRpdXMiLCJib3hTaGFkb3ciLCJCb2FyZEJhY2tncm91bmRDb2xvciIsImJvYXJkUGl4ZWxTaXplIiwiYm9hcmRVcmwiLCJib2FyZFJlcyIsImNyZWF0ZVBhdHRlcm4iLCJCb2FyZExpbmVXaWR0aCIsIkJvYXJkRWRnZUxpbmVXaWR0aCIsIkJvYXJkTGluZUV4dGVudCIsImV4dGVuZFNwYWNlIiwiQWN0aXZlQ29sb3IiLCJJbmFjdGl2ZUNvbG9yIiwiQm9hcmRMaW5lQ29sb3IiLCJlZGdlTGluZVdpZHRoIiwiY3Vyc29yWCIsImN1cnNvclkiLCJpc05vdEJsb2NrZWQiLCJhbGxvd01vdmUiLCJ0dXJuIiwic3RhcnRQb2ludFkiLCJlbmRQb2ludFkiLCJzdGFydFBvaW50WCIsImVuZFBvaW50WCIsInN0YXJTaXplT3B0aW9ucyIsIlN0YXJTaXplIiwic3BhY2VfMSIsInNjYWxlZFBhZGRpbmdfMSIsInpvb21lZEJvYXJkU2l6ZSIsImNlbnRlcl8xIiwib2Zmc2V0XzEiLCJvZmZzZXRUb3AiLCJvZmZzZXRCb3R0b20iLCJ5MSIsInkyIiwib2Zmc2V0TGVmdCIsIm9mZnNldFJpZ2h0IiwieDEiLCJ4MiIsInNjYWxlZEJvYXJkRXh0ZW50IiwicGxheUVmZmVjdCIsImVmZmVjdE1hdCIsIkJhbiIsInNldEVmZmVjdE1hdCIsIl9lIiwiRW1wdHkiLCJjdXIiLCJUZXh0IiwiQmxhY2tTdG9uZSIsIldoaXRlU3RvbmUiLCJDbGVhciIsImRyYXdTdG9uZXMiLCJyYXRpbyIsInN0b25lIiwiZ2V0RGVmYXVsdEN1c3RvbU1hcmt1cFJlbmRlcmVycyIsIm1heGh2IiwiRE9NTWF0cml4IiwidXBkYXRlTm9kZU1hcmt1cFN0eWxlcyIsInByb3BlcnR5S2V5IiwiY3VycmVudFRoZW1lIiwidGhlbWVDb25maWciLCJHcmVlblBsdXMiLCJSZWRDcm9zcyIsIlllbGxvd1RyaWFuZ2xlIiwicmVnaXN0ZXJDdXN0b21NYXJrdXAiLCJyZW5kZXJlciIsInVucmVnaXN0ZXJDdXN0b21NYXJrdXAiLCJzZXRDdXN0b21NYXJrdXBzIiwicmVuZGVyZXJzIiwiZGVmYXVsdERhc2hlZExpbmVEYXNoIiwiZGVmYXVsdERvdHRlZExpbmVEYXNoIiwiRGVmYXVsdE5vZGVDb2xvciIsIldhcm5pbmdOb2RlQ29sb3IiLCJzZXRUdXJuIiwic2V0UHJldmlvdXNCb2FyZFN0YXRlIiwiYm9hcmRTdGF0ZSIsImdldFByZXZpb3VzQm9hcmRTdGF0ZSIsInJlY29yZEN1cnJlbnRCb2FyZFN0YXRlIiwicm93Iiwic2V0Qm9hcmRTaXplIiwicmVzaXplIiwiZG9tIiwiY2FudmFzZXMiLCJjbGllbnRXaWR0aCIsInJlbmRlciIsImNyZWF0ZUNhbnZhcyIsInBvaW50ZXJFdmVudHMiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJpbml0IiwiaW5uZXJIVE1MIiwiYXBwZW5kQ2hpbGQiLCJyZW5kZXJJbnRlcmFjdGl2ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJzZXRPcHRpb25zIiwicHJldmlvdXNTaG93QW5hbHlzaXMiLCJwcmV2aW91c1Nob3dPd25lcnNoaXAiLCJzZXRNYXQiLCJzZXRWaXNpYmxlQXJlYU1hdCIsInNldFByZXZlbnRNb3ZlTWF0Iiwic2V0TWFya3VwIiwic2V0Q3Vyc29yIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInNldEFuYWx5c2lzIiwic2V0VGhlbWUiLCJhbGxUaGVtZUltYWdlcyIsImFsbEltYWdlcyIsImdldEFsbFRoZW1lUmVzb3VyY2VzIiwidXJscyIsIm9uSW1hZ2VMb2FkZWQiLCJsb2FkZWQiLCJpbWFnZUxvYWRlZCIsIm9ubG9hZCIsIm9uZXJyb3IiLCJwcmVsb2FkIiwidXJsIiwiY2FsY0R5bmFtaWNQYWRkaW5nIiwidmlzaWJsZUFyZWFTaXplIiwicGFkZGluZ1dpdGhvdXRDb29yZGluYXRlIiwiem9vbUJvYXJkIiwiem9vbWVkVmlzaWJsZUFyZWEiLCJib2FyZEN0eCIsImN1cnNvckN0eCIsIm1hcmt1cEN0eCIsImFuYWx5c2lzQ3R4IiwiZWZmZWN0Q3R4IiwiZXh0cmFWaXNpYmxlU2l6ZSIsInRyYW5zbGF0ZVNlbGYiLCJzY2FsZVNlbGYiLCJyZXNldFRyYW5zZm9ybSIsImNhbGNCb2FyZFZpc2libGVBcmVhIiwicmVuZGVySW5PbmVDYW52YXMiLCJwYXJlbnRNYXQiLCJoYXNoXzIiLCJmaWx0ZXJlZCIsInBhcnRpYWxBcmVhIiwiX2YiLCJfZyIsIl9oIiwiZV8yIiwiX2oiLCJ0aHJlc2hvbGQiLCJldmlsIiwid2lucmF0ZVJhbmdlIiwic2NvcmVSYW5nZSIsImJhZCIsInBvb3IiLCJvayIsImdvb2QiLCJncmVhdCIsInByZXZlbnRNb3ZlTm9kZXMiLCJrb21pIiwia28iLCJwdXRCb3JkZXIiLCJvZmZlbnNlS29taSIsImJsYWNrVG9BdHRhY2siLCJpc2l6ZSIsImpzaXplIiwiZGVmZW5zZUFyZWEiLCJwdXRPdXRzaWRlIiwiYWN0aXZlSW5kZXgiLCJmaXhlZFdpbnJhdGUiLCJzdGVwcyIsImhlYWRlciIsInByZXYiLCJyZXR1cm5Sb290Iiwic3RQcm9wIiwic2hvd1ZhcmlhdGlvbnNNYXJrdXAiLCJzaG93Q2hpbGRyZW5NYXJrdXAiLCJzaG93U2libGluZ3NNYXJrdXAiLCJzdCIsInBhdCIsInBhaSIsInBpIiwib25SaWdodCIsIm9uV3JvbmciLCJvblZhcmlhbnQiLCJvbk9mZlBhdGgiLCJuZXh0Tm9kZSIsIm5ld1BhdGgiLCJjaGVja1Jlc3VsdCIsInJpZ2h0Tm9kZXMiLCJ3cm9uZ05vZGVzIiwidmFyaWFudE5vZGVzIiwic2dmUGFyc2VyIiwibGFzdE5vZGUiLCJvbkFmdGVyTW92ZSIsImhhc2hfMSIsImtpbmQiLCJjb250ZW50U3RhcnQiLCJjb250ZW50RW5kIiwieE9mZnNldCIsInlPZmZzZXQiLCJyZXN1bHRzIiwiaW5pdHMiLCJheCIsImF5IiwiaXNDYXB0dXJlZCIsImhhc01vdmVkIiwiYXJyYW5nZW1lbnQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs0UUFnQkEsSUFBSUEs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QUFRLElBQUssSUFBUSxJQUMxRSxJQUFRLElBQU0sSUFBUSxJQUN0QixJQUFRLElBQU0sSUFBUSxJQUN0QixJQUFRLElBQU0sSUFBUSxJQUFLLElBQVEsSUFBSyxJQUFRLElBQ2hELElBQVEsSUFBTSxJQUFRLElBQUssSUFBUSxJQUFLLElBQVEsSUFDaEQsSUFBUSxJQUFNLElBQVEsSUFBSyxJQUFRLElBQUssSUFBUSxJQUNoRCxJQUFRLElBQU0sSUFBUSxJQUFLLElBQVEsSUFBSyxJQUFRLElBQ2hELElBQVEsSUFBTSxJQUFRLElBQ3RCLElBQVEsSUFBTSxJQUFRLElBQUssSUFBUSxJQUFLLElBQVEsSUFBSyxJQUFRLElBQUssSUFBUSxJQUMxRSxJQUFRLElBQU0sSUFBUSxJQUFLLElBQVEsSUFBSyxJQUFRLElBQUssSUFBUSxJQUFLLElBQVEsSUFDMUUsSUFBUSxJQUFNLElBQVEsSUFBSyxJQUFRLElBQUssSUFBUSxJQUNoRCxJQUFRLElBQU0sSUFBUSxJQUFLLElBQVEsSUFBSyxJQUFRLElBQ2hELElBQVEsSUFBTSxJQUFRLElBQUssSUFBUSxJQUNuQyxJQUFRLEtBQU0sSUFBUSxLQUN0QixJQUFRLEtBQU0sSUFBUSxLQUN0QixJQUFRLEtBRVIsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQ3pDLElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUN6QyxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQ3hELElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDeEQsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN4RCxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN2RSxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN2RSxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQ3hELElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDeEQsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN4RCxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN2RSxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN2RSxJQUFVLElBQU0sSUFBVSxJQUMxQixJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFDekMsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDdkUsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDdkUsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN4RCxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQ3hELElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUN6QyxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFDekMsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQ3pDLElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUN6QyxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQ3hELElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDeEQsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQ3pDLElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUN6QyxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDdEYsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQ3RGLElBQVUsSUFBTSxJQUFVLElBQzFCLElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUN6QyxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFDekMsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQ3pDLElBQVUsS0FBTSxJQUFVLEtBQzFCLElBQVUsS0FBTSxJQUFVLEtBQzFCLElBQVUsS0FBTSxJQUFVLE1Bb3VCeEJrQixHQUFpQmxCLEdBaHVCSCxDQUNoQixJQUFLLFFBQ0wsSUFBSyxPQUNMLElBQUssT0FDTCxJQUFLLFNBQ0wsSUFBSyxVQW91QlAsU0FBU21CLEdBQWlCQyxHQUN4QixNQUFPLEtBQU9qRyxHQUFjaUcsRUFDN0IsQ0FxQkQsU0FBU0MsR0FBV2pCLEdBQ2xCLE9BQU92RixHQUFheUcsS0FBS2xCLEVBQzFCLENBcUNELFNBQVNtQixHQUFXQyxHQUNsQixJQUFJNVAsR0FBUyxFQUNUakIsRUFBU2xELE1BQU0rVCxFQUFJQyxNQUt2QixPQUhBRCxFQUFJRSxTQUFRLFNBQVN0UyxFQUFPa1EsR0FDMUIzTyxJQUFTaUIsR0FBUyxDQUFDME4sRUFBS2xRLEVBQzlCLElBQ1d1QixDQUNSLENBVUQsU0FBU2dSLEdBQVFwRSxFQUFNcUUsR0FDckIsT0FBTyxTQUFTQyxHQUNkLE9BQU90RSxFQUFLcUUsRUFBVUMsR0FDNUIsQ0FDRyxDQVdELFNBQVNDLEdBQWVuRSxFQUFPb0UsR0FNN0IsSUFMQSxJQUFJblEsR0FBUyxFQUNUaEQsRUFBUytPLEVBQU0vTyxPQUNmd1AsRUFBVyxFQUNYek4sRUFBUyxLQUVKaUIsRUFBUWhELEdBQVEsQ0FDdkIsSUFBSVEsRUFBUXVPLEVBQU0vTCxHQUNkeEMsSUFBVTJTLEdBQWUzUyxJQUFVMkUsSUFDckM0SixFQUFNL0wsR0FBU21DLEVBQ2ZwRCxFQUFPeU4sS0FBY3hNLEVBRXhCLENBQ0QsT0FBT2pCLENBQ1IsQ0FTRCxTQUFTcVIsR0FBV0MsR0FDbEIsSUFBSXJRLEdBQVMsRUFDVGpCLEVBQVNsRCxNQUFNd1UsRUFBSVIsTUFLdkIsT0FIQVEsRUFBSVAsU0FBUSxTQUFTdFMsR0FDbkJ1QixJQUFTaUIsR0FBU3hDLENBQ3hCLElBQ1d1QixDQUNSLENBU0QsU0FBU3VSLEdBQVdELEdBQ2xCLElBQUlyUSxHQUFTLEVBQ1RqQixFQUFTbEQsTUFBTXdVLEVBQUlSLE1BS3ZCLE9BSEFRLEVBQUlQLFNBQVEsU0FBU3RTLEdBQ25CdUIsSUFBU2lCLEdBQVMsQ0FBQ3hDLEVBQU9BLEVBQ2hDLElBQ1d1QixDQUNSLENBbURELFNBQVN3UixHQUFXL0IsR0FDbEIsT0FBT2lCLEdBQVdqQixHQWlEcEIsU0FBcUJBLEdBQ25CLElBQUl6UCxFQUFTZ0ssR0FBVXlILFVBQVksRUFDbkMsS0FBT3pILEdBQVUyRyxLQUFLbEIsTUFDbEJ6UCxFQUVKLE9BQU9BLENBQ1IsQ0F0REswUixDQUFZakMsR0FDWm5CLEdBQVVtQixFQUNmLENBU0QsU0FBU2tDLEdBQWNsQyxHQUNyQixPQUFPaUIsR0FBV2pCLEdBbURwQixTQUF3QkEsR0FDdEIsT0FBT0EsRUFBT21DLE1BQU01SCxLQUFjLEVBQ25DLENBcERLNkgsQ0FBZXBDLEdBN2tCckIsU0FBc0JBLEdBQ3BCLE9BQU9BLEVBQU9xQyxNQUFNLEdBQ3JCLENBNGtCS0MsQ0FBYXRDLEVBQ2xCLENBVUQsU0FBU0MsR0FBZ0JELEdBR3ZCLElBRkEsSUFBSXhPLEVBQVF3TyxFQUFPeFIsT0FFWmdELEtBQVcyRixHQUFhK0osS0FBS2xCLEVBQU91QyxPQUFPL1EsTUFDbEQsT0FBT0EsQ0FDUixDQVNELElBQUlnUixHQUFtQjVDLEdBMzhCSCxDQUNsQixRQUFTLElBQ1QsT0FBUSxJQUNSLE9BQVEsSUFDUixTQUFVLElBQ1YsUUFBUyxNQTRnQ1gsSUFzM2VJNkMsR0F0M2VnQixTQUFTQyxFQUFhQyxHQUl4QyxJQTZCTUMsRUE3QkZ2VixJQUhKc1YsRUFBcUIsTUFBWEEsRUFBa0JsSCxHQUFPZ0gsR0FBRUksU0FBU3BILEdBQUt2TyxTQUFVeVYsRUFBU0YsR0FBRUssS0FBS3JILEdBQU1kLE1BRy9EdE4sTUFDaEIwVixHQUFPSixFQUFRSSxLQUNmclIsR0FBUWlSLEVBQVFqUixNQUNoQmdLLEdBQVdpSCxFQUFRakgsU0FDbkJzSCxHQUFPTCxFQUFRSyxLQUNmOVYsR0FBU3lWLEVBQVF6VixPQUNqQnFKLEdBQVNvTSxFQUFRcE0sT0FDakIzSSxHQUFTK1UsRUFBUS9VLE9BQ2pCRCxHQUFZZ1YsRUFBUWhWLFVBR3BCc1YsR0FBYTVWLEdBQU1FLFVBQ25CMlYsR0FBWXhILEdBQVNuTyxVQUNyQjRWLEdBQWNqVyxHQUFPSyxVQUdyQjZWLEdBQWFULEVBQVEsc0JBR3JCVSxHQUFlSCxHQUFVSSxTQUd6QjlWLEdBQWlCMlYsR0FBWTNWLGVBRzdCK1YsR0FBWSxFQUdaQyxJQUNFWixFQUFNLFNBQVNhLEtBQUtMLElBQWNBLEdBQVdNLE1BQVFOLEdBQVdNLEtBQUtDLFVBQVksS0FDdkUsaUJBQW1CZixFQUFPLEdBUXRDZ0IsR0FBdUJULEdBQVlHLFNBR25DTyxHQUFtQlIsR0FBYTVWLEtBQUtQLElBR3JDNFcsR0FBVXJJLEdBQUtnSCxFQUdmc0IsR0FBYXhOLEdBQU8sSUFDdEI4TSxHQUFhNVYsS0FBS0QsSUFBZ0IwUyxRQUFRbEosR0FBYyxRQUN2RGtKLFFBQVEseURBQTBELFNBQVcsS0FJNUU4RCxHQUFTaEksR0FBZ0IyRyxFQUFRcUIsT0FBUzlTLEVBQzFDdEMsR0FBUytULEVBQVEvVCxPQUNqQnFWLEdBQWF0QixFQUFRc0IsV0FDckJDLEdBQWNGLEdBQVNBLEdBQU9FLFlBQWNoVCxFQUM1Q2lULEdBQWU1QyxHQUFRclUsR0FBT2tYLGVBQWdCbFgsSUFDOUNtWCxHQUFlblgsR0FBT2MsT0FDdEJzVyxHQUF1Qm5CLEdBQVltQixxQkFDbkN4UyxHQUFTbVIsR0FBV25SLE9BQ3BCeVMsR0FBbUIzVixHQUFTQSxHQUFPNFYsbUJBQXFCdFQsRUFDeER1VCxHQUFjN1YsR0FBU0EsR0FBT0MsU0FBV3FDLEVBQ3pDd1QsR0FBaUI5VixHQUFTQSxHQUFPK1YsWUFBY3pULEVBRS9DMFQsR0FBa0IsV0FDcEIsSUFDRSxJQUFJekgsRUFBTzBILEdBQVUzWCxHQUFRLGtCQUU3QixPQURBaVEsRUFBSyxDQUFBLEVBQUksR0FBSSxDQUFFLEdBQ1JBLENBQ2YsQ0FBUSxNQUFPL04sR0FBRyxDQUNiLENBTnFCLEdBU2xCMFYsR0FBa0JuQyxFQUFRb0MsZUFBaUJ0SixHQUFLc0osY0FBZ0JwQyxFQUFRb0MsYUFDeEVDLEdBQVNqQyxJQUFRQSxHQUFLa0MsTUFBUXhKLEdBQUtzSCxLQUFLa0MsS0FBT2xDLEdBQUtrQyxJQUNwREMsR0FBZ0J2QyxFQUFRd0MsYUFBZTFKLEdBQUswSixZQUFjeEMsRUFBUXdDLFdBR2xFQyxHQUFhcEMsR0FBS3FDLEtBQ2xCQyxHQUFjdEMsR0FBS3VDLE1BQ25CQyxHQUFtQnRZLEdBQU91WSxzQkFDMUJDLEdBQWlCMUIsR0FBU0EsR0FBTzJCLFNBQVd6VSxFQUM1QzBVLEdBQWlCakQsRUFBUWtELFNBQ3pCQyxHQUFhN0MsR0FBVy9JLEtBQ3hCNkwsR0FBYXhFLEdBQVFyVSxHQUFPd1csS0FBTXhXLElBQ2xDOFksR0FBWWhELEdBQUtpRCxJQUNqQkMsR0FBWWxELEdBQUttRCxJQUNqQkMsR0FBWXJELEdBQUtrQyxJQUNqQm9CLEdBQWlCMUQsRUFBUXhILFNBQ3pCbUwsR0FBZXRELEdBQUt1RCxPQUNwQkMsR0FBZ0J2RCxHQUFXd0QsUUFHM0JDLEdBQVc3QixHQUFVbEMsRUFBUyxZQUM5QmdFLEdBQU05QixHQUFVbEMsRUFBUyxPQUN6QmlFLEdBQVUvQixHQUFVbEMsRUFBUyxXQUM3QmtFLEdBQU1oQyxHQUFVbEMsRUFBUyxPQUN6Qm1FLEdBQVVqQyxHQUFVbEMsRUFBUyxXQUM3Qm9FLEdBQWVsQyxHQUFVM1gsR0FBUSxVQUdqQzhaLEdBQVVGLElBQVcsSUFBSUEsR0FHekJHLEdBQVksQ0FBQSxFQUdaQyxHQUFxQkMsR0FBU1QsSUFDOUJVLEdBQWdCRCxHQUFTUixJQUN6QlUsR0FBb0JGLEdBQVNQLElBQzdCVSxHQUFnQkgsR0FBU04sSUFDekJVLEdBQW9CSixHQUFTTCxJQUc3QlUsR0FBYzVZLEdBQVNBLEdBQU9yQixVQUFZMkQsRUFDMUN1VyxHQUFnQkQsR0FBY0EsR0FBWUUsUUFBVXhXLEVBQ3BEeVcsR0FBaUJILEdBQWNBLEdBQVlsRSxTQUFXcFMsRUF5SDFELFNBQVMwVyxHQUFPNVksR0FDZCxHQUFJNlksR0FBYTdZLEtBQVd1RSxHQUFRdkUsTUFBWUEsYUFBaUI4WSxJQUFjLENBQzdFLEdBQUk5WSxhQUFpQitZLEdBQ25CLE9BQU8vWSxFQUVULEdBQUl4QixHQUFlQyxLQUFLdUIsRUFBTyxlQUM3QixPQUFPZ1osR0FBYWhaLEVBRXZCLENBQ0QsT0FBVyxJQUFBK1ksR0FBYy9ZLEVBQzFCLENBVUQsSUFBSWlaLEdBQWMsV0FDaEIsU0FBU3RJLElBQ1QsQ0FBQSxnQkFBZ0J1SSxHQUNkLElBQUtDLEdBQVNELEdBQ1osTUFBTyxDQUFBLEVBRVQsR0FBSTdELEdBQ0YsT0FBT0EsR0FBYTZELEdBRXRCdkksRUFBT3BTLFVBQVkyYSxFQUNuQixJQUFJM1gsRUFBUyxJQUFJb1AsRUFFakIsT0FEQUEsRUFBT3BTLFVBQVkyRCxFQUNaWCxDQUNmLENBQ0ssQ0FkaUIsR0FxQmxCLFNBQVM2WCxLQUNiLENBVUksU0FBU0wsR0FBYy9ZLEVBQU9xWixHQUM1QnZhLEtBQUt3YSxZQUFjdFosRUFDbkJsQixLQUFLeWEsWUFBYyxHQUNuQnphLEtBQUswYSxZQUFjSCxFQUNuQnZhLEtBQUsyYSxVQUFZLEVBQ2pCM2EsS0FBSzRhLFdBQWF4WCxDQUNuQixDQStFRCxTQUFTNFcsR0FBWTlZLEdBQ25CbEIsS0FBS3dhLFlBQWN0WixFQUNuQmxCLEtBQUt5YSxZQUFjLEdBQ25CemEsS0FBSzZhLFFBQVUsRUFDZjdhLEtBQUs4YSxjQUFlLEVBQ3BCOWEsS0FBSythLGNBQWdCLEdBQ3JCL2EsS0FBS2diLGNBQWdCMVUsRUFDckJ0RyxLQUFLaWIsVUFBWSxFQUNsQixDQStHRCxTQUFTQyxHQUFLQyxHQUNaLElBQUl6WCxHQUFTLEVBQ1RoRCxFQUFvQixNQUFYeWEsRUFBa0IsRUFBSUEsRUFBUXphLE9BRzNDLElBREFWLEtBQUtvYixVQUNJMVgsRUFBUWhELEdBQVEsQ0FDdkIsSUFBSTJhLEVBQVFGLEVBQVF6WCxHQUNwQjFELEtBQUsrVCxJQUFJc0gsRUFBTSxHQUFJQSxFQUFNLEdBQzFCLENBQ0YsQ0ErRkQsU0FBU0MsR0FBVUgsR0FDakIsSUFBSXpYLEdBQVMsRUFDVGhELEVBQW9CLE1BQVh5YSxFQUFrQixFQUFJQSxFQUFRemEsT0FHM0MsSUFEQVYsS0FBS29iLFVBQ0kxWCxFQUFRaEQsR0FBUSxDQUN2QixJQUFJMmEsRUFBUUYsRUFBUXpYLEdBQ3BCMUQsS0FBSytULElBQUlzSCxFQUFNLEdBQUlBLEVBQU0sR0FDMUIsQ0FDRixDQTRHRCxTQUFTRSxHQUFTSixHQUNoQixJQUFJelgsR0FBUyxFQUNUaEQsRUFBb0IsTUFBWHlhLEVBQWtCLEVBQUlBLEVBQVF6YSxPQUczQyxJQURBVixLQUFLb2IsVUFDSTFYLEVBQVFoRCxHQUFRLENBQ3ZCLElBQUkyYSxFQUFRRixFQUFRelgsR0FDcEIxRCxLQUFLK1QsSUFBSXNILEVBQU0sR0FBSUEsRUFBTSxHQUMxQixDQUNGLENBK0ZELFNBQVNHLEdBQVMvSyxHQUNoQixJQUFJL00sR0FBUyxFQUNUaEQsRUFBbUIsTUFBVitQLEVBQWlCLEVBQUlBLEVBQU8vUCxPQUd6QyxJQURBVixLQUFLeWIsU0FBVyxJQUFJRixLQUNYN1gsRUFBUWhELEdBQ2ZWLEtBQUswYixJQUFJakwsRUFBTy9NLEdBRW5CLENBMkNELFNBQVNpWSxHQUFNUixHQUNiLElBQUlTLEVBQU81YixLQUFLeWIsU0FBVyxJQUFJSCxHQUFVSCxHQUN6Q25iLEtBQUt1VCxLQUFPcUksRUFBS3JJLElBQ2xCLENBb0dELFNBQVNzSSxHQUFjM2EsRUFBTzRhLEdBQzVCLElBQUlDLEVBQVF0VyxHQUFRdkUsR0FDaEI4YSxHQUFTRCxHQUFTRSxHQUFZL2EsR0FDOUJnYixHQUFVSCxJQUFVQyxHQUFTbkUsR0FBUzNXLEdBQ3RDaWIsR0FBVUosSUFBVUMsSUFBVUUsR0FBVTlNLEdBQWFsTyxHQUNyRGtiLEVBQWNMLEdBQVNDLEdBQVNFLEdBQVVDLEVBQzFDMVosRUFBUzJaLEVBQWNwSyxHQUFVOVEsRUFBTVIsT0FBUVosSUFBVSxHQUN6RFksRUFBUytCLEVBQU8vQixPQUVwQixJQUFLLElBQUkwUSxLQUFPbFEsR0FDVDRhLElBQWFwYyxHQUFlQyxLQUFLdUIsRUFBT2tRLElBQ3ZDZ0wsSUFFUSxVQUFQaEwsR0FFQzhLLElBQWtCLFVBQVA5SyxHQUEwQixVQUFQQSxJQUU5QitLLElBQWtCLFVBQVAvSyxHQUEwQixjQUFQQSxHQUE4QixjQUFQQSxJQUV0RGlMLEdBQVFqTCxFQUFLMVEsS0FFbEIrQixFQUFPakIsS0FBSzRQLEdBR2hCLE9BQU8zTyxDQUNSLENBU0QsU0FBUzZaLEdBQVk3TSxHQUNuQixJQUFJL08sRUFBUytPLEVBQU0vTyxPQUNuQixPQUFPQSxFQUFTK08sRUFBTThNLEdBQVcsRUFBRzdiLEVBQVMsSUFBTTBDLENBQ3BELENBVUQsU0FBU29aLEdBQWdCL00sRUFBT2pQLEdBQzlCLE9BQU9pYyxHQUFZQyxHQUFVak4sR0FBUWtOLEdBQVVuYyxFQUFHLEVBQUdpUCxFQUFNL08sUUFDNUQsQ0FTRCxTQUFTa2MsR0FBYW5OLEdBQ3BCLE9BQU9nTixHQUFZQyxHQUFVak4sR0FDOUIsQ0FXRCxTQUFTb04sR0FBaUJoTCxFQUFRVCxFQUFLbFEsSUFDaENBLElBQVVrQyxJQUFjMFosR0FBR2pMLEVBQU9ULEdBQU1sUSxJQUN4Q0EsSUFBVWtDLEtBQWVnTyxLQUFPUyxLQUNuQ2tMLEdBQWdCbEwsRUFBUVQsRUFBS2xRLEVBRWhDLENBWUQsU0FBUzhiLEdBQVluTCxFQUFRVCxFQUFLbFEsR0FDaEMsSUFBSStiLEVBQVdwTCxFQUFPVCxHQUNoQjFSLEdBQWVDLEtBQUtrUyxFQUFRVCxJQUFRMEwsR0FBR0csRUFBVS9iLEtBQ2xEQSxJQUFVa0MsR0FBZWdPLEtBQU9TLElBQ25Da0wsR0FBZ0JsTCxFQUFRVCxFQUFLbFEsRUFFaEMsQ0FVRCxTQUFTZ2MsR0FBYXpOLEVBQU8yQixHQUUzQixJQURBLElBQUkxUSxFQUFTK08sRUFBTS9PLE9BQ1pBLEtBQ0wsR0FBSW9jLEdBQUdyTixFQUFNL08sR0FBUSxHQUFJMFEsR0FDdkIsT0FBTzFRLEVBR1gsT0FBUSxDQUNULENBYUQsU0FBU3ljLEdBQWVqTSxFQUFZeEIsRUFBUUMsRUFBVUMsR0FJcEQsT0FIQXdOLEdBQVNsTSxHQUFZLFNBQVNoUSxFQUFPa1EsRUFBS0YsR0FDeEN4QixFQUFPRSxFQUFhMU8sRUFBT3lPLEVBQVN6TyxHQUFRZ1EsRUFDcEQsSUFDYXRCLENBQ1IsQ0FXRCxTQUFTeU4sR0FBV3hMLEVBQVFuSixHQUMxQixPQUFPbUosR0FBVXlMLEdBQVc1VSxFQUFRa04sR0FBS2xOLEdBQVNtSixFQUNuRCxDQXdCRCxTQUFTa0wsR0FBZ0JsTCxFQUFRVCxFQUFLbFEsR0FDekIsYUFBUGtRLEdBQXNCMEYsR0FDeEJBLEdBQWVqRixFQUFRVCxFQUFLLENBQzFCbU0sY0FBZ0IsRUFDaEJDLFlBQWMsRUFDZHRjLE1BQVNBLEVBQ1R1YyxVQUFZLElBR2Q1TCxFQUFPVCxHQUFPbFEsQ0FFakIsQ0FVRCxTQUFTd2MsR0FBTzdMLEVBQVE4TCxHQU10QixJQUxBLElBQUlqYSxHQUFTLEVBQ1RoRCxFQUFTaWQsRUFBTWpkLE9BQ2YrQixFQUFTbEQsR0FBTW1CLEdBQ2ZrZCxFQUFpQixNQUFWL0wsSUFFRm5PLEVBQVFoRCxHQUNmK0IsRUFBT2lCLEdBQVNrYSxFQUFPeGEsRUFBWXlhLEdBQUloTSxFQUFROEwsRUFBTWphLElBRXZELE9BQU9qQixDQUNSLENBV0QsU0FBU2thLEdBQVVtQixFQUFRQyxFQUFPQyxHQVNoQyxPQVJJRixHQUFXQSxJQUNURSxJQUFVNWEsSUFDWjBhLEVBQVNBLEdBQVVFLEVBQVFGLEVBQVNFLEdBRWxDRCxJQUFVM2EsSUFDWjBhLEVBQVNBLEdBQVVDLEVBQVFELEVBQVNDLElBR2pDRCxDQUNSLENBa0JELFNBQVNHLEdBQVUvYyxFQUFPZ2QsRUFBU0MsRUFBWS9NLEVBQUtTLEVBQVF1TSxHQUMxRCxJQUFJM2IsRUFDQTRiLEVBcmtGYyxFQXFrRkxILEVBQ1RJLEVBcmtGYyxFQXFrRkxKLEVBQ1RLLEVBcmtGaUIsRUFxa0ZSTCxFQUtiLEdBSElDLElBQ0YxYixFQUFTb1AsRUFBU3NNLEVBQVdqZCxFQUFPa1EsRUFBS1MsRUFBUXVNLEdBQVNELEVBQVdqZCxJQUVuRXVCLElBQVdXLEVBQ2IsT0FBT1gsRUFFVCxJQUFLNFgsR0FBU25aLEdBQ1osT0FBT0EsRUFFVCxJQUFJNmEsRUFBUXRXLEdBQVF2RSxHQUNwQixHQUFJNmEsR0FFRixHQURBdFosRUE2OEdKLFNBQXdCZ04sR0FDdEIsSUFBSS9PLEVBQVMrTyxFQUFNL08sT0FDZitCLEVBQVMsSUFBSWdOLEVBQU14UCxZQUFZUyxHQUcvQkEsR0FBNkIsaUJBQVorTyxFQUFNLElBQWtCL1AsR0FBZUMsS0FBSzhQLEVBQU8sV0FDdEVoTixFQUFPaUIsTUFBUStMLEVBQU0vTCxNQUNyQmpCLEVBQU8rYixNQUFRL08sRUFBTStPLE9BRXZCLE9BQU8vYixDQUNSLENBdjlHWWdjLENBQWV2ZCxJQUNuQm1kLEVBQ0gsT0FBTzNCLEdBQVV4YixFQUFPdUIsT0FFckIsQ0FDTCxJQUFJaWMsRUFBTUMsR0FBT3pkLEdBQ2IwZCxFQUFTRixHQUFPN1gsR0FBVzZYLEdBQU81WCxFQUV0QyxHQUFJK1EsR0FBUzNXLEdBQ1gsT0FBTzJkLEdBQVkzZCxFQUFPbWQsR0FFNUIsR0FBSUssR0FBT3pYLEdBQWF5WCxHQUFPbFksR0FBWW9ZLElBQVcvTSxHQUVwRCxHQURBcFAsRUFBVTZiLEdBQVVNLEVBQVUsQ0FBRSxFQUFHRSxHQUFnQjVkLElBQzlDbWQsRUFDSCxPQUFPQyxFQStuRWYsU0FBdUI1VixFQUFRbUosR0FDN0IsT0FBT3lMLEdBQVc1VSxFQUFRcVcsR0FBYXJXLEdBQVNtSixFQUNqRCxDQWhvRVdtTixDQUFjOWQsRUFuSDFCLFNBQXNCMlEsRUFBUW5KLEdBQzVCLE9BQU9tSixHQUFVeUwsR0FBVzVVLEVBQVF1VyxHQUFPdlcsR0FBU21KLEVBQ3JELENBaUhnQ3FOLENBQWF6YyxFQUFRdkIsSUFrbkV0RCxTQUFxQndILEVBQVFtSixHQUMzQixPQUFPeUwsR0FBVzVVLEVBQVF5VyxHQUFXelcsR0FBU21KLEVBQy9DLENBbm5FV3VOLENBQVlsZSxFQUFPbWMsR0FBVzVhLEVBQVF2QixRQUV2QyxDQUNMLElBQUs4TCxHQUFjMFIsR0FDakIsT0FBTzdNLEVBQVMzUSxFQUFRLENBQUEsRUFFMUJ1QixFQTQ5R04sU0FBd0JvUCxFQUFRNk0sRUFBS0wsR0FDbkMsSUFBSWdCLEVBQU94TixFQUFPNVIsWUFDbEIsT0FBUXllLEdBQ04sS0FBS2xYLEVBQ0gsT0FBTzhYLEdBQWlCek4sR0FFMUIsS0FBS25MLEVBQ0wsS0FBS0MsRUFDSCxPQUFPLElBQUkwWSxHQUFNeE4sR0FFbkIsS0FBS3BLLEVBQ0gsT0E1bkROLFNBQXVCOFgsRUFBVWxCLEdBQy9CLElBQUltQixFQUFTbkIsRUFBU2lCLEdBQWlCQyxFQUFTQyxRQUFVRCxFQUFTQyxPQUNuRSxPQUFPLElBQUlELEVBQVN0ZixZQUFZdWYsRUFBUUQsRUFBU0UsV0FBWUYsRUFBU0csV0FDdkUsQ0F5bkRZQyxDQUFjOU4sRUFBUXdNLEdBRS9CLEtBQUszVyxFQUFZLEtBQUtDLEVBQ3RCLEtBQUtDLEVBQVMsS0FBS0MsRUFBVSxLQUFLQyxFQUNsQyxLQUFLQyxFQUFVLEtBQUtDLEVBQWlCLEtBQUtDLEVBQVcsS0FBS0MsRUFDeEQsT0FBTzBYLEdBQWdCL04sRUFBUXdNLEdBRWpDLEtBQUt0WCxFQUNILFdBQVdzWSxFQUViLEtBQUtyWSxFQUNMLEtBQUtLLEVBQ0gsT0FBTyxJQUFJZ1ksRUFBS3hOLEdBRWxCLEtBQUsxSyxFQUNILE9BL25ETixTQUFxQjBZLEdBQ25CLElBQUlwZCxFQUFTLElBQUlvZCxFQUFPNWYsWUFBWTRmLEVBQU9uWCxPQUFRbUIsR0FBUThMLEtBQUtrSyxJQUVoRSxPQURBcGQsRUFBT3lSLFVBQVkyTCxFQUFPM0wsVUFDbkJ6UixDQUNSLENBMm5EWXFkLENBQVlqTyxHQUVyQixLQUFLekssRUFDSCxXQUFXaVksRUFFYixLQUFLL1gsRUFDSCxPQXhuRGV5WSxFQXduRElsTyxFQXZuRGhCOEgsR0FBZ0J2YSxHQUFPdWEsR0FBY2hhLEtBQUtvZ0IsSUFBVyxDQUFFLEVBRGhFLElBQXFCQSxDQTBuRHBCLENBOS9HY0MsQ0FBZTllLEVBQU93ZCxFQUFLTCxFQUNyQyxDQUNGLENBRURELElBQVVBLEVBQVEsSUFBSXpDLElBQ3RCLElBQUlzRSxFQUFVN0IsRUFBTVAsSUFBSTNjLEdBQ3hCLEdBQUkrZSxFQUNGLE9BQU9BLEVBRVQ3QixFQUFNckssSUFBSTdTLEVBQU91QixHQUVieU0sR0FBTWhPLEdBQ1JBLEVBQU1zUyxTQUFRLFNBQVMwTSxHQUNyQnpkLEVBQU9pWixJQUFJdUMsR0FBVWlDLEVBQVVoQyxFQUFTQyxFQUFZK0IsRUFBVWhmLEVBQU9rZCxHQUMvRSxJQUNpQnRQLEdBQU01TixJQUNmQSxFQUFNc1MsU0FBUSxTQUFTME0sRUFBVTlPLEdBQy9CM08sRUFBT3NSLElBQUkzQyxFQUFLNk0sR0FBVWlDLEVBQVVoQyxFQUFTQyxFQUFZL00sRUFBS2xRLEVBQU9rZCxHQUMvRSxJQUdNLElBSUk3TCxFQUFRd0osRUFBUTNZLEdBSkxtYixFQUNWRCxFQUFTNkIsR0FBZUMsR0FDeEI5QixFQUFTVyxHQUFTckosSUFFa0IxVSxHQVN6QyxPQVJBMk8sR0FBVTBDLEdBQVNyUixHQUFPLFNBQVNnZixFQUFVOU8sR0FDdkNtQixJQUVGMk4sRUFBV2hmLEVBRFhrUSxFQUFNOE8sSUFJUmxELEdBQVl2YSxFQUFRMk8sRUFBSzZNLEdBQVVpQyxFQUFVaEMsRUFBU0MsRUFBWS9NLEVBQUtsUSxFQUFPa2QsR0FDdEYsSUFDYTNiLENBQ1IsQ0F3QkQsU0FBUzRkLEdBQWV4TyxFQUFRbkosRUFBUTZKLEdBQ3RDLElBQUk3UixFQUFTNlIsRUFBTTdSLE9BQ25CLEdBQWMsTUFBVm1SLEVBQ0YsT0FBUW5SLEVBR1YsSUFEQW1SLEVBQVN6UyxHQUFPeVMsR0FDVG5SLEtBQVUsQ0FDZixJQUFJMFEsRUFBTW1CLEVBQU03UixHQUNac1AsRUFBWXRILEVBQU8wSSxHQUNuQmxRLEVBQVEyUSxFQUFPVCxHQUVuQixHQUFLbFEsSUFBVWtDLEtBQWVnTyxLQUFPUyxLQUFhN0IsRUFBVTlPLEdBQzFELFFBRUgsQ0FDRCxPQUFPLENBQ1IsQ0FZRCxTQUFTb2YsR0FBVWpSLEVBQU1rUixFQUFNaFIsR0FDN0IsR0FBbUIsbUJBQVJGLEVBQ1QsTUFBVSxJQUFBeFAsR0FBVThGLEdBRXRCLE9BQU8wUixJQUFXLFdBQWFoSSxFQUFLMU8sTUFBTXlDLEVBQVdtTSxLQUFVZ1IsRUFDaEUsQ0FhRCxTQUFTQyxHQUFlL1EsRUFBT2dCLEVBQVFkLEVBQVVXLEdBQy9DLElBQUk1TSxHQUFTLEVBQ1QrYyxFQUFXdFEsR0FDWHVRLEdBQVcsRUFDWGhnQixFQUFTK08sRUFBTS9PLE9BQ2YrQixFQUFTLEdBQ1RrZSxFQUFlbFEsRUFBTy9QLE9BRTFCLElBQUtBLEVBQ0gsT0FBTytCLEVBRUxrTixJQUNGYyxFQUFTRixHQUFTRSxFQUFRNEIsR0FBVTFDLEtBRWxDVyxHQUNGbVEsRUFBV3BRLEdBQ1hxUSxHQUFXLEdBRUpqUSxFQUFPL1AsUUF0dkZHLE1BdXZGakIrZixFQUFXak8sR0FDWGtPLEdBQVcsRUFDWGpRLEVBQVMsSUFBSStLLEdBQVMvSyxJQUV4Qm1RLEVBQ0EsT0FBU2xkLEVBQVFoRCxHQUFRLENBQ3ZCLElBQUlRLEVBQVF1TyxFQUFNL0wsR0FDZG1kLEVBQXVCLE1BQVpsUixFQUFtQnpPLEVBQVF5TyxFQUFTek8sR0FHbkQsR0FEQUEsRUFBU29QLEdBQXdCLElBQVZwUCxFQUFlQSxFQUFRLEVBQzFDd2YsR0FBWUcsR0FBYUEsRUFBVSxDQUVyQyxJQURBLElBQUlDLEVBQWNILEVBQ1hHLEtBQ0wsR0FBSXJRLEVBQU9xUSxLQUFpQkQsRUFDMUIsU0FBU0QsRUFHYm5lLEVBQU9qQixLQUFLTixFQUNiLE1BQ1N1ZixFQUFTaFEsRUFBUW9RLEVBQVV2USxJQUNuQzdOLEVBQU9qQixLQUFLTixFQUVmLENBQ0QsT0FBT3VCLENBQ1IsQ0Fsa0NEcVgsR0FBT2lILGlCQUFtQixDQVF4QkMsT0FBVXBZLEVBUVZxWSxTQUFZcFksRUFRWnFZLFlBQWVwWSxHQVFmcVksU0FBWSxHQVFaQyxRQUFXLENBUVR6TSxFQUFLbUYsS0FLVEEsR0FBT3JhLFVBQVk2YSxHQUFXN2EsVUFDOUJxYSxHQUFPcmEsVUFBVVEsWUFBYzZaLEdBRS9CRyxHQUFjeGEsVUFBWTBhLEdBQVdHLEdBQVc3YSxXQUNoRHdhLEdBQWN4YSxVQUFVUSxZQUFjZ2EsR0FzSHRDRCxHQUFZdmEsVUFBWTBhLEdBQVdHLEdBQVc3YSxXQUM5Q3VhLEdBQVl2YSxVQUFVUSxZQUFjK1osR0FvR3BDa0IsR0FBS3piLFVBQVUyYixNQXZFZixXQUNFcGIsS0FBS3liLFNBQVd4QyxHQUFlQSxHQUFhLE1BQVEsQ0FBQSxFQUNwRGpaLEtBQUt1VCxLQUFPLENBQ2IsRUFxRUQySCxHQUFLemIsVUFBa0IsT0F6RHZCLFNBQW9CMlIsR0FDbEIsSUFBSTNPLEVBQVN6QyxLQUFLMFMsSUFBSXRCLFdBQWVwUixLQUFLeWIsU0FBU3JLLEdBRW5ELE9BREFwUixLQUFLdVQsTUFBUTlRLEVBQVMsRUFBSSxFQUNuQkEsQ0FDUixFQXNERHlZLEdBQUt6YixVQUFVb2UsSUEzQ2YsU0FBaUJ6TSxHQUNmLElBQUl3SyxFQUFPNWIsS0FBS3liLFNBQ2hCLEdBQUl4QyxHQUFjLENBQ2hCLElBQUl4VyxFQUFTbVosRUFBS3hLLEdBQ2xCLE9BQU8zTyxJQUFXbUQsRUFBaUJ4QyxFQUFZWCxDQUNoRCxDQUNELE9BQU8vQyxHQUFlQyxLQUFLaWMsRUFBTXhLLEdBQU93SyxFQUFLeEssR0FBT2hPLENBQ3JELEVBcUNEOFgsR0FBS3piLFVBQVVpVCxJQTFCZixTQUFpQnRCLEdBQ2YsSUFBSXdLLEVBQU81YixLQUFLeWIsU0FDaEIsT0FBT3hDLEdBQWdCMkMsRUFBS3hLLEtBQVNoTyxFQUFhMUQsR0FBZUMsS0FBS2ljLEVBQU14SyxFQUM3RSxFQXdCRDhKLEdBQUt6YixVQUFVc1UsSUFaZixTQUFpQjNDLEVBQUtsUSxHQUNwQixJQUFJMGEsRUFBTzViLEtBQUt5YixTQUdoQixPQUZBemIsS0FBS3VULE1BQVF2VCxLQUFLMFMsSUFBSXRCLEdBQU8sRUFBSSxFQUNqQ3dLLEVBQUt4SyxHQUFRNkgsSUFBZ0IvWCxJQUFVa0MsRUFBYXdDLEVBQWlCMUUsRUFDMURsQixJQUNaLEVBd0hEc2IsR0FBVTdiLFVBQVUyYixNQXBGcEIsV0FDRXBiLEtBQUt5YixTQUFXLEdBQ2hCemIsS0FBS3VULEtBQU8sQ0FDYixFQWtGRCtILEdBQVU3YixVQUFrQixPQXZFNUIsU0FBeUIyUixHQUN2QixJQUFJd0ssRUFBTzViLEtBQUt5YixTQUNaL1gsRUFBUXdaLEdBQWF0QixFQUFNeEssR0FFL0IsUUFBSTFOLEVBQVEsS0FJUkEsR0FEWWtZLEVBQUtsYixPQUFTLEVBRTVCa2IsRUFBS3lGLE1BRUxyZCxHQUFPckUsS0FBS2ljLEVBQU1sWSxFQUFPLEtBRXpCMUQsS0FBS3VULE1BQ0EsRUFDUixFQXlERCtILEdBQVU3YixVQUFVb2UsSUE5Q3BCLFNBQXNCek0sR0FDcEIsSUFBSXdLLEVBQU81YixLQUFLeWIsU0FDWi9YLEVBQVF3WixHQUFhdEIsRUFBTXhLLEdBRS9CLE9BQU8xTixFQUFRLEVBQUlOLEVBQVl3WSxFQUFLbFksR0FBTyxFQUM1QyxFQTBDRDRYLEdBQVU3YixVQUFVaVQsSUEvQnBCLFNBQXNCdEIsR0FDcEIsT0FBTzhMLEdBQWFsZCxLQUFLeWIsU0FBVXJLLElBQVEsQ0FDNUMsRUE4QkRrSyxHQUFVN2IsVUFBVXNVLElBbEJwQixTQUFzQjNDLEVBQUtsUSxHQUN6QixJQUFJMGEsRUFBTzViLEtBQUt5YixTQUNaL1gsRUFBUXdaLEdBQWF0QixFQUFNeEssR0FRL0IsT0FOSTFOLEVBQVEsS0FDUjFELEtBQUt1VCxLQUNQcUksRUFBS3BhLEtBQUssQ0FBQzRQLEVBQUtsUSxLQUVoQjBhLEVBQUtsWSxHQUFPLEdBQUt4QyxFQUVabEIsSUFDUixFQTBHRHViLEdBQVM5YixVQUFVMmIsTUF0RW5CLFdBQ0VwYixLQUFLdVQsS0FBTyxFQUNadlQsS0FBS3liLFNBQVcsQ0FDZDZGLEtBQVEsSUFBSXBHLEdBQ1o1SCxJQUFPLElBQUt1RixJQUFPeUMsSUFDbkJwSixPQUFVLElBQUlnSixHQUVqQixFQWdFREssR0FBUzliLFVBQWtCLE9BckQzQixTQUF3QjJSLEdBQ3RCLElBQUkzTyxFQUFTOGUsR0FBV3ZoQixLQUFNb1IsR0FBYSxPQUFFQSxHQUU3QyxPQURBcFIsS0FBS3VULE1BQVE5USxFQUFTLEVBQUksRUFDbkJBLENBQ1IsRUFrREQ4WSxHQUFTOWIsVUFBVW9lLElBdkNuQixTQUFxQnpNLEdBQ25CLE9BQU9tUSxHQUFXdmhCLEtBQU1vUixHQUFLeU0sSUFBSXpNLEVBQ2xDLEVBc0NEbUssR0FBUzliLFVBQVVpVCxJQTNCbkIsU0FBcUJ0QixHQUNuQixPQUFPbVEsR0FBV3ZoQixLQUFNb1IsR0FBS3NCLElBQUl0QixFQUNsQyxFQTBCRG1LLEdBQVM5YixVQUFVc1UsSUFkbkIsU0FBcUIzQyxFQUFLbFEsR0FDeEIsSUFBSTBhLEVBQU8yRixHQUFXdmhCLEtBQU1vUixHQUN4Qm1DLEVBQU9xSSxFQUFLckksS0FJaEIsT0FGQXFJLEVBQUs3SCxJQUFJM0MsRUFBS2xRLEdBQ2RsQixLQUFLdVQsTUFBUXFJLEVBQUtySSxNQUFRQSxFQUFPLEVBQUksRUFDMUJ2VCxJQUNaLEVBMEREd2IsR0FBUy9iLFVBQVVpYyxJQUFNRixHQUFTL2IsVUFBVStCLEtBbkI1QyxTQUFxQk4sR0FFbkIsT0FEQWxCLEtBQUt5YixTQUFTMUgsSUFBSTdTLEVBQU8wRSxHQUNkNUYsSUFDWixFQWlCRHdiLEdBQVMvYixVQUFVaVQsSUFObkIsU0FBcUJ4UixHQUNuQixPQUFXbEIsS0FBQ3liLFNBQVMvSSxJQUFJeFIsRUFDMUIsRUFzR0R5YSxHQUFNbGMsVUFBVTJiLE1BM0VoQixXQUNFcGIsS0FBS3liLFNBQVcsSUFBSUgsR0FDcEJ0YixLQUFLdVQsS0FBTyxDQUNiLEVBeUVEb0ksR0FBTWxjLFVBQWtCLE9BOUR4QixTQUFxQjJSLEdBQ25CLElBQUl3SyxFQUFPNWIsS0FBS3liLFNBQ1poWixFQUFTbVosRUFBYSxPQUFFeEssR0FHNUIsT0FEQXBSLEtBQUt1VCxLQUFPcUksRUFBS3JJLEtBQ1Y5USxDQUNSLEVBeUREa1osR0FBTWxjLFVBQVVvZSxJQTlDaEIsU0FBa0J6TSxHQUNoQixPQUFXcFIsS0FBQ3liLFNBQVNvQyxJQUFJek0sRUFDMUIsRUE2Q0R1SyxHQUFNbGMsVUFBVWlULElBbENoQixTQUFrQnRCLEdBQ2hCLE9BQVdwUixLQUFDeWIsU0FBUy9JLElBQUl0QixFQUMxQixFQWlDRHVLLEdBQU1sYyxVQUFVc1UsSUFyQmhCLFNBQWtCM0MsRUFBS2xRLEdBQ3JCLElBQUkwYSxFQUFPNWIsS0FBS3liLFNBQ2hCLEdBQUlHLGFBQWdCTixHQUFXLENBQzdCLElBQUlrRyxFQUFRNUYsRUFBS0gsU0FDakIsSUFBSzVDLElBQVEySSxFQUFNOWdCLE9BQVMrZ0IsSUFHMUIsT0FGQUQsRUFBTWhnQixLQUFLLENBQUM0UCxFQUFLbFEsSUFDakJsQixLQUFLdVQsT0FBU3FJLEVBQUtySSxLQUNadlQsS0FFVDRiLEVBQU81YixLQUFLeWIsU0FBVyxJQUFJRixHQUFTaUcsRUFDckMsQ0FHRCxPQUZBNUYsRUFBSzdILElBQUkzQyxFQUFLbFEsR0FDZGxCLEtBQUt1VCxLQUFPcUksRUFBS3JJLEtBQ052VCxJQUNaLEVBcWNELElBQUlvZCxHQUFXc0UsR0FBZUMsSUFVMUJDLEdBQWdCRixHQUFlRyxJQUFpQixHQVdwRCxTQUFTQyxHQUFVNVEsRUFBWWxCLEdBQzdCLElBQUl2TixHQUFTLEVBS2IsT0FKQTJhLEdBQVNsTSxHQUFZLFNBQVNoUSxFQUFPd0MsRUFBT3dOLEdBRTFDLE9BREF6TyxJQUFXdU4sRUFBVTlPLEVBQU93QyxFQUFPd04sRUFFM0MsSUFDYXpPLENBQ1IsQ0FZRCxTQUFTc2YsR0FBYXRTLEVBQU9FLEVBQVVXLEdBSXJDLElBSEEsSUFBSTVNLEdBQVMsRUFDVGhELEVBQVMrTyxFQUFNL08sU0FFVmdELEVBQVFoRCxHQUFRLENBQ3ZCLElBQUlRLEVBQVF1TyxFQUFNL0wsR0FDZFMsRUFBVXdMLEVBQVN6TyxHQUV2QixHQUFlLE1BQVhpRCxJQUFvQjBjLElBQWF6ZCxFQUM1QmUsR0FBWUEsSUFBWTZkLEdBQVM3ZCxHQUNsQ21NLEVBQVduTSxFQUFTMGMsSUFFMUIsSUFBSUEsRUFBVzFjLEVBQ1gxQixFQUFTdkIsQ0FFaEIsQ0FDRCxPQUFPdUIsQ0FDUixDQXNDRCxTQUFTd2YsR0FBVy9RLEVBQVlsQixHQUM5QixJQUFJdk4sRUFBUyxHQU1iLE9BTEEyYSxHQUFTbE0sR0FBWSxTQUFTaFEsRUFBT3dDLEVBQU93TixHQUN0Q2xCLEVBQVU5TyxFQUFPd0MsRUFBT3dOLElBQzFCek8sRUFBT2pCLEtBQUtOLEVBRXRCLElBQ2F1QixDQUNSLENBYUQsU0FBU3lmLEdBQVl6UyxFQUFPMFMsRUFBT25TLEVBQVdvUyxFQUFVM2YsR0FDdEQsSUFBSWlCLEdBQVMsRUFDVGhELEVBQVMrTyxFQUFNL08sT0FLbkIsSUFIQXNQLElBQWNBLEVBQVlxUyxJQUMxQjVmLElBQVdBLEVBQVMsTUFFWGlCLEVBQVFoRCxHQUFRLENBQ3ZCLElBQUlRLEVBQVF1TyxFQUFNL0wsR0FDZHllLEVBQVEsR0FBS25TLEVBQVU5TyxHQUNyQmloQixFQUFRLEVBRVZELEdBQVloaEIsRUFBT2loQixFQUFRLEVBQUduUyxFQUFXb1MsRUFBVTNmLEdBRW5EK04sR0FBVS9OLEVBQVF2QixHQUVWa2hCLElBQ1YzZixFQUFPQSxFQUFPL0IsUUFBVVEsRUFFM0IsQ0FDRCxPQUFPdUIsQ0FDUixDQWFELElBQUk2ZixHQUFVQyxLQVlWQyxHQUFlRCxJQUFjLEdBVWpDLFNBQVNaLEdBQVc5UCxFQUFRbEMsR0FDMUIsT0FBT2tDLEdBQVV5USxHQUFRelEsRUFBUWxDLEVBQVVpRyxHQUM1QyxDQVVELFNBQVNpTSxHQUFnQmhRLEVBQVFsQyxHQUMvQixPQUFPa0MsR0FBVTJRLEdBQWEzUSxFQUFRbEMsRUFBVWlHLEdBQ2pELENBV0QsU0FBUzZNLEdBQWM1USxFQUFRVSxHQUM3QixPQUFPdEMsR0FBWXNDLEdBQU8sU0FBU25CLEdBQ2pDLE9BQU9zUixHQUFXN1EsRUFBT1QsR0FDakMsR0FDSyxDQVVELFNBQVN1UixHQUFROVEsRUFBUTNOLEdBTXZCLElBSEEsSUFBSVIsRUFBUSxFQUNSaEQsR0FISndELEVBQU8wZSxHQUFTMWUsRUFBTTJOLElBR0puUixPQUVELE1BQVZtUixHQUFrQm5PLEVBQVFoRCxHQUMvQm1SLEVBQVNBLEVBQU9nUixHQUFNM2UsRUFBS1IsT0FFN0IsT0FBUUEsR0FBU0EsR0FBU2hELEVBQVVtUixFQUFTek8sQ0FDOUMsQ0FhRCxTQUFTMGYsR0FBZWpSLEVBQVFrUixFQUFVQyxHQUN4QyxJQUFJdmdCLEVBQVNzZ0IsRUFBU2xSLEdBQ3RCLE9BQU9wTSxHQUFRb00sR0FBVXBQLEVBQVMrTixHQUFVL04sRUFBUXVnQixFQUFZblIsR0FDakUsQ0FTRCxTQUFTb1IsR0FBVy9oQixHQUNsQixPQUFhLE1BQVRBLEVBQ0tBLElBQVVrQyxFQW43RkoscUJBUkwsZ0JBNjdGRndULElBQWtCQSxNQUFrQnhYLEdBQU84QixHQTIzRnJELFNBQW1CQSxHQUNqQixJQUFJZ2lCLEVBQVF4akIsR0FBZUMsS0FBS3VCLEVBQU8wVixJQUNuQzhILEVBQU14ZCxFQUFNMFYsSUFFaEIsSUFDRTFWLEVBQU0wVixJQUFrQnhULEVBQ3hCLElBQUkrZixHQUFXLENBQ3ZCLENBQVEsTUFBTzdoQixJQUVULElBQUltQixFQUFTcVQsR0FBcUJuVyxLQUFLdUIsR0FDbkNpaUIsSUFDRUQsRUFDRmhpQixFQUFNMFYsSUFBa0I4SCxTQUVqQnhkLEVBQU0wVixLQUdqQixPQUFPblUsQ0FDUixDQTU0RksyZ0IsQ0FBVWxpQixHQSs1R2hCLFNBQXdCQSxHQUN0QixPQUFPNFUsR0FBcUJuVyxLQUFLdUIsRUFDbEMsQ0FoNkdLbWlCLENBQWVuaUIsRUFDcEIsQ0FXRCxTQUFTb2lCLEdBQU9waUIsRUFBT3FpQixHQUNyQixPQUFPcmlCLEVBQVFxaUIsQ0FDaEIsQ0FVRCxTQUFTQyxHQUFRM1IsRUFBUVQsR0FDdkIsT0FBaUIsTUFBVlMsR0FBa0JuUyxHQUFlQyxLQUFLa1MsRUFBUVQsRUFDdEQsQ0FVRCxTQUFTcVMsR0FBVTVSLEVBQVFULEdBQ3pCLE9BQWlCLE1BQVZTLEdBQWtCVCxLQUFPaFMsR0FBT3lTLEVBQ3hDLENBeUJELFNBQVM2UixHQUFpQkMsRUFBUWhVLEVBQVVXLEdBUzFDLElBUkEsSUFBSW1RLEVBQVduUSxFQUFhRCxHQUFvQkYsR0FDNUN6UCxFQUFTaWpCLEVBQU8sR0FBR2pqQixPQUNuQmtqQixFQUFZRCxFQUFPampCLE9BQ25CbWpCLEVBQVdELEVBQ1hFLEVBQVN2a0IsR0FBTXFrQixHQUNmRyxFQUFZQyxJQUNadmhCLEVBQVMsR0FFTm9oQixLQUFZLENBQ2pCLElBQUlwVSxFQUFRa1UsRUFBT0UsR0FDZkEsR0FBWWxVLElBQ2RGLEVBQVFjLEdBQVNkLEVBQU80QyxHQUFVMUMsS0FFcENvVSxFQUFZM0wsR0FBVTNJLEVBQU0vTyxPQUFRcWpCLEdBQ3BDRCxFQUFPRCxJQUFhdlQsSUFBZVgsR0FBYWpQLEdBQVUsS0FBTytPLEVBQU0vTyxRQUFVLEtBQzdFLElBQUk4YSxHQUFTcUksR0FBWXBVLEdBQ3pCck0sQ0FDTCxDQUNEcU0sRUFBUWtVLEVBQU8sR0FFZixJQUFJamdCLEdBQVMsRUFDVHVnQixFQUFPSCxFQUFPLEdBRWxCbEQsRUFDQSxPQUFTbGQsRUFBUWhELEdBQVUrQixFQUFPL0IsT0FBU3FqQixHQUFXLENBQ3BELElBQUk3aUIsRUFBUXVPLEVBQU0vTCxHQUNkbWQsRUFBV2xSLEVBQVdBLEVBQVN6TyxHQUFTQSxFQUc1QyxHQURBQSxFQUFTb1AsR0FBd0IsSUFBVnBQLEVBQWVBLEVBQVEsSUFDeEMraUIsRUFDRXpSLEdBQVN5UixFQUFNcEQsR0FDZkosRUFBU2hlLEVBQVFvZSxFQUFVdlEsSUFDNUIsQ0FFTCxJQURBdVQsRUFBV0QsSUFDRkMsR0FBVSxDQUNqQixJQUFJcFIsRUFBUXFSLEVBQU9ELEdBQ25CLEtBQU1wUixFQUNFRCxHQUFTQyxFQUFPb08sR0FDaEJKLEVBQVNrRCxFQUFPRSxHQUFXaEQsRUFBVXZRLElBRTNDLFNBQVNzUSxDQUVaLENBQ0dxRCxHQUNGQSxFQUFLemlCLEtBQUtxZixHQUVacGUsRUFBT2pCLEtBQUtOLEVBQ2IsQ0FDRixDQUNELE9BQU91QixDQUNSLENBOEJELFNBQVN5aEIsR0FBV3JTLEVBQVEzTixFQUFNcUwsR0FHaEMsSUFBSUYsRUFBaUIsT0FEckJ3QyxFQUFTeE8sR0FBT3dPLEVBRGhCM04sRUFBTzBlLEdBQVMxZSxFQUFNMk4sS0FFTUEsRUFBU0EsRUFBT2dSLEdBQU1zQixHQUFLamdCLEtBQ3ZELE9BQWUsTUFBUm1MLEVBQWVqTSxFQUFZekMsR0FBTTBPLEVBQU13QyxFQUFRdEMsRUFDdkQsQ0FTRCxTQUFTNlUsR0FBZ0JsakIsR0FDdkIsT0FBTzZZLEdBQWE3WSxJQUFVK2hCLEdBQVcvaEIsSUFBVXNGLENBQ3BELENBc0NELFNBQVM2ZCxHQUFZbmpCLEVBQU9xaUIsRUFBT3JGLEVBQVNDLEVBQVlDLEdBQ3RELE9BQUlsZCxJQUFVcWlCLElBR0QsTUFBVHJpQixHQUEwQixNQUFUcWlCLElBQW1CeEosR0FBYTdZLEtBQVc2WSxHQUFhd0osR0FDcEVyaUIsR0FBVUEsR0FBU3FpQixHQUFVQSxFQW1CeEMsU0FBeUIxUixFQUFRMFIsRUFBT3JGLEVBQVNDLEVBQVltRyxFQUFXbEcsR0FDdEUsSUFBSW1HLEVBQVc5ZSxHQUFRb00sR0FDbkIyUyxFQUFXL2UsR0FBUThkLEdBQ25Ca0IsRUFBU0YsRUFBVzlkLEVBQVdrWSxHQUFPOU0sR0FDdEM2UyxFQUFTRixFQUFXL2QsRUFBV2tZLEdBQU80RSxHQUt0Q29CLEdBSEpGLEVBQVNBLEdBQVVqZSxFQUFVUyxFQUFZd2QsSUFHaEJ4ZCxFQUNyQjJkLEdBSEpGLEVBQVNBLEdBQVVsZSxFQUFVUyxFQUFZeWQsSUFHaEJ6ZCxFQUNyQjRkLEVBQVlKLEdBQVVDLEVBRTFCLEdBQUlHLEdBQWFoTixHQUFTaEcsR0FBUyxDQUNqQyxJQUFLZ0csR0FBUzBMLEdBQ1osT0FBWSxFQUVkZ0IsR0FBVyxFQUNYSSxHQUFXLENBQ1osQ0FDRCxHQUFJRSxJQUFjRixFQUVoQixPQURBdkcsSUFBVUEsRUFBUSxJQUFJekMsSUFDZDRJLEdBQVluVixHQUFheUMsR0FDN0JpVCxHQUFZalQsRUFBUTBSLEVBQU9yRixFQUFTQyxFQUFZbUcsRUFBV2xHLEdBODFFbkUsU0FBb0J2TSxFQUFRMFIsRUFBTzdFLEVBQUtSLEVBQVNDLEVBQVltRyxFQUFXbEcsR0FDdEUsT0FBUU0sR0FDTixLQUFLalgsRUFDSCxHQUFLb0ssRUFBTzZOLFlBQWM2RCxFQUFNN0QsWUFDM0I3TixFQUFPNE4sWUFBYzhELEVBQU05RCxXQUM5QixPQUFZLEVBRWQ1TixFQUFTQSxFQUFPMk4sT0FDaEIrRCxFQUFRQSxFQUFNL0QsT0FFaEIsS0FBS2hZLEVBQ0gsUUFBS3FLLEVBQU82TixZQUFjNkQsRUFBTTdELGFBQzNCNEUsRUFBVSxJQUFJbk8sR0FBV3RFLEdBQVMsSUFBSXNFLEdBQVdvTixLQUt4RCxLQUFLN2MsRUFDTCxLQUFLQyxFQUNMLEtBQUtLLEVBR0gsT0FBTzhWLElBQUlqTCxHQUFTMFIsR0FFdEIsS0FBSzNjLEVBQ0gsT0FBT2lMLEVBQU9rVCxNQUFReEIsRUFBTXdCLE1BQVFsVCxFQUFPbVQsU0FBV3pCLEVBQU15QixRQUU5RCxLQUFLN2QsRUFDTCxLQUFLRSxFQUlILE9BQU93SyxHQUFXMFIsRUFBUSxHQUU1QixLQUFLeGMsRUFDSCxJQUFJa2UsRUFBVTVSLEdBRWhCLEtBQUtqTSxFQUNILElBQUk4ZCxFQXhuTGUsRUF3bkxIaEgsRUFHaEIsR0FGQStHLElBQVlBLEVBQVVuUixJQUVsQmpDLEVBQU8wQixNQUFRZ1EsRUFBTWhRLE9BQVMyUixFQUNoQyxPQUFZLEVBR2QsSUFBSWpGLEVBQVU3QixFQUFNUCxJQUFJaE0sR0FDeEIsR0FBSW9PLEVBQ0YsT0FBT0EsR0FBV3NELEVBRXBCckYsR0Fsb0xxQixFQXFvTHJCRSxFQUFNckssSUFBSWxDLEVBQVEwUixHQUNsQixJQUFJOWdCLEVBQVNxaUIsR0FBWUcsRUFBUXBULEdBQVNvVCxFQUFRMUIsR0FBUXJGLEVBQVNDLEVBQVltRyxFQUFXbEcsR0FFMUYsT0FEQUEsRUFBYyxPQUFFdk0sR0FDVHBQLEVBRVQsS0FBSzZFLEVBQ0gsR0FBSXFTLEdBQ0YsT0FBT0EsR0FBY2hhLEtBQUtrUyxJQUFXOEgsR0FBY2hhLEtBQUs0akIsR0FHOUQsT0FBTyxDQUNSLENBNTVFTzRCLENBQVd0VCxFQUFRMFIsRUFBT2tCLEVBQVF2RyxFQUFTQyxFQUFZbUcsRUFBV2xHLEdBRXhFLEtBdnZHdUIsRUF1dkdqQkYsR0FBaUMsQ0FDckMsSUFBSWtILEVBQWVULEdBQVlqbEIsR0FBZUMsS0FBS2tTLEVBQVEsZUFDdkR3VCxFQUFlVCxHQUFZbGxCLEdBQWVDLEtBQUs0akIsRUFBTyxlQUUxRCxHQUFJNkIsR0FBZ0JDLEVBQWMsQ0FDaEMsSUFBSUMsRUFBZUYsRUFBZXZULEVBQU8zUSxRQUFVMlEsRUFDL0MwVCxFQUFlRixFQUFlOUIsRUFBTXJpQixRQUFVcWlCLEVBR2xELE9BREFuRixJQUFVQSxFQUFRLElBQUl6QyxJQUNmMkksRUFBVWdCLEVBQWNDLEVBQWNySCxFQUFTQyxFQUFZQyxFQUNuRSxDQUNGLENBQ0QsSUFBS3lHLEVBQ0gsT0FBWSxFQUdkLE9BREF6RyxJQUFVQSxFQUFRLElBQUl6QyxJQTA1RXhCLFNBQXNCOUosRUFBUTBSLEVBQU9yRixFQUFTQyxFQUFZbUcsRUFBV2xHLEdBQ25FLElBQUk4RyxFQWpxTG1CLEVBaXFMUGhILEVBQ1pzSCxFQUFXcEYsR0FBV3ZPLEdBQ3RCNFQsRUFBWUQsRUFBUzlrQixPQUNyQmdsQixFQUFXdEYsR0FBV21ELEdBQ3RCSyxFQUFZOEIsRUFBU2hsQixPQUV6QixHQUFJK2tCLEdBQWE3QixJQUFjc0IsRUFDN0IsU0FFRixJQUFJeGhCLEVBQVEraEIsRUFDWixLQUFPL2hCLEtBQVMsQ0FDZCxJQUFJME4sRUFBTW9VLEVBQVM5aEIsR0FDbkIsS0FBTXdoQixFQUFZOVQsS0FBT21TLEVBQVE3akIsR0FBZUMsS0FBSzRqQixFQUFPblMsSUFDMUQsT0FBTyxDQUVWLENBRUQsSUFBSXVVLEVBQWF2SCxFQUFNUCxJQUFJaE0sR0FDdkIrVCxFQUFheEgsRUFBTVAsSUFBSTBGLEdBQzNCLEdBQUlvQyxHQUFjQyxFQUNoQixPQUFPRCxHQUFjcEMsR0FBU3FDLEdBQWMvVCxFQUU5QyxJQUFJcFAsR0FBUyxFQUNiMmIsRUFBTXJLLElBQUlsQyxFQUFRMFIsR0FDbEJuRixFQUFNckssSUFBSXdQLEVBQU8xUixHQUVqQixJQUFJZ1UsRUFBV1gsRUFDZixPQUFTeGhCLEVBQVEraEIsR0FBVyxDQUUxQixJQUFJeEksRUFBV3BMLEVBRGZULEVBQU1vVSxFQUFTOWhCLElBRVhvaUIsRUFBV3ZDLEVBQU1uUyxHQUVyQixHQUFJK00sRUFDRixJQUFJNEgsRUFBV2IsRUFDWC9HLEVBQVcySCxFQUFVN0ksRUFBVTdMLEVBQUttUyxFQUFPMVIsRUFBUXVNLEdBQ25ERCxFQUFXbEIsRUFBVTZJLEVBQVUxVSxFQUFLUyxFQUFRMFIsRUFBT25GLEdBR3pELEtBQU0ySCxJQUFhM2lCLEVBQ1Y2WixJQUFhNkksR0FBWXhCLEVBQVVySCxFQUFVNkksRUFBVTVILEVBQVNDLEVBQVlDLEdBQzdFMkgsR0FDRCxDQUNMdGpCLEdBQVMsRUFDVCxLQUNELENBQ0RvakIsSUFBYUEsRUFBa0IsZUFBUHpVLEVBQ3pCLENBQ0QsR0FBSTNPLElBQVdvakIsRUFBVSxDQUN2QixJQUFJRyxFQUFVblUsRUFBTzVSLFlBQ2pCZ21CLEVBQVUxQyxFQUFNdGpCLFlBR2hCK2xCLEdBQVdDLEtBQ1YsZ0JBQWlCcFUsTUFBVSxnQkFBaUIwUixJQUN6QixtQkFBWHlDLEdBQXlCQSxhQUFtQkEsR0FDakMsbUJBQVhDLEdBQXlCQSxhQUFtQkEsSUFDdkR4akIsR0FBUyxFQUVaLENBR0QsT0FGQTJiLEVBQWMsT0FBRXZNLEdBQ2hCdU0sRUFBYyxPQUFFbUYsR0FDVDlnQixDQUNSLENBeDlFUXlqQixDQUFhclUsRUFBUTBSLEVBQU9yRixFQUFTQyxFQUFZbUcsRUFBV2xHLEVBQ3BFLENBNURRK0gsQ0FBZ0JqbEIsRUFBT3FpQixFQUFPckYsRUFBU0MsRUFBWWtHLEdBQWFqRyxHQUN4RSxDQWtGRCxTQUFTZ0ksR0FBWXZVLEVBQVFuSixFQUFRMmQsRUFBV2xJLEdBQzlDLElBQUl6YSxFQUFRMmlCLEVBQVUzbEIsT0FDbEJBLEVBQVNnRCxFQUNUNGlCLEdBQWdCbkksRUFFcEIsR0FBYyxNQUFWdE0sRUFDRixPQUFRblIsRUFHVixJQURBbVIsRUFBU3pTLEdBQU95UyxHQUNUbk8sS0FBUyxDQUNkLElBQUlrWSxFQUFPeUssRUFBVTNpQixHQUNyQixHQUFLNGlCLEdBQWdCMUssRUFBSyxHQUNsQkEsRUFBSyxLQUFPL0osRUFBTytKLEVBQUssTUFDdEJBLEVBQUssS0FBTS9KLEdBRW5CLE9BQVksQ0FFZixDQUNELE9BQVNuTyxFQUFRaEQsR0FBUSxDQUV2QixJQUFJMFEsR0FESndLLEVBQU95SyxFQUFVM2lCLElBQ0YsR0FDWHVaLEVBQVdwTCxFQUFPVCxHQUNsQm1WLEVBQVczSyxFQUFLLEdBRXBCLEdBQUkwSyxHQUFnQjFLLEVBQUssSUFDdkIsR0FBSXFCLElBQWE3WixLQUFlZ08sS0FBT1MsR0FDckMsT0FBTyxNQUVKLENBQ0wsSUFBSXVNLEVBQVEsSUFBSXpDLEdBQ2hCLEdBQUl3QyxFQUNGLElBQUkxYixFQUFTMGIsRUFBV2xCLEVBQVVzSixFQUFVblYsRUFBS1MsRUFBUW5KLEVBQVEwVixHQUVuRSxLQUFNM2IsSUFBV1csRUFDVGloQixHQUFZa0MsRUFBVXRKLEVBQVV1SixFQUErQ3JJLEVBQVlDLEdBQzNGM2IsR0FFTixPQUFZLENBRWYsQ0FDRixDQUNELE9BQVcsQ0FDWixDQVVELFNBQVNna0IsR0FBYXZsQixHQUNwQixTQUFLbVosR0FBU25aLEtBMDVGRW1PLEVBMTVGaUJuTyxFQTI1RnhCd1UsSUFBZUEsTUFBY3JHLE1BeDVGeEJxVCxHQUFXeGhCLEdBQVMrVSxHQUFhak0sSUFDaENvSixLQUFLaUcsR0FBU25ZLElBczVGL0IsSUFBa0JtTyxDQXI1RmpCLENBMkNELFNBQVNxWCxHQUFheGxCLEdBR3BCLE1BQW9CLG1CQUFUQSxFQUNGQSxFQUVJLE1BQVRBLEVBQ0t5bEIsR0FFVyxVQUFoQnBaLEVBQU9yTSxHQUNGdUUsR0FBUXZFLEdBQ1gwbEIsR0FBb0IxbEIsRUFBTSxHQUFJQSxFQUFNLElBQ3BDMmxCLEdBQVkzbEIsR0FFWDRsQixHQUFTNWxCLEVBQ2pCLENBU0QsU0FBUzZsQixHQUFTbFYsR0FDaEIsSUFBS21WLEdBQVluVixHQUNmLE9BQU9vRyxHQUFXcEcsR0FFcEIsSUFBSXBQLEVBQVMsR0FDYixJQUFLLElBQUkyTyxLQUFPaFMsR0FBT3lTLEdBQ2pCblMsR0FBZUMsS0FBS2tTLEVBQVFULElBQWUsZUFBUEEsR0FDdEMzTyxFQUFPakIsS0FBSzRQLEdBR2hCLE9BQU8zTyxDQUNSLENBU0QsU0FBU3drQixHQUFXcFYsR0FDbEIsSUFBS3dJLEdBQVN4SSxHQUNaLE9BMDlGSixTQUFzQkEsR0FDcEIsSUFBSXBQLEVBQVMsR0FDYixHQUFjLE1BQVZvUCxFQUNGLElBQUssSUFBSVQsS0FBT2hTLEdBQU95UyxHQUNyQnBQLEVBQU9qQixLQUFLNFAsR0FHaEIsT0FBTzNPLENBQ1IsQ0FsK0ZVeWtCLENBQWFyVixHQUV0QixJQUFJc1YsRUFBVUgsR0FBWW5WLEdBQ3RCcFAsRUFBUyxHQUViLElBQUssSUFBSTJPLEtBQU9TLEdBQ0QsZUFBUFQsSUFBeUIrVixHQUFZem5CLEdBQWVDLEtBQUtrUyxFQUFRVCxLQUNyRTNPLEVBQU9qQixLQUFLNFAsR0FHaEIsT0FBTzNPLENBQ1IsQ0FXRCxTQUFTMmtCLEdBQU9sbUIsRUFBT3FpQixHQUNyQixPQUFPcmlCLEVBQVFxaUIsQ0FDaEIsQ0FVRCxTQUFTOEQsR0FBUW5XLEVBQVl2QixHQUMzQixJQUFJak0sR0FBUyxFQUNUakIsRUFBUzZrQixHQUFZcFcsR0FBYzNSLEdBQU0yUixFQUFXeFEsUUFBVSxHQUtsRSxPQUhBMGMsR0FBU2xNLEdBQVksU0FBU2hRLEVBQU9rUSxFQUFLRixHQUN4Q3pPLElBQVNpQixHQUFTaU0sRUFBU3pPLEVBQU9rUSxFQUFLRixFQUMvQyxJQUNhek8sQ0FDUixDQVNELFNBQVNva0IsR0FBWW5lLEdBQ25CLElBQUkyZCxFQUFZa0IsR0FBYTdlLEdBQzdCLE9BQXdCLEdBQXBCMmQsRUFBVTNsQixRQUFlMmxCLEVBQVUsR0FBRyxHQUNqQ21CLEdBQXdCbkIsRUFBVSxHQUFHLEdBQUlBLEVBQVUsR0FBRyxhQUUvQ3hVLEdBQ2QsT0FBT0EsSUFBV25KLEdBQVUwZCxHQUFZdlUsRUFBUW5KLEVBQVEyZCxFQUNoRSxDQUNLLENBVUQsU0FBU08sR0FBb0IxaUIsRUFBTXFpQixHQUNqQyxPQUFJa0IsR0FBTXZqQixJQUFTd2pCLEdBQW1CbkIsR0FDN0JpQixHQUF3QjNFLEdBQU0zZSxHQUFPcWlCLEdBRTlCMVUsU0FBQUEsR0FDZCxJQUFJb0wsRUFBV1ksR0FBSWhNLEVBQVEzTixHQUMzQixPQUFRK1ksSUFBYTdaLEdBQWE2WixJQUFhc0osRUFDM0NvQixHQUFNOVYsRUFBUTNOLEdBQ2RtZ0IsR0FBWWtDLEVBQVV0SixFQUFVdUosRUFDNUMsQ0FDSyxDQWFELFNBQVNvQixHQUFVL1YsRUFBUW5KLEVBQVFtZixFQUFVMUosRUFBWUMsR0FDbkR2TSxJQUFXbkosR0FHZjRaLEdBQVE1WixHQUFRLFNBQVM2ZCxFQUFVblYsR0FFakMsR0FEQWdOLElBQVVBLEVBQVEsSUFBSXpDLElBQ2xCdEIsR0FBU2tNLElBK0JqQixTQUF1QjFVLEVBQVFuSixFQUFRMEksRUFBS3lXLEVBQVVDLEVBQVczSixFQUFZQyxHQUMzRSxJQUFJbkIsRUFBVzhLLEdBQVFsVyxFQUFRVCxHQUMzQm1WLEVBQVd3QixHQUFRcmYsRUFBUTBJLEdBQzNCNk8sRUFBVTdCLEVBQU1QLElBQUkwSSxHQUV4QixHQUFJdEcsRUFFRixZQURBcEQsR0FBaUJoTCxFQUFRVCxFQUFLNk8sR0FHaEMsSUFBSStILEVBQVc3SixFQUNYQSxFQUFXbEIsRUFBVXNKLEVBQVduVixFQUFNLEdBQUtTLEVBQVFuSixFQUFRMFYsR0FDM0RoYixFQUVBc2QsRUFBV3NILElBQWE1a0IsRUFFNUIsR0FBSXNkLEVBQVUsQ0FDWixJQUFJM0UsRUFBUXRXLEdBQVE4Z0IsR0FDaEJySyxHQUFVSCxHQUFTbEUsR0FBUzBPLEdBQzVCMEIsR0FBV2xNLElBQVVHLEdBQVU5TSxHQUFhbVgsR0FFaER5QixFQUFXekIsRUFDUHhLLEdBQVNHLEdBQVUrTCxFQUNqQnhpQixHQUFRd1gsR0FDVitLLEVBQVcvSyxFQUVKaUwsR0FBa0JqTCxHQUN6QitLLEVBQVd0TCxHQUFVTyxHQUVkZixHQUNQd0UsR0FBVyxFQUNYc0gsRUFBV25KLEdBQVkwSCxHQUFVLElBRTFCMEIsR0FDUHZILEdBQVcsRUFDWHNILEVBQVdwSSxHQUFnQjJHLEdBQVUsSUFHckN5QixFQUFXLEdBR05HLEdBQWM1QixJQUFhdEssR0FBWXNLLElBQzlDeUIsRUFBVy9LLEVBQ1BoQixHQUFZZ0IsR0FDZCtLLEVBQVdJLEdBQWNuTCxHQUVqQjVDLEdBQVM0QyxLQUFheUYsR0FBV3pGLEtBQ3pDK0ssRUFBV2xKLEdBQWdCeUgsS0FJN0I3RixHQUFXLENBRWQsQ0FDR0EsSUFFRnRDLEVBQU1ySyxJQUFJd1MsRUFBVXlCLEdBQ3BCRixFQUFVRSxFQUFVekIsRUFBVXNCLEVBQVUxSixFQUFZQyxHQUNwREEsRUFBYyxPQUFFbUksSUFFbEIxSixHQUFpQmhMLEVBQVFULEVBQUs0VyxFQUMvQixDQTFGS0ssQ0FBY3hXLEVBQVFuSixFQUFRMEksRUFBS3lXLEVBQVVELEdBQVd6SixFQUFZQyxPQUVqRSxDQUNILElBQUk0SixFQUFXN0osRUFDWEEsRUFBVzRKLEdBQVFsVyxFQUFRVCxHQUFNbVYsRUFBV25WLEVBQU0sR0FBS1MsRUFBUW5KLEVBQVEwVixHQUN2RWhiLEVBRUE0a0IsSUFBYTVrQixJQUNmNGtCLEVBQVd6QixHQUViMUosR0FBaUJoTCxFQUFRVCxFQUFLNFcsRUFDL0IsQ0FDRixHQUFFL0ksR0FDSixDQXVGRCxTQUFTcUosR0FBUTdZLEVBQU9qUCxHQUN0QixJQUFJRSxFQUFTK08sRUFBTS9PLE9BQ25CLEdBQUtBLEVBSUwsT0FBTzJiLEdBRFA3YixHQUFLQSxFQUFJLEVBQUlFLEVBQVMsRUFDSkEsR0FBVStPLEVBQU1qUCxHQUFLNEMsQ0FDeEMsQ0FXRCxTQUFTbWxCLEdBQVlyWCxFQUFZc1gsRUFBV0MsR0FFeENELEVBREVBLEVBQVU5bkIsT0FDQTZQLEdBQVNpWSxHQUFXLFNBQVM3WSxHQUN2QyxPQUFJbEssR0FBUWtLLFlBQ016TyxHQUNkLE9BQU95aEIsR0FBUXpoQixFQUEyQixJQUFwQnlPLEVBQVNqUCxPQUFlaVAsRUFBUyxHQUFLQSxFQUM3RCxFQUVJQSxDQUNqQixJQUVvQixDQUFDZ1gsSUFHZixJQUFJampCLEdBQVMsRUFDYjhrQixFQUFZalksR0FBU2lZLEVBQVduVyxHQUFVcVcsT0FFMUMsSUFBSWptQixFQUFTNGtCLEdBQVFuVyxHQUFZLFNBQVNoUSxFQUFPa1EsRUFBS0YsR0FDcEQsSUFBSXlYLEVBQVdwWSxHQUFTaVksR0FBVyxTQUFTN1ksR0FDMUMsT0FBT0EsRUFBU3pPLEVBQzFCLElBQ1EsTUFBTyxDQUFFeW5CLFNBQVlBLEVBQVVqbEIsUUFBV0EsRUFBT3hDLE1BQVNBLEVBQ2xFLElBRU0sT0E1eEZKLFNBQW9CdU8sRUFBT21aLEdBQ3pCLElBQUlsb0IsRUFBUytPLEVBQU0vTyxPQUduQixJQURBK08sRUFBTW9aLEtBQUtELEdBQ0psb0IsS0FDTCtPLEVBQU0vTyxHQUFVK08sRUFBTS9PLEdBQVFRLE1BRWhDLE9BQU91TyxDQUNSLENBb3hGVXFaLENBQVdybUIsR0FBUSxTQUFTb1AsRUFBUTBSLEdBQ3pDLE9BMDRCSixTQUF5QjFSLEVBQVEwUixFQUFPa0YsR0FDdEMsSUFBSS9rQixHQUFTLEVBQ1RxbEIsRUFBY2xYLEVBQU84VyxTQUNyQkssRUFBY3pGLEVBQU1vRixTQUNwQmpvQixFQUFTcW9CLEVBQVlyb0IsT0FDckJ1b0IsRUFBZVIsRUFBTy9uQixPQUUxQixPQUFTZ0QsRUFBUWhELEdBQVEsQ0FDdkIsSUFBSStCLEVBQVN5bUIsR0FBaUJILEVBQVlybEIsR0FBUXNsQixFQUFZdGxCLElBQzlELEdBQUlqQixFQUNGLE9BQUlpQixHQUFTdWxCLEVBQ0p4bUIsRUFHRkEsR0FBbUIsUUFEZGdtQixFQUFPL2tCLElBQ2lCLEVBQUksRUFFM0MsQ0FRRCxPQUFPbU8sRUFBT25PLE1BQVE2ZixFQUFNN2YsS0FDN0IsQ0FuNkJVeWxCLENBQWdCdFgsRUFBUTBSLEVBQU9rRixFQUM5QyxHQUNLLENBMEJELFNBQVNXLEdBQVd2WCxFQUFROEwsRUFBTzNOLEdBS2pDLElBSkEsSUFBSXRNLEdBQVMsRUFDVGhELEVBQVNpZCxFQUFNamQsT0FDZitCLEVBQVMsQ0FBQSxJQUVKaUIsRUFBUWhELEdBQVEsQ0FDdkIsSUFBSXdELEVBQU95WixFQUFNamEsR0FDYnhDLEVBQVF5aEIsR0FBUTlRLEVBQVEzTixHQUV4QjhMLEVBQVU5TyxFQUFPZ0QsSUFDbkJtbEIsR0FBUTVtQixFQUFRbWdCLEdBQVMxZSxFQUFNMk4sR0FBUzNRLEVBRTNDLENBQ0QsT0FBT3VCLENBQ1IsQ0EwQkQsU0FBUzZtQixHQUFZN1osRUFBT2dCLEVBQVFkLEVBQVVXLEdBQzVDLElBQUloTSxFQUFVZ00sRUFBYW9CLEdBQWtCdEIsR0FDekMxTSxHQUFTLEVBQ1RoRCxFQUFTK1AsRUFBTy9QLE9BQ2hCdWpCLEVBQU94VSxFQVFYLElBTklBLElBQVVnQixJQUNaQSxFQUFTaU0sR0FBVWpNLElBRWpCZCxJQUNGc1UsRUFBTzFULEdBQVNkLEVBQU80QyxHQUFVMUMsT0FFMUJqTSxFQUFRaEQsR0FLZixJQUpBLElBQUk0USxFQUFZLEVBQ1pwUSxFQUFRdVAsRUFBTy9NLEdBQ2ZtZCxFQUFXbFIsRUFBV0EsRUFBU3pPLEdBQVNBLEdBRXBDb1EsRUFBWWhOLEVBQVEyZixFQUFNcEQsRUFBVXZQLEVBQVdoQixLQUFnQixHQUNqRTJULElBQVN4VSxHQUNYekwsR0FBT3JFLEtBQUtza0IsRUFBTTNTLEVBQVcsR0FFL0J0TixHQUFPckUsS0FBSzhQLEVBQU82QixFQUFXLEdBR2xDLE9BQU83QixDQUNSLENBV0QsU0FBUzhaLEdBQVc5WixFQUFPK1osR0FJekIsSUFIQSxJQUFJOW9CLEVBQVMrTyxFQUFRK1osRUFBUTlvQixPQUFTLEVBQ2xDd1QsRUFBWXhULEVBQVMsRUFFbEJBLEtBQVUsQ0FDZixJQUFJZ0QsRUFBUThsQixFQUFROW9CLEdBQ3BCLEdBQUlBLEdBQVV3VCxHQUFheFEsSUFBVStsQixFQUFVLENBQzdDLElBQUlBLEVBQVcvbEIsRUFDWDJZLEdBQVEzWSxHQUNWTSxHQUFPckUsS0FBSzhQLEVBQU8vTCxFQUFPLEdBRTFCZ21CLEdBQVVqYSxFQUFPL0wsRUFFcEIsQ0FDRixDQUNELE9BQU8rTCxDQUNSLENBV0QsU0FBUzhNLEdBQVd3QixFQUFPQyxHQUN6QixPQUFPRCxFQUFRdkcsR0FBWWdCLE1BQWtCd0YsRUFBUUQsRUFBUSxHQUM5RCxDQWlDRCxTQUFTNEwsR0FBV3pYLEVBQVExUixHQUMxQixJQUFJaUMsRUFBUyxHQUNiLElBQUt5UCxHQUFVMVIsRUFBSSxHQUFLQSxFQUFJNEYsRUFDMUIsT0FBTzNELEVBSVQsR0FDTWpDLEVBQUksSUFDTmlDLEdBQVV5UCxJQUVaMVIsRUFBSWdYLEdBQVloWCxFQUFJLE1BRWxCMFIsR0FBVUEsU0FFTDFSLEdBRVQsT0FBT2lDLENBQ1IsQ0FVRCxTQUFTbW5CLEdBQVN2YSxFQUFNd2EsR0FDdEIsT0FBT0MsR0FBWUMsR0FBUzFhLEVBQU13YSxFQUFPbEQsSUFBV3RYLEVBQU8sR0FDNUQsQ0FTRCxTQUFTMmEsR0FBVzlZLEdBQ2xCLE9BQU9vTCxHQUFZN0wsR0FBT1MsR0FDM0IsQ0FVRCxTQUFTK1ksR0FBZS9ZLEVBQVkxUSxHQUNsQyxJQUFJaVAsRUFBUWdCLEdBQU9TLEdBQ25CLE9BQU91TCxHQUFZaE4sRUFBT2tOLEdBQVVuYyxFQUFHLEVBQUdpUCxFQUFNL08sUUFDakQsQ0FZRCxTQUFTMm9CLEdBQVF4WCxFQUFRM04sRUFBTWhELEVBQU9pZCxHQUNwQyxJQUFLOUQsR0FBU3hJLEdBQ1osT0FBT0EsRUFTVCxJQUxBLElBQUluTyxHQUFTLEVBQ1RoRCxHQUhKd0QsRUFBTzBlLEdBQVMxZSxFQUFNMk4sSUFHSm5SLE9BQ2R3VCxFQUFZeFQsRUFBUyxFQUNyQndwQixFQUFTclksRUFFSSxNQUFWcVksS0FBb0J4bUIsRUFBUWhELEdBQVEsQ0FDekMsSUFBSTBRLEVBQU15UixHQUFNM2UsRUFBS1IsSUFDakJza0IsRUFBVzltQixFQUVmLEdBQVksY0FBUmtRLEdBQStCLGdCQUFSQSxHQUFpQyxjQUFSQSxFQUNsRCxPQUFPUyxFQUdULEdBQUluTyxHQUFTd1EsRUFBVyxDQUN0QixJQUFJK0ksRUFBV2lOLEVBQU85WSxJQUN0QjRXLEVBQVc3SixFQUFhQSxFQUFXbEIsRUFBVTdMLEVBQUs4WSxHQUFVOW1CLEtBQzNDQSxJQUNmNGtCLEVBQVczTixHQUFTNEMsR0FDaEJBLEVBQ0NaLEdBQVFuWSxFQUFLUixFQUFRLElBQU0sR0FBSyxHQUV4QyxDQUNEc1osR0FBWWtOLEVBQVE5WSxFQUFLNFcsR0FDekJrQyxFQUFTQSxFQUFPOVksRUFDakIsQ0FDRCxPQUFPUyxDQUNSLENBVUQsSUFBSXNZLEdBQWVqUixHQUFxQixTQUFTN0osRUFBTXVNLEdBRXJELE9BREExQyxHQUFRbkYsSUFBSTFFLEVBQU11TSxHQUNYdk0sQ0FDYixFQUhpQ3NYLEdBYXpCeUQsR0FBbUJ0VCxHQUE0QixTQUFTekgsRUFBTTZDLEdBQ2hFLE9BQU80RSxHQUFlekgsRUFBTSxXQUFZLENBQ3RDa08sY0FBZ0IsRUFDaEJDLFlBQWMsRUFDZHRjLE1BQVNtcEIsR0FBU25ZLEdBQ2xCdUwsVUFBWSxHQUVwQixFQVA0Q2tKLEdBZ0J4QyxTQUFTMkQsR0FBWXBaLEdBQ25CLE9BQU91TCxHQUFZaE0sR0FBT1MsR0FDM0IsQ0FXRCxTQUFTcVosR0FBVTlhLEVBQU9vYSxFQUFPVyxHQUMvQixJQUFJOW1CLEdBQVMsRUFDVGhELEVBQVMrTyxFQUFNL08sT0FFZm1wQixFQUFRLElBQ1ZBLEdBQVNBLEVBQVFucEIsRUFBUyxFQUFLQSxFQUFTbXBCLElBRTFDVyxFQUFNQSxFQUFNOXBCLEVBQVNBLEVBQVM4cEIsR0FDcEIsSUFDUkEsR0FBTzlwQixHQUVUQSxFQUFTbXBCLEVBQVFXLEVBQU0sRUFBTUEsRUFBTVgsSUFBVyxFQUM5Q0EsS0FBVyxFQUdYLElBREEsSUFBSXBuQixFQUFTbEQsR0FBTW1CLEtBQ1ZnRCxFQUFRaEQsR0FDZitCLEVBQU9pQixHQUFTK0wsRUFBTS9MLEVBQVFtbUIsR0FFaEMsT0FBT3BuQixDQUNSLENBV0QsU0FBU2dvQixHQUFTdlosRUFBWWxCLEdBQzVCLElBQUl2TixFQU1KLE9BSkEyYSxHQUFTbE0sR0FBWSxTQUFTaFEsRUFBT3dDLEVBQU93TixHQUUxQyxRQURBek8sRUFBU3VOLEVBQVU5TyxFQUFPd0MsRUFBT3dOLEdBRXpDLE1BQ2V6TyxDQUNWLENBY0QsU0FBU2lvQixHQUFnQmpiLEVBQU92TyxFQUFPeXBCLEdBQ3JDLElBQUlDLEVBQU0sRUFDTkMsRUFBZ0IsTUFBVHBiLEVBQWdCbWIsRUFBTW5iLEVBQU0vTyxPQUV2QyxHQUFvQixpQkFBVFEsR0FBcUJBLEdBQVVBLEdBQVMycEIsR0FuL0gzQnZrQixXQW0vSDBELENBQ2hGLEtBQU9za0IsRUFBTUMsR0FBTSxDQUNqQixJQUFJQyxFQUFPRixFQUFNQyxJQUFVLEVBQ3ZCaEssRUFBV3BSLEVBQU1xYixHQUVKLE9BQWJqSyxJQUFzQm1CLEdBQVNuQixLQUM5QjhKLEVBQWM5SixHQUFZM2YsRUFBVTJmLEVBQVczZixHQUNsRDBwQixFQUFNRSxFQUFNLEVBRVpELEVBQU9DLENBRVYsQ0FDRCxPQUFPRCxDQUNSLENBQ0QsT0FBT0UsR0FBa0J0YixFQUFPdk8sRUFBT3lsQixHQUFVZ0UsRUFDbEQsQ0FlRCxTQUFTSSxHQUFrQnRiLEVBQU92TyxFQUFPeU8sRUFBVWdiLEdBQ2pELElBQUlDLEVBQU0sRUFDTkMsRUFBZ0IsTUFBVHBiLEVBQWdCLEVBQUlBLEVBQU0vTyxPQUNyQyxHQUFhLElBQVRtcUIsRUFDRixPQUFRLEVBU1YsSUFMQSxJQUFJRyxHQURKOXBCLEVBQVF5TyxFQUFTek8sS0FDUUEsRUFDckIrcEIsRUFBc0IsT0FBVi9wQixFQUNaZ3FCLEVBQWNsSixHQUFTOWdCLEdBQ3ZCaXFCLEVBQWlCanFCLElBQVVrQyxFQUV4QnduQixFQUFNQyxHQUFNLENBQ2pCLElBQUlDLEVBQU10VCxJQUFhb1QsRUFBTUMsR0FBUSxHQUNqQ2hLLEVBQVdsUixFQUFTRixFQUFNcWIsSUFDMUJNLEVBQWV2SyxJQUFhemQsRUFDNUJpb0IsRUFBeUIsT0FBYnhLLEVBQ1p5SyxFQUFpQnpLLEdBQWFBLEVBQzlCMEssRUFBY3ZKLEdBQVNuQixHQUUzQixHQUFJbUssRUFDRixJQUFJUSxFQUFTYixHQUFjVyxPQUUzQkUsRUFEU0wsRUFDQUcsSUFBbUJYLEdBQWNTLEdBQ2pDSCxFQUNBSyxHQUFrQkYsSUFBaUJULElBQWVVLEdBQ2xESCxFQUNBSSxHQUFrQkYsSUFBaUJDLElBQWNWLElBQWVZLElBQ2hFRixJQUFhRSxJQUdiWixFQUFjOUosR0FBWTNmLEVBQVUyZixFQUFXM2YsR0FFdERzcUIsRUFDRlosRUFBTUUsRUFBTSxFQUVaRCxFQUFPQyxDQUVWLENBQ0QsT0FBTzFTLEdBQVV5UyxFQTFqSUN2a0IsV0EyakluQixDQVdELFNBQVNtbEIsR0FBZWhjLEVBQU9FLEdBTTdCLElBTEEsSUFBSWpNLEdBQVMsRUFDVGhELEVBQVMrTyxFQUFNL08sT0FDZndQLEVBQVcsRUFDWHpOLEVBQVMsS0FFSmlCLEVBQVFoRCxHQUFRLENBQ3ZCLElBQUlRLEVBQVF1TyxFQUFNL0wsR0FDZG1kLEVBQVdsUixFQUFXQSxFQUFTek8sR0FBU0EsRUFFNUMsSUFBS3dDLElBQVVvWixHQUFHK0QsRUFBVW9ELEdBQU8sQ0FDakMsSUFBSUEsRUFBT3BELEVBQ1hwZSxFQUFPeU4sS0FBd0IsSUFBVmhQLEVBQWMsRUFBSUEsQ0FDeEMsQ0FDRixDQUNELE9BQU91QixDQUNSLENBVUQsU0FBU2lwQixHQUFheHFCLEdBQ3BCLE1BQW9CLGlCQUFUQSxFQUNGQSxFQUVMOGdCLEdBQVM5Z0IsR0FDSm1GLEdBRURuRixDQUNULENBVUQsU0FBU3lxQixHQUFhenFCLEdBRXBCLEdBQW9CLGlCQUFUQSxFQUNULE9BQU9BLEVBRVQsR0FBSXVFLEdBQVF2RSxHQUVWLE9BQU9xUCxHQUFTclAsRUFBT3lxQixJQUFnQixHQUV6QyxHQUFJM0osR0FBUzlnQixHQUNYLE9BQU8yWSxHQUFpQkEsR0FBZWxhLEtBQUt1QixHQUFTLEdBRXZELElBQUl1QixFQUFVdkIsRUFBUSxHQUN0QixNQUFrQixLQUFWdUIsR0FBa0IsRUFBSXZCLElBQVUsSUFBYSxLQUFPdUIsQ0FDN0QsQ0FXRCxTQUFTbXBCLEdBQVNuYyxFQUFPRSxFQUFVVyxHQUNqQyxJQUFJNU0sR0FBUyxFQUNUK2MsRUFBV3RRLEdBQ1h6UCxFQUFTK08sRUFBTS9PLE9BQ2ZnZ0IsR0FBVyxFQUNYamUsRUFBUyxHQUNUd2hCLEVBQU94aEIsRUFFWCxHQUFJNk4sRUFDRm9RLEdBQVcsRUFDWEQsRUFBV3BRLFFBRVIsR0FBSTNQLEdBanRJVSxJQWl0SWtCLENBQ25DLElBQUlxVCxFQUFNcEUsRUFBVyxLQUFPa2MsR0FBVXBjLEdBQ3RDLEdBQUlzRSxFQUNGLE9BQU9ELEdBQVdDLEdBRXBCMk0sR0FBVyxFQUNYRCxFQUFXak8sR0FDWHlSLEVBQU8sSUFBSXpJLEVBQ1osTUFFQ3lJLEVBQU90VSxFQUFXLEdBQUtsTixFQUV6Qm1lLEVBQ0EsT0FBU2xkLEVBQVFoRCxHQUFRLENBQ3ZCLElBQUlRLEVBQVF1TyxFQUFNL0wsR0FDZG1kLEVBQVdsUixFQUFXQSxFQUFTek8sR0FBU0EsRUFHNUMsR0FEQUEsRUFBU29QLEdBQXdCLElBQVZwUCxFQUFlQSxFQUFRLEVBQzFDd2YsR0FBWUcsR0FBYUEsRUFBVSxDQUVyQyxJQURBLElBQUlpTCxFQUFZN0gsRUFBS3ZqQixPQUNkb3JCLEtBQ0wsR0FBSTdILEVBQUs2SCxLQUFlakwsRUFDdEIsU0FBU0QsRUFHVGpSLEdBQ0ZzVSxFQUFLemlCLEtBQUtxZixHQUVacGUsRUFBT2pCLEtBQUtOLEVBQ2IsTUFDU3VmLEVBQVN3RCxFQUFNcEQsRUFBVXZRLEtBQzdCMlQsSUFBU3hoQixHQUNYd2hCLEVBQUt6aUIsS0FBS3FmLEdBRVpwZSxFQUFPakIsS0FBS04sR0FFZixDQUNELE9BQU91QixDQUNSLENBVUQsU0FBU2luQixHQUFVN1gsRUFBUTNOLEdBR3pCLE9BQWlCLE9BRGpCMk4sRUFBU3hPLEdBQU93TyxFQURoQjNOLEVBQU8wZSxHQUFTMWUsRUFBTTJOLGFBRVVBLEVBQU9nUixHQUFNc0IsR0FBS2pnQixJQUNuRCxDQVlELFNBQVM2bkIsR0FBV2xhLEVBQVEzTixFQUFNOG5CLEVBQVM3TixHQUN6QyxPQUFPa0wsR0FBUXhYLEVBQVEzTixFQUFNOG5CLEVBQVFySixHQUFROVEsRUFBUTNOLElBQVFpYSxFQUM5RCxDQWFELFNBQVM4TixHQUFVeGMsRUFBT08sRUFBV2tjLEVBQVEzYSxHQUkzQyxJQUhBLElBQUk3USxFQUFTK08sRUFBTS9PLE9BQ2ZnRCxFQUFRNk4sRUFBWTdRLEdBQVUsR0FFMUI2USxFQUFZN04sTUFBWUEsRUFBUWhELElBQ3RDc1AsRUFBVVAsRUFBTS9MLEdBQVFBLEVBQU8rTCxLQUVqQyxPQUFPeWMsRUFDSDNCLEdBQVU5YSxFQUFROEIsRUFBWSxFQUFJN04sRUFBUzZOLEVBQVk3TixFQUFRLEVBQUloRCxHQUNuRTZwQixHQUFVOWEsRUFBUThCLEVBQVk3TixFQUFRLEVBQUksRUFBSzZOLEVBQVk3USxFQUFTZ0QsRUFDekUsQ0FZRCxTQUFTeW9CLEdBQWlCanJCLEVBQU9rckIsR0FDL0IsSUFBSTNwQixFQUFTdkIsRUFJYixPQUhJdUIsYUFBa0J1WCxLQUNwQnZYLEVBQVNBLEVBQU92QixTQUVYeVAsR0FBWXliLEdBQVMsU0FBUzNwQixFQUFRNHBCLEdBQzNDLE9BQU9BLEVBQU9oZCxLQUFLMU8sTUFBTTByQixFQUFPL2MsUUFBU2tCLEdBQVUsQ0FBQy9OLEdBQVM0cEIsRUFBTzljLE1BQ3JFLEdBQUU5TSxFQUNKLENBWUQsU0FBUzZwQixHQUFRM0ksRUFBUWhVLEVBQVVXLEdBQ2pDLElBQUk1UCxFQUFTaWpCLEVBQU9qakIsT0FDcEIsR0FBSUEsRUFBUyxFQUNYLE9BQU9BLEVBQVNrckIsR0FBU2pJLEVBQU8sSUFBTSxHQUt4QyxJQUhBLElBQUlqZ0IsR0FBUyxFQUNUakIsRUFBU2xELEdBQU1tQixLQUVWZ0QsRUFBUWhELEdBSWYsSUFIQSxJQUFJK08sRUFBUWtVLEVBQU9qZ0IsR0FDZm1nQixHQUFZLElBRVBBLEVBQVduakIsR0FDZG1qQixHQUFZbmdCLElBQ2RqQixFQUFPaUIsR0FBUzhjLEdBQWUvZCxFQUFPaUIsSUFBVStMLEVBQU9rVSxFQUFPRSxHQUFXbFUsRUFBVVcsSUFJekYsT0FBT3NiLEdBQVMxSixHQUFZemYsRUFBUSxHQUFJa04sRUFBVVcsRUFDbkQsQ0FXRCxTQUFTaWMsR0FBY2hhLEVBQU85QixFQUFRK2IsR0FNcEMsSUFMQSxJQUFJOW9CLEdBQVMsRUFDVGhELEVBQVM2UixFQUFNN1IsT0FDZityQixFQUFhaGMsRUFBTy9QLE9BQ3BCK0IsRUFBUyxDQUFBLElBRUppQixFQUFRaEQsR0FBUSxDQUN2QixJQUFJUSxFQUFRd0MsRUFBUStvQixFQUFhaGMsRUFBTy9NLEdBQVNOLEVBQ2pEb3BCLEVBQVcvcEIsRUFBUThQLEVBQU03TyxHQUFReEMsRUFDbEMsQ0FDRCxPQUFPdUIsQ0FDUixDQVNELFNBQVNpcUIsR0FBb0J4ckIsR0FDM0IsT0FBT2duQixHQUFrQmhuQixHQUFTQSxFQUFRLEVBQzNDLENBU0QsU0FBU3lyQixHQUFhenJCLEdBQ3BCLE1BQXVCLG1CQUFUQSxFQUFzQkEsRUFBUXlsQixFQUM3QyxDQVVELFNBQVMvRCxHQUFTMWhCLEVBQU8yUSxHQUN2QixPQUFJcE0sR0FBUXZFLEdBQ0hBLEVBRUZ1bUIsR0FBTXZtQixFQUFPMlEsR0FBVSxDQUFDM1EsR0FBUzByQixHQUFhcFgsR0FBU3RVLEdBQy9ELENBV0QsSUFBSTJyQixHQUFXakQsR0FXZixTQUFTa0QsR0FBVXJkLEVBQU9vYSxFQUFPVyxHQUMvQixJQUFJOXBCLEVBQVMrTyxFQUFNL08sT0FFbkIsT0FEQThwQixFQUFNQSxJQUFRcG5CLEVBQVkxQyxFQUFTOHBCLEdBQzFCWCxHQUFTVyxHQUFPOXBCLEVBQVUrTyxFQUFROGEsR0FBVTlhLEVBQU9vYSxFQUFPVyxFQUNwRSxDQVFELElBQUl2VCxHQUFlRCxJQUFtQixTQUFTK1YsR0FDN0MsT0FBT3BmLEdBQUtzSixhQUFhOFYsRUFDL0IsRUFVSSxTQUFTbE8sR0FBWVcsRUFBUW5CLEdBQzNCLEdBQUlBLEVBQ0YsT0FBT21CLEVBQU96ZCxRQUVoQixJQUFJckIsRUFBUzhlLEVBQU85ZSxPQUNoQitCLEVBQVMyVCxHQUFjQSxHQUFZMVYsR0FBVSxJQUFJOGUsRUFBT3ZmLFlBQVlTLEdBR3hFLE9BREE4ZSxFQUFPd04sS0FBS3ZxQixHQUNMQSxDQUNSLENBU0QsU0FBUzZjLEdBQWlCMk4sR0FDeEIsSUFBSXhxQixFQUFTLElBQUl3cUIsRUFBWWh0QixZQUFZZ3RCLEVBQVl2TixZQUVyRCxPQURBLElBQUl2SixHQUFXMVQsR0FBUXNSLElBQUksSUFBSW9DLEdBQVc4VyxJQUNuQ3hxQixDQUNSLENBK0NELFNBQVNtZCxHQUFnQnNOLEVBQVk3TyxHQUNuQyxJQUFJbUIsRUFBU25CLEVBQVNpQixHQUFpQjROLEVBQVcxTixRQUFVME4sRUFBVzFOLE9BQ3ZFLE9BQU8sSUFBSTBOLEVBQVdqdEIsWUFBWXVmLEVBQVEwTixFQUFXek4sV0FBWXlOLEVBQVd4c0IsT0FDN0UsQ0FVRCxTQUFTd29CLEdBQWlCaG9CLEVBQU9xaUIsR0FDL0IsR0FBSXJpQixJQUFVcWlCLEVBQU8sQ0FDbkIsSUFBSTRKLEVBQWVqc0IsSUFBVWtDLEVBQ3pCNm5CLEVBQXNCLE9BQVYvcEIsRUFDWmtzQixFQUFpQmxzQixHQUFVQSxFQUMzQmdxQixFQUFjbEosR0FBUzlnQixHQUV2QmtxQixFQUFlN0gsSUFBVW5nQixFQUN6QmlvQixFQUFzQixPQUFWOUgsRUFDWitILEVBQWlCL0gsR0FBVUEsRUFDM0JnSSxFQUFjdkosR0FBU3VCLEdBRTNCLElBQU04SCxJQUFjRSxJQUFnQkwsR0FBZWhxQixFQUFRcWlCLEdBQ3REMkgsR0FBZUUsR0FBZ0JFLElBQW1CRCxJQUFjRSxHQUNoRU4sR0FBYUcsR0FBZ0JFLElBQzVCNkIsR0FBZ0I3QixJQUNqQjhCLEVBQ0gsT0FBUSxFQUVWLElBQU1uQyxJQUFjQyxJQUFnQkssR0FBZXJxQixFQUFRcWlCLEdBQ3REZ0ksR0FBZTRCLEdBQWdCQyxJQUFtQm5DLElBQWNDLEdBQ2hFRyxHQUFhOEIsR0FBZ0JDLElBQzVCaEMsR0FBZ0JnQyxJQUNqQjlCLEVBQ0gsT0FBUSxDQUVYLENBQ0QsT0FBTyxDQUNSLENBc0RELFNBQVMrQixHQUFZOWQsRUFBTStkLEVBQVVDLEVBQVNDLEdBVTVDLElBVEEsSUFBSUMsR0FBYSxFQUNiQyxFQUFhbmUsRUFBSzdPLE9BQ2xCaXRCLEVBQWdCSixFQUFRN3NCLE9BQ3hCa3RCLEdBQWEsRUFDYkMsRUFBYVAsRUFBUzVzQixPQUN0Qm90QixFQUFjNVYsR0FBVXdWLEVBQWFDLEVBQWUsR0FDcERsckIsRUFBU2xELEdBQU1zdUIsRUFBYUMsR0FDNUJDLEdBQWVQLElBRVZJLEVBQVlDLEdBQ25CcHJCLEVBQU9tckIsR0FBYU4sRUFBU00sR0FFL0IsT0FBU0gsRUFBWUUsSUFDZkksR0FBZU4sRUFBWUMsS0FDN0JqckIsRUFBTzhxQixFQUFRRSxJQUFjbGUsRUFBS2tlLElBR3RDLEtBQU9LLEtBQ0xyckIsRUFBT21yQixLQUFlcmUsRUFBS2tlLEtBRTdCLE9BQU9ockIsQ0FDUixDQWFELFNBQVN1ckIsR0FBaUJ6ZSxFQUFNK2QsRUFBVUMsRUFBU0MsR0FXakQsSUFWQSxJQUFJQyxHQUFhLEVBQ2JDLEVBQWFuZSxFQUFLN08sT0FDbEJ1dEIsR0FBZ0IsRUFDaEJOLEVBQWdCSixFQUFRN3NCLE9BQ3hCd3RCLEdBQWMsRUFDZEMsRUFBY2IsRUFBUzVzQixPQUN2Qm90QixFQUFjNVYsR0FBVXdWLEVBQWFDLEVBQWUsR0FDcERsckIsRUFBU2xELEdBQU11dUIsRUFBY0ssR0FDN0JKLEdBQWVQLElBRVZDLEVBQVlLLEdBQ25CcnJCLEVBQU9nckIsR0FBYWxlLEVBQUtrZSxHQUczQixJQURBLElBQUkvYyxFQUFTK2MsSUFDSlMsRUFBYUMsR0FDcEIxckIsRUFBT2lPLEVBQVN3ZCxHQUFjWixFQUFTWSxHQUV6QyxPQUFTRCxFQUFlTixJQUNsQkksR0FBZU4sRUFBWUMsS0FDN0JqckIsRUFBT2lPLEVBQVM2YyxFQUFRVSxJQUFpQjFlLEVBQUtrZSxNQUdsRCxPQUFPaHJCLENBQ1IsQ0FVRCxTQUFTaWEsR0FBVWhVLEVBQVErRyxHQUN6QixJQUFJL0wsR0FBUyxFQUNUaEQsRUFBU2dJLEVBQU9oSSxPQUdwQixJQURBK08sSUFBVUEsRUFBUWxRLEdBQU1tQixNQUNmZ0QsRUFBUWhELEdBQ2YrTyxFQUFNL0wsR0FBU2dGLEVBQU9oRixHQUV4QixPQUFPK0wsQ0FDUixDQVlELFNBQVM2TixHQUFXNVUsRUFBUTZKLEVBQU9WLEVBQVFzTSxHQUN6QyxJQUFJaVEsR0FBU3ZjLEVBQ2JBLElBQVdBLEVBQVMsQ0FBQSxHQUtwQixJQUhBLElBQUluTyxHQUFTLEVBQ1RoRCxFQUFTNlIsRUFBTTdSLFNBRVZnRCxFQUFRaEQsR0FBUSxDQUN2QixJQUFJMFEsRUFBTW1CLEVBQU03TyxHQUVac2tCLEVBQVc3SixFQUNYQSxFQUFXdE0sRUFBT1QsR0FBTTFJLEVBQU8wSSxHQUFNQSxFQUFLUyxFQUFRbkosR0FDbER0RixFQUVBNGtCLElBQWE1a0IsSUFDZjRrQixFQUFXdGYsRUFBTzBJLElBRWhCZ2QsRUFDRnJSLEdBQWdCbEwsRUFBUVQsRUFBSzRXLEdBRTdCaEwsR0FBWW5MLEVBQVFULEVBQUs0VyxFQUU1QixDQUNELE9BQU9uVyxDQUNSLENBa0NELFNBQVN3YyxHQUFpQjNlLEVBQVE0ZSxHQUNoQyxPQUFnQnBkLFNBQUFBLEVBQVl2QixHQUMxQixJQUFJTixFQUFPNUosR0FBUXlMLEdBQWMxQixHQUFrQjJOLEdBQy9Ddk4sRUFBYzBlLEVBQWNBLElBQWdCLENBQUUsRUFFbEQsT0FBT2pmLEVBQUs2QixFQUFZeEIsRUFBUWdaLEdBQVkvWSxFQUFVLEdBQUlDLEVBQ2xFLENBQ0ssQ0FTRCxTQUFTMmUsR0FBZUMsR0FDdEIsT0FBTzVFLElBQVMsU0FBUy9YLEVBQVE0YyxHQUMvQixJQUFJL3FCLEdBQVMsRUFDVGhELEVBQVMrdEIsRUFBUS90QixPQUNqQnlkLEVBQWF6ZCxFQUFTLEVBQUkrdEIsRUFBUS90QixFQUFTLEdBQUswQyxFQUNoRHNyQixFQUFRaHVCLEVBQVMsRUFBSSt0QixFQUFRLEdBQUtyckIsRUFXdEMsSUFUQSthLEVBQWNxUSxFQUFTOXRCLE9BQVMsR0FBMEIsbUJBQWR5ZCxHQUN2Q3pkLElBQVV5ZCxHQUNYL2EsRUFFQXNyQixHQUFTQyxHQUFlRixFQUFRLEdBQUlBLEVBQVEsR0FBSUMsS0FDbER2USxFQUFhemQsRUFBUyxFQUFJMEMsRUFBWSthLEVBQ3RDemQsRUFBUyxHQUVYbVIsRUFBU3pTLEdBQU95UyxLQUNQbk8sRUFBUWhELEdBQVEsQ0FDdkIsSUFBSWdJLEVBQVMrbEIsRUFBUS9xQixHQUNqQmdGLEdBQ0Y4bEIsRUFBUzNjLEVBQVFuSixFQUFRaEYsRUFBT3lhLEVBRW5DLENBQ0QsT0FBT3RNLENBQ2YsR0FDSyxDQVVELFNBQVM2UCxHQUFldlEsRUFBVUksR0FDaEMsT0FBTyxTQUFTTCxFQUFZdkIsR0FDMUIsR0FBa0IsTUFBZHVCLEVBQ0YsT0FBT0EsRUFFVCxJQUFLb1csR0FBWXBXLEdBQ2YsT0FBT0MsRUFBU0QsRUFBWXZCLEdBTTlCLElBSkEsSUFBSWpQLEVBQVN3USxFQUFXeFEsT0FDcEJnRCxFQUFRNk4sRUFBWTdRLEdBQVUsRUFDOUJrdUIsRUFBV3h2QixHQUFPOFIsSUFFZEssRUFBWTdOLE1BQVlBLEVBQVFoRCxLQUNhLElBQS9DaVAsRUFBU2lmLEVBQVNsckIsR0FBUUEsRUFBT2tyQixLQUl2QyxPQUFPMWQsQ0FDZixDQUNLLENBU0QsU0FBU3FSLEdBQWNoUixHQUNyQixPQUFPLFNBQVNNLEVBQVFsQyxFQUFVb1QsR0FNaEMsSUFMQSxJQUFJcmYsR0FBUyxFQUNUa3JCLEVBQVd4dkIsR0FBT3lTLEdBQ2xCVSxFQUFRd1EsRUFBU2xSLEdBQ2pCblIsRUFBUzZSLEVBQU03UixPQUVaQSxLQUFVLENBQ2YsSUFBSTBRLEVBQU1tQixFQUFNaEIsRUFBWTdRLElBQVdnRCxHQUN2QyxJQUErQyxJQUEzQ2lNLEVBQVNpZixFQUFTeGQsR0FBTUEsRUFBS3dkLEdBQy9CLEtBRUgsQ0FDRCxPQUFPL2MsQ0FDZixDQUNLLENBOEJELFNBQVNnZCxHQUFnQkMsR0FDdkIsT0FBTyxTQUFTNWMsR0FHZCxJQUFJVSxFQUFhTyxHQUZqQmpCLEVBQVNzRCxHQUFTdEQsSUFHZGtDLEdBQWNsQyxHQUNkOU8sRUFFQThQLEVBQU1OLEVBQ05BLEVBQVcsR0FDWFYsRUFBT3VDLE9BQU8sR0FFZHNhLEVBQVduYyxFQUNYa2EsR0FBVWxhLEVBQVksR0FBR3hHLEtBQUssSUFDOUI4RixFQUFPblEsTUFBTSxHQUVqQixPQUFPbVIsRUFBSTRiLEtBQWdCQyxDQUNuQyxDQUNLLENBU0QsU0FBU0MsR0FBaUJDLEdBQ3hCLE9BQWdCL2MsU0FBQUEsR0FDZCxPQUFPdkIsR0FBWXVlLEdBQU1DLEdBQU9qZCxHQUFRRSxRQUFRN0YsR0FBUSxLQUFNMGlCLEVBQVUsR0FDaEYsQ0FDSyxDQVVELFNBQVNHLEdBQVcvUCxHQUNsQixPQUFPLFdBSUwsSUFBSTlQLEVBQU85TyxVQUNYLE9BQVE4TyxFQUFLN08sUUFDWCxLQUFNLEVBQUUsT0FBTyxJQUFJMmUsRUFDbkIsS0FBTSxFQUFFLE9BQU8sSUFBSUEsRUFBSzlQLEVBQUssSUFDN0IsS0FBSyxFQUFHLE9BQVcsSUFBQThQLEVBQUs5UCxFQUFLLEdBQUlBLEVBQUssSUFDdEMsS0FBTSxFQUFFLE9BQU8sSUFBSThQLEVBQUs5UCxFQUFLLEdBQUlBLEVBQUssR0FBSUEsRUFBSyxJQUMvQyxLQUFLLEVBQUcsT0FBVyxJQUFBOFAsRUFBSzlQLEVBQUssR0FBSUEsRUFBSyxHQUFJQSxFQUFLLEdBQUlBLEVBQUssSUFDeEQsS0FBSyxFQUFHLE9BQVcsSUFBQThQLEVBQUs5UCxFQUFLLEdBQUlBLEVBQUssR0FBSUEsRUFBSyxHQUFJQSxFQUFLLEdBQUlBLEVBQUssSUFDakUsS0FBTSxFQUFFLE9BQU8sSUFBSThQLEVBQUs5UCxFQUFLLEdBQUlBLEVBQUssR0FBSUEsRUFBSyxHQUFJQSxFQUFLLEdBQUlBLEVBQUssR0FBSUEsRUFBSyxJQUMxRSxLQUFNLEVBQUUsT0FBTyxJQUFJOFAsRUFBSzlQLEVBQUssR0FBSUEsRUFBSyxHQUFJQSxFQUFLLEdBQUlBLEVBQUssR0FBSUEsRUFBSyxHQUFJQSxFQUFLLEdBQUlBLEVBQUssSUFFckYsSUFBSThmLEVBQWNsVixHQUFXa0YsRUFBSzVmLFdBQzlCZ0QsRUFBUzRjLEVBQUsxZSxNQUFNMHVCLEVBQWE5ZixHQUlyQyxPQUFPOEssR0FBUzVYLEdBQVVBLEVBQVM0c0IsQ0FDM0MsQ0FDSyxDQThDRCxTQUFTQyxHQUFXQyxHQUNsQixPQUFnQnJlLFNBQUFBLEVBQVlsQixFQUFXc0IsR0FDckMsSUFBSXNkLEVBQVd4dkIsR0FBTzhSLEdBQ3RCLElBQUtvVyxHQUFZcFcsR0FBYSxDQUM1QixJQUFJdkIsRUFBVytZLEdBQVkxWSxFQUFXLEdBQ3RDa0IsRUFBYTBFLEdBQUsxRSxHQUNsQmxCLEVBQVksU0FBU29CLEdBQU8sT0FBT3pCLEVBQVNpZixFQUFTeGQsR0FBTUEsRUFBS3dkLEdBQ2pFLENBQ0QsSUFBSWxyQixFQUFRNnJCLEVBQWNyZSxFQUFZbEIsRUFBV3NCLEdBQ2pELE9BQU81TixHQUFTLEVBQUlrckIsRUFBU2pmLEVBQVd1QixFQUFXeE4sR0FBU0EsR0FBU04sQ0FDN0UsQ0FDSyxDQVNELFNBQVNvc0IsR0FBV2plLEdBQ2xCLE9BQU9rZSxJQUFTLFNBQVNDLEdBQ3ZCLElBQUlodkIsRUFBU2d2QixFQUFNaHZCLE9BQ2ZnRCxFQUFRaEQsRUFDUml2QixFQUFTMVYsR0FBY3hhLFVBQVVtd0IsS0FLckMsSUFISXJlLEdBQ0ZtZSxFQUFNL1csVUFFRGpWLEtBQVMsQ0FDZCxJQUFJMkwsRUFBT3FnQixFQUFNaHNCLEdBQ2pCLEdBQW1CLG1CQUFSMkwsRUFDVCxNQUFVLElBQUF4UCxHQUFVOEYsR0FFdEIsR0FBSWdxQixJQUFXRSxHQUFnQyxXQUFyQkMsR0FBWXpnQixHQUNwQyxJQUFJd2dCLEVBQVUsSUFBSTVWLEdBQWMsSUFBSSxFQUV2QyxDQUVELElBREF2VyxFQUFRbXNCLEVBQVVuc0IsRUFBUWhELElBQ2pCZ0QsRUFBUWhELEdBQVEsQ0FHdkIsSUFBSXF2QixFQUFXRCxHQUZmemdCLEVBQU9xZ0IsRUFBTWhzQixJQUdUa1ksRUFBbUIsV0FBWm1VLEVBQXdCQyxHQUFRM2dCLEdBQVFqTSxFQU1qRHlzQixFQUpFalUsR0FBUXFVLEdBQVdyVSxFQUFLLEtBQ2YsS0FBUEEsRUFBSyxLQUNKQSxFQUFLLEdBQUdsYixRQUFxQixHQUFYa2IsRUFBSyxHQUVsQmlVLEVBQVFDLEdBQVlsVSxFQUFLLEtBQUtqYixNQUFNa3ZCLEVBQVNqVSxFQUFLLElBRWxDLEdBQWZ2TSxFQUFLM08sUUFBZXV2QixHQUFXNWdCLEdBQ3RDd2dCLEVBQVFFLEtBQ1JGLEVBQVFELEtBQUt2Z0IsRUFFcEIsQ0FDRCxPQUFrQixXQUNoQixJQUFJRSxFQUFPOU8sVUFDUFMsRUFBUXFPLEVBQUssR0FFakIsR0FBSXNnQixHQUEwQixHQUFmdGdCLEVBQUs3TyxRQUFlK0UsR0FBUXZFLEdBQ3pDLE9BQU8ydUIsRUFBUUssTUFBTWh2QixHQUFPQSxRQUs5QixJQUhBLElBQUl3QyxFQUFRLEVBQ1JqQixFQUFTL0IsRUFBU2d2QixFQUFNaHNCLEdBQU8vQyxNQUFNWCxLQUFNdVAsR0FBUXJPLElBRTlDd0MsRUFBUWhELEdBQ2YrQixFQUFTaXRCLEVBQU1oc0IsR0FBTy9ELEtBQUtLLEtBQU15QyxHQUVuQyxPQUFPQSxDQUNqQixDQUNBLEdBQ0ssQ0FxQkQsU0FBUzB0QixHQUFhOWdCLEVBQU02TyxFQUFTNU8sRUFBU2dlLEVBQVVDLEVBQVM2QyxFQUFlQyxFQUFjQyxFQUFRQyxFQUFLQyxHQUN6RyxJQUFJQyxFQUFRdlMsRUFBVWpZLEVBQ2xCeXFCLEVBNWlLYSxFQTRpS0p4UyxFQUNUeVMsRUE1aUtpQixFQTRpS0x6UyxFQUNac1AsRUFBdUJvRCxHQUFYMVMsRUFDWjJTLEVBdGlLYSxJQXNpS0ozUyxFQUNUbUIsRUFBT3NSLEVBQVl2dEIsRUFBWWdzQixHQUFXL2YsR0E2QzlDLE9BM0NBLFNBQVN3Z0IsSUFLUCxJQUpBLElBQUludkIsRUFBU0QsVUFBVUMsT0FDbkI2TyxFQUFPaFEsR0FBTW1CLEdBQ2JnRCxFQUFRaEQsRUFFTGdELEtBQ0w2TCxFQUFLN0wsR0FBU2pELFVBQVVpRCxHQUUxQixHQUFJOHBCLEVBQ0YsSUFBSTNaLEVBQWNpZCxHQUFVakIsR0FDeEJrQixFQXZoSVosU0FBc0J0aEIsRUFBT29FLEdBSTNCLElBSEEsSUFBSW5ULEVBQVMrTyxFQUFNL08sT0FDZitCLEVBQVMsRUFFTi9CLEtBQ0QrTyxFQUFNL08sS0FBWW1ULEtBQ2xCcFIsRUFHTixPQUFPQSxDQUNSLENBNmdJMEJ1dUIsQ0FBYXpoQixFQUFNc0UsR0FTeEMsR0FQSXlaLElBQ0YvZCxFQUFPOGQsR0FBWTlkLEVBQU0rZCxFQUFVQyxFQUFTQyxJQUUxQzRDLElBQ0Y3Z0IsRUFBT3llLEdBQWlCemUsRUFBTTZnQixFQUFlQyxFQUFjN0MsSUFFN0Q5c0IsR0FBVXF3QixFQUNOdkQsR0FBYTlzQixFQUFTOHZCLEVBQU8sQ0FDL0IsSUFBSVMsRUFBYXJkLEdBQWVyRSxFQUFNc0UsR0FDdEMsT0FBT3FkLEdBQ0w3aEIsRUFBTTZPLEVBQVNpUyxHQUFjTixFQUFRaGMsWUFBYXZFLEVBQ2xEQyxFQUFNMGhCLEVBQVlYLEVBQVFDLEVBQUtDLEVBQVE5dkIsRUFFMUMsQ0FDRCxJQUFJMnVCLEVBQWNxQixFQUFTcGhCLEVBQVV0UCxLQUNqQzRFLEVBQUsrckIsRUFBWXRCLEVBQVloZ0IsR0FBUUEsRUFjekMsT0FaQTNPLEVBQVM2TyxFQUFLN08sT0FDVjR2QixFQUNGL2dCLEVBZzRDTixTQUFpQkUsRUFBTytaLEdBQ3RCLElBQUkySCxFQUFZMWhCLEVBQU0vTyxPQUNsQkEsRUFBUzBYLEdBQVVvUixFQUFROW9CLE9BQVF5d0IsR0FDbkNDLEVBQVcxVSxHQUFVak4sR0FFekIsS0FBTy9PLEtBQVUsQ0FDZixJQUFJZ0QsRUFBUThsQixFQUFROW9CLEdBQ3BCK08sRUFBTS9PLEdBQVUyYixHQUFRM1ksRUFBT3l0QixHQUFhQyxFQUFTMXRCLEdBQVNOLENBQy9ELENBQ0QsT0FBT3FNLENBQ1IsQ0ExNENZNGhCLENBQVE5aEIsRUFBTStnQixHQUNaTyxHQUFVbndCLEVBQVMsR0FDNUI2TyxFQUFLb0osVUFFSDhYLEdBQVNGLEVBQU03dkIsSUFDakI2TyxFQUFLN08sT0FBUzZ2QixHQUVadndCLE1BQVFBLE9BQVMyTixJQUFRM04sZ0JBQWdCNnZCLElBQzNDanJCLEVBQUt5YSxHQUFRK1AsR0FBV3hxQixJQUVuQkEsRUFBR2pFLE1BQU0wdUIsRUFBYTlmLEVBQzlCLENBRUYsQ0FVRCxTQUFTK2hCLEdBQWU1aEIsRUFBUTZoQixHQUM5QixPQUFnQjFmLFNBQUFBLEVBQVFsQyxHQUN0QixPQWgvREosU0FBc0JrQyxFQUFRbkMsRUFBUUMsRUFBVUMsR0FJOUMsT0FIQStSLEdBQVc5UCxHQUFRLFNBQVMzUSxFQUFPa1EsRUFBS1MsR0FDdENuQyxFQUFPRSxFQUFhRCxFQUFTek8sR0FBUWtRLEVBQUtTLEVBQ2xELElBQ2FqQyxDQUNSLENBMitEVTRoQixDQUFhM2YsRUFBUW5DLEVBQVE2aEIsRUFBVzVoQixHQUFXLENBQUUsRUFDcEUsQ0FDSyxDQVVELFNBQVM4aEIsR0FBb0JDLEVBQVVDLEdBQ3JDLE9BQWdCendCLFNBQUFBLEVBQU9xaUIsR0FDckIsSUFBSTlnQixFQUNKLEdBQUl2QixJQUFVa0MsR0FBYW1nQixJQUFVbmdCLEVBQ25DLE9BQU91dUIsRUFLVCxHQUhJendCLElBQVVrQyxJQUNaWCxFQUFTdkIsR0FFUHFpQixJQUFVbmdCLEVBQVcsQ0FDdkIsR0FBSVgsSUFBV1csRUFDYixPQUFPbWdCLEVBRVcsaUJBQVRyaUIsR0FBcUMsaUJBQVRxaUIsR0FDckNyaUIsRUFBUXlxQixHQUFhenFCLEdBQ3JCcWlCLEVBQVFvSSxHQUFhcEksS0FFckJyaUIsRUFBUXdxQixHQUFheHFCLEdBQ3JCcWlCLEVBQVFtSSxHQUFhbkksSUFFdkI5Z0IsRUFBU2l2QixFQUFTeHdCLEVBQU9xaUIsRUFDMUIsQ0FDRCxPQUFPOWdCLENBQ2YsQ0FDSyxDQVNELFNBQVNtdkIsR0FBV0MsR0FDbEIsT0FBT3BDLElBQVMsU0FBU2pILEdBRXZCLE9BREFBLEVBQVlqWSxHQUFTaVksRUFBV25XLEdBQVVxVyxPQUNuQ2tCLElBQVMsU0FBU3JhLEdBQ3ZCLElBQUlELEVBQVV0UCxLQUNkLE9BQU82eEIsRUFBVXJKLEdBQVcsU0FBUzdZLEdBQ25DLE9BQU9oUCxHQUFNZ1AsRUFBVUwsRUFBU0MsRUFDNUMsR0FDQSxHQUNBLEdBQ0ssQ0FXRCxTQUFTdWlCLEdBQWNweEIsRUFBUXF4QixHQUc3QixJQUFJQyxHQUZKRCxFQUFRQSxJQUFVM3VCLEVBQVksSUFBTXVvQixHQUFhb0csSUFFekJyeEIsT0FDeEIsR0FBSXN4QixFQUFjLEVBQ2hCLE9BQU9BLEVBQWNySSxHQUFXb0ksRUFBT3J4QixHQUFVcXhCLEVBRW5ELElBQUl0dkIsRUFBU2tuQixHQUFXb0ksRUFBT3phLEdBQVc1VyxFQUFTdVQsR0FBVzhkLEtBQzlELE9BQU81ZSxHQUFXNGUsR0FDZGpGLEdBQVUxWSxHQUFjM1IsR0FBUyxFQUFHL0IsR0FBUTBMLEtBQUssSUFDakQzSixFQUFPVixNQUFNLEVBQUdyQixFQUNyQixDQTRDRCxTQUFTdXhCLEdBQVkxZ0IsR0FDbkIsT0FBTyxTQUFTc1ksRUFBT1csRUFBSzBILEdBYTFCLE9BWklBLEdBQXVCLGlCQUFSQSxHQUFvQnZELEdBQWU5RSxFQUFPVyxFQUFLMEgsS0FDaEUxSCxFQUFNMEgsRUFBTzl1QixHQUdmeW1CLEVBQVFzSSxHQUFTdEksR0FDYlcsSUFBUXBuQixHQUNWb25CLEVBQU1YLEVBQ05BLEVBQVEsR0FFUlcsRUFBTTJILEdBQVMzSCxHQTU3Q3JCLFNBQW1CWCxFQUFPVyxFQUFLMEgsRUFBTTNnQixHQUtuQyxJQUpBLElBQUk3TixHQUFTLEVBQ1RoRCxFQUFTd1gsR0FBVVosSUFBWWtULEVBQU1YLElBQVVxSSxHQUFRLElBQUssR0FDNUR6dkIsRUFBU2xELEdBQU1tQixHQUVaQSxLQUNMK0IsRUFBTzhPLEVBQVk3USxJQUFXZ0QsR0FBU21tQixFQUN2Q0EsR0FBU3FJLEVBRVgsT0FBT3p2QixDQUNSLENBcTdDVTJ2QixDQUFVdkksRUFBT1csRUFEeEIwSCxFQUFPQSxJQUFTOXVCLEVBQWF5bUIsRUFBUVcsRUFBTSxHQUFLLEVBQUsySCxHQUFTRCxHQUMzQjNnQixFQUMzQyxDQUNLLENBU0QsU0FBUzhnQixHQUEwQlgsR0FDakMsT0FBTyxTQUFTeHdCLEVBQU9xaUIsR0FLckIsTUFKc0IsaUJBQVRyaUIsR0FBcUMsaUJBQVRxaUIsSUFDdkNyaUIsRUFBUW94QixHQUFTcHhCLEdBQ2pCcWlCLEVBQVErTyxHQUFTL08sSUFFWm1PLEVBQVN4d0IsRUFBT3FpQixFQUMvQixDQUNLLENBbUJELFNBQVMyTixHQUFjN2hCLEVBQU02TyxFQUFTcVUsRUFBVTFlLEVBQWF2RSxFQUFTZ2UsRUFBVUMsRUFBUytDLEVBQVFDLEVBQUtDLEdBQ3BHLElBQUlnQyxFQXJ4S2MsRUFxeEtKdFUsRUFNZEEsR0FBWXNVLEVBQVV6c0IsRUFBb0JDLEVBNXhLbEIsR0E2eEt4QmtZLEtBQWFzVSxFQUFVeHNCLEVBQTBCRCxNQUcvQ21ZLElBQVcsR0FFYixJQUFJdVUsRUFBVSxDQUNacGpCLEVBQU02TyxFQUFTNU8sRUFWQ2tqQixFQUFVbEYsRUFBV2xxQixFQUZ0Qm92QixFQUFVakYsRUFBVW5xQixFQUdkb3ZCLEVBQVVwdkIsRUFBWWtxQixFQUZ2QmtGLEVBQVVwdkIsRUFBWW1xQixFQVl6QitDLEVBQVFDLEVBQUtDLEdBRzVCL3RCLEVBQVM4dkIsRUFBUzV4QixNQUFNeUMsRUFBV3F2QixHQUt2QyxPQUpJeEMsR0FBVzVnQixJQUNicWpCLEdBQVFqd0IsRUFBUWd3QixHQUVsQmh3QixFQUFPb1IsWUFBY0EsRUFDZDhlLEdBQWdCbHdCLEVBQVE0TSxFQUFNNk8sRUFDdEMsQ0FTRCxTQUFTMFUsR0FBWTlELEdBQ25CLElBQUl6ZixFQUFPNkYsR0FBSzRaLEdBQ2hCLE9BQU8sU0FBU2hSLEVBQVErVSxHQUd0QixHQUZBL1UsRUFBU3dVLEdBQVN4VSxJQUNsQitVLEVBQXlCLE1BQWJBLEVBQW9CLEVBQUl6YSxHQUFVMGEsR0FBVUQsR0FBWSxPQUNuRC9hLEdBQWVnRyxHQUFTLENBR3ZDLElBQUlpVixHQUFRdmQsR0FBU3NJLEdBQVUsS0FBS3ZKLE1BQU0sS0FJMUMsU0FEQXdlLEdBQVF2ZCxHQUZJbkcsRUFBSzBqQixFQUFLLEdBQUssTUFBUUEsRUFBSyxHQUFLRixLQUVuQixLQUFLdGUsTUFBTSxNQUN2QixHQUFLLE1BQVF3ZSxFQUFLLEdBQUtGLEdBQ3RDLENBQ0QsT0FBT3hqQixFQUFLeU8sRUFDcEIsQ0FDSyxDQVNELElBQUkrTixHQUFjOVMsSUFBUSxFQUFJakYsR0FBVyxJQUFJaUYsR0FBSSxDQUFBLEVBQUcsS0FBSyxJQUFPNVMsRUFBbUIsU0FBU3NLLEdBQzFGLE9BQU8sSUFBSXNJLEdBQUl0SSxFQUNyQixFQUZnRnVpQixHQVc1RSxTQUFTQyxHQUFjbFEsR0FDckIsT0FBZ0JsUixTQUFBQSxHQUNkLElBQUk2TSxFQUFNQyxHQUFPOU0sR0FDakIsT0FBSTZNLEdBQU8zWCxFQUNGc00sR0FBV3hCLEdBRWhCNk0sR0FBT3RYLEVBQ0Y0TSxHQUFXbkMsR0FuNkkxQixTQUFxQkEsRUFBUVUsR0FDM0IsT0FBT2hDLEdBQVNnQyxHQUFPLFNBQVNuQixHQUM5QixNQUFPLENBQUNBLEVBQUtTLEVBQU9ULEdBQzFCLEdBQ0csQ0FpNklZOGhCLENBQVlyaEIsRUFBUWtSLEVBQVNsUixHQUM1QyxDQUNLLENBMkJELFNBQVNzaEIsR0FBVzlqQixFQUFNNk8sRUFBUzVPLEVBQVNnZSxFQUFVQyxFQUFTK0MsRUFBUUMsRUFBS0MsR0FDMUUsSUFBSUcsRUFsNEtpQixFQWs0S0x6UyxFQUNoQixJQUFLeVMsR0FBNEIsbUJBQVJ0aEIsRUFDdkIsTUFBTSxJQUFJeFAsR0FBVThGLEdBRXRCLElBQUlqRixFQUFTNHNCLEVBQVdBLEVBQVM1c0IsT0FBUyxFQVMxQyxHQVJLQSxJQUNId2QsSUFBVyxHQUNYb1AsRUFBV0MsRUFBVW5xQixHQUV2Qm10QixFQUFNQSxJQUFRbnRCLEVBQVltdEIsRUFBTXJZLEdBQVU0YSxHQUFVdkMsR0FBTSxHQUMxREMsRUFBUUEsSUFBVXB0QixFQUFZb3RCLEVBQVFzQyxHQUFVdEMsR0FDaEQ5dkIsR0FBVTZzQixFQUFVQSxFQUFRN3NCLE9BQVMsRUFFakN3ZCxFQUFVbFksRUFBeUIsQ0FDckMsSUFBSW9xQixFQUFnQjlDLEVBQ2hCK0MsRUFBZTlDLEVBRW5CRCxFQUFXQyxFQUFVbnFCLENBQ3RCLENBQ0QsSUFBSXdZLEVBQU8rVSxFQUFZdnRCLEVBQVk0c0IsR0FBUTNnQixHQUV2Q29qQixFQUFVLENBQ1pwakIsRUFBTTZPLEVBQVM1TyxFQUFTZ2UsRUFBVUMsRUFBUzZDLEVBQWVDLEVBQzFEQyxFQUFRQyxFQUFLQyxHQWtCZixHQWZJNVUsR0EyNkJOLFNBQW1CQSxFQUFNbFQsR0FDdkIsSUFBSXdWLEVBQVV0QyxFQUFLLEdBQ2Z3WCxFQUFhMXFCLEVBQU8sR0FDcEIycUIsRUFBYW5WLEVBQVVrVixFQUN2QjFTLEVBQVcyUyxFQUFjQyxJQUV6QkMsRUFDQUgsR0FBY250QixHQTUwTUEsR0E0ME1tQmlZLEdBQ2pDa1YsR0FBY250QixHQUFtQmlZLEdBQVdoWSxHQUFxQjBWLEVBQUssR0FBR2xiLFFBQVVnSSxFQUFPLElBQ2hGLEtBQVYwcUIsR0FBcUQxcUIsRUFBTyxHQUFHaEksUUFBVWdJLEVBQU8sSUE5ME1sRSxHQTgwTTBFd1YsRUFHNUYsSUFBTXdDLElBQVk2UyxFQUNoQixPQUFPM1gsRUFyMU1RLEVBdzFNYndYLElBQ0Z4WCxFQUFLLEdBQUtsVCxFQUFPLEdBRWpCMnFCLEdBMzFNZSxFQTIxTURuVixFQUEyQixFQXoxTW5CLEdBNDFNeEIsSUFBSWhkLEVBQVF3SCxFQUFPLEdBQ25CLEdBQUl4SCxFQUFPLENBQ1QsSUFBSW9zQixFQUFXMVIsRUFBSyxHQUNwQkEsRUFBSyxHQUFLMFIsRUFBV0QsR0FBWUMsRUFBVXBzQixFQUFPd0gsRUFBTyxJQUFNeEgsRUFDL0QwYSxFQUFLLEdBQUswUixFQUFXMVosR0FBZWdJLEVBQUssR0FBSS9WLEdBQWU2QyxFQUFPLEVBQ3BFLEVBRUR4SCxFQUFRd0gsRUFBTyxNQUViNGtCLEVBQVcxUixFQUFLLEdBQ2hCQSxFQUFLLEdBQUswUixFQUFXVSxHQUFpQlYsRUFBVXBzQixFQUFPd0gsRUFBTyxJQUFNeEgsRUFDcEUwYSxFQUFLLEdBQUswUixFQUFXMVosR0FBZWdJLEVBQUssR0FBSS9WLEdBQWU2QyxFQUFPLEtBR3JFeEgsRUFBUXdILEVBQU8sTUFFYmtULEVBQUssR0FBSzFhLEdBR1JreUIsRUFBYW50QixJQUNmMlYsRUFBSyxHQUFnQixNQUFYQSxFQUFLLEdBQWFsVCxFQUFPLEdBQUswUCxHQUFVd0QsRUFBSyxHQUFJbFQsRUFBTyxLQUdyRCxNQUFYa1QsRUFBSyxLQUNQQSxFQUFLLEdBQUtsVCxFQUFPLElBR25Ca1QsRUFBSyxHQUFLbFQsRUFBTyxHQUNqQmtULEVBQUssR0FBS3lYLENBR1gsQ0EvOUJHRyxDQUFVZixFQUFTN1csR0FFckJ2TSxFQUFPb2pCLEVBQVEsR0FDZnZVLEVBQVV1VSxFQUFRLEdBQ2xCbmpCLEVBQVVtakIsRUFBUSxHQUNsQm5GLEVBQVdtRixFQUFRLEdBQ25CbEYsRUFBVWtGLEVBQVEsS0FDbEJqQyxFQUFRaUMsRUFBUSxHQUFLQSxFQUFRLEtBQU9ydkIsRUFDL0J1dEIsRUFBWSxFQUFJdGhCLEVBQUszTyxPQUN0QndYLEdBQVV1YSxFQUFRLEdBQUsveEIsRUFBUSxRQUVyQndkLElBQ1pBLElBQVcsSUFFUkEsR0E1NktZLEdBNDZLREEsRUFHZHpiLEVBNTZLZ0IsR0EyNktQeWIsR0FBOEJBLEdBQVdwWSxFQXBnQnRELFNBQXFCdUosRUFBTTZPLEVBQVNzUyxHQUNsQyxJQUFJblIsRUFBTytQLEdBQVcvZixHQXdCdEIsT0F0QkEsU0FBU3dnQixJQU1QLElBTEEsSUFBSW52QixFQUFTRCxVQUFVQyxPQUNuQjZPLEVBQU9oUSxHQUFNbUIsR0FDYmdELEVBQVFoRCxFQUNSbVQsRUFBY2lkLEdBQVVqQixHQUVyQm5zQixLQUNMNkwsRUFBSzdMLEdBQVNqRCxVQUFVaUQsR0FFMUIsSUFBSTZwQixFQUFXN3NCLEVBQVMsR0FBSzZPLEVBQUssS0FBT3NFLEdBQWV0RSxFQUFLN08sRUFBUyxLQUFPbVQsRUFDekUsR0FDQUQsR0FBZXJFLEVBQU1zRSxHQUd6QixPQURBblQsR0FBVTZzQixFQUFRN3NCLFFBQ0w4dkIsRUFDSlUsR0FDTDdoQixFQUFNNk8sRUFBU2lTLEdBQWNOLEVBQVFoYyxZQUFhelEsRUFDbERtTSxFQUFNZ2UsRUFBU25xQixFQUFXQSxFQUFXb3RCLEVBQVE5dkIsR0FHMUNDLEdBREdYLE1BQVFBLE9BQVMyTixJQUFRM04sZ0JBQWdCNnZCLEVBQVd4USxFQUFPaFEsRUFDcERyUCxLQUFNdVAsRUFDeEIsQ0FFRixDQTJlWWtrQixDQUFZcGtCLEVBQU02TyxFQUFTc1MsR0FDMUJ0UyxHQUFXblksT0FBcUJtWSxHQUFxRHFQLEVBQVE3c0IsT0FHOUZ5dkIsR0FBYXh2QixNQUFNeUMsRUFBV3F2QixHQTlPM0MsU0FBdUJwakIsRUFBTTZPLEVBQVM1TyxFQUFTZ2UsR0FDN0MsSUFBSW9ELEVBdHNLYSxFQXNzS0p4UyxFQUNUbUIsRUFBTytQLEdBQVcvZixHQWtCdEIsT0FoQkEsU0FBU3dnQixJQVFQLElBUEEsSUFBSXBDLEdBQWEsRUFDYkMsRUFBYWp0QixVQUFVQyxPQUN2Qmt0QixHQUFhLEVBQ2JDLEVBQWFQLEVBQVM1c0IsT0FDdEI2TyxFQUFPaFEsR0FBTXN1QixFQUFhSCxHQUMxQjlvQixFQUFNNUUsTUFBUUEsT0FBUzJOLElBQVEzTixnQkFBZ0I2dkIsRUFBV3hRLEVBQU9oUSxJQUU1RHVlLEVBQVlDLEdBQ25CdGUsRUFBS3FlLEdBQWFOLEVBQVNNLEdBRTdCLEtBQU9GLEtBQ0xuZSxFQUFLcWUsS0FBZW50QixZQUFZZ3RCLEdBRWxDLE9BQU85c0IsR0FBTWlFLEVBQUk4ckIsRUFBU3BoQixFQUFVdFAsS0FBTXVQLEVBQzNDLENBRUYsQ0F1Tllta0IsQ0FBY3JrQixFQUFNNk8sRUFBUzVPLEVBQVNnZSxRQUovQyxJQUFJN3FCLEVBaG1CUixTQUFvQjRNLEVBQU02TyxFQUFTNU8sR0FDakMsSUFBSW9oQixFQTkwSmEsRUE4MEpKeFMsRUFDVG1CLEVBQU8rUCxHQUFXL2YsR0FNdEIsT0FKQSxTQUFTd2dCLElBRVAsT0FEVTd2QixNQUFRQSxPQUFTMk4sSUFBUTNOLGdCQUFnQjZ2QixFQUFXeFEsRUFBT2hRLEdBQzNEMU8sTUFBTSt2QixFQUFTcGhCLEVBQVV0UCxLQUFNUyxVQUMxQyxDQUVGLENBdWxCZ0JrekIsQ0FBV3RrQixFQUFNNk8sRUFBUzVPLEdBU3pDLE9BQU9xakIsSUFETS9XLEVBQU91TyxHQUFjdUksSUFDSmp3QixFQUFRZ3dCLEdBQVVwakIsRUFBTTZPLEVBQ3ZELENBY0QsU0FBUzBWLEdBQXVCM1csRUFBVXNKLEVBQVVuVixFQUFLUyxHQUN2RCxPQUFJb0wsSUFBYTdaLEdBQ1owWixHQUFHRyxFQUFVNUgsR0FBWWpFLE1BQVUxUixHQUFlQyxLQUFLa1MsRUFBUVQsR0FDM0RtVixFQUVGdEosQ0FDUixDQWdCRCxTQUFTNFcsR0FBb0I1VyxFQUFVc0osRUFBVW5WLEVBQUtTLEVBQVFuSixFQUFRMFYsR0FPcEUsT0FOSS9ELEdBQVM0QyxJQUFhNUMsR0FBU2tNLEtBRWpDbkksRUFBTXJLLElBQUl3UyxFQUFVdEosR0FDcEIySyxHQUFVM0ssRUFBVXNKLEVBQVVuakIsRUFBV3l3QixHQUFxQnpWLEdBQzlEQSxFQUFjLE9BQUVtSSxJQUVYdEosQ0FDUixDQVdELFNBQVM2VyxHQUFnQjV5QixHQUN2QixPQUFPaW5CLEdBQWNqbkIsR0FBU2tDLEVBQVlsQyxDQUMzQyxDQWVELFNBQVM0akIsR0FBWXJWLEVBQU84VCxFQUFPckYsRUFBU0MsRUFBWW1HLEVBQVdsRyxHQUNqRSxJQUFJOEcsRUFwZ0xtQixFQW9nTFBoSCxFQUNaaVQsRUFBWTFoQixFQUFNL08sT0FDbEJrakIsRUFBWUwsRUFBTTdpQixPQUV0QixHQUFJeXdCLEdBQWF2TixLQUFlc0IsR0FBYXRCLEVBQVl1TixHQUN2RCxPQUFZLEVBR2QsSUFBSTRDLEVBQWEzVixFQUFNUCxJQUFJcE8sR0FDdkJtVyxFQUFheEgsRUFBTVAsSUFBSTBGLEdBQzNCLEdBQUl3USxHQUFjbk8sRUFDaEIsT0FBT21PLEdBQWN4USxHQUFTcUMsR0FBY25XLEVBRTlDLElBQUkvTCxHQUFTLEVBQ1RqQixHQUFTLEVBQ1R3aEIsRUFsaExxQixFQWtoTGIvRixFQUFvQyxJQUFJMUMsR0FBV3BZLEVBTS9ELElBSkFnYixFQUFNckssSUFBSXRFLEVBQU84VCxHQUNqQm5GLEVBQU1ySyxJQUFJd1AsRUFBTzlULEtBR1IvTCxFQUFReXRCLEdBQVcsQ0FDMUIsSUFBSTZDLEVBQVd2a0IsRUFBTS9MLEdBQ2pCb2lCLEVBQVd2QyxFQUFNN2YsR0FFckIsR0FBSXlhLEVBQ0YsSUFBSTRILEVBQVdiLEVBQ1gvRyxFQUFXMkgsRUFBVWtPLEVBQVV0d0IsRUFBTzZmLEVBQU85VCxFQUFPMk8sR0FDcERELEVBQVc2VixFQUFVbE8sRUFBVXBpQixFQUFPK0wsRUFBTzhULEVBQU9uRixHQUUxRCxHQUFJMkgsSUFBYTNpQixFQUFXLENBQzFCLEdBQUkyaUIsRUFDRixTQUVGdGpCLEdBQVMsRUFDVCxLQUNELENBRUQsR0FBSXdoQixHQUNGLElBQUtuVCxHQUFVeVMsR0FBTyxTQUFTdUMsRUFBVWpDLEdBQ25DLElBQUtyUixHQUFTeVIsRUFBTUosS0FDZm1RLElBQWFsTyxHQUFZeEIsRUFBVTBQLEVBQVVsTyxFQUFVNUgsRUFBU0MsRUFBWUMsSUFDL0UsT0FBTzZGLEVBQUt6aUIsS0FBS3FpQixFQUVuQyxJQUFrQixDQUNOcGhCLEdBQVMsRUFDVCxLQUNELE9BQ0ksR0FDRHV4QixJQUFhbE8sSUFDWHhCLEVBQVUwUCxFQUFVbE8sRUFBVTVILEVBQVNDLEVBQVlDLEdBQ3BELENBQ0wzYixHQUFTLEVBQ1QsS0FDRCxDQUNGLENBR0QsT0FGQTJiLEVBQWMsT0FBRTNPLEdBQ2hCMk8sRUFBYyxPQUFFbUYsR0FDVDlnQixDQUNSLENBeUtELFNBQVNndEIsR0FBU3BnQixHQUNoQixPQUFPeWEsR0FBWUMsR0FBUzFhLEVBQU1qTSxFQUFXNndCLElBQVU1a0IsRUFBTyxHQUMvRCxDQVNELFNBQVMrUSxHQUFXdk8sR0FDbEIsT0FBT2lSLEdBQWVqUixFQUFRK0QsR0FBTXVKLEdBQ3JDLENBVUQsU0FBU2dCLEdBQWF0TyxHQUNwQixPQUFPaVIsR0FBZWpSLEVBQVFvTixHQUFRRixHQUN2QyxDQVNELElBQUlpUixHQUFXOVcsR0FBaUIsU0FBUzdKLEdBQ3ZDLE9BQU82SixHQUFRMkUsSUFBSXhPLEVBQ3pCLEVBRjZCMmpCLEdBV3pCLFNBQVNsRCxHQUFZemdCLEdBS25CLElBSkEsSUFBSTVNLEVBQVU0TSxFQUFLMFYsS0FBTyxHQUN0QnRWLEVBQVEwSixHQUFVMVcsR0FDbEIvQixFQUFTaEIsR0FBZUMsS0FBS3daLEdBQVcxVyxHQUFVZ04sRUFBTS9PLE9BQVMsRUFFOURBLEtBQVUsQ0FDZixJQUFJa2IsRUFBT25NLEVBQU0vTyxHQUNid3pCLEVBQVl0WSxFQUFLdk0sS0FDckIsR0FBaUIsTUFBYjZrQixHQUFxQkEsR0FBYTdrQixFQUNwQyxPQUFPdU0sRUFBS21KLElBRWYsQ0FDRCxPQUFPdGlCLENBQ1IsQ0FTRCxTQUFTcXVCLEdBQVV6aEIsR0FFakIsT0FEYTNQLEdBQWVDLEtBQUttYSxHQUFRLGVBQWlCQSxHQUFTekssR0FDckR3RSxXQUNmLENBYUQsU0FBUzZVLEtBQ1AsSUFBSWptQixFQUFTcVgsR0FBT25LLFVBQVlBLEdBRWhDLE9BREFsTixFQUFTQSxJQUFXa04sR0FBVytXLEdBQWVqa0IsRUFDdkNoQyxVQUFVQyxPQUFTK0IsRUFBT2hDLFVBQVUsR0FBSUEsVUFBVSxJQUFNZ0MsQ0FDaEUsQ0FVRCxTQUFTOGUsR0FBV2pPLEVBQUtsQyxHQUN2QixJQWdZaUJsUSxFQUNiaXpCLEVBallBdlksRUFBT3RJLEVBQUltSSxTQUNmLE9BaVlnQixXQURaMFksRUFBSTVtQixFQURTck0sRUEvWEFrUSxLQWlZbUIsVUFBUitpQixHQUE0QixVQUFSQSxHQUE0QixXQUFSQSxFQUNyRCxjQUFWanpCLEVBQ1UsT0FBVkEsR0FsWUQwYSxFQUFtQixpQkFBUHhLLEVBQWtCLFNBQVcsUUFDekN3SyxFQUFLdEksR0FDVixDQVNELFNBQVNpVSxHQUFhMVYsR0FJcEIsSUFIQSxJQUFJcFAsRUFBU21ULEdBQUsvRCxHQUNkblIsRUFBUytCLEVBQU8vQixPQUViQSxLQUFVLENBQ2YsSUFBSTBRLEVBQU0zTyxFQUFPL0IsR0FDYlEsRUFBUTJRLEVBQU9ULEdBRW5CM08sRUFBTy9CLEdBQVUsQ0FBQzBRLEVBQUtsUSxFQUFPd21CLEdBQW1CeG1CLEdBQ2xELENBQ0QsT0FBT3VCLENBQ1IsQ0FVRCxTQUFTc1UsR0FBVWxGLEVBQVFULEdBQ3pCLElBQUlsUSxFQWx4SlIsU0FBa0IyUSxFQUFRVCxHQUN4QixPQUFpQixNQUFWUyxFQUFpQnpPLEVBQVl5TyxFQUFPVCxFQUM1QyxDQWd4SmVnakIsQ0FBU3ZpQixFQUFRVCxHQUM3QixPQUFPcVYsR0FBYXZsQixHQUFTQSxFQUFRa0MsQ0FDdEMsQ0FvQ0QsSUFBSStiLEdBQWN6SCxHQUErQixTQUFTN0YsR0FDeEQsT0FBYyxNQUFWQSxFQUNLLElBRVRBLEVBQVN6UyxHQUFPeVMsR0FDVDVCLEdBQVl5SCxHQUFpQjdGLElBQVMsU0FBU2tPLEdBQ3BELE9BQU92SixHQUFxQjdXLEtBQUtrUyxFQUFRa08sRUFDakQsSUFDQSxFQVJ5Q3NVLEdBaUJqQ3RWLEdBQWdCckgsR0FBK0IsU0FBUzdGLEdBRTFELElBREEsSUFBSXBQLEVBQVMsR0FDTm9QLEdBQ0xyQixHQUFVL04sRUFBUTBjLEdBQVd0TixJQUM3QkEsRUFBU3dFLEdBQWF4RSxHQUV4QixPQUFPcFAsQ0FDYixFQVAyQzR4QixHQWdCbkMxVixHQUFTc0UsR0EyRWIsU0FBU3FSLEdBQVF6aUIsRUFBUTNOLEVBQU1xd0IsR0FPN0IsSUFKQSxJQUFJN3dCLEdBQVMsRUFDVGhELEdBSEp3RCxFQUFPMGUsR0FBUzFlLEVBQU0yTixJQUdKblIsT0FDZCtCLEdBQVMsSUFFSmlCLEVBQVFoRCxHQUFRLENBQ3ZCLElBQUkwUSxFQUFNeVIsR0FBTTNlLEVBQUtSLElBQ3JCLEtBQU1qQixFQUFtQixNQUFWb1AsR0FBa0IwaUIsRUFBUTFpQixFQUFRVCxJQUMvQyxNQUVGUyxFQUFTQSxFQUFPVCxFQUNqQixDQUNELE9BQUkzTyxLQUFZaUIsR0FBU2hELEVBQ2hCK0IsS0FFVC9CLEVBQW1CLE1BQVZtUixFQUFpQixFQUFJQSxFQUFPblIsU0FDbEI4ekIsR0FBUzl6QixJQUFXMmIsR0FBUWpMLEVBQUsxUSxLQUNqRCtFLEdBQVFvTSxJQUFXb0ssR0FBWXBLLEdBQ25DLENBNEJELFNBQVNpTixHQUFnQmpOLEdBQ3ZCLE1BQXFDLG1CQUF0QkEsRUFBTzVSLGFBQThCK21CLEdBQVluVixHQUU1RCxDQUFBLEVBREFzSSxHQUFXOUQsR0FBYXhFLEdBRTdCLENBNEVELFNBQVN3USxHQUFjbmhCLEdBQ3JCLE9BQU91RSxHQUFRdkUsSUFBVSthLEdBQVkvYSxPQUNoQ3VWLElBQW9CdlYsR0FBU0EsRUFBTXVWLElBQ3pDLENBVUQsU0FBUzRGLEdBQVFuYixFQUFPUixHQUN0QixJQUFJeXpCLEVBQUk1bUIsRUFBVXJNLEdBR2xCLFNBRkFSLEVBQW1CLE1BQVZBLEVBQWlCMEYsRUFBbUIxRixLQUdsQyxVQUFSeXpCLEdBQ1UsVUFBUkEsR0FBb0JqcUIsR0FBU2tKLEtBQUtsUyxLQUNoQ0EsR0FBUyxHQUFLQSxFQUFRLEdBQUssR0FBS0EsRUFBUVIsQ0FDaEQsQ0FZRCxTQUFTaXVCLEdBQWV6dEIsRUFBT3dDLEVBQU9tTyxHQUNwQyxJQUFLd0ksR0FBU3hJLEdBQ1osU0FFRixJQUFJc2lCLEVBQUk1bUIsRUFBVTdKLEdBQ2xCLFNBQVksVUFBUnl3QixFQUNLN00sR0FBWXpWLElBQVd3SyxHQUFRM1ksRUFBT21PLEVBQU9uUixRQUNyQyxVQUFSeXpCLEdBQW9CendCLEtBQVNtTyxJQUU3QmlMLEdBQUdqTCxFQUFPbk8sR0FBUXhDLEVBRzVCLENBVUQsU0FBU3VtQixHQUFNdm1CLEVBQU8yUSxHQUNwQixHQUFJcE0sR0FBUXZFLEdBQ1YsU0FFRixJQUFJaXpCLEVBQUk1bUIsRUFBVXJNLEdBQ2xCLFFBQVksVUFBUml6QixHQUE0QixVQUFSQSxHQUE0QixXQUFSQSxHQUMvQixNQUFUanpCLElBQWlCOGdCLEdBQVM5Z0IsTUFHdkI4SCxHQUFjb0ssS0FBS2xTLEtBQVc2SCxHQUFhcUssS0FBS2xTLElBQzFDLE1BQVYyUSxHQUFrQjNRLEtBQVM5QixHQUFPeVMsR0FDdEMsQ0F3QkQsU0FBU29lLEdBQVc1Z0IsR0FDbEIsSUFBSTBnQixFQUFXRCxHQUFZemdCLEdBQ3ZCa1UsRUFBUXpKLEdBQU9pVyxHQUVuQixHQUFvQixtQkFBVHhNLEtBQXlCd00sS0FBWS9WLEdBQVl2YSxXQUMxRCxPQUFPLEVBRVQsR0FBSTRQLElBQVNrVSxFQUNYLE9BQU8sRUFFVCxJQUFJM0gsRUFBT29VLEdBQVF6TSxHQUNuQixRQUFTM0gsR0FBUXZNLElBQVN1TSxFQUFLLEVBQ2hDLEVBOVNJaEQsSUFBWStGLEdBQU8sSUFBSS9GLEdBQVMsSUFBSTZiLFlBQVksTUFBUWh0QixHQUN4RG9SLElBQU84RixHQUFPLElBQUk5RixLQUFROVIsR0FDMUIrUixJQUFXNkYsR0FBTzdGLEdBQVE0YixZQUFjeHRCLEdBQ3hDNlIsSUFBTzRGLEdBQU8sSUFBSTVGLEtBQVEzUixHQUMxQjRSLElBQVcyRixHQUFPLElBQUkzRixLQUFZelIsS0FDckNvWCxHQUFTLFNBQVN6ZCxHQUNoQixJQUFJdUIsRUFBU3dnQixHQUFXL2hCLEdBQ3BCbWUsRUFBTzVjLEdBQVV3RSxFQUFZL0YsRUFBTWpCLFlBQWNtRCxFQUNqRHV4QixFQUFhdFYsRUFBT2hHLEdBQVNnRyxHQUFRLEdBRXpDLEdBQUlzVixFQUNGLE9BQVFBLEdBQ04sS0FBS3ZiLEdBQW9CLE9BQU8zUixFQUNoQyxLQUFLNlIsR0FBZSxPQUFPdlMsRUFDM0IsS0FBS3dTLEdBQW1CLE9BQU9yUyxFQUMvQixLQUFLc1MsR0FBZSxPQUFPcFMsRUFDM0IsS0FBS3FTLEdBQW1CLE9BQU9sUyxFQUduQyxPQUFPOUUsQ0FDZixHQThTSSxJQUFJbXlCLEdBQWF0ZixHQUFhb04sR0FBYW1TLEdBUzNDLFNBQVM3TixHQUFZOWxCLEdBQ25CLElBQUltZSxFQUFPbmUsR0FBU0EsRUFBTWpCLFlBRzFCLE9BQU9pQixLQUZxQixtQkFBUm1lLEdBQXNCQSxFQUFLNWYsV0FBYzRWLEdBRzlELENBVUQsU0FBU3FTLEdBQW1CeG1CLEdBQzFCLE9BQU9BLEdBQVVBLElBQVVtWixHQUFTblosRUFDckMsQ0FXRCxTQUFTc21CLEdBQXdCcFcsRUFBS21WLEdBQ3BDLE9BQU8sU0FBUzFVLEdBQ2QsT0FBYyxNQUFWQSxJQUdHQSxFQUFPVCxLQUFTbVYsSUFDcEJBLElBQWFuakIsR0FBY2dPLEtBQU9oUyxHQUFPeVMsSUFDcEQsQ0FDSyxDQW9JRCxTQUFTa1ksR0FBUzFhLEVBQU13YSxFQUFPblcsR0FFN0IsT0FEQW1XLEVBQVEzUixHQUFVMlIsSUFBVXptQixFQUFhaU0sRUFBSzNPLE9BQVMsRUFBS21wQixFQUFPLGNBT2pFLElBTEEsSUFBSXRhLEVBQU85TyxVQUNQaUQsR0FBUyxFQUNUaEQsRUFBU3dYLEdBQVUzSSxFQUFLN08sT0FBU21wQixFQUFPLEdBQ3hDcGEsRUFBUWxRLEdBQU1tQixLQUVUZ0QsRUFBUWhELEdBQ2YrTyxFQUFNL0wsR0FBUzZMLEVBQUtzYSxFQUFRbm1CLEdBRTlCQSxHQUFTLEVBRVQsSUFEQSxJQUFJb3hCLEVBQVl2MUIsR0FBTXNxQixFQUFRLEtBQ3JCbm1CLEVBQVFtbUIsR0FDZmlMLEVBQVVweEIsR0FBUzZMLEVBQUs3TCxHQUcxQixPQURBb3hCLEVBQVVqTCxHQUFTblcsRUFBVWpFLEdBQ3RCOU8sR0FBTTBPLEVBQU1yUCxLQUFNODBCLEVBQ2pDLENBQ0ssQ0FVRCxTQUFTenhCLEdBQU93TyxFQUFRM04sR0FDdEIsT0FBT0EsRUFBS3hELE9BQVMsRUFBSW1SLEVBQVM4USxHQUFROVEsRUFBUTBZLEdBQVVybUIsRUFBTSxHQUFJLEdBQ3ZFLENBZ0NELFNBQVM2akIsR0FBUWxXLEVBQVFULEdBQ3ZCLElBQVksZ0JBQVJBLEdBQWdELG1CQUFoQlMsRUFBT1QsS0FJaEMsYUFBUEEsRUFJSixPQUFPUyxFQUFPVCxFQUNmLENBZ0JELElBQUlzaEIsR0FBVXFDLEdBQVM1SyxJQVVuQjlTLEdBQWFELElBQWlCLFNBQVMvSCxFQUFNa1IsR0FDL0MsT0FBTzVTLEdBQUswSixXQUFXaEksRUFBTWtSLEVBQ25DLEVBVVF1SixHQUFjaUwsR0FBUzNLLElBWTNCLFNBQVN1SSxHQUFnQjlDLEVBQVNtRixFQUFXOVcsR0FDM0MsSUFBSXhWLEVBQVVzc0IsRUFBWSxHQUMxQixPQUFPbEwsR0FBWStGLEVBMWJyQixTQUEyQm5uQixFQUFRdXNCLEdBQ2pDLElBQUl2MEIsRUFBU3UwQixFQUFRdjBCLE9BQ3JCLElBQUtBLEVBQ0gsT0FBT2dJLEVBRVQsSUFBSXdMLEVBQVl4VCxFQUFTLEVBR3pCLE9BRkF1MEIsRUFBUS9nQixJQUFjeFQsRUFBUyxFQUFJLEtBQU8sSUFBTXUwQixFQUFRL2dCLEdBQ3hEK2dCLEVBQVVBLEVBQVE3b0IsS0FBSzFMLEVBQVMsRUFBSSxLQUFPLEtBQ3BDZ0ksRUFBTzBKLFFBQVE5SSxHQUFlLHVCQUF5QjJyQixFQUFVLFNBQ3pFLENBaWI2QkMsQ0FBa0J4c0IsRUFxSGhELFNBQTJCdXNCLEVBQVMvVyxHQU9sQyxPQU5Bck8sR0FBVXRKLEdBQVcsU0FBU3dzQixHQUM1QixJQUFJN3hCLEVBQVEsS0FBTzZ4QixFQUFLLEdBQ25CN1UsRUFBVTZVLEVBQUssS0FBUTVpQixHQUFjOGtCLEVBQVMvekIsSUFDakQrekIsRUFBUXp6QixLQUFLTixFQUV2QixJQUNhK3pCLEVBQVFwTSxNQUNoQixDQTdIdURzTSxDQXRqQnhELFNBQXdCenNCLEdBQ3RCLElBQUkyTCxFQUFRM0wsRUFBTzJMLE1BQU05SyxJQUN6QixPQUFPOEssRUFBUUEsRUFBTSxHQUFHRSxNQUFNL0ssSUFBa0IsRUFDakQsQ0FtakJ5RTRyQixDQUFlMXNCLEdBQVN3VixJQUNqRyxDQVdELFNBQVM2VyxHQUFTMWxCLEdBQ2hCLElBQUlnbUIsRUFBUSxFQUNSQyxFQUFhLEVBRWpCLE9BQU8sV0FDTCxJQUFJQyxFQUFRamQsS0FDUmtkLEVBcGlOSyxJQW9pTm1CRCxFQUFRRCxHQUdwQyxHQURBQSxFQUFhQyxFQUNUQyxFQUFZLEdBQ2QsS0FBTUgsR0F6aU5FLElBMGlOTixPQUFPNTBCLFVBQVUsUUFHbkI0MEIsRUFBUSxFQUVWLE9BQU9obUIsRUFBSzFPLE1BQU15QyxFQUFXM0MsVUFDckMsQ0FDSyxDQVVELFNBQVNnYyxHQUFZaE4sRUFBTzhELEdBQzFCLElBQUk3UCxHQUFTLEVBQ1RoRCxFQUFTK08sRUFBTS9PLE9BQ2Z3VCxFQUFZeFQsRUFBUyxFQUd6QixJQURBNlMsRUFBT0EsSUFBU25RLEVBQVkxQyxFQUFTNlMsSUFDNUI3UCxFQUFRNlAsR0FBTSxDQUNyQixJQUFJa2lCLEVBQU9sWixHQUFXN1ksRUFBT3dRLEdBQ3pCaFQsRUFBUXVPLEVBQU1nbUIsR0FFbEJobUIsRUFBTWdtQixHQUFRaG1CLEVBQU0vTCxHQUNwQitMLEVBQU0vTCxHQUFTeEMsQ0FDaEIsQ0FFRCxPQURBdU8sRUFBTS9PLE9BQVM2UyxFQUNSOUQsQ0FDUixDQVNELElBQUltZCxHQXZUSixTQUF1QnZkLEdBQ3JCLElBQUk1TSxFQUFTaXpCLEdBQVFybUIsR0FBTSxTQUFTK0IsR0FJbEMsT0FoME1pQixNQTZ6TWJxQixFQUFNYyxNQUNSZCxFQUFNMkksUUFFRGhLLENBQ2YsSUFFVXFCLEVBQVFoUSxFQUFPZ1EsTUFDbkIsT0FBT2hRLENBQ1IsQ0E2U2tCa3pCLEVBQWMsU0FBU3pqQixHQUN4QyxJQUFJelAsRUFBUyxHQU9iLE9BTjZCLEtBQXpCeVAsRUFBTzBqQixXQUFXLElBQ3BCbnpCLEVBQU9qQixLQUFLLElBRWQwUSxFQUFPRSxRQUFRbkosSUFBWSxTQUFTb0wsRUFBT3lKLEVBQVErWCxFQUFPQyxHQUN4RHJ6QixFQUFPakIsS0FBS3EwQixFQUFRQyxFQUFVMWpCLFFBQVF6SSxHQUFjLE1BQVNtVSxHQUFVekosRUFDL0UsSUFDYTVSLENBQ2IsSUFTSSxTQUFTb2dCLEdBQU0zaEIsR0FDYixHQUFvQixpQkFBVEEsR0FBcUI4Z0IsR0FBUzlnQixHQUN2QyxPQUFPQSxFQUVULElBQUl1QixFQUFVdkIsRUFBUSxHQUN0QixNQUFrQixLQUFWdUIsR0FBa0IsRUFBSXZCLElBQVUsSUFBYSxLQUFPdUIsQ0FDN0QsQ0FTRCxTQUFTNFcsR0FBU2hLLEdBQ2hCLEdBQVksTUFBUkEsRUFBYyxDQUNoQixJQUNFLE9BQU9rRyxHQUFhNVYsS0FBSzBQLEVBQ25DLENBQVUsTUFBTy9OLEdBQUcsQ0FDWixJQUNFLE9BQVErTixFQUFPLEVBQ3pCLENBQVUsTUFBTy9OLEdBQUcsQ0FDYixDQUNELE1BQU8sRUFDUixDQTJCRCxTQUFTNFksR0FBYTJWLEdBQ3BCLEdBQUlBLGFBQW1CN1YsR0FDckIsT0FBTzZWLEVBQVFrRyxRQUVqQixJQUFJdHpCLEVBQVMsSUFBSXdYLEdBQWM0VixFQUFRclYsWUFBYXFWLEVBQVFuVixXQUk1RCxPQUhBalksRUFBT2dZLFlBQWNpQyxHQUFVbVQsRUFBUXBWLGFBQ3ZDaFksRUFBT2tZLFVBQWFrVixFQUFRbFYsVUFDNUJsWSxFQUFPbVksV0FBYWlWLEVBQVFqVixXQUNyQm5ZLENBQ1IsQ0FxSUQsSUFBSXV6QixHQUFhcE0sSUFBUyxTQUFTbmEsRUFBT2dCLEdBQ3hDLE9BQU95WCxHQUFrQnpZLEdBQ3JCK1EsR0FBZS9RLEVBQU95UyxHQUFZelIsRUFBUSxFQUFHeVgsSUFBbUIsSUFDaEUsRUFDVixJQTRCUStOLEdBQWVyTSxJQUFTLFNBQVNuYSxFQUFPZ0IsR0FDMUMsSUFBSWQsRUFBV3dVLEdBQUsxVCxHQUlwQixPQUhJeVgsR0FBa0J2WSxLQUNwQkEsRUFBV3ZNLEdBRU44a0IsR0FBa0J6WSxHQUNyQitRLEdBQWUvUSxFQUFPeVMsR0FBWXpSLEVBQVEsRUFBR3lYLElBQW1CLEdBQU9RLEdBQVkvWSxFQUFVLElBQzdGLEVBQ1YsSUF5QlF1bUIsR0FBaUJ0TSxJQUFTLFNBQVNuYSxFQUFPZ0IsR0FDNUMsSUFBSUgsRUFBYTZULEdBQUsxVCxHQUl0QixPQUhJeVgsR0FBa0I1WCxLQUNwQkEsRUFBYWxOLEdBRVI4a0IsR0FBa0J6WSxHQUNyQitRLEdBQWUvUSxFQUFPeVMsR0FBWXpSLEVBQVEsRUFBR3lYLElBQW1CLEdBQU85a0IsRUFBV2tOLEdBQ2xGLEVBQ1YsSUFxT0ksU0FBUzZsQixHQUFVMW1CLEVBQU9PLEVBQVdzQixHQUNuQyxJQUFJNVEsRUFBa0IsTUFBVCtPLEVBQWdCLEVBQUlBLEVBQU0vTyxPQUN2QyxJQUFLQSxFQUNILE9BQVEsRUFFVixJQUFJZ0QsRUFBcUIsTUFBYjROLEVBQW9CLEVBQUl3aEIsR0FBVXhoQixHQUk5QyxPQUhJNU4sRUFBUSxJQUNWQSxFQUFRd1UsR0FBVXhYLEVBQVNnRCxFQUFPLElBRTdCMk4sR0FBYzVCLEVBQU9pWixHQUFZMVksRUFBVyxHQUFJdE0sRUFDeEQsQ0FxQ0QsU0FBUzB5QixHQUFjM21CLEVBQU9PLEVBQVdzQixHQUN2QyxJQUFJNVEsRUFBa0IsTUFBVCtPLEVBQWdCLEVBQUlBLEVBQU0vTyxPQUN2QyxJQUFLQSxFQUNILE9BQVEsRUFFVixJQUFJZ0QsRUFBUWhELEVBQVMsRUFPckIsT0FOSTRRLElBQWNsTyxJQUNoQk0sRUFBUW92QixHQUFVeGhCLEdBQ2xCNU4sRUFBUTROLEVBQVksRUFDaEI0RyxHQUFVeFgsRUFBU2dELEVBQU8sR0FDMUIwVSxHQUFVMVUsRUFBT2hELEVBQVMsSUFFekIyUSxHQUFjNUIsRUFBT2laLEdBQVkxWSxFQUFXLEdBQUl0TSxHQUFPLEVBQy9ELENBZ0JELFNBQVN1d0IsR0FBUXhrQixHQUVmLE9BRHNCLE1BQVRBLEVBQWdCLEVBQUlBLEVBQU0vTyxRQUN2QndoQixHQUFZelMsRUFBTyxHQUFLLEVBQ3pDLENBK0ZELFNBQVM0bUIsR0FBSzVtQixHQUNaLE9BQVFBLEdBQVNBLEVBQU0vTyxPQUFVK08sRUFBTSxHQUFLck0sQ0FDN0MsQ0F5RUQsSUFBSWt6QixHQUFlMU0sSUFBUyxTQUFTakcsR0FDbkMsSUFBSTRTLEVBQVNobUIsR0FBU29ULEVBQVErSSxJQUM5QixPQUFRNkosRUFBTzcxQixRQUFVNjFCLEVBQU8sS0FBTzVTLEVBQU8sR0FDMUNELEdBQWlCNlMsR0FDakIsRUFDVixJQXlCUUMsR0FBaUI1TSxJQUFTLFNBQVNqRyxHQUNyQyxJQUFJaFUsRUFBV3dVLEdBQUtSLEdBQ2hCNFMsRUFBU2htQixHQUFTb1QsRUFBUStJLElBTzlCLE9BTEkvYyxJQUFhd1UsR0FBS29TLEdBQ3BCNW1CLEVBQVd2TSxFQUVYbXpCLEVBQU9sVixNQUVEa1YsRUFBTzcxQixRQUFVNjFCLEVBQU8sS0FBTzVTLEVBQU8sR0FDMUNELEdBQWlCNlMsRUFBUTdOLEdBQVkvWSxFQUFVLElBQy9DLEVBQ1YsSUF1QlE4bUIsR0FBbUI3TSxJQUFTLFNBQVNqRyxHQUN2QyxJQUFJclQsRUFBYTZULEdBQUtSLEdBQ2xCNFMsRUFBU2htQixHQUFTb1QsRUFBUStJLElBTTlCLE9BSkFwYyxFQUFrQyxtQkFBZEEsRUFBMkJBLEVBQWFsTixJQUUxRG16QixFQUFPbFYsTUFFRGtWLEVBQU83MUIsUUFBVTYxQixFQUFPLEtBQU81UyxFQUFPLEdBQzFDRCxHQUFpQjZTLEVBQVFuekIsRUFBV2tOLEdBQ3BDLEVBQ1YsSUFtQ0ksU0FBUzZULEdBQUsxVSxHQUNaLElBQUkvTyxFQUFrQixNQUFUK08sRUFBZ0IsRUFBSUEsRUFBTS9PLE9BQ3ZDLE9BQU9BLEVBQVMrTyxFQUFNL08sRUFBUyxHQUFLMEMsQ0FDckMsQ0FzRkQsSUFBSXN6QixHQUFPOU0sR0FBUytNLElBc0JwQixTQUFTQSxHQUFRbG5CLEVBQU9nQixHQUN0QixPQUFRaEIsR0FBU0EsRUFBTS9PLFFBQVUrUCxHQUFVQSxFQUFPL1AsT0FDOUM0b0IsR0FBWTdaLEVBQU9nQixHQUNuQmhCLENBQ0wsQ0FvRkQsSUFBSW1uQixHQUFTbkgsSUFBUyxTQUFTaGdCLEVBQU8rWixHQUNwQyxJQUFJOW9CLEVBQWtCLE1BQVQrTyxFQUFnQixFQUFJQSxFQUFNL08sT0FDbkMrQixFQUFTaWIsR0FBT2pPLEVBQU8rWixHQU0zQixPQUpBRCxHQUFXOVosRUFBT2MsR0FBU2laLEdBQVMsU0FBUzlsQixHQUMzQyxPQUFPMlksR0FBUTNZLEVBQU9oRCxJQUFXZ0QsRUFBUUEsQ0FDakQsSUFBU21sQixLQUFLSyxLQUVEem1CLENBQ2IsSUEwRUksU0FBU2tXLEdBQVFsSixHQUNmLE9BQWdCLE1BQVRBLEVBQWdCQSxFQUFRaUosR0FBYy9ZLEtBQUs4UCxFQUNuRCxDQWlhRCxJQUFJb25CLEdBQVFqTixJQUFTLFNBQVNqRyxHQUM1QixPQUFPaUksR0FBUzFKLEdBQVl5QixFQUFRLEVBQUd1RSxJQUFtQixHQUNoRSxJQXlCUTRPLEdBQVVsTixJQUFTLFNBQVNqRyxHQUM5QixJQUFJaFUsRUFBV3dVLEdBQUtSLEdBSXBCLE9BSEl1RSxHQUFrQnZZLEtBQ3BCQSxFQUFXdk0sR0FFTndvQixHQUFTMUosR0FBWXlCLEVBQVEsRUFBR3VFLElBQW1CLEdBQU9RLEdBQVkvWSxFQUFVLEdBQzdGLElBdUJRb25CLEdBQVluTixJQUFTLFNBQVNqRyxHQUNoQyxJQUFJclQsRUFBYTZULEdBQUtSLEdBRXRCLE9BREFyVCxFQUFrQyxtQkFBZEEsRUFBMkJBLEVBQWFsTixFQUNyRHdvQixHQUFTMUosR0FBWXlCLEVBQVEsRUFBR3VFLElBQW1CLEdBQU85a0IsRUFBV2tOLEVBQ2xGLElBK0ZJLFNBQVMwbUIsR0FBTXZuQixHQUNiLElBQU1BLElBQVNBLEVBQU0vTyxPQUNuQixNQUFPLEdBRVQsSUFBSUEsRUFBUyxFQU9iLE9BTkErTyxFQUFRUSxHQUFZUixHQUFPLFNBQVN3bkIsR0FDbEMsR0FBSS9PLEdBQWtCK08sR0FFcEIsT0FEQXYyQixFQUFTd1gsR0FBVStlLEVBQU12MkIsT0FBUUEsSUFDMUIsQ0FFakIsSUFDYXNSLEdBQVV0UixHQUFRLFNBQVNnRCxHQUNoQyxPQUFPNk0sR0FBU2QsRUFBT3VCLEdBQWF0TixHQUM1QyxHQUNLLENBdUJELFNBQVN3ekIsR0FBVXpuQixFQUFPRSxHQUN4QixJQUFNRixJQUFTQSxFQUFNL08sT0FDbkIsTUFBTyxHQUVULElBQUkrQixFQUFTdTBCLEdBQU12bkIsR0FDbkIsT0FBZ0IsTUFBWkUsRUFDS2xOLEVBRUY4TixHQUFTOU4sR0FBUSxTQUFTdzBCLEdBQy9CLE9BQU90MkIsR0FBTWdQLEVBQVV2TSxFQUFXNnpCLEVBQzFDLEdBQ0ssQ0FzQkQsSUFBSUUsR0FBVXZOLElBQVMsU0FBU25hLEVBQU9nQixHQUNyQyxPQUFPeVgsR0FBa0J6WSxHQUNyQitRLEdBQWUvUSxFQUFPZ0IsR0FDdEIsRUFDVixJQW9CUTJtQixHQUFNeE4sSUFBUyxTQUFTakcsR0FDMUIsT0FBTzJJLEdBQVFyYyxHQUFZMFQsRUFBUXVFLElBQ3pDLElBeUJRbVAsR0FBUXpOLElBQVMsU0FBU2pHLEdBQzVCLElBQUloVSxFQUFXd1UsR0FBS1IsR0FJcEIsT0FISXVFLEdBQWtCdlksS0FDcEJBLEVBQVd2TSxHQUVOa3BCLEdBQVFyYyxHQUFZMFQsRUFBUXVFLElBQW9CUSxHQUFZL1ksRUFBVSxHQUNuRixJQXVCUTJuQixHQUFVMU4sSUFBUyxTQUFTakcsR0FDOUIsSUFBSXJULEVBQWE2VCxHQUFLUixHQUV0QixPQURBclQsRUFBa0MsbUJBQWRBLEVBQTJCQSxFQUFhbE4sRUFDckRrcEIsR0FBUXJjLEdBQVkwVCxFQUFRdUUsSUFBb0I5a0IsRUFBV2tOLEVBQ3hFLElBa0JRaW5CLEdBQU0zTixHQUFTb04sSUE2RG5CLElBQUlRLEdBQVU1TixJQUFTLFNBQVNqRyxHQUM5QixJQUFJampCLEVBQVNpakIsRUFBT2pqQixPQUNoQmlQLEVBQVdqUCxFQUFTLEVBQUlpakIsRUFBT2pqQixFQUFTLEdBQUswQyxFQUdqRCxPQURBdU0sRUFBOEIsbUJBQVpBLEdBQTBCZ1UsRUFBT3RDLE1BQU8xUixHQUFZdk0sRUFDL0Q4ekIsR0FBVXZULEVBQVFoVSxFQUMvQixJQWlDSSxTQUFTOG5CLEdBQU12MkIsR0FDYixJQUFJdUIsRUFBU3FYLEdBQU81WSxHQUVwQixPQURBdUIsRUFBT2lZLFdBQVksRUFDWmpZLENBQ1IsQ0FxREQsU0FBU210QixHQUFLMXVCLEVBQU93MkIsR0FDbkIsT0FBT0EsRUFBWXgyQixFQUNwQixDQWtCRCxJQUFJeTJCLEdBQVlsSSxJQUFTLFNBQVM5UixHQUNoQyxJQUFJamQsRUFBU2lkLEVBQU1qZCxPQUNmbXBCLEVBQVFucEIsRUFBU2lkLEVBQU0sR0FBSyxFQUM1QnpjLEVBQVFsQixLQUFLd2EsWUFDYmtkLEVBQWMsU0FBUzdsQixHQUFVLE9BQU82TCxHQUFPN0wsRUFBUThMLElBRTNELFFBQUlqZCxFQUFTLEdBQUtWLEtBQUt5YSxZQUFZL1osU0FDN0JRLGFBQWlCOFksSUFBaUJxQyxHQUFRd04sS0FHaEQzb0IsRUFBUUEsRUFBTWEsTUFBTThuQixHQUFRQSxHQUFTbnBCLEVBQVMsRUFBSSxLQUM1QytaLFlBQVlqWixLQUFLLENBQ3JCNk4sS0FBUXVnQixHQUNScmdCLEtBQVEsQ0FBQ21vQixHQUNUcG9CLFFBQVdsTSxJQUVGLElBQUE2VyxHQUFjL1ksRUFBT2xCLEtBQUswYSxXQUFXa1YsTUFBSyxTQUFTbmdCLEdBSTVELE9BSEkvTyxJQUFXK08sRUFBTS9PLFFBQ25CK08sRUFBTWpPLEtBQUs0QixHQUVOcU0sQ0FDZixVQWJvQm1nQixLQUFLOEgsRUFjekIsSUFpUEksSUFBSUUsR0FBVXZKLElBQWlCLFNBQVM1ckIsRUFBUXZCLEVBQU9rUSxHQUNqRDFSLEdBQWVDLEtBQUs4QyxFQUFRMk8sS0FDNUIzTyxFQUFPMk8sR0FFVDJMLEdBQWdCdGEsRUFBUTJPLEVBQUssRUFFckMsSUFxSUksSUFBSXltQixHQUFPdkksR0FBVzZHLElBcUJsQjJCLEdBQVd4SSxHQUFXOEcsSUEyRzFCLFNBQVM1aUIsR0FBUXRDLEVBQVl2QixHQUUzQixPQURXbEssR0FBUXlMLEdBQWNyQixHQUFZdU4sSUFDakNsTSxFQUFZd1gsR0FBWS9ZLEVBQVUsR0FDL0MsQ0FzQkQsU0FBU29vQixHQUFhN21CLEVBQVl2QixHQUVoQyxPQURXbEssR0FBUXlMLEdBQWNwQixHQUFpQjhSLElBQ3RDMVEsRUFBWXdYLEdBQVkvWSxFQUFVLEdBQy9DLENBeUJELElBQUlxb0IsR0FBVTNKLElBQWlCLFNBQVM1ckIsRUFBUXZCLEVBQU9rUSxHQUNqRDFSLEdBQWVDLEtBQUs4QyxFQUFRMk8sR0FDOUIzTyxFQUFPMk8sR0FBSzVQLEtBQUtOLEdBRWpCNmIsR0FBZ0J0YSxFQUFRMk8sRUFBSyxDQUFDbFEsR0FFdEMsSUFvRUksSUFBSSsyQixHQUFZck8sSUFBUyxTQUFTMVksRUFBWWhOLEVBQU1xTCxHQUNsRCxJQUFJN0wsR0FBUyxFQUNUa2IsRUFBd0IsbUJBQVIxYSxFQUNoQnpCLEVBQVM2a0IsR0FBWXBXLEdBQWMzUixHQUFNMlIsRUFBV3hRLFFBQVUsR0FLbEUsT0FIQTBjLEdBQVNsTSxHQUFZLFNBQVNoUSxHQUM1QnVCLElBQVNpQixHQUFTa2IsRUFBU2plLEdBQU11RCxFQUFNaEQsRUFBT3FPLEdBQVEyVSxHQUFXaGpCLEVBQU9nRCxFQUFNcUwsRUFDdEYsSUFDYTlNLENBQ2IsSUE4QlF5MUIsR0FBUTdKLElBQWlCLFNBQVM1ckIsRUFBUXZCLEVBQU9rUSxHQUNuRDJMLEdBQWdCdGEsRUFBUTJPLEVBQUtsUSxFQUNuQyxJQTRDSSxTQUFTb1MsR0FBSXBDLEVBQVl2QixHQUV2QixPQURXbEssR0FBUXlMLEdBQWNYLEdBQVc4VyxJQUNoQ25XLEVBQVl3WCxHQUFZL1ksRUFBVSxHQUMvQyxDQWlGRCxJQUFJd29CLEdBQVk5SixJQUFpQixTQUFTNXJCLEVBQVF2QixFQUFPa1EsR0FDdkQzTyxFQUFPMk8sRUFBTSxFQUFJLEdBQUc1UCxLQUFLTixFQUMvQixJQUFPLFdBQWEsTUFBTyxDQUFDLEdBQUksR0FBTSxJQW1TbEMsSUFBSWszQixHQUFTeE8sSUFBUyxTQUFTMVksRUFBWXNYLEdBQ3pDLEdBQWtCLE1BQWR0WCxFQUNGLE1BQU8sR0FFVCxJQUFJeFEsRUFBUzhuQixFQUFVOW5CLE9BTXZCLE9BTElBLEVBQVMsR0FBS2l1QixHQUFlemQsRUFBWXNYLEVBQVUsR0FBSUEsRUFBVSxJQUNuRUEsRUFBWSxHQUNIOW5CLEVBQVMsR0FBS2l1QixHQUFlbkcsRUFBVSxHQUFJQSxFQUFVLEdBQUlBLEVBQVUsTUFDNUVBLEVBQVksQ0FBQ0EsRUFBVSxLQUVsQkQsR0FBWXJYLEVBQVlnUixHQUFZc0csRUFBVyxHQUFJLEdBQ2hFLElBb0JRclIsR0FBTUQsSUFBVSxXQUNsQixPQUFPdkosR0FBS3NILEtBQUtrQyxLQUN2QixFQXlESSxTQUFTb1osR0FBSWxoQixFQUFNN08sRUFBR2t1QixHQUdwQixPQUZBbHVCLEVBQUlrdUIsRUFBUXRyQixFQUFZNUMsRUFDeEJBLEVBQUs2TyxHQUFhLE1BQUw3TyxFQUFhNk8sRUFBSzNPLE9BQVNGLEVBQ2pDMnlCLEdBQVc5akIsRUFBTXBKLEVBQWU3QyxFQUFXQSxFQUFXQSxFQUFXQSxFQUFXNUMsRUFDcEYsQ0FtQkQsU0FBUzYzQixHQUFPNzNCLEVBQUc2TyxHQUNqQixJQUFJNU0sRUFDSixHQUFtQixtQkFBUjRNLEVBQ1QsTUFBTSxJQUFJeFAsR0FBVThGLEdBR3RCLE9BREFuRixFQUFJc3lCLEdBQVV0eUIsR0FDSSxXQU9oQixRQU5NQSxFQUFJLElBQ1JpQyxFQUFTNE0sRUFBSzFPLE1BQU1YLEtBQU1TLFlBRXhCRCxHQUFLLElBQ1A2TyxFQUFPak0sR0FFRlgsQ0FDZixDQUNLLENBcUNELElBQUk2MUIsR0FBTzFPLElBQVMsU0FBU3ZhLEVBQU1DLEVBQVNnZSxHQUMxQyxJQUFJcFAsRUF2NFRhLEVBdzRUakIsR0FBSW9QLEVBQVM1c0IsT0FBUSxDQUNuQixJQUFJNnNCLEVBQVUzWixHQUFlMFosRUFBVXdELEdBQVV3SCxLQUNqRHBhLEdBQVduWSxDQUNaLENBQ0QsT0FBT290QixHQUFXOWpCLEVBQU02TyxFQUFTNU8sRUFBU2dlLEVBQVVDLEVBQzFELElBK0NRZ0wsR0FBVTNPLElBQVMsU0FBUy9YLEVBQVFULEVBQUtrYyxHQUMzQyxJQUFJcFAsRUFBVW9WLEVBQ2QsR0FBSWhHLEVBQVM1c0IsT0FBUSxDQUNuQixJQUFJNnNCLEVBQVUzWixHQUFlMFosRUFBVXdELEdBQVV5SCxLQUNqRHJhLEdBQVduWSxDQUNaLENBQ0QsT0FBT290QixHQUFXL2hCLEVBQUs4TSxFQUFTck0sRUFBUXliLEVBQVVDLEVBQ3hELElBcUpJLFNBQVNpTCxHQUFTbnBCLEVBQU1rUixFQUFNa1ksR0FDNUIsSUFBSUMsRUFDQUMsRUFDQUMsRUFDQW4yQixFQUNBbzJCLEVBQ0FDLEVBQ0FDLEVBQWlCLEVBQ2pCQyxHQUFVLEVBQ1ZDLEdBQVMsRUFDVGxLLEdBQVcsRUFFZixHQUFtQixtQkFBUjFmLEVBQ1QsVUFBVXhQLEdBQVU4RixHQVV0QixTQUFTdXpCLEVBQVdDLEdBQ2xCLElBQUk1cEIsRUFBT21wQixFQUNQcHBCLEVBQVVxcEIsRUFLZCxPQUhBRCxFQUFXQyxFQUFXdjFCLEVBQ3RCMjFCLEVBQWlCSSxFQUNqQjEyQixFQUFTNE0sRUFBSzFPLE1BQU0yTyxFQUFTQyxFQUU5QixDQXFCRCxTQUFTNnBCLEVBQWFELEdBQ3BCLElBQUlFLEVBQW9CRixFQUFPTCxFQU0vQixPQUFRQSxJQUFpQjExQixHQUFjaTJCLEdBQXFCOVksR0FDekQ4WSxFQUFvQixHQUFPSixHQU5KRSxFQUFPSixHQU04QkgsQ0FDaEUsQ0FFRCxTQUFTVSxJQUNQLElBQUlILEVBQU9oaUIsS0FDWCxHQUFJaWlCLEVBQWFELEdBQ2YsT0FBT0ksRUFBYUosR0FHdEJOLEVBQVV4aEIsR0FBV2lpQixFQTNCdkIsU0FBdUJILEdBQ3JCLElBRUlLLEVBQWNqWixHQUZNNFksRUFBT0wsR0FJL0IsT0FBT0csRUFDSDdnQixHQUFVb2hCLEVBQWFaLEdBSkRPLEVBQU9KLElBSzdCUyxDQUNMLENBbUJvQ0MsQ0FBY04sR0FDbEQsQ0FFRCxTQUFTSSxFQUFhSixHQUtwQixPQUpBTixFQUFVejFCLEVBSU4yckIsR0FBWTJKLEVBQ1BRLEVBQVdDLElBRXBCVCxFQUFXQyxFQUFXdjFCLEVBQ2ZYLEVBQ1IsQ0FjRCxTQUFTaTNCLElBQ1AsSUFBSVAsRUFBT2hpQixLQUNQd2lCLEVBQWFQLEVBQWFELEdBTTlCLEdBSkFULEVBQVdqNEIsVUFDWGs0QixFQUFXMzRCLEtBQ1g4NEIsRUFBZUssRUFFWFEsRUFBWSxDQUNkLEdBQUlkLElBQVl6MUIsRUFDZCxPQXpFTixTQUFxQisxQixHQU1uQixPQUpBSixFQUFpQkksRUFFakJOLEVBQVV4aEIsR0FBV2lpQixFQUFjL1ksR0FFNUJ5WSxFQUFVRSxFQUFXQyxHQUFRMTJCLENBQ3JDLENBa0VZbTNCLENBQVlkLEdBRXJCLEdBQUlHLEVBSUYsT0FGQWhpQixHQUFhNGhCLEdBQ2JBLEVBQVV4aEIsR0FBV2lpQixFQUFjL1ksR0FDNUIyWSxFQUFXSixFQUVyQixDQUlELE9BSElELElBQVl6MUIsSUFDZHkxQixFQUFVeGhCLEdBQVdpaUIsRUFBYy9ZLElBRTlCOWQsQ0FDUixDQUdELE9BM0dBOGQsRUFBTytSLEdBQVMvUixJQUFTLEVBQ3JCbEcsR0FBU29lLEtBQ1hPLElBQVlQLEVBQVFPLFFBRXBCSixHQURBSyxFQUFTLFlBQWFSLEdBQ0h2Z0IsR0FBVW9hLEdBQVNtRyxFQUFRRyxVQUFZLEVBQUdyWSxHQUFRcVksRUFDckU3SixFQUFXLGFBQWMwSixJQUFZQSxFQUFRMUosU0FBV0EsR0FvRzFEMkssRUFBVUcsT0FwQ1YsV0FDTWhCLElBQVl6MUIsR0FDZDZULEdBQWE0aEIsR0FFZkUsRUFBaUIsRUFDakJMLEVBQVdJLEVBQWVILEVBQVdFLEVBQVV6MUIsQ0FDaEQsRUErQkRzMkIsRUFBVUksTUE3QlYsV0FDRSxPQUFPakIsSUFBWXoxQixFQUFZWCxFQUFTODJCLEVBQWFwaUIsS0FDdEQsRUE0Qk11aUIsQ0FDUixDQW9CRCxJQUFJSyxHQUFRblEsSUFBUyxTQUFTdmEsRUFBTUUsR0FDbEMsT0FBTytRLEdBQVVqUixFQUFNLEVBQUdFLEVBQ2hDLElBcUJReXFCLEdBQVFwUSxJQUFTLFNBQVN2YSxFQUFNa1IsRUFBTWhSLEdBQ3hDLE9BQU8rUSxHQUFValIsRUFBTWlqQixHQUFTL1IsSUFBUyxFQUFHaFIsRUFDbEQsSUFvRUksU0FBU21tQixHQUFRcm1CLEVBQU00cUIsR0FDckIsR0FBbUIsbUJBQVI1cUIsR0FBbUMsTUFBWjRxQixHQUF1QyxtQkFBWkEsRUFDM0QsTUFBVSxJQUFBcDZCLEdBQVU4RixHQUV0QixJQUFJdTBCLEVBQVcsU0FBWEEsSUFDRixJQUFJM3FCLEVBQU85TyxVQUNQMlEsRUFBTTZvQixFQUFXQSxFQUFTdDVCLE1BQU1YLEtBQU11UCxHQUFRQSxFQUFLLEdBQ25Ea0QsRUFBUXluQixFQUFTem5CLE1BRXJCLEdBQUlBLEVBQU1DLElBQUl0QixHQUNaLE9BQU9xQixFQUFNb0wsSUFBSXpNLEdBRW5CLElBQUkzTyxFQUFTNE0sRUFBSzFPLE1BQU1YLEtBQU11UCxHQUU5QixPQURBMnFCLEVBQVN6bkIsTUFBUUEsRUFBTXNCLElBQUkzQyxFQUFLM08sSUFBV2dRLEVBQ3BDaFEsQ0FDZixFQUVNLE9BREF5M0IsRUFBU3puQixNQUFRLElBQUtpakIsR0FBUXlFLE9BQVM1ZSxJQUNoQzJlLENBQ1IsQ0F5QkQsU0FBU0UsR0FBT3BxQixHQUNkLEdBQXdCLG1CQUFiQSxFQUNULE1BQVUsSUFBQW5RLEdBQVU4RixHQUV0QixPQUFPLFdBQ0wsSUFBSTRKLEVBQU85TyxVQUNYLE9BQVE4TyxFQUFLN08sUUFDWCxLQUFNLEVBQUUsT0FBUXNQLEVBQVVyUSxLQUFLSyxNQUMvQixLQUFLLEVBQUcsT0FBUWdRLEVBQVVyUSxLQUFLSyxLQUFNdVAsRUFBSyxJQUMxQyxLQUFLLEVBQUcsT0FBUVMsRUFBVXJRLEtBQUtLLEtBQU11UCxFQUFLLEdBQUlBLEVBQUssSUFDbkQsS0FBSyxFQUFHLE9BQVFTLEVBQVVyUSxLQUFLSyxLQUFNdVAsRUFBSyxHQUFJQSxFQUFLLEdBQUlBLEVBQUssSUFFOUQsT0FBUVMsRUFBVXJQLE1BQU1YLEtBQU11UCxFQUN0QyxDQUNLLENBcENEbW1CLEdBQVF5RSxNQUFRNWUsR0EyRmhCLElBQUk4ZSxHQUFXeE4sSUFBUyxTQUFTeGQsRUFBTWlyQixHQUtyQyxJQUFJQyxHQUpKRCxFQUFtQyxHQUFyQkEsRUFBVzU1QixRQUFlK0UsR0FBUTYwQixFQUFXLElBQ3ZEL3BCLEdBQVMrcEIsRUFBVyxHQUFJam9CLEdBQVVxVyxPQUNsQ25ZLEdBQVMyUixHQUFZb1ksRUFBWSxHQUFJam9CLEdBQVVxVyxRQUV0QmhvQixPQUM3QixPQUFPa3BCLElBQVMsU0FBU3JhLEdBSXZCLElBSEEsSUFBSTdMLEdBQVMsRUFDVGhELEVBQVMwWCxHQUFVN0ksRUFBSzdPLE9BQVE2NUIsS0FFM0I3MkIsRUFBUWhELEdBQ2Y2TyxFQUFLN0wsR0FBUzQyQixFQUFXNTJCLEdBQU8vRCxLQUFLSyxLQUFNdVAsRUFBSzdMLElBRWxELE9BQU8vQyxHQUFNME8sRUFBTXJQLEtBQU11UCxFQUNqQyxHQUNBLElBbUNRaXJCLEdBQVU1USxJQUFTLFNBQVN2YSxFQUFNaWUsR0FDcEMsSUFBSUMsRUFBVTNaLEdBQWUwWixFQUFVd0QsR0FBVTBKLEtBQ2pELE9BQU9ySCxHQUFXOWpCLEVBQU10SixFQUFtQjNDLEVBQVdrcUIsRUFBVUMsRUFDdEUsSUFrQ1FrTixHQUFlN1EsSUFBUyxTQUFTdmEsRUFBTWllLEdBQ3pDLElBQUlDLEVBQVUzWixHQUFlMFosRUFBVXdELEdBQVUySixLQUNqRCxPQUFPdEgsR0FBVzlqQixFQUFNckosRUFBeUI1QyxFQUFXa3FCLEVBQVVDLEVBQzVFLElBd0JRbU4sR0FBUWpMLElBQVMsU0FBU3BnQixFQUFNbWEsR0FDbEMsT0FBTzJKLEdBQVc5akIsRUFBTW5KLEVBQWlCOUMsRUFBV0EsRUFBV0EsRUFBV29tQixFQUNoRixJQWdhSSxTQUFTMU0sR0FBRzViLEVBQU9xaUIsR0FDakIsT0FBT3JpQixJQUFVcWlCLEdBQVVyaUIsR0FBVUEsR0FBU3FpQixHQUFVQSxDQUN6RCxDQXlCRCxJQUFJb1gsR0FBS3RJLEdBQTBCL08sSUF5Qi9Cc1gsR0FBTXZJLElBQTBCLFNBQVNueEIsRUFBT3FpQixHQUNsRCxPQUFPcmlCLEdBQVNxaUIsQ0FDdEIsSUFvQlF0SCxHQUFjbUksR0FBZ0IsV0FBYSxPQUFPM2pCLFNBQVUsQ0FBOUIsSUFBc0MyakIsR0FBa0IsU0FBU2xqQixHQUNqRyxPQUFPNlksR0FBYTdZLElBQVV4QixHQUFlQyxLQUFLdUIsRUFBTyxZQUN0RHNWLEdBQXFCN1csS0FBS3VCLEVBQU8sU0FDMUMsRUF5QlF1RSxHQUFVbEcsR0FBTWtHLFFBbUJoQmlKLEdBQWdCRCxHQUFvQjRELEdBQVU1RCxJQTc1UGxELFNBQTJCdk4sR0FDekIsT0FBTzZZLEdBQWE3WSxJQUFVK2hCLEdBQVcvaEIsSUFBVXNHLENBQ3BELEVBczdQRCxTQUFTOGYsR0FBWXBtQixHQUNuQixPQUFnQixNQUFUQSxHQUFpQnN6QixHQUFTdHpCLEVBQU1SLFVBQVlnaUIsR0FBV3hoQixFQUMvRCxDQTJCRCxTQUFTZ25CLEdBQWtCaG5CLEdBQ3pCLE9BQU82WSxHQUFhN1ksSUFBVW9tQixHQUFZcG1CLEVBQzNDLENBeUNELElBQUkyVyxHQUFXRCxJQUFrQmlkLEdBbUI3QmptQixHQUFTRCxHQUFhMEQsR0FBVTFELElBeGdRcEMsU0FBb0J6TixHQUNsQixPQUFPNlksR0FBYTdZLElBQVUraEIsR0FBVy9oQixJQUFVeUYsQ0FDcEQsRUE4cVFELFNBQVNrMEIsR0FBUTM1QixHQUNmLElBQUs2WSxHQUFhN1ksR0FDaEIsT0FBWSxFQUVkLElBQUl3ZCxFQUFNdUUsR0FBVy9oQixHQUNyQixPQUFPd2QsR0FBTzlYLEdBOXlXRix5QkE4eVdjOFgsR0FDQyxpQkFBakJ4ZCxFQUFNOGpCLFNBQTRDLGlCQUFkOWpCLEVBQU02akIsT0FBcUJvRCxHQUFjam5CLEVBQ3hGLENBaURELFNBQVN3aEIsR0FBV3hoQixHQUNsQixJQUFLbVosR0FBU25aLEdBQ1osT0FBTyxFQUlULElBQUl3ZCxFQUFNdUUsR0FBVy9oQixHQUNyQixPQUFPd2QsR0FBTzdYLEdBQVc2WCxHQUFPNVgsR0EzMldyQiwwQkEyMlcrQjRYLEdBLzFXL0Isa0JBKzFXa0RBLENBQzlELENBNEJELFNBQVNvYyxHQUFVNTVCLEdBQ2pCLE1BQXVCLGlCQUFUQSxHQUFxQkEsR0FBUzR4QixHQUFVNXhCLEVBQ3ZELENBNEJELFNBQVNzekIsR0FBU3R6QixHQUNoQixNQUF1QixpQkFBVEEsR0FDWkEsR0FBUyxHQUFLQSxFQUFRLEdBQUssR0FBS0EsR0FBU2tGLENBQzVDLENBMkJELFNBQVNpVSxHQUFTblosR0FDaEIsSUFBSWl6QixFQUFJNW1CLEVBQVVyTSxHQUNsQixPQUFnQixNQUFUQSxJQUEwQixVQUFSaXpCLEdBQTRCLFlBQVJBLEVBQzlDLENBMEJELFNBQVNwYSxHQUFhN1ksR0FDcEIsT0FBZ0IsTUFBVEEsR0FBaUMsVUFBaEJxTSxFQUFPck0sRUFDaEMsQ0FtQkQsSUFBSTROLEdBQVFELEdBQVl3RCxHQUFVeEQsSUE1eFFsQyxTQUFtQjNOLEdBQ2pCLE9BQU82WSxHQUFhN1ksSUFBVXlkLEdBQU96ZCxJQUFVNkYsQ0FDaEQsRUE0K1FELFNBQVNnMEIsR0FBUzc1QixHQUNoQixNQUF1QixpQkFBVEEsR0FDWDZZLEdBQWE3WSxJQUFVK2hCLEdBQVcvaEIsSUFBVThGLENBQ2hELENBOEJELFNBQVNtaEIsR0FBY2puQixHQUNyQixJQUFLNlksR0FBYTdZLElBQVUraEIsR0FBVy9oQixJQUFVK0YsRUFDL0MsT0FBTyxFQUVULElBQUltVCxFQUFRL0QsR0FBYW5WLEdBQ3pCLEdBQWMsT0FBVmtaLEVBQ0YsT0FBTyxFQUVULElBQUlpRixFQUFPM2YsR0FBZUMsS0FBS3lhLEVBQU8sZ0JBQWtCQSxFQUFNbmEsWUFDOUQsTUFBc0IsbUJBQVJvZixHQUFzQkEsYUFBZ0JBLEdBQ2xEOUosR0FBYTVWLEtBQUswZixJQUFTdEosRUFDOUIsQ0FtQkQsSUFBSS9HLEdBQVdELEdBQWVzRCxHQUFVdEQsSUE1OVF4QyxTQUFzQjdOLEdBQ3BCLE9BQU82WSxHQUFhN1ksSUFBVStoQixHQUFXL2hCLElBQVVpRyxDQUNwRCxFQTRnUkQsSUFBSStILEdBQVFELEdBQVlvRCxHQUFVcEQsSUFuZ1JsQyxTQUFtQi9OLEdBQ2pCLE9BQU82WSxHQUFhN1ksSUFBVXlkLEdBQU96ZCxJQUFVa0csQ0FDaEQsRUFvaFJELFNBQVM0ekIsR0FBUzk1QixHQUNoQixNQUF1QixpQkFBVEEsSUFDVnVFLEdBQVF2RSxJQUFVNlksR0FBYTdZLElBQVUraEIsR0FBVy9oQixJQUFVbUcsQ0FDbkUsQ0FtQkQsU0FBUzJhLEdBQVM5Z0IsR0FDaEIsTUFBdUIsVUFBaEJxTSxFQUFPck0sSUFDWDZZLEdBQWE3WSxJQUFVK2hCLEdBQVcvaEIsSUFBVW9HLENBQ2hELENBbUJELElBQUk4SCxHQUFlRCxHQUFtQmtELEdBQVVsRCxJQXZqUmhELFNBQTBCak8sR0FDeEIsT0FBTzZZLEdBQWE3WSxJQUNsQnN6QixHQUFTdHpCLEVBQU1SLFdBQWFxTSxHQUFla1csR0FBVy9oQixHQUN6RCxFQTRvUkQsSUFBSSs1QixHQUFLNUksR0FBMEJqTCxJQXlCL0I4VCxHQUFNN0ksSUFBMEIsU0FBU254QixFQUFPcWlCLEdBQ2xELE9BQU9yaUIsR0FBU3FpQixDQUN0QixJQXlCSSxTQUFTNFgsR0FBUWo2QixHQUNmLElBQUtBLEVBQ0gsTUFBTyxHQUVULEdBQUlvbUIsR0FBWXBtQixHQUNkLE9BQU84NUIsR0FBUzk1QixHQUFTa1QsR0FBY2xULEdBQVN3YixHQUFVeGIsR0FFNUQsR0FBSXlWLElBQWV6VixFQUFNeVYsSUFDdkIsT0F2OFZOLFNBQXlCNVYsR0FJdkIsSUFIQSxJQUFJNmEsRUFDQW5aLEVBQVMsS0FFSm1aLEVBQU83YSxFQUFTRSxRQUFRRSxNQUMvQnNCLEVBQU9qQixLQUFLb2EsRUFBSzFhLE9BRW5CLE9BQU91QixDQUNSLENBKzdWWTI0QixDQUFnQmw2QixFQUFNeVYsT0FFL0IsSUFBSStILEVBQU1DLEdBQU96ZCxHQUdqQixPQUZXd2QsR0FBTzNYLEVBQVNzTSxHQUFjcUwsR0FBT3RYLEVBQVMwTSxHQUFhckQsSUFFMUR2UCxFQUNiLENBeUJELFNBQVNpeEIsR0FBU2p4QixHQUNoQixPQUFLQSxHQUdMQSxFQUFRb3hCLEdBQVNweEIsTUFDSGlGLEdBQVlqRixLQUFVLElBeGtZdEIsdUJBeWtZQUEsRUFBUSxHQUFLLEVBQUksR0FHeEJBLEdBQVVBLEVBQVFBLEVBQVEsRUFQZCxJQUFWQSxFQUFjQSxFQUFRLENBUWhDLENBNEJELFNBQVM0eEIsR0FBVTV4QixHQUNqQixJQUFJdUIsRUFBUzB2QixHQUFTanhCLEdBQ2xCbTZCLEVBQVk1NEIsRUFBUyxFQUV6QixPQUFPQSxHQUFXQSxFQUFVNDRCLEVBQVk1NEIsRUFBUzQ0QixFQUFZNTRCLEVBQVUsQ0FDeEUsQ0E2QkQsU0FBUzY0QixHQUFTcDZCLEdBQ2hCLE9BQU9BLEVBQVF5YixHQUFVbVcsR0FBVTV4QixHQUFRLEVBQUdvRixHQUFvQixDQUNuRSxDQXlCRCxTQUFTZ3NCLEdBQVNweEIsR0FDaEIsR0FBb0IsaUJBQVRBLEVBQ1QsT0FBT0EsRUFFVCxHQUFJOGdCLEdBQVM5Z0IsR0FDWCxPQUFPbUYsRUFFVCxHQUFJZ1UsR0FBU25aLEdBQVEsQ0FDbkIsSUFBSXFpQixFQUFnQyxtQkFBakJyaUIsRUFBTTBZLFFBQXdCMVksRUFBTTBZLFVBQVkxWSxFQUNuRUEsRUFBUW1aLEdBQVNrSixHQUFVQSxFQUFRLEdBQU1BLENBQzFDLENBQ0QsR0FBb0IsaUJBQVRyaUIsRUFDVCxPQUFpQixJQUFWQSxFQUFjQSxHQUFTQSxFQUVoQ0EsRUFBUStRLEdBQVMvUSxHQUNqQixJQUFJcTZCLEVBQVd4eEIsR0FBV3FKLEtBQUtsUyxHQUMvQixPQUFRcTZCLEdBQVl0eEIsR0FBVW1KLEtBQUtsUyxHQUMvQmtNLEdBQWFsTSxFQUFNYSxNQUFNLEdBQUl3NUIsRUFBVyxFQUFJLEdBQzNDenhCLEdBQVdzSixLQUFLbFMsR0FBU21GLEdBQU9uRixDQUN0QyxDQTBCRCxTQUFTa25CLEdBQWNsbkIsR0FDckIsT0FBT29jLEdBQVdwYyxFQUFPK2QsR0FBTy9kLEdBQ2pDLENBcURELFNBQVNzVSxHQUFTdFUsR0FDaEIsT0FBZ0IsTUFBVEEsRUFBZ0IsR0FBS3lxQixHQUFhenFCLEVBQzFDLENBb0NELElBQUlkLEdBQVNtdUIsSUFBZSxTQUFTMWMsRUFBUW5KLEdBQzNDLEdBQUlzZSxHQUFZdGUsSUFBVzRlLEdBQVk1ZSxHQUNyQzRVLEdBQVc1VSxFQUFRa04sR0FBS2xOLEdBQVNtSixRQUduQyxJQUFLLElBQUlULEtBQU8xSSxFQUNWaEosR0FBZUMsS0FBSytJLEVBQVEwSSxJQUM5QjRMLEdBQVluTCxFQUFRVCxFQUFLMUksRUFBTzBJLEdBRzFDLElBaUNRb3FCLEdBQVdqTixJQUFlLFNBQVMxYyxFQUFRbkosR0FDN0M0VSxHQUFXNVUsRUFBUXVXLEdBQU92VyxHQUFTbUosRUFDekMsSUErQlE0cEIsR0FBZWxOLElBQWUsU0FBUzFjLEVBQVFuSixFQUFRbWYsRUFBVTFKLEdBQ25FYixHQUFXNVUsRUFBUXVXLEdBQU92VyxHQUFTbUosRUFBUXNNLEVBQ2pELElBOEJRdWQsR0FBYW5OLElBQWUsU0FBUzFjLEVBQVFuSixFQUFRbWYsRUFBVTFKLEdBQ2pFYixHQUFXNVUsRUFBUWtOLEdBQUtsTixHQUFTbUosRUFBUXNNLEVBQy9DLElBbUJRd2QsR0FBS2xNLEdBQVMvUixJQThEbEIsSUFBSTNJLEdBQVc2VSxJQUFTLFNBQVMvWCxFQUFRNGMsR0FDdkM1YyxFQUFTelMsR0FBT3lTLEdBRWhCLElBQUluTyxHQUFTLEVBQ1RoRCxFQUFTK3RCLEVBQVEvdEIsT0FDakJndUIsRUFBUWh1QixFQUFTLEVBQUkrdEIsRUFBUSxHQUFLcnJCLEVBTXRDLElBSklzckIsR0FBU0MsR0FBZUYsRUFBUSxHQUFJQSxFQUFRLEdBQUlDLEtBQ2xEaHVCLEVBQVMsS0FHRmdELEVBQVFoRCxHQU1mLElBTEEsSUFBSWdJLEVBQVMrbEIsRUFBUS9xQixHQUNqQjZPLEVBQVEwTSxHQUFPdlcsR0FDZmt6QixHQUFjLEVBQ2RDLEVBQWN0cEIsRUFBTTdSLFNBRWZrN0IsRUFBYUMsR0FBYSxDQUNqQyxJQUFJenFCLEVBQU1tQixFQUFNcXBCLEdBQ1oxNkIsRUFBUTJRLEVBQU9ULElBRWZsUSxJQUFVa0MsR0FDVDBaLEdBQUc1YixFQUFPbVUsR0FBWWpFLE1BQVUxUixHQUFlQyxLQUFLa1MsRUFBUVQsTUFDL0RTLEVBQU9ULEdBQU8xSSxFQUFPMEksR0FFeEIsQ0FHSCxPQUFPUyxDQUNiLElBcUJRaXFCLEdBQWVsUyxJQUFTLFNBQVNyYSxHQUVuQyxPQURBQSxFQUFLL04sS0FBSzRCLEVBQVd5d0IsSUFDZGx6QixHQUFNbzdCLEdBQVczNEIsRUFBV21NLEVBQ3pDLElBK1JJLFNBQVNzTyxHQUFJaE0sRUFBUTNOLEVBQU15dEIsR0FDekIsSUFBSWx2QixFQUFtQixNQUFWb1AsRUFBaUJ6TyxFQUFZdWYsR0FBUTlRLEVBQVEzTixHQUMxRCxPQUFPekIsSUFBV1csRUFBWXV1QixFQUFlbHZCLENBQzlDLENBMkRELFNBQVNrbEIsR0FBTTlWLEVBQVEzTixHQUNyQixPQUFpQixNQUFWMk4sR0FBa0J5aUIsR0FBUXppQixFQUFRM04sRUFBTXVmLEdBQ2hELENBb0JELElBQUl1WSxHQUFTMUssSUFBZSxTQUFTN3VCLEVBQVF2QixFQUFPa1EsR0FDckMsTUFBVGxRLEdBQ3lCLG1CQUFsQkEsRUFBTXNVLFdBQ2Z0VSxFQUFRNFUsR0FBcUJuVyxLQUFLdUIsSUFHcEN1QixFQUFPdkIsR0FBU2tRLENBQ3RCLEdBQU9pWixHQUFTMUQsS0E0QlJzVixHQUFXM0ssSUFBZSxTQUFTN3VCLEVBQVF2QixFQUFPa1EsR0FDdkMsTUFBVGxRLEdBQ3lCLG1CQUFsQkEsRUFBTXNVLFdBQ2Z0VSxFQUFRNFUsR0FBcUJuVyxLQUFLdUIsSUFHaEN4QixHQUFlQyxLQUFLOEMsRUFBUXZCLEdBQzlCdUIsRUFBT3ZCLEdBQU9NLEtBQUs0UCxHQUVuQjNPLEVBQU92QixHQUFTLENBQUNrUSxFQUVwQixHQUFFc1gsSUFvQkN3VCxHQUFTdFMsR0FBUzFGLElBOEJ0QixTQUFTdE8sR0FBSy9ELEdBQ1osT0FBT3lWLEdBQVl6VixHQUFVZ0ssR0FBY2hLLEdBQVVrVixHQUFTbFYsRUFDL0QsQ0F5QkQsU0FBU29OLEdBQU9wTixHQUNkLE9BQU95VixHQUFZelYsR0FBVWdLLEdBQWNoSyxHQUFRLEdBQVFvVixHQUFXcFYsRUFDdkUsQ0FzR0QsSUFBSWhQLEdBQVEwckIsSUFBZSxTQUFTMWMsRUFBUW5KLEVBQVFtZixHQUNsREQsR0FBVS9WLEVBQVFuSixFQUFRbWYsRUFDaEMsSUFpQ1FrVSxHQUFZeE4sSUFBZSxTQUFTMWMsRUFBUW5KLEVBQVFtZixFQUFVMUosR0FDaEV5SixHQUFVL1YsRUFBUW5KLEVBQVFtZixFQUFVMUosRUFDMUMsSUFzQlFnZSxHQUFPMU0sSUFBUyxTQUFTNWQsRUFBUThMLEdBQ25DLElBQUlsYixFQUFTLENBQUUsRUFDZixHQUFjLE1BQVZvUCxFQUNGLE9BQU9wUCxFQUVULElBQUk0YixHQUFTLEVBQ2JWLEVBQVFwTixHQUFTb04sR0FBTyxTQUFTelosR0FHL0IsT0FGQUEsRUFBTzBlLEdBQVMxZSxFQUFNMk4sR0FDdEJ3TSxJQUFXQSxFQUFTbmEsRUFBS3hELE9BQVMsR0FDM0J3RCxDQUNmLElBQ01vWixHQUFXekwsRUFBUXNPLEdBQWF0TyxHQUFTcFAsR0FDckM0YixJQUNGNWIsRUFBU3diLEdBQVV4YixFQUFRMjVCLEVBQXdEdEksS0FHckYsSUFEQSxJQUFJcHpCLEVBQVNpZCxFQUFNamQsT0FDWkEsS0FDTGdwQixHQUFVam5CLEVBQVFrYixFQUFNamQsSUFFMUIsT0FBTytCLENBQ2IsSUEyQ0ksSUFBSXVTLEdBQU95YSxJQUFTLFNBQVM1ZCxFQUFROEwsR0FDbkMsT0FBaUIsTUFBVjlMLEVBQWlCLENBQUEsRUFubVQxQixTQUFrQkEsRUFBUThMLEdBQ3hCLE9BQU95TCxHQUFXdlgsRUFBUThMLEdBQU8sU0FBU3pjLEVBQU9nRCxHQUMvQyxPQUFPeWpCLEdBQU05VixFQUFRM04sRUFDN0IsR0FDSyxDQStsVDhCbTRCLENBQVN4cUIsRUFBUThMLEVBQ3BELElBb0JJLFNBQVMyZSxHQUFPenFCLEVBQVE3QixHQUN0QixHQUFjLE1BQVY2QixFQUNGLE1BQU8sQ0FBRSxFQUVYLElBQUlVLEVBQVFoQyxHQUFTNFAsR0FBYXRPLElBQVMsU0FBU2hPLEdBQ2xELE1BQU8sQ0FBQ0EsRUFDaEIsSUFFTSxPQURBbU0sRUFBWTBZLEdBQVkxWSxHQUNqQm9aLEdBQVd2WCxFQUFRVSxHQUFPLFNBQVNyUixFQUFPZ0QsR0FDL0MsT0FBTzhMLEVBQVU5TyxFQUFPZ0QsRUFBSyxHQUNyQyxHQUNLLENBMElELElBQUlxNEIsR0FBVXRKLEdBQWNyZCxJQTBCeEI0bUIsR0FBWXZKLEdBQWNoVSxJQTRLOUIsU0FBU3hPLEdBQU9vQixHQUNkLE9BQWlCLE1BQVZBLEVBQWlCLEdBQUtTLEdBQVdULEVBQVErRCxHQUFLL0QsR0FDdEQsQ0FpTkQsSUFBSTRxQixHQUFZek4sSUFBaUIsU0FBU3ZzQixFQUFRaTZCLEVBQU1oNUIsR0FFdEQsT0FEQWc1QixFQUFPQSxFQUFLQyxjQUNMbDZCLEdBQVVpQixFQUFRazVCLEdBQVdGLEdBQVFBLEVBQ2xELElBaUJJLFNBQVNFLEdBQVcxcUIsR0FDbEIsT0FBTzJxQixHQUFXcm5CLEdBQVN0RCxHQUFReXFCLGNBQ3BDLENBb0JELFNBQVN4TixHQUFPamQsR0FFZCxPQURBQSxFQUFTc0QsR0FBU3RELEtBQ0RBLEVBQU9FLFFBQVFqSSxHQUFTNEksSUFBY1gsUUFBUTVGLEdBQWEsR0FDN0UsQ0FxSEQsSUFBSXN3QixHQUFZOU4sSUFBaUIsU0FBU3ZzQixFQUFRaTZCLEVBQU1oNUIsR0FDdEQsT0FBT2pCLEdBQVVpQixFQUFRLElBQU0sSUFBTWc1QixFQUFLQyxhQUNoRCxJQXNCUUksR0FBWS9OLElBQWlCLFNBQVN2c0IsRUFBUWk2QixFQUFNaDVCLEdBQ3RELE9BQU9qQixHQUFVaUIsRUFBUSxJQUFNLElBQU1nNUIsRUFBS0MsYUFDaEQsSUFtQlFLLEdBQWFuTyxHQUFnQixlQTBOakMsSUFBSW9PLEdBQVlqTyxJQUFpQixTQUFTdnNCLEVBQVFpNkIsRUFBTWg1QixHQUN0RCxPQUFPakIsR0FBVWlCLEVBQVEsSUFBTSxJQUFNZzVCLEVBQUtDLGFBQ2hELElBK0RJLElBQUlPLEdBQVlsTyxJQUFpQixTQUFTdnNCLEVBQVFpNkIsRUFBTWg1QixHQUN0RCxPQUFPakIsR0FBVWlCLEVBQVEsSUFBTSxJQUFNbTVCLEdBQVdILEVBQ3RELElBcWlCSSxJQUFJUyxHQUFZbk8sSUFBaUIsU0FBU3ZzQixFQUFRaTZCLEVBQU1oNUIsR0FDdEQsT0FBT2pCLEdBQVVpQixFQUFRLElBQU0sSUFBTWc1QixFQUFLVSxhQUNoRCxJQW1CUVAsR0FBYWhPLEdBQWdCLGVBcUJqQyxTQUFTSyxHQUFNaGQsRUFBUW1yQixFQUFTM08sR0FJOUIsT0FIQXhjLEVBQVNzRCxHQUFTdEQsSUFDbEJtckIsRUFBVTNPLEVBQVF0ckIsRUFBWWk2QixLQUVkajZCLEVBcnlicEIsU0FBd0I4TyxHQUN0QixPQUFPdEYsR0FBaUJ3RyxLQUFLbEIsRUFDOUIsQ0FveWJZb3JCLENBQWVwckIsR0ExamI1QixTQUFzQkEsR0FDcEIsT0FBT0EsRUFBT21DLE1BQU0zSCxLQUFrQixFQUN2QyxDQXdqYnFDNndCLENBQWFyckIsR0F6cmNuRCxTQUFvQkEsR0FDbEIsT0FBT0EsRUFBT21DLE1BQU01SyxLQUFnQixFQUNyQyxDQXVyYzREK3pCLENBQVd0ckIsR0FFN0RBLEVBQU9tQyxNQUFNZ3BCLElBQVksRUFDakMsQ0EwQkQsSUFBSUksR0FBVTdULElBQVMsU0FBU3ZhLEVBQU1FLEdBQ3BDLElBQ0UsT0FBTzVPLEdBQU0wTyxFQUFNak0sRUFBV21NLEVBQy9CLENBQUMsTUFBT2pPLEdBQ1AsT0FBT3U1QixHQUFRdjVCLEdBQUtBLEVBQUksSUFBSXNDLEdBQU10QyxFQUNuQyxDQUNQLElBNEJRbzhCLEdBQVVqTyxJQUFTLFNBQVM1ZCxFQUFROHJCLEdBS3RDLE9BSkE5dEIsR0FBVTh0QixHQUFhLFNBQVN2c0IsR0FDOUJBLEVBQU15UixHQUFNelIsR0FDWjJMLEdBQWdCbEwsRUFBUVQsRUFBS2tuQixHQUFLem1CLEVBQU9ULEdBQU1TLEdBQ3ZELElBQ2FBLENBQ2IsSUFvR0ksU0FBU3dZLEdBQVNucEIsR0FDaEIsT0FBa0IsV0FDaEIsT0FBT0EsQ0FDZixDQUNLLENBZ0RELElBQUkwOEIsR0FBT3BPLEtBdUJQcU8sR0FBWXJPLElBQVcsR0FrQjNCLFNBQVM3SSxHQUFTemxCLEdBQ2hCLE9BQU9BLENBQ1IsQ0E0Q0QsU0FBU3lPLEdBQVNOLEdBQ2hCLE9BQU9xWCxHQUE0QixtQkFBUnJYLEVBQXFCQSxFQUFPNE8sR0FBVTVPLEVBanRlL0MsR0FrdGVuQixDQXNHRCxJQUFJeXVCLEdBQVNsVSxJQUFTLFNBQVMxbEIsRUFBTXFMLEdBQ25DLGdCQUFnQnNDLEdBQ2QsT0FBT3FTLEdBQVdyUyxFQUFRM04sRUFBTXFMLEVBQ3hDLENBQ0EsSUF5QlF3dUIsR0FBV25VLElBQVMsU0FBUy9YLEVBQVF0QyxHQUN2QyxnQkFBZ0JyTCxHQUNkLE9BQU9nZ0IsR0FBV3JTLEVBQVEzTixFQUFNcUwsRUFDeEMsQ0FDQSxJQXNDSSxTQUFTeXVCLEdBQU1uc0IsRUFBUW5KLEVBQVErdkIsR0FDN0IsSUFBSWxtQixFQUFRcUQsR0FBS2xOLEdBQ2JpMUIsRUFBY2xiLEdBQWMvWixFQUFRNkosR0FFekIsTUFBWGttQixHQUNFcGUsR0FBUzNSLEtBQVlpMUIsRUFBWWo5QixTQUFXNlIsRUFBTTdSLFVBQ3REKzNCLEVBQVUvdkIsRUFDVkEsRUFBU21KLEVBQ1RBLEVBQVM3UixLQUNUMjlCLEVBQWNsYixHQUFjL1osRUFBUWtOLEdBQUtsTixLQUUzQyxJQUFJK3VCLElBQVVwZCxHQUFTb2UsSUFBWSxVQUFXQSxJQUFjQSxFQUFRaEIsT0FDaEU3WSxFQUFTOEQsR0FBVzdRLEdBcUJ4QixPQW5CQWhDLEdBQVU4dEIsR0FBYSxTQUFTN08sR0FDOUIsSUFBSXpmLEVBQU8zRyxFQUFPb21CLEdBQ2xCamQsRUFBT2lkLEdBQWN6ZixFQUNqQnVQLElBQ0YvTSxFQUFPcFMsVUFBVXF2QixHQUFjLFdBQzdCLElBQUl2VSxFQUFXdmEsS0FBSzBhLFVBQ3BCLEdBQUkrYyxHQUFTbGQsRUFBVSxDQUNyQixJQUFJOVgsRUFBU29QLEVBQU83UixLQUFLd2EsYUFLekIsT0FKYy9YLEVBQU9nWSxZQUFjaUMsR0FBVTFjLEtBQUt5YSxjQUUxQ2paLEtBQUssQ0FBRTZOLEtBQVFBLEVBQU1FLEtBQVE5TyxVQUFXNk8sUUFBV3VDLElBQzNEcFAsRUFBT2lZLFVBQVlILEVBQ1o5WCxDQUNSLENBQ0QsT0FBTzRNLEVBQUsxTyxNQUFNa1IsRUFBUXJCLEdBQVUsQ0FBQ3hRLEtBQUtrQixTQUFVVCxXQUNoRSxFQUVBLElBRWFvUixDQUNSLENBa0NELFNBQVNtaEIsS0FDYixDQWdESSxJQUFJaUwsR0FBT3JNLEdBQVdyaEIsSUE4QmxCMnRCLEdBQVl0TSxHQUFXN2hCLElBaUN2Qm91QixHQUFXdk0sR0FBVzlnQixJQXdCMUIsU0FBU2dXLEdBQVM1aUIsR0FDaEIsT0FBT3VqQixHQUFNdmpCLEdBQVE4TSxHQUFhNlIsR0FBTTNlLElBaDNYMUMsU0FBMEJBLEdBQ3hCLE9BQU8sU0FBUzJOLEdBQ2QsT0FBTzhRLEdBQVE5USxFQUFRM04sRUFDL0IsQ0FDSyxDQTQyWGtEazZCLENBQWlCbDZCLEVBQ25FLENBc0VELElBQUltNkIsR0FBUXBNLEtBc0NScU0sR0FBYXJNLElBQVksR0FvQjdCLFNBQVNvQyxLQUNQLE1BQU8sRUFDUixDQWVELFNBQVNRLEtBQ1AsT0FBWSxDQUNiLENBOEpELElBQUluWixHQUFNK1YsSUFBb0IsU0FBUzhNLEVBQVFDLEdBQzdDLE9BQU9ELEVBQVNDLENBQ2pCLEdBQUUsR0F1QkNqbkIsR0FBT3FiLEdBQVksUUFpQm5CNkwsR0FBU2hOLElBQW9CLFNBQVNpTixFQUFVQyxHQUNsRCxPQUFPRCxFQUFXQyxDQUNuQixHQUFFLEdBdUJDbG5CLEdBQVFtYixHQUFZLFNBd0t4QixJQWdhTWxxQixHQWhhRmsyQixHQUFXbk4sSUFBb0IsU0FBU29OLEVBQVlDLEdBQ3RELE9BQU9ELEVBQWFDLENBQ3JCLEdBQUUsR0F1QkNDLEdBQVFuTSxHQUFZLFNBaUJwQm9NLEdBQVd2TixJQUFvQixTQUFTd04sRUFBU0MsR0FDbkQsT0FBT0QsRUFBVUMsQ0FDbEIsR0FBRSxHQWdtQkgsT0ExaUJBcGxCLEdBQU9xbEIsTUFwNk1QLFNBQWUzK0IsRUFBRzZPLEdBQ2hCLEdBQW1CLG1CQUFSQSxFQUNULE1BQVUsSUFBQXhQLEdBQVU4RixHQUd0QixPQURBbkYsRUFBSXN5QixHQUFVdHlCLEdBQ1AsV0FDTCxLQUFNQSxFQUFJLEVBQ1IsT0FBTzZPLEVBQUsxTyxNQUFNWCxLQUFNUyxVQUVsQyxDQUNLLEVBMjVNRHFaLEdBQU95VyxJQUFNQSxHQUNielcsR0FBTzFaLE9BQVNBLEdBQ2hCMFosR0FBTzBoQixTQUFXQSxHQUNsQjFoQixHQUFPMmhCLGFBQWVBLEdBQ3RCM2hCLEdBQU80aEIsV0FBYUEsR0FDcEI1aEIsR0FBTzZoQixHQUFLQSxHQUNaN2hCLEdBQU91ZSxPQUFTQSxHQUNoQnZlLEdBQU93ZSxLQUFPQSxHQUNkeGUsR0FBTzRqQixRQUFVQSxHQUNqQjVqQixHQUFPeWUsUUFBVUEsR0FDakJ6ZSxHQUFPc2xCLFVBbDhLUCxXQUNFLElBQUszK0IsVUFBVUMsT0FDYixNQUFPLEdBRVQsSUFBSVEsRUFBUVQsVUFBVSxHQUN0QixPQUFPZ0YsR0FBUXZFLEdBQVNBLEVBQVEsQ0FBQ0EsRUFDbEMsRUE2N0tENFksR0FBTzJkLE1BQVFBLEdBQ2YzZCxHQUFPdWxCLE1BcGdUUCxTQUFlNXZCLEVBQU84RCxFQUFNbWIsR0FFeEJuYixHQURHbWIsRUFBUUMsR0FBZWxmLEVBQU84RCxFQUFNbWIsR0FBU25iLElBQVNuUSxHQUNsRCxFQUVBOFUsR0FBVTRhLEdBQVV2ZixHQUFPLEdBRXBDLElBQUk3UyxFQUFrQixNQUFUK08sRUFBZ0IsRUFBSUEsRUFBTS9PLE9BQ3ZDLElBQUtBLEdBQVU2UyxFQUFPLEVBQ3BCLE1BQU8sR0FNVCxJQUpBLElBQUk3UCxFQUFRLEVBQ1J3TSxFQUFXLEVBQ1h6TixFQUFTbEQsR0FBTStYLEdBQVc1VyxFQUFTNlMsSUFFaEM3UCxFQUFRaEQsR0FDYitCLEVBQU95TixLQUFjcWEsR0FBVTlhLEVBQU8vTCxFQUFRQSxHQUFTNlAsR0FFekQsT0FBTzlRLENBQ1IsRUFtL1NEcVgsR0FBT3dsQixRQWwrU1AsU0FBaUI3dkIsR0FNZixJQUxBLElBQUkvTCxHQUFTLEVBQ1RoRCxFQUFrQixNQUFUK08sRUFBZ0IsRUFBSUEsRUFBTS9PLE9BQ25Dd1AsRUFBVyxFQUNYek4sRUFBUyxLQUVKaUIsRUFBUWhELEdBQVEsQ0FDdkIsSUFBSVEsRUFBUXVPLEVBQU0vTCxHQUNkeEMsSUFDRnVCLEVBQU95TixLQUFjaFAsRUFFeEIsQ0FDRCxPQUFPdUIsQ0FDUixFQXM5U0RxWCxHQUFPOVgsT0E5N1NQLFdBQ0UsSUFBSXRCLEVBQVNELFVBQVVDLE9BQ3ZCLElBQUtBLEVBQ0gsTUFBTyxHQU1ULElBSkEsSUFBSTZPLEVBQU9oUSxHQUFNbUIsRUFBUyxHQUN0QitPLEVBQVFoUCxVQUFVLEdBQ2xCaUQsRUFBUWhELEVBRUxnRCxLQUNMNkwsRUFBSzdMLEVBQVEsR0FBS2pELFVBQVVpRCxHQUU5QixPQUFPOE0sR0FBVS9LLEdBQVFnSyxHQUFTaU4sR0FBVWpOLEdBQVMsQ0FBQ0EsR0FBUXlTLEdBQVkzUyxFQUFNLEdBQ2pGLEVBazdTRHVLLEdBQU95bEIsS0EzdENQLFNBQWMvZCxHQUNaLElBQUk5Z0IsRUFBa0IsTUFBVDhnQixFQUFnQixFQUFJQSxFQUFNOWdCLE9BQ25DNndCLEVBQWE3SSxLQVNqQixPQVBBbEgsRUFBUzlnQixFQUFjNlAsR0FBU2lSLEdBQU8sU0FBU3VSLEdBQzlDLEdBQXNCLG1CQUFYQSxFQUFLLEdBQ2QsTUFBTSxJQUFJbHpCLEdBQVU4RixHQUV0QixNQUFPLENBQUM0ckIsRUFBV3dCLEVBQUssSUFBS0EsRUFBSyxHQUMxQyxJQUx3QixHQU9YbkosSUFBUyxTQUFTcmEsR0FFdkIsSUFEQSxJQUFJN0wsR0FBUyxJQUNKQSxFQUFRaEQsR0FBUSxDQUN2QixJQUFJcXlCLEVBQU92UixFQUFNOWQsR0FDakIsR0FBSS9DLEdBQU1veUIsRUFBSyxHQUFJL3lCLEtBQU11UCxHQUN2QixPQUFPNU8sR0FBTW95QixFQUFLLEdBQUkveUIsS0FBTXVQLEVBRS9CLENBQ1QsR0FDSyxFQXdzQ0R1SyxHQUFPMGxCLFNBOXFDUCxTQUFrQjkyQixHQUNoQixPQXo1WUYsU0FBc0JBLEdBQ3BCLElBQUk2SixFQUFRcUQsR0FBS2xOLEdBQ2pCLE9BQWdCbUosU0FBQUEsR0FDZCxPQUFPd08sR0FBZXhPLEVBQVFuSixFQUFRNkosRUFDOUMsQ0FDSyxDQW81WVFrdEIsQ0FBYXhoQixHQUFVdlYsRUEvaWVaLEdBZ2plbkIsRUE2cUNEb1IsR0FBT3VRLFNBQVdBLEdBQ2xCdlEsR0FBTzhkLFFBQVVBLEdBQ2pCOWQsR0FBTzVaLE9BdHVIUCxTQUFnQlQsRUFBV2lnQyxHQUN6QixJQUFJajlCLEVBQVMwWCxHQUFXMWEsR0FDeEIsT0FBcUIsTUFBZGlnQyxFQUFxQmo5QixFQUFTNGEsR0FBVzVhLEVBQVFpOUIsRUFDekQsRUFvdUhENWxCLEdBQU82bEIsTUF6dU1QLFNBQVNBLEVBQU10d0IsRUFBTW1oQixFQUFPOUIsR0FFMUIsSUFBSWpzQixFQUFTMHdCLEdBQVc5akIsRUE3K1ROLEVBNitUNkJqTSxFQUFXQSxFQUFXQSxFQUFXQSxFQUFXQSxFQUQzRm90QixFQUFROUIsRUFBUXRyQixFQUFZb3RCLEdBRzVCLE9BREEvdEIsRUFBT29SLFlBQWM4ckIsRUFBTTlyQixZQUNwQnBSLENBQ1IsRUFxdU1EcVgsR0FBTzhsQixXQTdyTVAsU0FBU0EsRUFBV3Z3QixFQUFNbWhCLEVBQU85QixHQUUvQixJQUFJanNCLEVBQVMwd0IsR0FBVzlqQixFQUFNdkosRUFBdUIxQyxFQUFXQSxFQUFXQSxFQUFXQSxFQUFXQSxFQURqR290QixFQUFROUIsRUFBUXRyQixFQUFZb3RCLEdBRzVCLE9BREEvdEIsRUFBT29SLFlBQWMrckIsRUFBVy9yQixZQUN6QnBSLENBQ1IsRUF5ck1EcVgsR0FBTzBlLFNBQVdBLEdBQ2xCMWUsR0FBTy9FLFNBQVdBLEdBQ2xCK0UsR0FBT2dpQixhQUFlQSxHQUN0QmhpQixHQUFPaWdCLE1BQVFBLEdBQ2ZqZ0IsR0FBT2tnQixNQUFRQSxHQUNmbGdCLEdBQU9rYyxXQUFhQSxHQUNwQmxjLEdBQU9tYyxhQUFlQSxHQUN0Qm5jLEdBQU9vYyxlQUFpQkEsR0FDeEJwYyxHQUFPM1UsS0F0MFNQLFNBQWNzSyxFQUFPalAsRUFBR2t1QixHQUN0QixJQUFJaHVCLEVBQWtCLE1BQVQrTyxFQUFnQixFQUFJQSxFQUFNL08sT0FDdkMsT0FBS0EsRUFJRTZwQixHQUFVOWEsR0FEakJqUCxFQUFLa3VCLEdBQVNsdUIsSUFBTTRDLEVBQWEsRUFBSTB2QixHQUFVdHlCLElBQ25CLEVBQUksRUFBSUEsRUFBR0UsR0FIOUIsRUFJVixFQWcwU0RvWixHQUFPK2xCLFVBcnlTUCxTQUFtQnB3QixFQUFPalAsRUFBR2t1QixHQUMzQixJQUFJaHVCLEVBQWtCLE1BQVQrTyxFQUFnQixFQUFJQSxFQUFNL08sT0FDdkMsT0FBS0EsRUFLRTZwQixHQUFVOWEsRUFBTyxHQUR4QmpQLEVBQUlFLEdBREpGLEVBQUtrdUIsR0FBU2x1QixJQUFNNEMsRUFBYSxFQUFJMHZCLEdBQVV0eUIsS0FFaEIsRUFBSSxFQUFJQSxHQUo5QixFQUtWLEVBOHhTRHNaLEdBQU9nbUIsZUF6dlNQLFNBQXdCcndCLEVBQU9PLEdBQzdCLE9BQVFQLEdBQVNBLEVBQU0vTyxPQUNuQnVyQixHQUFVeGMsRUFBT2laLEdBQVkxWSxFQUFXLElBQUksR0FBTSxHQUNsRCxFQUNMLEVBc3ZTRDhKLEdBQU9pbUIsVUFqdFNQLFNBQW1CdHdCLEVBQU9PLEdBQ3hCLE9BQVFQLEdBQVNBLEVBQU0vTyxPQUNuQnVyQixHQUFVeGMsRUFBT2laLEdBQVkxWSxFQUFXLElBQUksR0FDNUMsRUFDTCxFQThzU0Q4SixHQUFPa21CLEtBL3FTUCxTQUFjdndCLEVBQU92TyxFQUFPMm9CLEVBQU9XLEdBQ2pDLElBQUk5cEIsRUFBa0IsTUFBVCtPLEVBQWdCLEVBQUlBLEVBQU0vTyxPQUN2QyxPQUFLQSxHQUdEbXBCLEdBQXlCLGlCQUFUQSxHQUFxQjhFLEdBQWVsZixFQUFPdk8sRUFBTzJvQixLQUNwRUEsRUFBUSxFQUNSVyxFQUFNOXBCLEdBenZJVixTQUFrQitPLEVBQU92TyxFQUFPMm9CLEVBQU9XLEdBQ3JDLElBQUk5cEIsRUFBUytPLEVBQU0vTyxPQVduQixLQVRBbXBCLEVBQVFpSixHQUFVakosSUFDTixJQUNWQSxHQUFTQSxFQUFRbnBCLEVBQVMsRUFBS0EsRUFBU21wQixJQUUxQ1csRUFBT0EsSUFBUXBuQixHQUFhb25CLEVBQU05cEIsRUFBVUEsRUFBU295QixHQUFVdEksSUFDckQsSUFDUkEsR0FBTzlwQixHQUVUOHBCLEVBQU1YLEVBQVFXLEVBQU0sRUFBSThRLEdBQVM5USxHQUMxQlgsRUFBUVcsR0FDYi9hLEVBQU1vYSxLQUFXM29CLEVBRW5CLE9BQU91TyxDQUNSLENBMnVJUXd3QixDQUFTeHdCLEVBQU92TyxFQUFPMm9CLEVBQU9XLElBTjVCLEVBT1YsRUFzcVNEMVEsR0FBT29tQixPQTN2T1AsU0FBZ0JodkIsRUFBWWxCLEdBRTFCLE9BRFd2SyxHQUFReUwsR0FBY2pCLEdBQWNnUyxJQUNuQy9RLEVBQVl3WCxHQUFZMVksRUFBVyxHQUNoRCxFQXl2T0Q4SixHQUFPcW1CLFFBdnFPUCxTQUFpQmp2QixFQUFZdkIsR0FDM0IsT0FBT3VTLEdBQVk1TyxHQUFJcEMsRUFBWXZCLEdBQVcsRUFDL0MsRUFzcU9EbUssR0FBT3NtQixZQWhwT1AsU0FBcUJsdkIsRUFBWXZCLEdBQy9CLE9BQU91UyxHQUFZNU8sR0FBSXBDLEVBQVl2QixHQUFXeEosRUFDL0MsRUErb09EMlQsR0FBT3VtQixhQXhuT1AsU0FBc0JudkIsRUFBWXZCLEVBQVV3UyxHQUUxQyxPQURBQSxFQUFRQSxJQUFVL2UsRUFBWSxFQUFJMHZCLEdBQVUzUSxHQUNyQ0QsR0FBWTVPLEdBQUlwQyxFQUFZdkIsR0FBV3dTLEVBQy9DLEVBc25PRHJJLEdBQU9tYSxRQUFVQSxHQUNqQm5hLEdBQU93bUIsWUF2aVNQLFNBQXFCN3dCLEdBRW5CLE9BRHNCLE1BQVRBLEVBQWdCLEVBQUlBLEVBQU0vTyxRQUN2QndoQixHQUFZelMsRUFBT3RKLEdBQVksRUFDaEQsRUFxaVNEMlQsR0FBT3ltQixhQS9nU1AsU0FBc0I5d0IsRUFBTzBTLEdBRTNCLE9BRHNCLE1BQVQxUyxFQUFnQixFQUFJQSxFQUFNL08sUUFLaEN3aEIsR0FBWXpTLEVBRG5CMFMsRUFBUUEsSUFBVS9lLEVBQVksRUFBSTB2QixHQUFVM1EsSUFGbkMsRUFJVixFQXlnU0RySSxHQUFPMG1CLEtBejlMUCxTQUFjbnhCLEdBQ1osT0FBTzhqQixHQUFXOWpCLEVBNXdVRCxJQTZ3VWxCLEVBdzlMRHlLLEdBQU84akIsS0FBT0EsR0FDZDlqQixHQUFPK2pCLFVBQVlBLEdBQ25CL2pCLEdBQU8ybUIsVUEzL1JQLFNBQW1CamYsR0FLakIsSUFKQSxJQUFJOWQsR0FBUyxFQUNUaEQsRUFBa0IsTUFBVDhnQixFQUFnQixFQUFJQSxFQUFNOWdCLE9BQ25DK0IsRUFBUyxDQUFFLElBRU5pQixFQUFRaEQsR0FBUSxDQUN2QixJQUFJcXlCLEVBQU92UixFQUFNOWQsR0FDakJqQixFQUFPc3dCLEVBQUssSUFBTUEsRUFBSyxFQUN4QixDQUNELE9BQU90d0IsQ0FDUixFQWsvUkRxWCxHQUFPNG1CLFVBMzhHUCxTQUFtQjd1QixHQUNqQixPQUFpQixNQUFWQSxFQUFpQixHQUFLNFEsR0FBYzVRLEVBQVErRCxHQUFLL0QsR0FDekQsRUEwOEdEaUksR0FBTzZtQixZQWo3R1AsU0FBcUI5dUIsR0FDbkIsT0FBaUIsTUFBVkEsRUFBaUIsR0FBSzRRLEdBQWM1USxFQUFRb04sR0FBT3BOLEdBQzNELEVBZzdHRGlJLEdBQU9rZSxRQUFVQSxHQUNqQmxlLEdBQU84bUIsUUE1NlJQLFNBQWlCbnhCLEdBRWYsT0FEc0IsTUFBVEEsRUFBZ0IsRUFBSUEsRUFBTS9PLFFBQ3ZCNnBCLEdBQVU5YSxFQUFPLEdBQUksR0FBSyxFQUMzQyxFQTA2UkRxSyxHQUFPd2MsYUFBZUEsR0FDdEJ4YyxHQUFPMGMsZUFBaUJBLEdBQ3hCMWMsR0FBTzJjLGlCQUFtQkEsR0FDMUIzYyxHQUFPa2lCLE9BQVNBLEdBQ2hCbGlCLEdBQU9taUIsU0FBV0EsR0FDbEJuaUIsR0FBT21lLFVBQVlBLEdBQ25CbmUsR0FBT25LLFNBQVdBLEdBQ2xCbUssR0FBT29lLE1BQVFBLEdBQ2ZwZSxHQUFPbEUsS0FBT0EsR0FDZGtFLEdBQU9tRixPQUFTQSxHQUNoQm5GLEdBQU94RyxJQUFNQSxHQUNid0csR0FBTyttQixRQTFyR1AsU0FBaUJodkIsRUFBUWxDLEdBQ3ZCLElBQUlsTixFQUFTLENBQUUsRUFNZixPQUxBa04sRUFBVytZLEdBQVkvWSxFQUFVLEdBRWpDZ1MsR0FBVzlQLEdBQVEsU0FBUzNRLEVBQU9rUSxFQUFLUyxHQUN0Q2tMLEdBQWdCdGEsRUFBUWtOLEVBQVN6TyxFQUFPa1EsRUFBS1MsR0FBUzNRLEVBQzlELElBQ2F1QixDQUNSLEVBbXJHRHFYLEdBQU9nbkIsVUFycEdQLFNBQW1CanZCLEVBQVFsQyxHQUN6QixJQUFJbE4sRUFBUyxDQUFFLEVBTWYsT0FMQWtOLEVBQVcrWSxHQUFZL1ksRUFBVSxHQUVqQ2dTLEdBQVc5UCxHQUFRLFNBQVMzUSxFQUFPa1EsRUFBS1MsR0FDdENrTCxHQUFnQnRhLEVBQVEyTyxFQUFLekIsRUFBU3pPLEVBQU9rUSxFQUFLUyxHQUMxRCxJQUNhcFAsQ0FDUixFQThvR0RxWCxHQUFPaW5CLFFBcGhDUCxTQUFpQnI0QixHQUNmLE9BQU9tZSxHQUFZNUksR0FBVXZWLEVBeHZlWCxHQXl2ZW5CLEVBbWhDRG9SLEdBQU9rbkIsZ0JBaC9CUCxTQUF5Qjk4QixFQUFNcWlCLEdBQzdCLE9BQU9LLEdBQW9CMWlCLEVBQU0rWixHQUFVc0ksRUE3eGV6QixHQTh4ZW5CLEVBKytCRHpNLEdBQU80YixRQUFVQSxHQUNqQjViLEdBQU9qWCxNQUFRQSxHQUNmaVgsR0FBT2lpQixVQUFZQSxHQUNuQmppQixHQUFPZ2tCLE9BQVNBLEdBQ2hCaGtCLEdBQU9pa0IsU0FBV0EsR0FDbEJqa0IsR0FBT2trQixNQUFRQSxHQUNmbGtCLEdBQU9zZ0IsT0FBU0EsR0FDaEJ0Z0IsR0FBT21uQixPQXp6QlAsU0FBZ0J6Z0MsR0FFZCxPQURBQSxFQUFJc3lCLEdBQVV0eUIsR0FDUG9wQixJQUFTLFNBQVNyYSxHQUN2QixPQUFPK1ksR0FBUS9ZLEVBQU0vTyxFQUM3QixHQUNLLEVBcXpCRHNaLEdBQU9xaUIsS0FBT0EsR0FDZHJpQixHQUFPb25CLE9BbmhHUCxTQUFnQnJ2QixFQUFRN0IsR0FDdEIsT0FBT3NzQixHQUFPenFCLEVBQVF1b0IsR0FBTzFSLEdBQVkxWSxJQUMxQyxFQWtoR0Q4SixHQUFPcW5CLEtBNzNMUCxTQUFjOXhCLEdBQ1osT0FBT2dwQixHQUFPLEVBQUdocEIsRUFDbEIsRUE0M0xEeUssR0FBT3NuQixRQXI0TlAsU0FBaUJsd0IsRUFBWXNYLEVBQVdDLEVBQVFpRyxHQUM5QyxPQUFrQixNQUFkeGQsRUFDSyxJQUVKekwsR0FBUStpQixLQUNYQSxFQUF5QixNQUFiQSxFQUFvQixHQUFLLENBQUNBLElBR25DL2lCLEdBRExnakIsRUFBU2lHLEVBQVF0ckIsRUFBWXFsQixLQUUzQkEsRUFBbUIsTUFBVkEsRUFBaUIsR0FBSyxDQUFDQSxJQUUzQkYsR0FBWXJYLEVBQVlzWCxFQUFXQyxHQUMzQyxFQTAzTkQzTyxHQUFPbWtCLEtBQU9BLEdBQ2Rua0IsR0FBT3VnQixTQUFXQSxHQUNsQnZnQixHQUFPb2tCLFVBQVlBLEdBQ25CcGtCLEdBQU9xa0IsU0FBV0EsR0FDbEJya0IsR0FBTzBnQixRQUFVQSxHQUNqQjFnQixHQUFPMmdCLGFBQWVBLEdBQ3RCM2dCLEdBQU9xZSxVQUFZQSxHQUNuQnJlLEdBQU85RSxLQUFPQSxHQUNkOEUsR0FBT3dpQixPQUFTQSxHQUNoQnhpQixHQUFPZ04sU0FBV0EsR0FDbEJoTixHQUFPdW5CLFdBL3JCUCxTQUFvQnh2QixHQUNsQixPQUFnQjNOLFNBQUFBLEdBQ2QsT0FBaUIsTUFBVjJOLEVBQWlCek8sRUFBWXVmLEdBQVE5USxFQUFRM04sRUFDNUQsQ0FDSyxFQTRyQkQ0VixHQUFPNGMsS0FBT0EsR0FDZDVjLEdBQU82YyxRQUFVQSxHQUNqQjdjLEdBQU93bkIsVUFwc1JQLFNBQW1CN3hCLEVBQU9nQixFQUFRZCxHQUNoQyxPQUFRRixHQUFTQSxFQUFNL08sUUFBVStQLEdBQVVBLEVBQU8vUCxPQUM5QzRvQixHQUFZN1osRUFBT2dCLEVBQVFpWSxHQUFZL1ksRUFBVSxJQUNqREYsQ0FDTCxFQWlzUkRxSyxHQUFPeW5CLFlBeHFSUCxTQUFxQjl4QixFQUFPZ0IsRUFBUUgsR0FDbEMsT0FBUWIsR0FBU0EsRUFBTS9PLFFBQVUrUCxHQUFVQSxFQUFPL1AsT0FDOUM0b0IsR0FBWTdaLEVBQU9nQixFQUFRck4sRUFBV2tOLEdBQ3RDYixDQUNMLEVBcXFSRHFLLEdBQU84YyxPQUFTQSxHQUNoQjljLEdBQU91a0IsTUFBUUEsR0FDZnZrQixHQUFPd2tCLFdBQWFBLEdBQ3BCeGtCLEdBQU80Z0IsTUFBUUEsR0FDZjVnQixHQUFPMG5CLE9BeHZOUCxTQUFnQnR3QixFQUFZbEIsR0FFMUIsT0FEV3ZLLEdBQVF5TCxHQUFjakIsR0FBY2dTLElBQ25DL1EsRUFBWWtwQixHQUFPMVIsR0FBWTFZLEVBQVcsSUFDdkQsRUFzdk5EOEosR0FBTzJuQixPQXptUlAsU0FBZ0JoeUIsRUFBT08sR0FDckIsSUFBSXZOLEVBQVMsR0FDYixJQUFNZ04sSUFBU0EsRUFBTS9PLE9BQ25CLE9BQU8rQixFQUVULElBQUlpQixHQUFTLEVBQ1Q4bEIsRUFBVSxHQUNWOW9CLEVBQVMrTyxFQUFNL08sT0FHbkIsSUFEQXNQLEVBQVkwWSxHQUFZMVksRUFBVyxLQUMxQnRNLEVBQVFoRCxHQUFRLENBQ3ZCLElBQUlRLEVBQVF1TyxFQUFNL0wsR0FDZHNNLEVBQVU5TyxFQUFPd0MsRUFBTytMLEtBQzFCaE4sRUFBT2pCLEtBQUtOLEdBQ1pzb0IsRUFBUWhvQixLQUFLa0MsR0FFaEIsQ0FFRCxPQURBNmxCLEdBQVc5WixFQUFPK1osR0FDWC9tQixDQUNSLEVBdWxSRHFYLEdBQU80bkIsS0FsdUxQLFNBQWNyeUIsRUFBTXdhLEdBQ2xCLEdBQW1CLG1CQUFSeGEsRUFDVCxNQUFVLElBQUF4UCxHQUFVOEYsR0FHdEIsT0FBT2lrQixHQUFTdmEsRUFEaEJ3YSxFQUFRQSxJQUFVem1CLEVBQVl5bUIsRUFBUWlKLEdBQVVqSixHQUVqRCxFQTZ0TEQvUCxHQUFPbkIsUUFBVUEsR0FDakJtQixHQUFPNm5CLFdBaHROUCxTQUFvQnp3QixFQUFZMVEsRUFBR2t1QixHQU9qQyxPQUxFbHVCLEdBREdrdUIsRUFBUUMsR0FBZXpkLEVBQVkxUSxFQUFHa3VCLEdBQVNsdUIsSUFBTTRDLEdBQ3BELEVBRUEwdkIsR0FBVXR5QixJQUVMaUYsR0FBUXlMLEdBQWNzTCxHQUFrQnlOLElBQ3ZDL1ksRUFBWTFRLEVBQ3pCLEVBeXNORHNaLEdBQU8vRixJQXY2RlAsU0FBYWxDLEVBQVEzTixFQUFNaEQsR0FDekIsT0FBaUIsTUFBVjJRLEVBQWlCQSxFQUFTd1gsR0FBUXhYLEVBQVEzTixFQUFNaEQsRUFDeEQsRUFzNkZENFksR0FBTzhuQixRQTU0RlAsU0FBaUIvdkIsRUFBUTNOLEVBQU1oRCxFQUFPaWQsR0FFcEMsT0FEQUEsRUFBa0MsbUJBQWRBLEVBQTJCQSxFQUFhL2EsRUFDM0MsTUFBVnlPLEVBQWlCQSxFQUFTd1gsR0FBUXhYLEVBQVEzTixFQUFNaEQsRUFBT2lkLEVBQy9ELEVBMDRGRHJFLEdBQU8rbkIsUUExck5QLFNBQWlCM3dCLEdBRWYsT0FEV3pMLEdBQVF5TCxHQUFjMEwsR0FBZTBOLElBQ3BDcFosRUFDYixFQXdyTkQ0SSxHQUFPL1gsTUFoalJQLFNBQWUwTixFQUFPb2EsRUFBT1csR0FDM0IsSUFBSTlwQixFQUFrQixNQUFUK08sRUFBZ0IsRUFBSUEsRUFBTS9PLE9BQ3ZDLE9BQUtBLEdBR0Q4cEIsR0FBcUIsaUJBQVBBLEdBQW1CbUUsR0FBZWxmLEVBQU9vYSxFQUFPVyxJQUNoRVgsRUFBUSxFQUNSVyxFQUFNOXBCLElBR05tcEIsRUFBaUIsTUFBVEEsRUFBZ0IsRUFBSWlKLEdBQVVqSixHQUN0Q1csRUFBTUEsSUFBUXBuQixFQUFZMUMsRUFBU295QixHQUFVdEksSUFFeENELEdBQVU5YSxFQUFPb2EsRUFBT1csSUFWdEIsRUFXVixFQW1pUkQxUSxHQUFPc2UsT0FBU0EsR0FDaEJ0ZSxHQUFPZ29CLFdBeDNRUCxTQUFvQnJ5QixHQUNsQixPQUFRQSxHQUFTQSxFQUFNL08sT0FDbkIrcUIsR0FBZWhjLEdBQ2YsRUFDTCxFQXEzUURxSyxHQUFPaW9CLGFBbjJRUCxTQUFzQnR5QixFQUFPRSxHQUMzQixPQUFRRixHQUFTQSxFQUFNL08sT0FDbkIrcUIsR0FBZWhjLEVBQU9pWixHQUFZL1ksRUFBVSxJQUM1QyxFQUNMLEVBZzJRRG1LLEdBQU92RixNQTVoRVAsU0FBZXJDLEVBQVE4dkIsRUFBV0MsR0FLaEMsT0FKSUEsR0FBeUIsaUJBQVRBLEdBQXFCdFQsR0FBZXpjLEVBQVE4dkIsRUFBV0MsS0FDekVELEVBQVlDLEVBQVE3K0IsSUFFdEI2K0IsRUFBUUEsSUFBVTcrQixFQUFZa0QsRUFBbUIyN0IsSUFBVSxJQUkzRC92QixFQUFTc0QsR0FBU3RELE1BRVEsaUJBQWI4dkIsR0FDTyxNQUFiQSxJQUFzQmh6QixHQUFTZ3pCLE9BRXBDQSxFQUFZclcsR0FBYXFXLEtBQ1A3dUIsR0FBV2pCLEdBQ3BCNGEsR0FBVTFZLEdBQWNsQyxHQUFTLEVBQUcrdkIsR0FHeEMvdkIsRUFBT3FDLE1BQU15dEIsRUFBV0MsR0FadEIsRUFhVixFQTBnRURub0IsR0FBT29vQixPQW5zTFAsU0FBZ0I3eUIsRUFBTXdhLEdBQ3BCLEdBQW1CLG1CQUFSeGEsRUFDVCxNQUFNLElBQUl4UCxHQUFVOEYsR0FHdEIsT0FEQWtrQixFQUFpQixNQUFUQSxFQUFnQixFQUFJM1IsR0FBVTRhLEdBQVVqSixHQUFRLEdBQ2pERCxJQUFTLFNBQVNyYSxHQUN2QixJQUFJRSxFQUFRRixFQUFLc2EsR0FDYmlMLEVBQVloSSxHQUFVdmQsRUFBTSxFQUFHc2EsR0FLbkMsT0FISXBhLEdBQ0ZlLEdBQVVza0IsRUFBV3JsQixHQUVoQjlPLEdBQU0wTyxFQUFNclAsS0FBTTgwQixFQUNqQyxHQUNLLEVBc3JMRGhiLEdBQU9xb0IsS0FsMVFQLFNBQWMxeUIsR0FDWixJQUFJL08sRUFBa0IsTUFBVCtPLEVBQWdCLEVBQUlBLEVBQU0vTyxPQUN2QyxPQUFPQSxFQUFTNnBCLEdBQVU5YSxFQUFPLEVBQUcvTyxHQUFVLEVBQy9DLEVBZzFRRG9aLEdBQU9zb0IsS0FyelFQLFNBQWMzeUIsRUFBT2pQLEVBQUdrdUIsR0FDdEIsT0FBTWpmLEdBQVNBLEVBQU0vTyxPQUlkNnBCLEdBQVU5YSxFQUFPLEdBRHhCalAsRUFBS2t1QixHQUFTbHVCLElBQU00QyxFQUFhLEVBQUkwdkIsR0FBVXR5QixJQUNoQixFQUFJLEVBQUlBLEdBSDlCLEVBSVYsRUFnelFEc1osR0FBT3VvQixVQXJ4UVAsU0FBbUI1eUIsRUFBT2pQLEVBQUdrdUIsR0FDM0IsSUFBSWh1QixFQUFrQixNQUFUK08sRUFBZ0IsRUFBSUEsRUFBTS9PLE9BQ3ZDLE9BQUtBLEVBS0U2cEIsR0FBVTlhLEdBRGpCalAsRUFBSUUsR0FESkYsRUFBS2t1QixHQUFTbHVCLElBQU00QyxFQUFhLEVBQUkwdkIsR0FBVXR5QixLQUVuQixFQUFJLEVBQUlBLEVBQUdFLEdBSjlCLEVBS1YsRUE4d1FEb1osR0FBT3dvQixlQXp1UVAsU0FBd0I3eUIsRUFBT08sR0FDN0IsT0FBUVAsR0FBU0EsRUFBTS9PLE9BQ25CdXJCLEdBQVV4YyxFQUFPaVosR0FBWTFZLEVBQVcsSUFBSSxHQUFPLEdBQ25ELEVBQ0wsRUFzdVFEOEosR0FBT3lvQixVQWpzUVAsU0FBbUI5eUIsRUFBT08sR0FDeEIsT0FBUVAsR0FBU0EsRUFBTS9PLE9BQ25CdXJCLEdBQVV4YyxFQUFPaVosR0FBWTFZLEVBQVcsSUFDeEMsRUFDTCxFQThyUUQ4SixHQUFPMG9CLElBcHVQUCxTQUFhdGhDLEVBQU93MkIsR0FFbEIsT0FEQUEsRUFBWXgyQixHQUNMQSxDQUNSLEVBa3VQRDRZLEdBQU8yb0IsU0E5b0xQLFNBQWtCcHpCLEVBQU1rUixFQUFNa1ksR0FDNUIsSUFBSU8sR0FBVSxFQUNWakssR0FBVyxFQUVmLEdBQW1CLG1CQUFSMWYsRUFDVCxNQUFVLElBQUF4UCxHQUFVOEYsR0FNdEIsT0FKSTBVLEdBQVNvZSxLQUNYTyxFQUFVLFlBQWFQLElBQVlBLEVBQVFPLFFBQVVBLEVBQ3JEakssRUFBVyxhQUFjMEosSUFBWUEsRUFBUTFKLFNBQVdBLEdBRW5EeUosR0FBU25wQixFQUFNa1IsRUFBTSxDQUMxQnlZLFFBQVdBLEVBQ1hKLFFBQVdyWSxFQUNYd08sU0FBWUEsR0FFZixFQStuTERqVixHQUFPOFYsS0FBT0EsR0FDZDlWLEdBQU9xaEIsUUFBVUEsR0FDakJyaEIsR0FBT3lpQixRQUFVQSxHQUNqQnppQixHQUFPMGlCLFVBQVlBLEdBQ25CMWlCLEdBQU80b0IsT0FyZlAsU0FBZ0J4aEMsR0FDZCxPQUFJdUUsR0FBUXZFLEdBQ0hxUCxHQUFTclAsRUFBTzJoQixJQUVsQmIsR0FBUzlnQixHQUFTLENBQUNBLEdBQVN3YixHQUFVa1EsR0FBYXBYLEdBQVN0VSxJQUNwRSxFQWlmRDRZLEdBQU9zTyxjQUFnQkEsR0FDdkJ0TyxHQUFPcEcsVUExMEZQLFNBQW1CN0IsRUFBUWxDLEVBQVVDLEdBQ25DLElBQUltTSxFQUFRdFcsR0FBUW9NLEdBQ2hCOHdCLEVBQVk1bUIsR0FBU2xFLEdBQVNoRyxJQUFXekMsR0FBYXlDLEdBRzFELEdBREFsQyxFQUFXK1ksR0FBWS9ZLEVBQVUsR0FDZCxNQUFmQyxFQUFxQixDQUN2QixJQUFJeVAsRUFBT3hOLEdBQVVBLEVBQU81UixZQUUxQjJQLEVBREUreUIsRUFDWTVtQixFQUFRLElBQUlzRCxFQUFPLEdBRTFCaEYsR0FBU3hJLElBQ0Y2USxHQUFXckQsR0FBUWxGLEdBQVc5RCxHQUFheEUsSUFHM0MsQ0FBRSxDQUVuQixDQUlELE9BSEM4d0IsRUFBWTl5QixHQUFZOFIsSUFBWTlQLEdBQVEsU0FBUzNRLEVBQU93QyxFQUFPbU8sR0FDbEUsT0FBT2xDLEVBQVNDLEVBQWExTyxFQUFPd0MsRUFBT21PLEVBQ25ELElBQ2FqQyxDQUNSLEVBc3pGRGtLLEdBQU84b0IsTUFybkxQLFNBQWV2ekIsR0FDYixPQUFPa2hCLEdBQUlsaEIsRUFBTSxFQUNsQixFQW9uTER5SyxHQUFPK2MsTUFBUUEsR0FDZi9jLEdBQU9nZCxRQUFVQSxHQUNqQmhkLEdBQU9pZCxVQUFZQSxHQUNuQmpkLEdBQU8rb0IsS0F6bVFQLFNBQWNwekIsR0FDWixPQUFRQSxHQUFTQSxFQUFNL08sT0FBVWtyQixHQUFTbmMsR0FBUyxFQUNwRCxFQXdtUURxSyxHQUFPZ3BCLE9BL2tRUCxTQUFnQnJ6QixFQUFPRSxHQUNyQixPQUFRRixHQUFTQSxFQUFNL08sT0FBVWtyQixHQUFTbmMsRUFBT2laLEdBQVkvWSxFQUFVLElBQU0sRUFDOUUsRUE4a1FEbUssR0FBT2lwQixTQXhqUVAsU0FBa0J0ekIsRUFBT2EsR0FFdkIsT0FEQUEsRUFBa0MsbUJBQWRBLEVBQTJCQSxFQUFhbE4sRUFDcERxTSxHQUFTQSxFQUFNL08sT0FBVWtyQixHQUFTbmMsRUFBT3JNLEVBQVdrTixHQUFjLEVBQzNFLEVBc2pRRHdKLEdBQU9rcEIsTUFoeUZQLFNBQWVueEIsRUFBUTNOLEdBQ3JCLE9BQWlCLE1BQVYyTixHQUF3QjZYLEdBQVU3WCxFQUFRM04sRUFDbEQsRUEreEZENFYsR0FBT2tkLE1BQVFBLEdBQ2ZsZCxHQUFPb2QsVUFBWUEsR0FDbkJwZCxHQUFPbXBCLE9BcHdGUCxTQUFnQnB4QixFQUFRM04sRUFBTThuQixHQUM1QixPQUFpQixNQUFWbmEsRUFBaUJBLEVBQVNrYSxHQUFXbGEsRUFBUTNOLEVBQU15b0IsR0FBYVgsR0FDeEUsRUFtd0ZEbFMsR0FBT29wQixXQXp1RlAsU0FBb0JyeEIsRUFBUTNOLEVBQU04bkIsRUFBUzdOLEdBRXpDLE9BREFBLEVBQWtDLG1CQUFkQSxFQUEyQkEsRUFBYS9hLEVBQzNDLE1BQVZ5TyxFQUFpQkEsRUFBU2thLEdBQVdsYSxFQUFRM04sRUFBTXlvQixHQUFhWCxHQUFVN04sRUFDbEYsRUF1dUZEckUsR0FBT3JKLE9BQVNBLEdBQ2hCcUosR0FBT3FwQixTQWhyRlAsU0FBa0J0eEIsR0FDaEIsT0FBaUIsTUFBVkEsRUFBaUIsR0FBS1MsR0FBV1QsRUFBUW9OLEdBQU9wTixHQUN4RCxFQStxRkRpSSxHQUFPcWQsUUFBVUEsR0FDakJyZCxHQUFPb1YsTUFBUUEsR0FDZnBWLEdBQU9zcEIsS0EzbUxQLFNBQWNsaUMsRUFBTzJ1QixHQUNuQixPQUFPMkssR0FBUTdOLEdBQWFrRCxHQUFVM3VCLEVBQ3ZDLEVBMG1MRDRZLEdBQU9zZCxJQUFNQSxHQUNidGQsR0FBT3VkLE1BQVFBLEdBQ2Z2ZCxHQUFPd2QsUUFBVUEsR0FDakJ4ZCxHQUFPeWQsSUFBTUEsR0FDYnpkLEdBQU91cEIsVUFqM1BQLFNBQW1COXdCLEVBQU85QixHQUN4QixPQUFPOGIsR0FBY2hhLEdBQVMsR0FBSTlCLEdBQVUsR0FBSXVNLEdBQ2pELEVBZzNQRGxELEdBQU93cEIsY0EvMVBQLFNBQXVCL3dCLEVBQU85QixHQUM1QixPQUFPOGIsR0FBY2hhLEdBQVMsR0FBSTlCLEdBQVUsR0FBSTRZLEdBQ2pELEVBODFQRHZQLEdBQU8wZCxRQUFVQSxHQUdqQjFkLEdBQU9xQixRQUFVb2hCLEdBQ2pCemlCLEdBQU95cEIsVUFBWS9HLEdBQ25CMWlCLEdBQU8wcEIsT0FBU2hJLEdBQ2hCMWhCLEdBQU8ycEIsV0FBYWhJLEdBR3BCdUMsR0FBTWxrQixHQUFRQSxJQUtkQSxHQUFPNEIsSUFBTUEsR0FDYjVCLEdBQU8yakIsUUFBVUEsR0FDakIzakIsR0FBTzJpQixVQUFZQSxHQUNuQjNpQixHQUFPOGlCLFdBQWFBLEdBQ3BCOWlCLEdBQU92QyxLQUFPQSxHQUNkdUMsR0FBTzRwQixNQXByRlAsU0FBZTVsQixFQUFRQyxFQUFPQyxHQWE1QixPQVpJQSxJQUFVNWEsSUFDWjRhLEVBQVFELEVBQ1JBLEVBQVEzYSxHQUVONGEsSUFBVTVhLElBRVo0YSxHQURBQSxFQUFRc1UsR0FBU3RVLEtBQ0NBLEVBQVFBLEVBQVEsR0FFaENELElBQVUzYSxJQUVaMmEsR0FEQUEsRUFBUXVVLEdBQVN2VSxLQUNDQSxFQUFRQSxFQUFRLEdBRTdCcEIsR0FBVTJWLEdBQVN4VSxHQUFTQyxFQUFPQyxFQUMzQyxFQXVxRkRsRSxHQUFPaWMsTUE3akxQLFNBQWU3MEIsR0FDYixPQUFPK2MsR0FBVS9jLEVBcnpWSSxFQXN6VnRCLEVBNGpMRDRZLEdBQU82cEIsVUFwZ0xQLFNBQW1CemlDLEdBQ2pCLE9BQU8rYyxHQUFVL2MsRUFBT2s3QixFQUN6QixFQW1nTER0aUIsR0FBTzhwQixjQXIrS1AsU0FBdUIxaUMsRUFBT2lkLEdBRTVCLE9BQU9GLEdBQVUvYyxFQUFPazdCLEVBRHhCamUsRUFBa0MsbUJBQWRBLEVBQTJCQSxFQUFhL2EsRUFFN0QsRUFtK0tEMFcsR0FBTytwQixVQTdoTFAsU0FBbUIzaUMsRUFBT2lkLEdBRXhCLE9BQU9GLEdBQVUvYyxFQXoxVkksRUF3MVZyQmlkLEVBQWtDLG1CQUFkQSxFQUEyQkEsRUFBYS9hLEVBRTdELEVBMmhMRDBXLEdBQU9ncUIsV0ExOEtQLFNBQW9CanlCLEVBQVFuSixHQUMxQixPQUFpQixNQUFWQSxHQUFrQjJYLEdBQWV4TyxFQUFRbkosRUFBUWtOLEdBQUtsTixHQUM5RCxFQXk4S0RvUixHQUFPcVYsT0FBU0EsR0FDaEJyVixHQUFPaXFCLFVBMXhDUCxTQUFtQjdpQyxFQUFPeXdCLEdBQ3hCLE9BQWlCLE1BQVR6d0IsR0FBaUJBLEdBQVVBLEVBQVN5d0IsRUFBZXp3QixDQUM1RCxFQXl4Q0Q0WSxHQUFPMmtCLE9BQVNBLEdBQ2hCM2tCLEdBQU9rcUIsU0F6OUVQLFNBQWtCOXhCLEVBQVEreEIsRUFBUUMsR0FDaENoeUIsRUFBU3NELEdBQVN0RCxHQUNsQit4QixFQUFTdFksR0FBYXNZLEdBRXRCLElBQUl2akMsRUFBU3dSLEVBQU94UixPQUtoQjhwQixFQUpKMFosRUFBV0EsSUFBYTlnQyxFQUNwQjFDLEVBQ0FpYyxHQUFVbVcsR0FBVW9SLEdBQVcsRUFBR3hqQyxHQUl0QyxPQURBd2pDLEdBQVlELEVBQU92akMsU0FDQSxHQUFLd1IsRUFBT25RLE1BQU1taUMsRUFBVTFaLElBQVF5WixDQUN4RCxFQTg4RURucUIsR0FBT2dELEdBQUtBLEdBQ1poRCxHQUFPa0gsT0FqN0VQLFNBQWdCOU8sR0FFZCxPQURBQSxFQUFTc0QsR0FBU3RELEtBQ0F2SixFQUFtQnlLLEtBQUtsQixHQUN0Q0EsRUFBT0UsUUFBUTdKLEVBQWlCeUssSUFDaENkLENBQ0wsRUE2NkVENEgsR0FBT3FxQixhQTU1RVAsU0FBc0JqeUIsR0FFcEIsT0FEQUEsRUFBU3NELEdBQVN0RCxLQUNBL0ksR0FBZ0JpSyxLQUFLbEIsR0FDbkNBLEVBQU9FLFFBQVFsSixHQUFjLFFBQzdCZ0osQ0FDTCxFQXc1RUQ0SCxHQUFPc3FCLE1BNTdPUCxTQUFlbHpCLEVBQVlsQixFQUFXMGUsR0FDcEMsSUFBSXJmLEVBQU81SixHQUFReUwsR0FBY25CLEdBQWErUixHQUk5QyxPQUhJNE0sR0FBU0MsR0FBZXpkLEVBQVlsQixFQUFXMGUsS0FDakQxZSxFQUFZNU0sR0FFUGlNLEVBQUs2QixFQUFZd1gsR0FBWTFZLEVBQVcsR0FDaEQsRUF1N09EOEosR0FBTytkLEtBQU9BLEdBQ2QvZCxHQUFPcWMsVUFBWUEsR0FDbkJyYyxHQUFPdXFCLFFBcnhIUCxTQUFpQnh5QixFQUFRN0IsR0FDdkIsT0FBT2lCLEdBQVlZLEVBQVE2VyxHQUFZMVksRUFBVyxHQUFJMlIsR0FDdkQsRUFveEhEN0gsR0FBT2dlLFNBQVdBLEdBQ2xCaGUsR0FBT3NjLGNBQWdCQSxHQUN2QnRjLEdBQU93cUIsWUFqdkhQLFNBQXFCenlCLEVBQVE3QixHQUMzQixPQUFPaUIsR0FBWVksRUFBUTZXLEdBQVkxWSxFQUFXLEdBQUk2UixHQUN2RCxFQWd2SEQvSCxHQUFPckMsTUFBUUEsR0FDZnFDLEdBQU90RyxRQUFVQSxHQUNqQnNHLEdBQU9pZSxhQUFlQSxHQUN0QmplLEdBQU95cUIsTUFydEhQLFNBQWUxeUIsRUFBUWxDLEdBQ3JCLE9BQWlCLE1BQVZrQyxFQUNIQSxFQUNBeVEsR0FBUXpRLEVBQVE2VyxHQUFZL1ksRUFBVSxHQUFJc1AsR0FDL0MsRUFrdEhEbkYsR0FBTzBxQixXQXRySFAsU0FBb0IzeUIsRUFBUWxDLEdBQzFCLE9BQWlCLE1BQVZrQyxFQUNIQSxFQUNBMlEsR0FBYTNRLEVBQVE2VyxHQUFZL1ksRUFBVSxHQUFJc1AsR0FDcEQsRUFtckhEbkYsR0FBTzJxQixPQXJwSFAsU0FBZ0I1eUIsRUFBUWxDLEdBQ3RCLE9BQU9rQyxHQUFVOFAsR0FBVzlQLEVBQVE2VyxHQUFZL1ksRUFBVSxHQUMzRCxFQW9wSERtSyxHQUFPNHFCLFlBeG5IUCxTQUFxQjd5QixFQUFRbEMsR0FDM0IsT0FBT2tDLEdBQVVnUSxHQUFnQmhRLEVBQVE2VyxHQUFZL1ksRUFBVSxHQUNoRSxFQXVuSERtSyxHQUFPK0QsSUFBTUEsR0FDYi9ELEdBQU82Z0IsR0FBS0EsR0FDWjdnQixHQUFPOGdCLElBQU1BLEdBQ2I5Z0IsR0FBT3BILElBemdIUCxTQUFhYixFQUFRM04sR0FDbkIsT0FBaUIsTUFBVjJOLEdBQWtCeWlCLEdBQVF6aUIsRUFBUTNOLEVBQU1zZixHQUNoRCxFQXdnSEQxSixHQUFPNk4sTUFBUUEsR0FDZjdOLEdBQU91YyxLQUFPQSxHQUNkdmMsR0FBTzZNLFNBQVdBLEdBQ2xCN00sR0FBTzJHLFNBNXBPUCxTQUFrQnZQLEVBQVloUSxFQUFPb1EsRUFBV29kLEdBQzlDeGQsRUFBYW9XLEdBQVlwVyxHQUFjQSxFQUFhVCxHQUFPUyxHQUMzREksRUFBYUEsSUFBY29kLEVBQVNvRSxHQUFVeGhCLEdBQWEsRUFFM0QsSUFBSTVRLEVBQVN3USxFQUFXeFEsT0FJeEIsT0FISTRRLEVBQVksSUFDZEEsRUFBWTRHLEdBQVV4WCxFQUFTNFEsRUFBVyxJQUVyQzBwQixHQUFTOXBCLEdBQ1hJLEdBQWE1USxHQUFVd1EsRUFBVzVNLFFBQVFwRCxFQUFPb1EsSUFBYyxJQUM3RDVRLEdBQVUwUCxHQUFZYyxFQUFZaFEsRUFBT29RLElBQWMsQ0FDL0QsRUFrcE9Ed0ksR0FBT3hWLFFBOWxTUCxTQUFpQm1MLEVBQU92TyxFQUFPb1EsR0FDN0IsSUFBSTVRLEVBQWtCLE1BQVQrTyxFQUFnQixFQUFJQSxFQUFNL08sT0FDdkMsSUFBS0EsRUFDSCxPQUFRLEVBRVYsSUFBSWdELEVBQXFCLE1BQWI0TixFQUFvQixFQUFJd2hCLEdBQVV4aEIsR0FJOUMsT0FISTVOLEVBQVEsSUFDVkEsRUFBUXdVLEdBQVV4WCxFQUFTZ0QsRUFBTyxJQUU3QjBNLEdBQVlYLEVBQU92TyxFQUFPd0MsRUFDbEMsRUFxbFNEb1csR0FBTzZxQixRQWxxRlAsU0FBaUI3bUIsRUFBUStMLEVBQU9XLEdBUzlCLE9BUkFYLEVBQVFzSSxHQUFTdEksR0FDYlcsSUFBUXBuQixHQUNWb25CLEVBQU1YLEVBQ05BLEVBQVEsR0FFUlcsRUFBTTJILEdBQVMzSCxHQXJzVm5CLFNBQXFCMU0sRUFBUStMLEVBQU9XLEdBQ2xDLE9BQU8xTSxHQUFVMUYsR0FBVXlSLEVBQU9XLElBQVExTSxFQUFTNUYsR0FBVTJSLEVBQU9XLEVBQ3JFLENBc3NWUW9hLENBRFA5bUIsRUFBU3dVLEdBQVN4VSxHQUNTK0wsRUFBT1csRUFDbkMsRUF5cEZEMVEsR0FBT29pQixPQUFTQSxHQUNoQnBpQixHQUFPbUMsWUFBY0EsR0FDckJuQyxHQUFPclUsUUFBVUEsR0FDakJxVSxHQUFPcEwsY0FBZ0JBLEdBQ3ZCb0wsR0FBT3dOLFlBQWNBLEdBQ3JCeE4sR0FBT29PLGtCQUFvQkEsR0FDM0JwTyxHQUFPK3FCLFVBdHdLUCxTQUFtQjNqQyxHQUNqQixPQUFpQixJQUFWQSxJQUE0QixJQUFWQSxHQUN0QjZZLEdBQWE3WSxJQUFVK2hCLEdBQVcvaEIsSUFBVXdGLENBQ2hELEVBb3dLRG9ULEdBQU9qQyxTQUFXQSxHQUNsQmlDLEdBQU9sTCxPQUFTQSxHQUNoQmtMLEdBQU9nckIsVUE3c0tQLFNBQW1CNWpDLEdBQ2pCLE9BQU82WSxHQUFhN1ksSUFBNkIsSUFBbkJBLEVBQU02TSxXQUFtQm9hLEdBQWNqbkIsRUFDdEUsRUE0c0tENFksR0FBT2lyQixRQXpxS1AsU0FBaUI3akMsR0FDZixHQUFhLE1BQVRBLEVBQ0YsT0FBTyxFQUVULEdBQUlvbUIsR0FBWXBtQixLQUNYdUUsR0FBUXZFLElBQTBCLGlCQUFUQSxHQUE0QyxtQkFBaEJBLEVBQU04QyxRQUMxRDZULEdBQVMzVyxJQUFVa08sR0FBYWxPLElBQVUrYSxHQUFZL2EsSUFDMUQsT0FBUUEsRUFBTVIsT0FFaEIsSUFBSWdlLEVBQU1DLEdBQU96ZCxHQUNqQixHQUFJd2QsR0FBTzNYLEdBQVUyWCxHQUFPdFgsRUFDMUIsT0FBUWxHLEVBQU1xUyxLQUVoQixHQUFJeVQsR0FBWTlsQixHQUNkLE9BQVE2bEIsR0FBUzdsQixHQUFPUixPQUUxQixJQUFLLElBQUkwUSxLQUFPbFEsRUFDZCxHQUFJeEIsR0FBZUMsS0FBS3VCLEVBQU9rUSxHQUM3QixPQUFZLEVBR2hCLE9BQU8sQ0FDUixFQW9wS0QwSSxHQUFPa3JCLFFBdG5LUCxTQUFpQjlqQyxFQUFPcWlCLEdBQ3RCLE9BQU9jLEdBQVluakIsRUFBT3FpQixFQUMzQixFQXFuS0R6SixHQUFPbXJCLFlBbmxLUCxTQUFxQi9qQyxFQUFPcWlCLEVBQU9wRixHQUVqQyxJQUFJMWIsR0FESjBiLEVBQWtDLG1CQUFkQSxFQUEyQkEsRUFBYS9hLEdBQ2xDK2EsRUFBV2pkLEVBQU9xaUIsR0FBU25nQixFQUNyRCxPQUFPWCxJQUFXVyxFQUFZaWhCLEdBQVluakIsRUFBT3FpQixFQUFPbmdCLEVBQVcrYSxLQUFnQjFiLENBQ3BGLEVBZ2xLRHFYLEdBQU8rZ0IsUUFBVUEsR0FDakIvZ0IsR0FBTy9CLFNBMWhLUCxTQUFrQjdXLEdBQ2hCLE1BQXVCLGlCQUFUQSxHQUFxQjRXLEdBQWU1VyxFQUNuRCxFQXloS0Q0WSxHQUFPNEksV0FBYUEsR0FDcEI1SSxHQUFPZ2hCLFVBQVlBLEdBQ25CaGhCLEdBQU8wYSxTQUFXQSxHQUNsQjFhLEdBQU9oTCxNQUFRQSxHQUNmZ0wsR0FBT29yQixRQTExSlAsU0FBaUJyekIsRUFBUW5KLEdBQ3ZCLE9BQU9tSixJQUFXbkosR0FBVTBkLEdBQVl2VSxFQUFRbkosRUFBUTZlLEdBQWE3ZSxHQUN0RSxFQXkxSkRvUixHQUFPcXJCLFlBdnpKUCxTQUFxQnR6QixFQUFRbkosRUFBUXlWLEdBRW5DLE9BREFBLEVBQWtDLG1CQUFkQSxFQUEyQkEsRUFBYS9hLEVBQ3JEZ2pCLEdBQVl2VSxFQUFRbkosRUFBUTZlLEdBQWE3ZSxHQUFTeVYsRUFDMUQsRUFxekpEckUsR0FBT3NyQixNQXZ4SlAsU0FBZWxrQyxHQUliLE9BQU82NUIsR0FBUzc1QixJQUFVQSxJQUFVQSxDQUNyQyxFQW14SkQ0WSxHQUFPdXJCLFNBdnZKUCxTQUFrQm5rQyxHQUNoQixHQUFJMHpCLEdBQVcxekIsR0FDYixNQUFVLElBQUEwQyxHQXRzWE0sbUVBd3NYbEIsT0FBTzZpQixHQUFhdmxCLEVBQ3JCLEVBbXZKRDRZLEdBQU93ckIsTUF4c0pQLFNBQWVwa0MsR0FDYixPQUFnQixNQUFUQSxDQUNSLEVBdXNKRDRZLEdBQU95ckIsT0FqdUpQLFNBQWdCcmtDLEdBQ2QsT0FBaUIsT0FBVkEsQ0FDUixFQWd1SkQ0WSxHQUFPaWhCLFNBQVdBLEdBQ2xCamhCLEdBQU9PLFNBQVdBLEdBQ2xCUCxHQUFPQyxhQUFlQSxHQUN0QkQsR0FBT3FPLGNBQWdCQSxHQUN2QnJPLEdBQU85SyxTQUFXQSxHQUNsQjhLLEdBQU8wckIsY0FybEpQLFNBQXVCdGtDLEdBQ3JCLE9BQU80NUIsR0FBVTU1QixJQUFVQSxJQUFTLGtCQUFxQkEsR0FBU2tGLENBQ25FLEVBb2xKRDBULEdBQU81SyxNQUFRQSxHQUNmNEssR0FBT2toQixTQUFXQSxHQUNsQmxoQixHQUFPa0ksU0FBV0EsR0FDbEJsSSxHQUFPMUssYUFBZUEsR0FDdEIwSyxHQUFPMnJCLFlBbi9JUCxTQUFxQnZrQyxHQUNuQixPQUFPQSxJQUFVa0MsQ0FDbEIsRUFrL0lEMFcsR0FBTzRyQixVQS85SVAsU0FBbUJ4a0MsR0FDakIsT0FBTzZZLEdBQWE3WSxJQUFVeWQsR0FBT3pkLElBQVVxRyxDQUNoRCxFQTg5SUR1UyxHQUFPNnJCLFVBMzhJUCxTQUFtQnprQyxHQUNqQixPQUFPNlksR0FBYTdZLElBbjZYUCxvQkFtNlhpQitoQixHQUFXL2hCLEVBQzFDLEVBMDhJRDRZLEdBQU8xTixLQXovUlAsU0FBY3FELEVBQU91eUIsR0FDbkIsT0FBZ0IsTUFBVHZ5QixFQUFnQixHQUFLdUksR0FBV3JZLEtBQUs4UCxFQUFPdXlCLEVBQ3BELEVBdy9SRGxvQixHQUFPZ2pCLFVBQVlBLEdBQ25CaGpCLEdBQU9xSyxLQUFPQSxHQUNkckssR0FBTzhyQixZQWg5UlAsU0FBcUJuMkIsRUFBT3ZPLEVBQU9vUSxHQUNqQyxJQUFJNVEsRUFBa0IsTUFBVCtPLEVBQWdCLEVBQUlBLEVBQU0vTyxPQUN2QyxJQUFLQSxFQUNILE9BQVEsRUFFVixJQUFJZ0QsRUFBUWhELEVBS1osT0FKSTRRLElBQWNsTyxJQUVoQk0sR0FEQUEsRUFBUW92QixHQUFVeGhCLElBQ0YsRUFBSTRHLEdBQVV4WCxFQUFTZ0QsRUFBTyxHQUFLMFUsR0FBVTFVLEVBQU9oRCxFQUFTLElBRXhFUSxHQUFVQSxFQXJ2TXJCLFNBQTJCdU8sRUFBT3ZPLEVBQU9vUSxHQUV2QyxJQURBLElBQUk1TixFQUFRNE4sRUFBWSxFQUNqQjVOLEtBQ0wsR0FBSStMLEVBQU0vTCxLQUFXeEMsRUFDbkIsT0FBT3dDLEVBR1gsT0FBT0EsQ0FDUixDQTh1TU9taUMsQ0FBa0JwMkIsRUFBT3ZPLEVBQU93QyxHQUNoQzJOLEdBQWM1QixFQUFPZ0MsR0FBVy9OLEdBQU8sRUFDNUMsRUFvOFJEb1csR0FBT2lqQixVQUFZQSxHQUNuQmpqQixHQUFPa2pCLFdBQWFBLEdBQ3BCbGpCLEdBQU9taEIsR0FBS0EsR0FDWm5oQixHQUFPb2hCLElBQU1BLEdBQ2JwaEIsR0FBTzNCLElBaGZQLFNBQWExSSxHQUNYLE9BQVFBLEdBQVNBLEVBQU0vTyxPQUNuQnFoQixHQUFhdFMsRUFBT2tYLEdBQVVyRCxJQUM5QmxnQixDQUNMLEVBNmVEMFcsR0FBT2dzQixNQXBkUCxTQUFlcjJCLEVBQU9FLEdBQ3BCLE9BQVFGLEdBQVNBLEVBQU0vTyxPQUNuQnFoQixHQUFhdFMsRUFBT2laLEdBQVkvWSxFQUFVLEdBQUkyVCxJQUM5Q2xnQixDQUNMLEVBaWREMFcsR0FBT2lzQixLQWpjUCxTQUFjdDJCLEdBQ1osT0FBT2tDLEdBQVNsQyxFQUFPa1gsR0FDeEIsRUFnY0Q3TSxHQUFPa3NCLE9BdmFQLFNBQWdCdjJCLEVBQU9FLEdBQ3JCLE9BQU9nQyxHQUFTbEMsRUFBT2laLEdBQVkvWSxFQUFVLEdBQzlDLEVBc2FEbUssR0FBT3pCLElBbFpQLFNBQWE1SSxHQUNYLE9BQVFBLEdBQVNBLEVBQU0vTyxPQUNuQnFoQixHQUFhdFMsRUFBT2tYLEdBQVVTLElBQzlCaGtCLENBQ0wsRUErWUQwVyxHQUFPbXNCLE1BdFhQLFNBQWV4MkIsRUFBT0UsR0FDcEIsT0FBUUYsR0FBU0EsRUFBTS9PLE9BQ25CcWhCLEdBQWF0UyxFQUFPaVosR0FBWS9ZLEVBQVUsR0FBSXlYLElBQzlDaGtCLENBQ0wsRUFtWEQwVyxHQUFPdWEsVUFBWUEsR0FDbkJ2YSxHQUFPK2EsVUFBWUEsR0FDbkIvYSxHQUFPb3NCLFdBenRCUCxXQUNFLE1BQU8sQ0FBQSxDQUNSLEVBd3RCRHBzQixHQUFPcXNCLFdBenNCUCxXQUNFLE1BQU8sRUFDUixFQXdzQkRyc0IsR0FBT3NzQixTQXpyQlAsV0FDRSxPQUFXLENBQ1osRUF3ckJEdHNCLEdBQU84a0IsU0FBV0EsR0FDbEI5a0IsR0FBT3VzQixJQTc3UlAsU0FBYTUyQixFQUFPalAsR0FDbEIsT0FBUWlQLEdBQVNBLEVBQU0vTyxPQUFVNG5CLEdBQVE3WSxFQUFPcWpCLEdBQVV0eUIsSUFBTTRDLENBQ2pFLEVBNDdSRDBXLEdBQU93c0IsV0FsaUNQLFdBSUUsT0FISTM0QixHQUFLZ0gsSUFBTTNVLE9BQ2IyTixHQUFLZ0gsRUFBSXFCLElBRUFoVyxJQUNaLEVBOGhDRDhaLEdBQU9rWixLQUFPQSxHQUNkbFosR0FBTzNDLElBQU1BLEdBQ2IyQyxHQUFPeXNCLElBajVFUCxTQUFhcjBCLEVBQVF4UixFQUFRcXhCLEdBQzNCN2YsRUFBU3NELEdBQVN0RCxHQUdsQixJQUFJczBCLEdBRko5bEMsRUFBU295QixHQUFVcHlCLElBRU11VCxHQUFXL0IsR0FBVSxFQUM5QyxJQUFLeFIsR0FBVThsQyxHQUFhOWxDLEVBQzFCLE9BQU93UixFQUVULElBQUk0WSxHQUFPcHFCLEVBQVM4bEMsR0FBYSxFQUNqQyxPQUNFMVUsR0FBY3RhLEdBQVlzVCxHQUFNaUgsR0FDaEM3ZixFQUNBNGYsR0FBY3hhLEdBQVd3VCxHQUFNaUgsRUFFbEMsRUFvNEVEalksR0FBTzJzQixPQTMyRVAsU0FBZ0J2MEIsRUFBUXhSLEVBQVFxeEIsR0FDOUI3ZixFQUFTc0QsR0FBU3RELEdBR2xCLElBQUlzMEIsR0FGSjlsQyxFQUFTb3lCLEdBQVVweUIsSUFFTXVULEdBQVcvQixHQUFVLEVBQzlDLE9BQVF4UixHQUFVOGxDLEVBQVk5bEMsRUFDekJ3UixFQUFTNGYsR0FBY3B4QixFQUFTOGxDLEVBQVd6VSxHQUM1QzdmLENBQ0wsRUFvMkVENEgsR0FBTzRzQixTQTMwRVAsU0FBa0J4MEIsRUFBUXhSLEVBQVFxeEIsR0FDaEM3ZixFQUFTc0QsR0FBU3RELEdBR2xCLElBQUlzMEIsR0FGSjlsQyxFQUFTb3lCLEdBQVVweUIsSUFFTXVULEdBQVcvQixHQUFVLEVBQzlDLE9BQVF4UixHQUFVOGxDLEVBQVk5bEMsRUFDekJveEIsR0FBY3B4QixFQUFTOGxDLEVBQVd6VSxHQUFTN2YsRUFDNUNBLENBQ0wsRUFvMEVENEgsR0FBT3pNLFNBMXlFUCxTQUFrQjZFLEVBQVF5MEIsRUFBT2pZLEdBTS9CLE9BTElBLEdBQWtCLE1BQVRpWSxFQUNYQSxFQUFRLEVBQ0NBLElBQ1RBLEdBQVNBLEdBRUpwdUIsR0FBZS9DLEdBQVN0RCxHQUFRRSxRQUFRaEosR0FBYSxJQUFLdTlCLEdBQVMsRUFDM0UsRUFveUVEN3NCLEdBQU9yQixPQTFyRlAsU0FBZ0JzRixFQUFPQyxFQUFPNG9CLEdBMkI1QixHQTFCSUEsR0FBK0Isa0JBQVpBLEdBQXlCalksR0FBZTVRLEVBQU9DLEVBQU80b0IsS0FDM0U1b0IsRUFBUTRvQixFQUFXeGpDLEdBRWpCd2pDLElBQWF4akMsSUFDSyxrQkFBVDRhLEdBQ1Q0b0IsRUFBVzVvQixFQUNYQSxFQUFRNWEsR0FFZSxrQkFBVDJhLElBQ2Q2b0IsRUFBVzdvQixFQUNYQSxFQUFRM2EsSUFHUjJhLElBQVUzYSxHQUFhNGEsSUFBVTVhLEdBQ25DMmEsRUFBUSxFQUNSQyxFQUFRLElBR1JELEVBQVFvVSxHQUFTcFUsR0FDYkMsSUFBVTVhLEdBQ1o0YSxFQUFRRCxFQUNSQSxFQUFRLEdBRVJDLEVBQVFtVSxHQUFTblUsSUFHakJELEVBQVFDLEVBQU8sQ0FDakIsSUFBSTZvQixFQUFPOW9CLEVBQ1hBLEVBQVFDLEVBQ1JBLEVBQVE2b0IsQ0FDVCxDQUNELEdBQUlELEdBQVk3b0IsRUFBUSxHQUFLQyxFQUFRLEVBQUcsQ0FDdEMsSUFBSXlYLEVBQU9qZCxLQUNYLE9BQU9KLEdBQVUyRixFQUFTMFgsR0FBUXpYLEVBQVFELEVBQVE3USxHQUFlLFFBQVV1b0IsRUFBTyxJQUFJLzBCLE9BQVMsS0FBT3NkLEVBQ3ZHLENBQ0QsT0FBT3pCLEdBQVd3QixFQUFPQyxFQUMxQixFQXNwRkRsRSxHQUFPZ3RCLE9BNStOUCxTQUFnQjUxQixFQUFZdkIsRUFBVUMsR0FDcEMsSUFBSVAsRUFBTzVKLEdBQVF5TCxHQUFjUCxHQUFjb0IsR0FDM0NuQixFQUFZblEsVUFBVUMsT0FBUyxFQUVuQyxPQUFPMk8sRUFBSzZCLEVBQVl3WCxHQUFZL1ksRUFBVSxHQUFJQyxFQUFhZ0IsRUFBV3dNLEdBQzNFLEVBdytORHRELEdBQU9pdEIsWUFoOU5QLFNBQXFCNzFCLEVBQVl2QixFQUFVQyxHQUN6QyxJQUFJUCxFQUFPNUosR0FBUXlMLEdBQWNMLEdBQW1Ca0IsR0FDaERuQixFQUFZblEsVUFBVUMsT0FBUyxFQUVuQyxPQUFPMk8sRUFBSzZCLEVBQVl3WCxHQUFZL1ksRUFBVSxHQUFJQyxFQUFhZ0IsRUFBV2dSLEdBQzNFLEVBNDhORDlILEdBQU9rdEIsT0Evd0VQLFNBQWdCOTBCLEVBQVExUixFQUFHa3VCLEdBTXpCLE9BSkVsdUIsR0FER2t1QixFQUFRQyxHQUFlemMsRUFBUTFSLEVBQUdrdUIsR0FBU2x1QixJQUFNNEMsR0FDaEQsRUFFQTB2QixHQUFVdHlCLEdBRVRtcEIsR0FBV25VLEdBQVN0RCxHQUFTMVIsRUFDckMsRUF5d0VEc1osR0FBTzFILFFBcHZFUCxXQUNFLElBQUk3QyxFQUFPOU8sVUFDUHlSLEVBQVNzRCxHQUFTakcsRUFBSyxJQUUzQixPQUFPQSxFQUFLN08sT0FBUyxFQUFJd1IsRUFBU0EsRUFBT0UsUUFBUTdDLEVBQUssR0FBSUEsRUFBSyxHQUNoRSxFQWd2RUR1SyxHQUFPclgsT0F0b0dQLFNBQWdCb1AsRUFBUTNOLEVBQU15dEIsR0FHNUIsSUFBSWp1QixHQUFTLEVBQ1RoRCxHQUhKd0QsRUFBTzBlLEdBQVMxZSxFQUFNMk4sSUFHSm5SLE9BT2xCLElBSktBLElBQ0hBLEVBQVMsRUFDVG1SLEVBQVN6TyxLQUVGTSxFQUFRaEQsR0FBUSxDQUN2QixJQUFJUSxFQUFrQixNQUFWMlEsRUFBaUJ6TyxFQUFZeU8sRUFBT2dSLEdBQU0zZSxFQUFLUixLQUN2RHhDLElBQVVrQyxJQUNaTSxFQUFRaEQsRUFDUlEsRUFBUXl3QixHQUVWOWYsRUFBUzZRLEdBQVd4aEIsR0FBU0EsRUFBTXZCLEtBQUtrUyxHQUFVM1EsQ0FDbkQsQ0FDRCxPQUFPMlEsQ0FDUixFQW1uR0RpSSxHQUFPaWxCLE1BQVFBLEdBQ2ZqbEIsR0FBT2xGLGFBQWVBLEVBQ3RCa0YsR0FBT210QixPQTE1TlAsU0FBZ0IvMUIsR0FFZCxPQURXekwsR0FBUXlMLEdBQWNvTCxHQUFjME4sSUFDbkM5WSxFQUNiLEVBdzVORDRJLEdBQU92RyxLQS8wTlAsU0FBY3JDLEdBQ1osR0FBa0IsTUFBZEEsRUFDRixPQUFPLEVBRVQsR0FBSW9XLEdBQVlwVyxHQUNkLE9BQU84cEIsR0FBUzlwQixHQUFjK0MsR0FBVy9DLEdBQWNBLEVBQVd4USxPQUVwRSxJQUFJZ2UsRUFBTUMsR0FBT3pOLEdBQ2pCLE9BQUl3TixHQUFPM1gsR0FBVTJYLEdBQU90WCxFQUNuQjhKLEVBQVdxQyxLQUVid1QsR0FBUzdWLEdBQVl4USxNQUM3QixFQW8wTkRvWixHQUFPbWpCLFVBQVlBLEdBQ25CbmpCLEdBQU9vdEIsS0EveE5QLFNBQWNoMkIsRUFBWWxCLEVBQVcwZSxHQUNuQyxJQUFJcmYsRUFBTzVKLEdBQVF5TCxHQUFjSixHQUFZMlosR0FJN0MsT0FISWlFLEdBQVNDLEdBQWV6ZCxFQUFZbEIsRUFBVzBlLEtBQ2pEMWUsRUFBWTVNLEdBRVBpTSxFQUFLNkIsRUFBWXdYLEdBQVkxWSxFQUFXLEdBQ2hELEVBMHhORDhKLEdBQU9xdEIsWUFoc1JQLFNBQXFCMTNCLEVBQU92TyxHQUMxQixPQUFPd3BCLEdBQWdCamIsRUFBT3ZPLEVBQy9CLEVBK3JSRDRZLEdBQU9zdEIsY0FwcVJQLFNBQXVCMzNCLEVBQU92TyxFQUFPeU8sR0FDbkMsT0FBT29iLEdBQWtCdGIsRUFBT3ZPLEVBQU93bkIsR0FBWS9ZLEVBQVUsR0FDOUQsRUFtcVJEbUssR0FBT3V0QixjQWpwUlAsU0FBdUI1M0IsRUFBT3ZPLEdBQzVCLElBQUlSLEVBQWtCLE1BQVQrTyxFQUFnQixFQUFJQSxFQUFNL08sT0FDdkMsR0FBSUEsRUFBUSxDQUNWLElBQUlnRCxFQUFRZ25CLEdBQWdCamIsRUFBT3ZPLEdBQ25DLEdBQUl3QyxFQUFRaEQsR0FBVW9jLEdBQUdyTixFQUFNL0wsR0FBUXhDLEdBQ3JDLE9BQU93QyxDQUVWLENBQ0QsT0FBUSxDQUNULEVBeW9SRG9XLEdBQU93dEIsZ0JBcm5SUCxTQUF5QjczQixFQUFPdk8sR0FDOUIsT0FBT3dwQixHQUFnQmpiLEVBQU92TyxHQUFPLEVBQ3RDLEVBb25SRDRZLEdBQU95dEIsa0JBemxSUCxTQUEyQjkzQixFQUFPdk8sRUFBT3lPLEdBQ3ZDLE9BQU9vYixHQUFrQnRiLEVBQU92TyxFQUFPd25CLEdBQVkvWSxFQUFVLElBQUksRUFDbEUsRUF3bFJEbUssR0FBTzB0QixrQkF0a1JQLFNBQTJCLzNCLEVBQU92TyxHQUVoQyxHQURzQixNQUFUdU8sRUFBZ0IsRUFBSUEsRUFBTS9PLE9BQzNCLENBQ1YsSUFBSWdELEVBQVFnbkIsR0FBZ0JqYixFQUFPdk8sR0FBTyxHQUFRLEVBQ2xELEdBQUk0YixHQUFHck4sRUFBTS9MLEdBQVF4QyxHQUNuQixPQUFPd0MsQ0FFVixDQUNELE9BQVEsQ0FDVCxFQThqUkRvVyxHQUFPb2pCLFVBQVlBLEdBQ25CcGpCLEdBQU8ydEIsV0Ezb0VQLFNBQW9CdjFCLEVBQVEreEIsRUFBUUMsR0FPbEMsT0FOQWh5QixFQUFTc0QsR0FBU3RELEdBQ2xCZ3lCLEVBQXVCLE1BQVpBLEVBQ1AsRUFDQXZuQixHQUFVbVcsR0FBVW9SLEdBQVcsRUFBR2h5QixFQUFPeFIsUUFFN0N1akMsRUFBU3RZLEdBQWFzWSxHQUNmL3hCLEVBQU9uUSxNQUFNbWlDLEVBQVVBLEVBQVdELEVBQU92akMsU0FBV3VqQyxDQUM1RCxFQW9vRURucUIsR0FBT2tsQixTQUFXQSxHQUNsQmxsQixHQUFPNHRCLElBelVQLFNBQWFqNEIsR0FDWCxPQUFRQSxHQUFTQSxFQUFNL08sT0FDbkJrUixHQUFRbkMsRUFBT2tYLElBQ2YsQ0FDTCxFQXNVRDdNLEdBQU82dEIsTUE3U1AsU0FBZWw0QixFQUFPRSxHQUNwQixPQUFRRixHQUFTQSxFQUFNL08sT0FDbkJrUixHQUFRbkMsRUFBT2laLEdBQVkvWSxFQUFVLElBQ3JDLENBQ0wsRUEwU0RtSyxHQUFPOHRCLFNBN2hFUCxTQUFrQjExQixFQUFRdW1CLEVBQVMvSixHQUlqQyxJQUFJbVosRUFBVy90QixHQUFPaUgsaUJBRWxCMk4sR0FBU0MsR0FBZXpjLEVBQVF1bUIsRUFBUy9KLEtBQzNDK0osRUFBVXIxQixHQUVaOE8sRUFBU3NELEdBQVN0RCxHQUNsQnVtQixFQUFVZ0QsR0FBYSxDQUFBLEVBQUloRCxFQUFTb1AsRUFBVWpVLElBRTlDLElBSUlrVSxFQUNBQyxFQUxBM21CLEVBQVVxYSxHQUFhLEdBQUloRCxFQUFRclgsUUFBU3ltQixFQUFTem1CLFFBQVN3UyxJQUM5RG9VLEVBQWNweUIsR0FBS3dMLEdBQ25CNm1CLEVBQWdCMzFCLEdBQVc4TyxFQUFTNG1CLEdBSXBDdGtDLEVBQVEsRUFDUndkLEVBQWN1WCxFQUFRdlgsYUFBZTlXLEdBQ3JDMUIsRUFBUyxXQUdUdy9CLEVBQWV6L0IsSUFDaEJnd0IsRUFBUXpYLFFBQVU1VyxJQUFXMUIsT0FBUyxJQUN2Q3dZLEVBQVl4WSxPQUFTLEtBQ3BCd1ksSUFBZ0JwWSxHQUFnQmMsR0FBZVEsSUFBVzFCLE9BQVMsS0FDbkUrdkIsRUFBUXhYLFVBQVk3VyxJQUFXMUIsT0FBUyxLQUN6QyxLQU1FeS9CLEVBQVksa0JBQ2J6b0MsR0FBZUMsS0FBSzg0QixFQUFTLGNBQ3pCQSxFQUFRMFAsVUFBWSxJQUFJLzFCLFFBQVEsTUFBTyxLQUN2Qyw2QkFBK0J0RixHQUFtQixLQUNuRCxLQUVOb0YsRUFBT0UsUUFBUTgxQixHQUFjLFNBQVM3ekIsRUFBTyt6QixFQUFhQyxFQUFrQkMsRUFBaUJDLEVBQWU3M0IsR0FzQjFHLE9BckJBMjNCLElBQXFCQSxFQUFtQkMsR0FHeEM1L0IsR0FBVXdKLEVBQU9uUSxNQUFNMkIsRUFBT2dOLEdBQVEwQixRQUFRL0gsR0FBbUI0SSxJQUc3RG0xQixJQUNGTixHQUFhLEVBQ2JwL0IsR0FBVSxZQUFjMC9CLEVBQWMsVUFFcENHLElBQ0ZSLEdBQWUsRUFDZnIvQixHQUFVLE9BQVM2L0IsRUFBZ0IsZUFFakNGLElBQ0YzL0IsR0FBVSxpQkFBbUIyL0IsRUFBbUIsK0JBRWxEM2tDLEVBQVFnTixFQUFTMkQsRUFBTTNULE9BSWhCMlQsQ0FDZixJQUVNM0wsR0FBVSxPQUlWLElBQUl5WSxFQUFXemhCLEdBQWVDLEtBQUs4NEIsRUFBUyxhQUFlQSxFQUFRdFgsU0FDbkUsR0FBS0EsTUFLSXpYLEdBQTJCMEosS0FBSytOLEdBQ3ZDLFVBQVV2ZCxHQTNpZG1CLDJEQXNpZDdCOEUsRUFBUyxpQkFBbUJBLEVBQVMsUUFTdkNBLEdBQVVxL0IsRUFBZXIvQixFQUFPMEosUUFBUWpLLEVBQXNCLElBQU1PLEdBQ2pFMEosUUFBUWhLLEVBQXFCLE1BQzdCZ0ssUUFBUS9KLEVBQXVCLE9BR2xDSyxFQUFTLGFBQWV5WSxHQUFZLE9BQVMsU0FDMUNBLEVBQ0csR0FDQSx3QkFFSixxQkFDQzJtQixFQUNJLG1CQUNBLEtBRUpDLEVBQ0csdUZBRUEsT0FFSnIvQixFQUNBLGdCQUVGLElBQUlqRyxFQUFTZzdCLElBQVEsV0FDbkIsT0FBTzd2QixHQUFTbzZCLEVBQWFHLEVBQVksVUFBWXovQixHQUNsRC9ILE1BQU15QyxFQUFXNmtDLEVBQzVCLElBS00sR0FEQXhsQyxFQUFPaUcsT0FBU0EsRUFDWm15QixHQUFRcDRCLEdBQ1YsTUFBTUEsRUFFUixPQUFPQSxDQUNSLEVBMjZERHFYLEdBQU8wdUIsTUFwc0JQLFNBQWVob0MsRUFBR21QLEdBRWhCLElBREFuUCxFQUFJc3lCLEdBQVV0eUIsSUFDTixHQUFLQSxFQUFJNEYsRUFDZixNQUFPLEdBRVQsSUFBSTFDLEVBQVE0QyxFQUNSNUYsRUFBUzBYLEdBQVU1WCxFQUFHOEYsR0FFMUJxSixFQUFXK1ksR0FBWS9ZLEdBQ3ZCblAsR0FBSzhGLEVBR0wsSUFEQSxJQUFJN0QsRUFBU3VQLEdBQVV0UixFQUFRaVAsS0FDdEJqTSxFQUFRbEQsR0FDZm1QLEVBQVNqTSxHQUVYLE9BQU9qQixDQUNSLEVBcXJCRHFYLEdBQU9xWSxTQUFXQSxHQUNsQnJZLEdBQU9nWixVQUFZQSxHQUNuQmhaLEdBQU93aEIsU0FBV0EsR0FDbEJ4aEIsR0FBTzJ1QixRQXg1RFAsU0FBaUJ2bkMsR0FDZixPQUFPc1UsR0FBU3RVLEdBQU95N0IsYUFDeEIsRUF1NUREN2lCLEdBQU93WSxTQUFXQSxHQUNsQnhZLEdBQU80dUIsY0FwdUlQLFNBQXVCeG5DLEdBQ3JCLE9BQU9BLEVBQ0h5YixHQUFVbVcsR0FBVTV4QixJQUFRLGlCQUFtQmtGLEdBQ3BDLElBQVZsRixFQUFjQSxFQUFRLENBQzVCLEVBaXVJRDRZLEdBQU90RSxTQUFXQSxHQUNsQnNFLEdBQU82dUIsUUFuNERQLFNBQWlCem5DLEdBQ2YsT0FBT3NVLEdBQVN0VSxHQUFPazhCLGFBQ3hCLEVBazRERHRqQixHQUFPOHVCLEtBMTJEUCxTQUFjMTJCLEVBQVE2ZixFQUFPckQsR0FFM0IsSUFEQXhjLEVBQVNzRCxHQUFTdEQsTUFDSHdjLEdBQVNxRCxJQUFVM3VCLEdBQ2hDLE9BQU82TyxHQUFTQyxHQUVsQixJQUFLQSxLQUFZNmYsRUFBUXBHLEdBQWFvRyxJQUNwQyxPQUFPN2YsRUFFVCxJQUFJVSxFQUFhd0IsR0FBY2xDLEdBQzNCVyxFQUFhdUIsR0FBYzJkLEdBSS9CLE9BQU9qRixHQUFVbGEsRUFITEQsR0FBZ0JDLEVBQVlDLEdBQzlCQyxHQUFjRixFQUFZQyxHQUFjLEdBRVR6RyxLQUFLLEdBQy9DLEVBNjFERDBOLEdBQU8rdUIsUUF4MERQLFNBQWlCMzJCLEVBQVE2ZixFQUFPckQsR0FFOUIsSUFEQXhjLEVBQVNzRCxHQUFTdEQsTUFDSHdjLEdBQVNxRCxJQUFVM3VCLEdBQ2hDLE9BQU84TyxFQUFPblEsTUFBTSxFQUFHb1EsR0FBZ0JELEdBQVUsR0FFbkQsSUFBS0EsS0FBWTZmLEVBQVFwRyxHQUFhb0csSUFDcEMsT0FBTzdmLEVBRVQsSUFBSVUsRUFBYXdCLEdBQWNsQyxHQUcvQixPQUFPNGEsR0FBVWxhLEVBQVksRUFGbkJFLEdBQWNGLEVBQVl3QixHQUFjMmQsSUFBVSxHQUV2QjNsQixLQUFLLEdBQzNDLEVBNnpERDBOLEdBQU9ndkIsVUF4eURQLFNBQW1CNTJCLEVBQVE2ZixFQUFPckQsR0FFaEMsSUFEQXhjLEVBQVNzRCxHQUFTdEQsTUFDSHdjLEdBQVNxRCxJQUFVM3VCLEdBQ2hDLE9BQU84TyxFQUFPRSxRQUFRaEosR0FBYSxJQUVyQyxJQUFLOEksS0FBWTZmLEVBQVFwRyxHQUFhb0csSUFDcEMsT0FBTzdmLEVBRVQsSUFBSVUsRUFBYXdCLEdBQWNsQyxHQUcvQixPQUFPNGEsR0FBVWxhLEVBRkxELEdBQWdCQyxFQUFZd0IsR0FBYzJkLEtBRWxCM2xCLEtBQUssR0FDMUMsRUE2eEREME4sR0FBT2l2QixTQXR2RFAsU0FBa0I3MkIsRUFBUXVtQixHQUN4QixJQUFJLzNCLEVBbnZkbUIsR0FvdmRuQnNvQyxFQW52ZHFCLE1BcXZkekIsR0FBSTN1QixHQUFTb2UsR0FBVSxDQUNyQixJQUFJdUosRUFBWSxjQUFldkosRUFBVUEsRUFBUXVKLFVBQVlBLEVBQzdEdGhDLEVBQVMsV0FBWSszQixFQUFVM0YsR0FBVTJGLEVBQVEvM0IsUUFBVUEsRUFDM0Rzb0MsRUFBVyxhQUFjdlEsRUFBVTlNLEdBQWE4TSxFQUFRdVEsVUFBWUEsQ0FDckUsQ0FHRCxJQUFJeEMsR0FGSnQwQixFQUFTc0QsR0FBU3RELElBRUt4UixPQUN2QixHQUFJeVMsR0FBV2pCLEdBQVMsQ0FDdEIsSUFBSVUsRUFBYXdCLEdBQWNsQyxHQUMvQnMwQixFQUFZNXpCLEVBQVdsUyxNQUN4QixDQUNELEdBQUlBLEdBQVU4bEMsRUFDWixPQUFPdDBCLEVBRVQsSUFBSXNZLEVBQU05cEIsRUFBU3VULEdBQVcrMEIsR0FDOUIsR0FBSXhlLEVBQU0sRUFDUixPQUFPd2UsRUFFVCxJQUFJdm1DLEVBQVNtUSxFQUNUa2EsR0FBVWxhLEVBQVksRUFBRzRYLEdBQUtwZSxLQUFLLElBQ25DOEYsRUFBT25RLE1BQU0sRUFBR3lvQixHQUVwQixHQUFJd1gsSUFBYzUrQixFQUNoQixPQUFPWCxFQUFTdW1DLEVBS2xCLEdBSElwMkIsSUFDRjRYLEdBQVEvbkIsRUFBTy9CLE9BQVM4cEIsR0FFdEJ4YixHQUFTZ3pCLElBQ1gsR0FBSTl2QixFQUFPblEsTUFBTXlvQixHQUFLeWUsT0FBT2pILEdBQVksQ0FDdkMsSUFBSTN0QixFQUNBNjBCLEVBQVl6bUMsRUFNaEIsSUFKS3UvQixFQUFVeDBCLFNBQ2J3MEIsRUFBWXY1QixHQUFPdTVCLEVBQVV0NUIsT0FBUThNLEdBQVMzTCxHQUFROEwsS0FBS3FzQixJQUFjLE1BRTNFQSxFQUFVOXRCLFVBQVksRUFDZEcsRUFBUTJ0QixFQUFVcnNCLEtBQUt1ekIsSUFDN0IsSUFBSUMsRUFBUzkwQixFQUFNM1EsTUFFckJqQixFQUFTQSxFQUFPVixNQUFNLEVBQUdvbkMsSUFBVy9sQyxFQUFZb25CLEVBQU0yZSxFQUN2RCxVQUNRajNCLEVBQU81TixRQUFRcW5CLEdBQWFxVyxHQUFZeFgsSUFBUUEsRUFBSyxDQUM5RCxJQUFJOW1CLEVBQVFqQixFQUFPbWpDLFlBQVk1RCxHQUMzQnQrQixHQUFTLElBQ1hqQixFQUFTQSxFQUFPVixNQUFNLEVBQUcyQixHQUU1QixDQUNELE9BQU9qQixFQUFTdW1DLENBQ2pCLEVBaXNERGx2QixHQUFPc3ZCLFNBNXFEUCxTQUFrQmwzQixHQUVoQixPQURBQSxFQUFTc0QsR0FBU3RELEtBQ0ExSixFQUFpQjRLLEtBQUtsQixHQUNwQ0EsRUFBT0UsUUFBUTlKLEVBQWVvTSxJQUM5QnhDLENBQ0wsRUF3cURENEgsR0FBT3V2QixTQXZwQlAsU0FBa0JDLEdBQ2hCLElBQUl2YyxJQUFPdFgsR0FDWCxPQUFPRCxHQUFTOHpCLEdBQVV2YyxDQUMzQixFQXFwQkRqVCxHQUFPcWpCLFVBQVlBLEdBQ25CcmpCLEdBQU8raUIsV0FBYUEsR0FHcEIvaUIsR0FBT3l2QixLQUFPLzFCLEdBQ2RzRyxHQUFPMHZCLFVBQVl6UixHQUNuQmplLEdBQU83VSxNQUFRb3hCLEdBRWYySCxHQUFNbGtCLElBQ0FwUixHQUFTLENBQUEsRUFDYmlaLEdBQVc3SCxJQUFRLFNBQVN6SyxFQUFNeWYsR0FDM0JwdkIsR0FBZUMsS0FBS21hLEdBQU9yYSxVQUFXcXZCLEtBQ3pDcG1CLEdBQU9vbUIsR0FBY3pmLEVBRS9CLElBQ2EzRyxJQUNILENBQUUrdUIsT0FBUyxJQVdqQjNkLEdBQU8ydkIsUUEvaWhCSyxVQWtqaEJaNTVCLEdBQVUsQ0FBQyxPQUFRLFVBQVcsUUFBUyxhQUFjLFVBQVcsaUJBQWlCLFNBQVNpZixHQUN4RmhWLEdBQU9nVixHQUFZamIsWUFBY2lHLEVBQ3ZDLElBR0lqSyxHQUFVLENBQUMsT0FBUSxTQUFTLFNBQVNpZixFQUFZcHJCLEdBQy9Dc1csR0FBWXZhLFVBQVVxdkIsR0FBYyxTQUFTdHVCLEdBQzNDQSxFQUFJQSxJQUFNNEMsRUFBWSxFQUFJOFUsR0FBVTRhLEdBQVV0eUIsR0FBSSxHQUVsRCxJQUFJaUMsRUFBVXpDLEtBQUs4YSxlQUFpQnBYLEVBQ2hDLElBQUlzVyxHQUFZaGEsTUFDaEJBLEtBQUsrMUIsUUFVVCxPQVJJdHpCLEVBQU9xWSxhQUNUclksRUFBT3VZLGNBQWdCNUMsR0FBVTVYLEVBQUdpQyxFQUFPdVksZUFFM0N2WSxFQUFPd1ksVUFBVXpaLEtBQUssQ0FDcEIrUixLQUFRNkUsR0FBVTVYLEVBQUc4RixHQUNyQjZ0QixLQUFRckYsR0FBY3JzQixFQUFPb1ksUUFBVSxFQUFJLFFBQVUsTUFHbERwWSxDQUNmLEVBRU11WCxHQUFZdmEsVUFBVXF2QixFQUFhLFNBQVcsU0FBU3R1QixHQUNyRCxPQUFPUixLQUFLMlksVUFBVW1XLEdBQVl0dUIsR0FBR21ZLFNBQzdDLENBQ0EsSUFHSTlJLEdBQVUsQ0FBQyxTQUFVLE1BQU8sY0FBYyxTQUFTaWYsRUFBWXByQixHQUM3RCxJQUFJeXdCLEVBQU96d0IsRUFBUSxFQUNmZ21DLEVBamloQmUsR0FpaWhCSnZWLEdBL2hoQkcsR0EraGhCeUJBLEVBRTNDbmEsR0FBWXZhLFVBQVVxdkIsR0FBYyxTQUFTbmYsR0FDM0MsSUFBSWxOLEVBQVN6QyxLQUFLKzFCLFFBTWxCLE9BTEF0ekIsRUFBT3NZLGNBQWN2WixLQUFLLENBQ3hCbU8sU0FBWStZLEdBQVkvWSxFQUFVLEdBQ2xDd2tCLEtBQVFBLElBRVYxeEIsRUFBT3FZLGFBQWVyWSxFQUFPcVksY0FBZ0I0dUIsRUFDdENqbkMsQ0FDZixDQUNBLElBR0lvTixHQUFVLENBQUMsT0FBUSxTQUFTLFNBQVNpZixFQUFZcHJCLEdBQy9DLElBQUlpbUMsRUFBVyxRQUFVam1DLEVBQVEsUUFBVSxJQUUzQ3NXLEdBQVl2YSxVQUFVcXZCLEdBQWMsV0FDbEMsT0FBVzl1QixLQUFDMnBDLEdBQVUsR0FBR3pvQyxRQUFRLEVBQ3pDLENBQ0EsSUFHSTJPLEdBQVUsQ0FBQyxVQUFXLFNBQVMsU0FBU2lmLEVBQVlwckIsR0FDbEQsSUFBSWttQyxFQUFXLFFBQVVsbUMsRUFBUSxHQUFLLFNBRXRDc1csR0FBWXZhLFVBQVVxdkIsR0FBYyxXQUNsQyxZQUFZaFUsYUFBZSxJQUFJZCxHQUFZaGEsTUFBUUEsS0FBSzRwQyxHQUFVLEVBQzFFLENBQ0EsSUFFSTV2QixHQUFZdmEsVUFBVTYvQixRQUFVLFdBQzlCLFlBQVlZLE9BQU92WixHQUN6QixFQUVJM00sR0FBWXZhLFVBQVVvNEIsS0FBTyxTQUFTN25CLEdBQ3BDLE9BQU9oUSxLQUFLa2dDLE9BQU9sd0IsR0FBV3FtQixNQUNwQyxFQUVJcmMsR0FBWXZhLFVBQVVxNEIsU0FBVyxTQUFTOW5CLEdBQ3hDLE9BQU9oUSxLQUFLMlksVUFBVWtmLEtBQUs3bkIsRUFDakMsRUFFSWdLLEdBQVl2YSxVQUFVdzRCLFVBQVlyTyxJQUFTLFNBQVMxbEIsRUFBTXFMLEdBQ3hELE1BQW1CLG1CQUFSckwsRUFDRixJQUFJOFYsR0FBWWhhLE1BRWxCQSxLQUFLc1QsS0FBSSxTQUFTcFMsR0FDdkIsT0FBT2dqQixHQUFXaGpCLEVBQU9nRCxFQUFNcUwsRUFDdkMsR0FDQSxJQUVJeUssR0FBWXZhLFVBQVUraEMsT0FBUyxTQUFTeHhCLEdBQ3RDLFlBQVlrd0IsT0FBTzlGLEdBQU8xUixHQUFZMVksSUFDNUMsRUFFSWdLLEdBQVl2YSxVQUFVc0MsTUFBUSxTQUFTOG5CLEVBQU9XLEdBQzVDWCxFQUFRaUosR0FBVWpKLEdBRWxCLElBQUlwbkIsRUFBU3pDLEtBQ2IsT0FBSXlDLEVBQU9xWSxlQUFpQitPLEVBQVEsR0FBS1csRUFBTSxHQUN0QyxJQUFJeFEsR0FBWXZYLElBRXJCb25CLEVBQVEsRUFDVnBuQixFQUFTQSxFQUFPNC9CLFdBQVd4WSxHQUNsQkEsSUFDVHBuQixFQUFTQSxFQUFPMEMsS0FBSzBrQixJQUVuQlcsSUFBUXBuQixJQUVWWCxHQURBK25CLEVBQU1zSSxHQUFVdEksSUFDRCxFQUFJL25CLEVBQU9vOUIsV0FBV3JWLEdBQU8vbkIsRUFBTzIvQixLQUFLNVgsRUFBTVgsSUFFekRwbkIsRUFDYixFQUVJdVgsR0FBWXZhLFVBQVU2aUMsZUFBaUIsU0FBU3R5QixHQUM5QyxZQUFZMkksVUFBVTRwQixVQUFVdnlCLEdBQVcySSxTQUNqRCxFQUVJcUIsR0FBWXZhLFVBQVUwN0IsUUFBVSxXQUM5QixPQUFPbjdCLEtBQUtvaUMsS0FBSzk3QixFQUN2QixFQUdJcWIsR0FBVzNILEdBQVl2YSxXQUFXLFNBQVM0UCxFQUFNeWYsR0FDL0MsSUFBSSthLEVBQWdCLHFDQUFxQ3oyQixLQUFLMGIsR0FDMURnYixFQUFVLGtCQUFrQjEyQixLQUFLMGIsR0FDakNpYixFQUFhandCLEdBQU9nd0IsRUFBVyxRQUF3QixRQUFkaGIsRUFBdUIsUUFBVSxJQUFPQSxHQUNqRmtiLEVBQWVGLEdBQVcsUUFBUTEyQixLQUFLMGIsR0FFdENpYixJQUdMandCLEdBQU9yYSxVQUFVcXZCLEdBQWMsV0FDN0IsSUFBSTV0QixFQUFRbEIsS0FBS3dhLFlBQ2JqTCxFQUFPdTZCLEVBQVUsQ0FBQyxHQUFLcnBDLFVBQ3ZCd3BDLEVBQVMvb0MsYUFBaUI4WSxHQUMxQnJLLEVBQVdKLEVBQUssR0FDaEIyNkIsRUFBVUQsR0FBVXhrQyxHQUFRdkUsR0FFNUJ3MkIsRUFBYyxTQUFTeDJCLEdBQ3pCLElBQUl1QixFQUFTc25DLEVBQVdwcEMsTUFBTW1aLEdBQVF0SixHQUFVLENBQUN0UCxHQUFRcU8sSUFDekQsT0FBUXU2QixHQUFXdnZCLEVBQVk5WCxFQUFPLEdBQUtBLENBQ3JELEVBRVl5bkMsR0FBV0wsR0FBb0MsbUJBQVpsNkIsR0FBNkMsR0FBbkJBLEVBQVNqUCxTQUV4RXVwQyxFQUFTQyxHQUFVLEdBRXJCLElBQUkzdkIsRUFBV3ZhLEtBQUswYSxVQUNoQnl2QixJQUFhbnFDLEtBQUt5YSxZQUFZL1osT0FDOUIwcEMsRUFBY0osSUFBaUJ6dkIsRUFDL0I4dkIsRUFBV0osSUFBV0UsRUFFMUIsSUFBS0gsR0FBZ0JFLEVBQVMsQ0FDNUJocEMsRUFBUW1wQyxFQUFXbnBDLEVBQVEsSUFBSThZLEdBQVloYSxNQUMzQyxJQUFJeUMsRUFBUzRNLEVBQUsxTyxNQUFNTyxFQUFPcU8sR0FFL0IsT0FEQTlNLEVBQU9nWSxZQUFZalosS0FBSyxDQUFFNk4sS0FBUXVnQixHQUFNcmdCLEtBQVEsQ0FBQ21vQixHQUFjcG9CLFFBQVdsTSxJQUNuRSxJQUFJNlcsR0FBY3hYLEVBQVE4WCxFQUNsQyxDQUNELE9BQUk2dkIsR0FBZUMsRUFDVmg3QixFQUFLMU8sTUFBTVgsS0FBTXVQLElBRTFCOU0sRUFBU3pDLEtBQUs0dkIsS0FBSzhILEdBQ1owUyxFQUFlTixFQUFVcm5DLEVBQU92QixRQUFRLEdBQUt1QixFQUFPdkIsUUFBV3VCLEVBQzlFLEVBQ0EsSUFHSW9OLEdBQVUsQ0FBQyxNQUFPLE9BQVEsUUFBUyxPQUFRLFNBQVUsWUFBWSxTQUFTaWYsR0FDeEUsSUFBSXpmLEVBQU84RixHQUFXMlosR0FDbEJ3YixFQUFZLDBCQUEwQmwzQixLQUFLMGIsR0FBYyxNQUFRLE9BQ2pFa2IsRUFBZSxrQkFBa0I1MkIsS0FBSzBiLEdBRTFDaFYsR0FBT3JhLFVBQVVxdkIsR0FBYyxXQUM3QixJQUFJdmYsRUFBTzlPLFVBQ1gsR0FBSXVwQyxJQUFpQmhxQyxLQUFLMGEsVUFBVyxDQUNuQyxJQUFJeFosRUFBUWxCLEtBQUtrQixRQUNqQixPQUFPbU8sRUFBSzFPLE1BQU04RSxHQUFRdkUsR0FBU0EsRUFBUSxHQUFJcU8sRUFDaEQsQ0FDRCxPQUFXdlAsS0FBQ3NxQyxJQUFXLFNBQVNwcEMsR0FDOUIsT0FBT21PLEVBQUsxTyxNQUFNOEUsR0FBUXZFLEdBQVNBLEVBQVEsR0FBSXFPLEVBQ3pELEdBQ0EsQ0FDQSxJQUdJb1MsR0FBVzNILEdBQVl2YSxXQUFXLFNBQVM0UCxFQUFNeWYsR0FDL0MsSUFBSWliLEVBQWFqd0IsR0FBT2dWLEdBQ3hCLEdBQUlpYixFQUFZLENBQ2QsSUFBSTM0QixFQUFNMjRCLEVBQVdobEIsS0FBTyxHQUN2QnJsQixHQUFlQyxLQUFLd1osR0FBVy9ILEtBQ2xDK0gsR0FBVS9ILEdBQU8sSUFFbkIrSCxHQUFVL0gsR0FBSzVQLEtBQUssQ0FBRXVqQixLQUFRK0osRUFBWXpmLEtBQVEwNkIsR0FDbkQsQ0FDUCxJQUVJNXdCLEdBQVVnWCxHQUFhL3NCLEVBbHRoQkEsR0FrdGhCK0IyaEIsTUFBUSxDQUFDLENBQzdEQSxLQUFRLFVBQ1IxVixLQUFRak0sSUFJVjRXLEdBQVl2YSxVQUFVczJCLE1BaDlkdEIsV0FDRSxJQUFJdHpCLEVBQVMsSUFBSXVYLEdBQVloYSxLQUFLd2EsYUFPbEMsT0FOQS9YLEVBQU9nWSxZQUFjaUMsR0FBVTFjLEtBQUt5YSxhQUNwQ2hZLEVBQU9vWSxRQUFVN2EsS0FBSzZhLFFBQ3RCcFksRUFBT3FZLGFBQWU5YSxLQUFLOGEsYUFDM0JyWSxFQUFPc1ksY0FBZ0IyQixHQUFVMWMsS0FBSythLGVBQ3RDdFksRUFBT3VZLGNBQWdCaGIsS0FBS2diLGNBQzVCdlksRUFBT3dZLFVBQVl5QixHQUFVMWMsS0FBS2liLFdBQzNCeFksQ0FDUixFQXc4ZER1WCxHQUFZdmEsVUFBVWtaLFFBOTdkdEIsV0FDRSxHQUFJM1ksS0FBSzhhLGFBQWMsQ0FDckIsSUFBSXJZLEVBQVMsSUFBSXVYLEdBQVloYSxNQUM3QnlDLEVBQU9vWSxTQUFXLEVBQ2xCcFksRUFBT3FZLGNBQWUsQ0FDOUIsTUFDUXJZLEVBQVN6QyxLQUFLKzFCLFNBQ1BsYixVQUFZLEVBRXJCLE9BQU9wWSxDQUNSLEVBcTdkRHVYLEdBQVl2YSxVQUFVeUIsTUEzNmR0QixXQUNFLElBQUl1TyxFQUFRelAsS0FBS3dhLFlBQVl0WixRQUN6QnFwQyxFQUFNdnFDLEtBQUs2YSxRQUNYa0IsRUFBUXRXLEdBQVFnSyxHQUNoQis2QixFQUFVRCxFQUFNLEVBQ2hCcFosRUFBWXBWLEVBQVF0TSxFQUFNL08sT0FBUyxFQUNuQytwQyxFQThwSU4sU0FBaUI1Z0IsRUFBT1csRUFBSzhQLEdBQzNCLElBQUk1MkIsR0FBUyxFQUNUaEQsRUFBUzQ1QixFQUFXNTVCLE9BRXhCLE9BQVNnRCxFQUFRaEQsR0FBUSxDQUN2QixJQUFJa2IsRUFBTzBlLEVBQVc1MkIsR0FDbEI2UCxFQUFPcUksRUFBS3JJLEtBRWhCLE9BQVFxSSxFQUFLdVksTUFDWCxJQUFLLE9BQWF0SyxHQUFTdFcsRUFBTSxNQUNqQyxJQUFLLFlBQWFpWCxHQUFPalgsRUFBTSxNQUMvQixJQUFLLE9BQWFpWCxFQUFNcFMsR0FBVW9TLEVBQUtYLEVBQVF0VyxHQUFPLE1BQ3RELElBQUssWUFBYXNXLEVBQVEzUixHQUFVMlIsRUFBT1csRUFBTWpYLEdBRXBELENBQ0QsTUFBTyxDQUFFc1csTUFBU0EsRUFBT1csSUFBT0EsRUFDakMsQ0E5cUlZa2dCLENBQVEsRUFBR3ZaLEVBQVdueEIsS0FBS2liLFdBQ2xDNE8sRUFBUTRnQixFQUFLNWdCLE1BQ2JXLEVBQU1pZ0IsRUFBS2pnQixJQUNYOXBCLEVBQVM4cEIsRUFBTVgsRUFDZm5tQixFQUFROG1DLEVBQVVoZ0IsRUFBT1gsRUFBUSxFQUNqQ3JCLEVBQVl4b0IsS0FBSythLGNBQ2pCNHZCLEVBQWFuaUIsRUFBVTluQixPQUN2QndQLEVBQVcsRUFDWDA2QixFQUFZeHlCLEdBQVUxWCxFQUFRVixLQUFLZ2IsZUFFdkMsSUFBS2UsSUFBV3l1QixHQUFXclosR0FBYXp3QixHQUFVa3FDLEdBQWFscUMsRUFDN0QsT0FBT3lyQixHQUFpQjFjLEVBQU96UCxLQUFLeWEsYUFFdEMsSUFBSWhZLEVBQVMsR0FFYm1lLEVBQ0EsS0FBT2xnQixLQUFZd1AsRUFBVzA2QixHQUFXLENBTXZDLElBSEEsSUFBSUMsR0FBYSxFQUNiM3BDLEVBQVF1TyxFQUhaL0wsR0FBUzZtQyxLQUtBTSxFQUFZRixHQUFZLENBQy9CLElBQUkvdUIsRUFBTzRNLEVBQVVxaUIsR0FDakJsN0IsRUFBV2lNLEVBQUtqTSxTQUNoQndrQixFQUFPdlksRUFBS3VZLEtBQ1p0VCxFQUFXbFIsRUFBU3pPLEdBRXhCLEdBN3pEWSxHQTZ6RFJpekIsRUFDRmp6QixFQUFRMmYsT0FDSCxJQUFLQSxFQUFVLENBQ3BCLEdBajBEYSxHQWkwRFRzVCxFQUNGLFNBQVN2VCxFQUVULE1BQU1BLENBRVQsQ0FDRixDQUNEbmUsRUFBT3lOLEtBQWNoUCxDQUN0QixDQUNELE9BQU91QixDQUNSLEVBKzNkRHFYLEdBQU9yYSxVQUFVazhCLEdBQUtoRSxHQUN0QjdkLEdBQU9yYSxVQUFVZzRCLE1BMWlRakIsV0FDRSxPQUFPQSxHQUFNejNCLEtBQ2QsRUF5aVFEOFosR0FBT3JhLFVBQVVxckMsT0E3Z1FqQixXQUNFLE9BQVcsSUFBQTd3QixHQUFjamEsS0FBS2tCLFFBQVNsQixLQUFLMGEsVUFDN0MsRUE0Z1FEWixHQUFPcmEsVUFBVXdCLEtBcC9QakIsV0FDTWpCLEtBQUs0YSxhQUFleFgsSUFDdEJwRCxLQUFLNGEsV0FBYXVnQixHQUFRbjdCLEtBQUtrQixVQUVqQyxJQUFJQyxFQUFPbkIsS0FBSzJhLFdBQWEzYSxLQUFLNGEsV0FBV2xhLE9BRzdDLE1BQU8sQ0FBRVMsS0FBUUEsRUFBTUQsTUFGWEMsRUFBT2lDLEVBQVlwRCxLQUFLNGEsV0FBVzVhLEtBQUsyYSxhQUdyRCxFQTYrUERiLEdBQU9yYSxVQUFVeXdCLE1BNzdQakIsU0FBc0JodkIsR0FJcEIsSUFIQSxJQUFJdUIsRUFDQVksRUFBU3JELEtBRU5xRCxhQUFrQmlYLElBQVksQ0FDbkMsSUFBSXliLEVBQVE3YixHQUFhN1csR0FDekIweUIsRUFBTXBiLFVBQVksRUFDbEJvYixFQUFNbmIsV0FBYXhYLEVBQ2ZYLEVBQ0ZnbkIsRUFBU2pQLFlBQWN1YixFQUV2QnR6QixFQUFTc3pCLEVBRVgsSUFBSXRNLEVBQVdzTSxFQUNmMXlCLEVBQVNBLEVBQU9tWCxXQUNqQixDQUVELE9BREFpUCxFQUFTalAsWUFBY3RaLEVBQ2hCdUIsQ0FDUixFQTQ2UERxWCxHQUFPcmEsVUFBVWtaLFFBdDVQakIsV0FDRSxJQUFJelgsRUFBUWxCLEtBQUt3YSxZQUNqQixHQUFJdFosYUFBaUI4WSxHQUFhLENBQ2hDLElBQUkrd0IsRUFBVTdwQyxFQVVkLE9BVElsQixLQUFLeWEsWUFBWS9aLFNBQ25CcXFDLEVBQVUsSUFBSS93QixHQUFZaGEsUUFFNUIrcUMsRUFBVUEsRUFBUXB5QixXQUNWOEIsWUFBWWpaLEtBQUssQ0FDdkI2TixLQUFRdWdCLEdBQ1JyZ0IsS0FBUSxDQUFDb0osSUFDVHJKLFFBQVdsTSxJQUVGLElBQUE2VyxHQUFjOHdCLEVBQVMvcUMsS0FBSzBhLFVBQ3hDLENBQ0QsT0FBVzFhLEtBQUM0dkIsS0FBS2pYLEdBQ2xCLEVBdTRQRG1CLEdBQU9yYSxVQUFVdXJDLE9BQVNseEIsR0FBT3JhLFVBQVVtYSxRQUFVRSxHQUFPcmEsVUFBVXlCLE1BdjNQdEUsV0FDRSxPQUFPaXJCLEdBQWlCbnNCLEtBQUt3YSxZQUFheGEsS0FBS3lhLFlBQ2hELEVBdzNQRFgsR0FBT3JhLFVBQVV3RixNQUFRNlUsR0FBT3JhLFVBQVU0MkIsS0FFdEMxZixLQUNGbUQsR0FBT3JhLFVBQVVrWCxJQWorUG5CLFdBQ0UsT0FBVzNXLElBQ1osR0FpK1BNOFosRUFDWCxDQUtVbEYsR0FpQkM1RyxLQUVOQSxHQUFXRixRQUFVNkcsSUFBR0EsRUFBSUEsR0FFN0I5RyxHQUFZOEcsRUFBSUEsSUFJaEJoSCxHQUFLZ0gsRUFBSUEsRUFFWixHQUFDaFYsS0FBS0ssaUNDcHpoQkRpckMsRUFBVzE4QixRQUFRLGFBRVoyOEIsRUFBVyxTQUN0QnBtQyxFQUNBcW1DLFFBQUEsSUFBQUEsSUFBQUEsRUFBMEIsSUFFMUIsSUFBSUMsRUFBVyxJQUlmLEdBSElELEVBQVV6cUMsT0FBUyxJQUNyQjBxQyxHQUFZLEdBQUdwcEMsT0FBQW1wQyxFQUFVLEdBQUdFLE9BQVFycEMsT0FBQW1wQyxFQUFVLEdBQUdqcUMsUUFFL0M0RCxFQUFNLENBQ1IsSUFBTVosRUFBT1ksRUFBS2IsVUFDZEMsRUFBS3hELE9BQVMsSUFDaEIwcUMsRUFBV2xuQyxFQUFLb1AsS0FBSSxTQUFBOVMsR0FBSyxPQUFBQSxFQUFFeUMsTUFBTThwQixFQUFFLElBQUUzZ0IsS0FBSyxNQUFRLEtBQUFwSyxPQUFLb3BDLEdBRTFELENBRUQsT0FBT0gsRUFBUzNwQixLQUFLOHBCLEdBQVVycEMsTUFBTSxFQUFHLEVBQzFDLEVBdUJnQixTQUFBdXBDLEVBQ2RDLEVBQ0EzMUIsUUFBQSxJQUFBQSxJQUFBQSxHQUFrQixJQUFLLEtBQU0sS0FBTSxPQU1uQyxJQUpBLElBR0l2QixFQUhFbTNCLEVBQWtCLEdBQ2xCbk8sRUFBVSxJQUFJNTBCLE9BQU8sY0FBT21OLEVBQUt4SixLQUFLLEtBQUksUUFBUSxrQkFJdEQsSUFBTXEvQixFQUFZcDNCLEVBQU0zUSxNQUNsQmdvQyxFQUFhRCxFQUFZcDNCLEVBQU0sR0FBRzNULE9BQVMsRUFHM0NpckMsRUFBd0JILEVBQU90RSxNQUNuQyxTQUFDMEUsR0FBQSxJQUFBN21DLEVBQUEzRCxPQUFDeW9CLEVBQUs5a0IsRUFBQSxHQUFFeWxCLEVBQUd6bEIsRUFBQSxHQUFNLE9BQUEwbUMsR0FBYTVoQixHQUFTNGhCLEdBQWFqaEIsQ0FBbkMsSUFHcEIsR0FBSW1oQixtQkFRSixJQUhBLElBQUlwckMsRUFBSW1yQyxFQUNKRyxHQUFVLEVBRVB0ckMsRUFBSWdyQyxFQUFJN3FDLFFBQVEsQ0FDckIsSUFBTW9yQyxFQUFPUCxFQUFJaHJDLEdBRWpCLEdBQUlzckMsRUFDRkEsR0FBVSxPQUNMLEdBQWEsT0FBVEMsRUFDVEQsR0FBVSxPQUNMLEdBQWEsTUFBVEMsRUFFVCxNQUdGdnJDLEdBQ0QsQ0FFR0EsRUFBSWdyQyxFQUFJN3FDLFFBQ1Y4cUMsRUFBT2hxQyxLQUFLLENBQUNrcUMsRUFBWW5yQyxLQWpDVSxRQUEvQjhULEVBQVFncEIsRUFBUTFuQixLQUFLNDFCLFNBcUM3QixPQUFPQyxDQUNULENBRWdCLFNBQUFPLEVBQWFyb0MsRUFBZThuQyxHQUsxQyxJQUhBLElBQUlRLEVBQU8sRUFDUEMsRUFBUVQsRUFBTzlxQyxPQUFTLEVBRXJCc3JDLEdBQVFDLEdBQU8sQ0FDcEIsSUFBTW5oQixFQUFPa2hCLEVBQU9DLEdBQVUsRUFDeEJMLEVBQUF4cUMsRUFBZW9xQyxFQUFPMWdCLEdBQUksR0FBekJqQixFQUFLK2hCLEVBQUEsR0FBRXBoQixPQUVkLEdBQUk5bUIsRUFBUW1tQixFQUNWb2lCLEVBQVFuaEIsRUFBTSxNQUNULE1BQUlwbkIsRUFBUThtQixHQUdqQixPQUFPLEVBRlB3aEIsRUFBT2xoQixFQUFNLENBR2QsQ0FDRixDQUVELE9BQU8sQ0FDVCxDQUVPLElDL0dLb2hCLEVBb05BQyxFQU1BQyxFQWNBQyxFQU1BQyxFQVlBQyxFQTJEQUMsRUFZQUMsRUFNQUMsSUR4TkNDLEVBQXVCLFNBQUNDLEdBQ25DLE9BQU8xTSxTQUNMME0sR0FDQSxTQUFDL29DLEVBQW1CSCxHQUNsQixPQUFBQSxJQUNBMHlCLGdCQUNFd1csR0FDQSxTQUFDQyxHQUNDLE9BQUFocEMsRUFBS3duQyxRQUFVd0IsRUFBUXhCLE9BQVN4bkMsRUFBSzNDLFFBQVUyckMsRUFBUTNyQyxLQUF2RCxHQUpKLEdBT04sRUFFYTRyQyxFQUFhLFNBQUN0c0MsR0FDekIsT0FBT0EsRUFBRXlDLE1BQU1rb0MsVUFBVXpxQyxPQUFTLENBQ3BDLEVBTWFxc0MsRUFBYyxTQUFDdnNDLEdBQzFCLE9BQU9BLEVBQUV5QyxNQUFNK3BDLFdBQVd0c0MsT0FBUyxDQUNyQyxFQUVhdXNDLEVBQWdCLFNBQUN6c0MsRUFBVTZDLEdBQ3RDLElBQ0k2cEMsRUFEUzFzQyxFQUFFeUQsVUFDT2k4QixRQUFPLFNBQUExL0IsR0FBSyxPQUFBc3NDLEVBQVd0c0MsRUFBRSxJQUFFRSxPQUlqRCxPQUhJMkMsSUFDRjZwQyxHQUFjN3BDLEVBQU9ZLFVBQVVpOEIsUUFBTyxTQUFBMS9CLEdBQUssT0FBQXNzQyxFQUFXdHNDLEVBQUUsSUFBRUUsUUFFckR3c0MsQ0FDVCxFQzFIQ3AvQixFQUFBbytCLHNCQUFBLEdBckJXQSxFQUFBQSxxQkFBQUEsRUFBQUEsaUJBcUJYLENBQUEsSUFwQkMsa0JBQUEsb0JBQ0FBLEVBQUEsa0JBQUEsb0JBQ0FBLEVBQUEsaUJBQUEsbUJBQ0FBLEVBQUEsaUJBQUEsbUJBQ0FBLEVBQUEsaUJBQUEsbUJBQ0FBLEVBQUEsWUFBQSxjQUNBQSxFQUFBLGVBQUEsaUJBQ0FBLEVBQUEsWUFBQSxjQUNBQSxFQUFBLGNBQUEsZ0JBQ0FBLEVBQUEscUJBQUEsdUJBQ0FBLEVBQUEsZUFBQSxpQkFDQUEsRUFBQSxrQkFBQSxvQkFDQUEsRUFBQSxlQUFBLGlCQUNBQSxFQUFBLGtCQUFBLG9CQUNBQSxFQUFBLG1CQUFBLHFCQUNBQSxFQUFBLGVBQUEsaUJBQ0FBLEVBQUEsZ0JBQUEsa0JBQ0FBLEVBQUEsU0FBQSxXQUNBQSxFQUFBLGdCQUFBLGtCQUNBQSxFQUFBLGVBQUEsaUJBb01EcCtCLEVBQUFxK0IsUUFBQSxHQUpXQSxFQUFBQSxPQUFBQSxFQUFBQSxHQUlYLENBQUEsSUFIQ0EsRUFBQSxNQUFBLEdBQUEsUUFDQUEsRUFBQUEsRUFBQSxPQUFBLEdBQUEsUUFDQUEsRUFBQUEsRUFBQSxNQUFBLEdBQUEsUUFlRHIrQixFQUFBcytCLFdBQUEsR0FaV0EsRUFBQUEsVUFBQUEsRUFBQUEsTUFZWCxDQUFBLElBWEMsY0FBQSxrQkFDQUEsRUFBQSxLQUFBLE9BQ0FBLEVBQUEsUUFBQSxVQUNBQSxFQUFBLFdBQUEsY0FDQUEsRUFBQSxjQUFBLGtCQUNBQSxFQUFBLE9BQUEsU0FDQUEsRUFBQSxlQUFBLGlCQUNBQSxFQUFBLEtBQUEsT0FDQUEsRUFBQSxLQUFBLE9BQ0FBLEVBQUEsZ0JBQUEsb0JBQ0FBLEVBQUEsYUFBQSxnQkFPRHQrQixFQUFBdStCLHdCQUFBLEdBSldBLEVBQUFBLHVCQUFBQSxFQUFBQSxtQkFJWCxDQUFBLElBSEMsUUFBQSxVQUNBQSxFQUFBLFFBQUEsVUFDQUEsRUFBQSxTQUFBLFdBYUR2K0IsRUFBQXcrQixZQUFBLEdBVldBLEVBQUFBLFdBQUFBLEVBQUFBLE9BVVgsQ0FBQSxJQVRDLEtBQUEsSUFDQUEsRUFBQSxNQUFBLElBQ0FBLEVBQUEsSUFBQSxJQUNBQSxFQUFBLE9BQUEsSUFDQUEsRUFBQSxTQUFBLEtBQ0FBLEVBQUEsUUFBQSxLQUNBQSxFQUFBLFdBQUEsS0FDQUEsRUFBQSxZQUFBLEtBQ0FBLEVBQUEsT0FBQSxJQVFEeCtCLEVBQUF5K0IsWUFBQSxHQUxXQSxFQUFBQSxXQUFBQSxFQUFBQSxPQUtYLENBQUEsSUFKQyxLQUFBLEdBQ0FBLEVBQUEsSUFBQSxNQUNBQSxFQUFBLElBQUEsTUFDQUEsRUFBQSxVQUFBLFlBcUREeitCLEVBQUFxL0IsWUFBQSxFQWxERCxTQUFZQSxHQUNWQSxFQUFBLFFBQUEsS0FDQUEsRUFBQSxPQUFBLEtBQ0FBLEVBQUEsWUFBQSxNQUNBQSxFQUFBLE9BQUEsS0FDQUEsRUFBQSxZQUFBLE1BQ0FBLEVBQUEsU0FBQSxNQUNBQSxFQUFBLE1BQUEsS0FDQUEsRUFBQSxVQUFBLFFBQ0FBLEVBQUEsU0FBQSxTQUNBQSxFQUFBLGVBQUEsT0FDQUEsRUFBQSxPQUFBLE1BQ0FBLEVBQUEsT0FBQSxLQUNBQSxFQUFBLGFBQUEsTUFDQUEsRUFBQSxtQkFBQSxPQUNBQSxFQUFBLG1CQUFBLFFBQ0FBLEVBQUEsbUJBQUEsUUFDQUEsRUFBQSx5QkFBQSxTQUNBQSxFQUFBLHlCQUFBLFNBQ0FBLEVBQUEsYUFBQSxNQUNBQSxFQUFBLG1CQUFBLE9BQ0FBLEVBQUEsbUJBQUEsUUFDQUEsRUFBQSxtQkFBQSxRQUNBQSxFQUFBLHlCQUFBLFNBQ0FBLEVBQUEseUJBQUEsU0FDQUEsRUFBQSxZQUFBLE1BQ0FBLEVBQUEsa0JBQUEsT0FDQUEsRUFBQSxrQkFBQSxRQUNBQSxFQUFBLGtCQUFBLFFBQ0FBLEVBQUEsd0JBQUEsU0FDQUEsRUFBQSx3QkFBQSxTQUNBQSxFQUFBLFlBQUEsS0FDQUEsRUFBQSxrQkFBQSxNQUNBQSxFQUFBLGtCQUFBLE9BQ0FBLEVBQUEsa0JBQUEsT0FDQUEsRUFBQSx3QkFBQSxRQUNBQSxFQUFBLHdCQUFBLFFBQ0FBLEVBQUEsWUFBQSxLQUNBQSxFQUFBLGtCQUFBLE1BQ0FBLEVBQUEsa0JBQUEsT0FDQUEsRUFBQSxrQkFBQSxPQUNBQSxFQUFBLHdCQUFBLFFBQ0FBLEVBQUEsd0JBQUEsUUFDQUEsRUFBQSxLQUFBLE9BQ0FBLEVBQUEsV0FBQSxTQUNBQSxFQUFBLFdBQUEsU0FDQUEsRUFBQSxXQUFBLFFBQ0FBLEVBQUEsaUJBQUEsU0FDQUEsRUFBQSxVQUFBLEtBQ0FBLEVBQUEsS0FBQSxFQUNELENBbERELENBQVlBLFdBQUFBLEVBQUFBLE9Ba0RYLENBQUEsSUFZQXIvQixFQUFBMCtCLFlBQUEsR0FWV0EsRUFBQUEsV0FBQUEsRUFBQUEsT0FVWCxDQUFBLElBVEMsS0FBQSxHQUNBQSxFQUFBLFdBQUEsSUFDQUEsRUFBQSxXQUFBLElBQ0FBLEVBQUEsT0FBQSxJQUNBQSxFQUFBLE9BQUEsSUFDQUEsRUFBQSxTQUFBLE1BQ0FBLEVBQUEsTUFBQSxLQUNBQSxFQUFBLE1BQUEsS0FDQUEsRUFBQSxLQUFBLElBT0QxK0IsRUFBQTIrQix1QkFBQSxHQUpXQSxFQUFBQSxzQkFBQUEsRUFBQUEsa0JBSVgsQ0FBQSxJQUhDLE1BQUEsSUFDQUEsRUFBQSxNQUFBLElBQ0FBLEVBQUEsUUFBQSxJQU9EMytCLEVBQUE0K0IsMkJBQUEsR0FKV0EsRUFBQUEsRUFBcUJBLHdCQUFyQkEsd0JBSVgsQ0FBQSxJQUhDLEtBQUEsT0FDQUEsRUFBQSxJQUFBLE1BQ0FBLEVBQUEsS0FBQSxPQzFVRixJQUFNN0UsRUFBaUIsdUJBRVZ1RixFQUFpQyxDQUM1Q0Msa0JBQW1CLFVBQ25CQyxrQkFBbUIsVUFDbkJDLGlCQUFrQixVQUNsQkMsaUJBQWtCLFVBQ2xCQyxpQkFBa0IsVUFDbEJDLFlBQWEsVUFDYkMsZUFBZ0IsVUFDaEJDLFlBQWEsVUFDYkMsY0FBZSxVQUNmQyxxQkFBc0IsVUFDdEJDLGVBQWdCLFVBQ2hCQyxrQkFBbUIsVUFDbkJDLGVBQWdCLFVBQ2hCQyxrQkFBbUIsVUFDbkJDLG1CQUFvQixFQUNwQkMsZUFBZ0IsSUFDaEJDLGdCQUFpQixHQUNqQkMsU0FBVSxFQUNWQyxnQkFBaUIsRUFDakJDLGVBQWdCLFVBQ2hCQyxXQUFZLEtBS0RDLEVBQWEsQ0FDeEIsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsS0F1QldDLEVBQWEsQ0FDeEIsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FFckRDLEVBQWMsQ0FDekIsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsS0FRV0MsRUFBa0IsQ0FDN0JDLFVBQVcsR0FDWEMsUUFBUyxHQUNUQyxPQUFRLEVBQ1JDLGFBQWEsRUFDYkMsWUFBWSxFQUNaQyxNQUFPL0MsRUFBS0EsTUFBQ2dELEtBQ2JDLFlBQVksRUFDWkMsTUFBTSxFQUNOQyxjQUFjLEdBR0hDLElBQWU1RCxFQUFBLENBQUEsR0FpQnpCUSxFQUFBQSxNQUFNcUQsZUFBZ0IsQ0FDckJDLE9BQVEsR0FDUkMsT0FBUSxJQUVWL0QsRUFBQ1EsRUFBQUEsTUFBTXdELFNBQVUsQ0FDZkMsTUFBTyxHQUFBN3RDLE9BQUc2bEMsRUFBNkMsbUNBQ3ZENkgsT0FBUSxDQUFDLEdBQUExdEMsT0FBRzZsQyxzQ0FDWjhILE9BQVEsQ0FBQyxHQUFBM3RDLE9BQUc2bEMsdUNBRWQrRCxFQUFDUSxFQUFBQSxNQUFNMEQsWUFBYSxDQUNsQkQsTUFBTyxHQUFBN3RDLE9BQUc2bEMsRUFBaUQsdUNBQzNENkgsT0FBUSxDQUFDLEdBQUExdEMsT0FBRzZsQywwQ0FDWjhILE9BQVEsQ0FDTixHQUFHM3RDLE9BQUE2bEMsRUFBa0Qsd0NBQ3JELEdBQUc3bEMsT0FBQTZsQyxFQUFrRCx3Q0FDckQsR0FBRzdsQyxPQUFBNmxDLEVBQWtELHdDQUNyRCxHQUFHN2xDLE9BQUE2bEMsRUFBa0Qsd0NBQ3JELEdBQUc3bEMsT0FBQTZsQyxFQUFrRCwwQ0FHekQrRCxFQUFDUSxFQUFBQSxNQUFNMkQsZUFBZ0IsQ0FDckJGLE1BQU8sR0FBQTd0QyxPQUFHNmxDLEVBQXFELDJDQUMvRDZILE9BQVEsQ0FDTixHQUFHMXRDLE9BQUE2bEMsRUFBc0QsNENBQ3pELEdBQUc3bEMsT0FBQTZsQyxFQUFzRCw0Q0FDekQsR0FBRzdsQyxPQUFBNmxDLEVBQXNELDRDQUN6RCxHQUFHN2xDLE9BQUE2bEMsRUFBc0QsNENBQ3pELEdBQUc3bEMsT0FBQTZsQyxFQUFzRCw2Q0FFM0Q4SCxPQUFRLENBQ04sR0FBRzN0QyxPQUFBNmxDLEVBQXNELDRDQUN6RCxHQUFHN2xDLE9BQUE2bEMsRUFBc0QsNENBQ3pELEdBQUc3bEMsT0FBQTZsQyxFQUFzRCw0Q0FDekQsR0FBRzdsQyxPQUFBNmxDLEVBQXNELDRDQUN6RCxHQUFHN2xDLE9BQUE2bEMsRUFBc0QsOENBRzdEK0QsRUFBQ1EsRUFBQUEsTUFBTTRELFFBQVMsQ0FDZEgsTUFBTyxHQUFBN3RDLE9BQUc2bEMsRUFBNEMsa0NBQ3RENkgsT0FBUSxDQUFDLEdBQUExdEMsT0FBRzZsQyxxQ0FDWjhILE9BQVEsQ0FBQyxHQUFBM3RDLE9BQUc2bEMsc0NBRWQrRCxFQUFDUSxFQUFBQSxNQUFNNkQsZ0JBQWlCLENBQ3RCSixNQUFPLEdBQUE3dEMsT0FBRzZsQyxFQUFvRCwwQ0FDOUQ2SCxPQUFRLENBQUMsR0FBQTF0QyxPQUFHNmxDLDZDQUNaOEgsT0FBUSxDQUFDLEdBQUEzdEMsT0FBRzZsQyw4Q0FFZCtELEVBQUNRLEVBQUFBLE1BQU1nRCxNQUFPLENBQ1pNLE9BQVEsR0FDUkMsT0FBUSxJQUVWL0QsRUFBQ1EsRUFBQUEsTUFBTThELE1BQU8sQ0FDWlIsT0FBUSxHQUNSQyxPQUFRLElBRVYvRCxFQUFDUSxFQUFBQSxNQUFNK0QsTUFBTyxDQUNaVCxPQUFRLEdBQ1JDLE9BQVEsSUFFVi9ELEVBQUNRLEVBQUFBLE1BQU1nRSxpQkFBa0IsQ0FDdkJQLE1BQU8sR0FBQTd0QyxPQUFHNmxDLEVBQWlGLHVFQUMzRjZILE9BQVEsQ0FDTixHQUFHMXRDLE9BQUE2bEMsRUFBcUUsNERBRTFFOEgsT0FBUSxDQUNOLEdBQUczdEMsT0FBQTZsQyxFQUFxRSw0REFFMUV3SSxPQUFRLENBQ05SLE1BQU8sR0FBQTd0QyxPQUFHNmxDLEVBQWlGLHVFQUMzRjZILE9BQVEsQ0FDTixHQUFHMXRDLE9BQUE2bEMsRUFBcUUsNERBRTFFOEgsT0FBUSxDQUNOLEdBQUczdEMsT0FBQTZsQyxFQUFxRSw2REFHNUV5SSxTQUFVLENBQ1JULE1BQU8sR0FBQTd0QyxPQUFHNmxDLEVBQStELHFEQUN6RTZILE9BQVEsQ0FBQyxHQUFBMXRDLE9BQUc2bEMsNENBQ1o4SCxPQUFRLENBQUMsR0FBQTN0QyxPQUFHNmxDLDhDQUdoQitELEVBQUNRLEVBQUFBLE1BQU1tRSxjQUFlLENBQ3BCYixPQUFRLEdBQ1JDLE9BQVEsT0FJQ2EsRUFBa0Isd0JBQ2xCQyxFQUFtQix3QkFDbkJDLEVBQWEsd0JBQ2JDLEVBQWdCLHdCQy9OaEJDLEVBQWlCLENBQzVCLElBR0EsS0FDQSxLQUVXQyxFQUFrQixDQUM3QixLQUNBLEtBQ0EsTUFJV0MsRUFBNEIsQ0FDdkMsSUFDQSxJQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsSUFDQSxLQUNBLEtBRVdDLEVBQTRCLENBQ3ZDLEtBQ0EsS0FDQSxNQUlXQyxFQUFtQixDQUM5QixLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLE1BR1dDLEVBQWlCLENBQUMsS0FBTSxLQUFNLEtBQU0sS0FBTSxLQUFNLE1BQ2hEQyxFQUFzQixDQUVqQyxLQUVBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLE1BS1dDLEVBQW1CLENBQUMsS0FBTSxNQUFPLE1BQU8sT0FFeENDLEVBQXNCLENBQUMsS0FBTSxLQUFNLEtBQU0sS0FBTSxLQUFNLEtBQU0sTUFFbEVDLEVBQWMsSUFBSTVvQyxPQUFPLDBCQUd6QjZvQyxHQUEyQixJQUFJN29DLE9BQU8sa0NBRTVDOG9DLEdBQUEsV0FNRSxTQUFZQSxFQUFBbEcsRUFBZW5xQyxHQUpwQmxCLEtBQUltMEIsS0FBVyxJQUNabjBCLEtBQU13eEMsT0FBVyxHQUNqQnh4QyxLQUFPeXhDLFFBQWEsR0FHNUJ6eEMsS0FBS3FyQyxNQUFRQSxFQUNRLGlCQUFWbnFDLEdBQXNCQSxhQUFpQnBCLE9BQ2hERSxLQUFLa0IsTUFBUUEsRUFDSjNCLE1BQU1rRyxRQUFRdkUsS0FDdkJsQixLQUFLeVEsT0FBU3ZQLEVBRWpCLENBMkJILE9BekJFOUIsT0FBQTBYLGVBQUl5NkIsRUFBSzl4QyxVQUFBLFFBQUEsQ0FBVG9lLElBQUEsV0FDRSxPQUFPN2QsS0FBS3d4QyxNQUNiLEVBRUR6OUIsSUFBQSxTQUFVaVUsR0FDUmhvQixLQUFLd3hDLE9BQVN4cEIsRUFDVm9wQixFQUFvQjN3QixTQUFTemdCLEtBQUtxckMsT0FDcENyckMsS0FBS3l4QyxRQUFVenBCLEVBQVN6VCxNQUFNLEtBRTlCdlUsS0FBS3l4QyxRQUFVLENBQUN6cEIsRUFFbkIsa0NBRUQ1b0IsT0FBQTBYLGVBQUl5NkIsRUFBTTl4QyxVQUFBLFNBQUEsQ0FBVm9lLElBQUEsV0FDRSxPQUFPN2QsS0FBS3l4QyxPQUNiLEVBRUQxOUIsSUFBQSxTQUFXMjlCLEdBQ1QxeEMsS0FBS3l4QyxRQUFVQyxFQUNmMXhDLEtBQUt3eEMsT0FBU0UsRUFBVXRsQyxLQUFLLElBQzlCLGtDQUVEbWxDLEVBQUE5eEMsVUFBQStWLFNBQUEsV0FDRSxNQUFPLEdBQUF4VCxPQUFHaEMsS0FBS3FyQyxPQUFLcnBDLE9BQUdoQyxLQUFLeXhDLFFBQVFuK0IsS0FBSSxTQUFBcStCLEdBQUssTUFBQSxJQUFJM3ZDLE9BQUEydkMsRUFBSSxJQUFBLElBQUV2bEMsS0FBSyxNQUUvRG1sQyxDQUFELElBRUFLLEdBQUEsU0FBQUMsR0FDRSxTQUFZRCxFQUFBdkcsRUFBZW5xQyxHQUN6QixJQUFBNHdDLEVBQUFELEVBQU1seUMsS0FBQUssS0FBQXFyQyxFQUFPbnFDLElBQU9sQixZQUNwQjh4QyxFQUFLM2QsS0FBTyxRQUNiLENBa0NILE9BdEM4QnYwQixFQUFXZ3lDLEVBQUFDLEdBTWhDRCxFQUFJaHdDLEtBQVgsU0FBWW13QyxHQUNWLElBQU0xOUIsRUFBUTA5QixFQUFJMTlCLE1BQU0sMEJBQ3hCLE9BQUlBLEVBR0ssSUFBSXU5QixFQUZHdjlCLEVBQU0sR0FDUkEsRUFBTSxJQUdiLElBQUl1OUIsRUFBUyxHQUFJLEtBSTFCeHlDLE9BQUEwWCxlQUFJODZCLEVBQUtueUMsVUFBQSxRQUFBLENBQVRvZSxJQUFBLFdBQ0UsT0FBTzdkLEtBQUt3eEMsTUFDYixFQUVEejlCLElBQUEsU0FBVWlVLEdBQ1Job0IsS0FBS3d4QyxPQUFTeHBCLEVBQ1ZvcEIsRUFBb0Izd0IsU0FBU3pnQixLQUFLcXJDLE9BQ3BDcnJDLEtBQUt5eEMsUUFBVXpwQixFQUFTelQsTUFBTSxLQUU5QnZVLEtBQUt5eEMsUUFBVSxDQUFDenBCLEVBRW5CLGtDQUVENW9CLE9BQUEwWCxlQUFJODZCLEVBQU1ueUMsVUFBQSxTQUFBLENBQVZvZSxJQUFBLFdBQ0UsT0FBTzdkLEtBQUt5eEMsT0FDYixFQUVEMTlCLElBQUEsU0FBVzI5QixHQUNUMXhDLEtBQUt5eEMsUUFBVUMsRUFDZjF4QyxLQUFLd3hDLE9BQVNFLEVBQVV0bEMsS0FBSyxJQUM5QixrQ0FDRndsQyxDQUFELENBdENBLENBQThCTCxJQXdDOUJTLEdBQUEsU0FBQUgsR0FDRSxTQUFZRyxFQUFBM0csRUFBZW5xQyxHQUN6QixJQUFBNHdDLEVBQUFELEVBQU1seUMsS0FBQUssS0FBQXFyQyxFQUFPbnFDLElBQU9sQixZQUNwQjh4QyxFQUFLM2QsS0FBTyxTQUNiLENBa0NILE9BdEMrQnYwQixFQUFXb3lDLEVBQUFILEdBTWpDRyxFQUFJcHdDLEtBQVgsU0FBWW13QyxHQUNWLElBQU1FLEVBQWFGLEVBQUkxOUIsTUFBTWc5QixHQUd6QmhHLEVBQVEsR0FDTjZHLEVBQU94d0MsRUFBQSxHQUFBTixFQUhNMndDLEVBQUlJLFNBQVMscUJBR0gsR0FBQTcrQixLQUFJLFNBQUF0UyxHQUFLLE9BQUFBLEVBQUUsRUFBRixJQUV0QyxPQURJaXhDLElBQVk1RyxFQUFRNEcsRUFBVyxJQUM1QixJQUFJRCxFQUFVM0csRUFBTzZHLElBSTlCOXlDLE9BQUEwWCxlQUFJazdCLEVBQUt2eUMsVUFBQSxRQUFBLENBQVRvZSxJQUFBLFdBQ0UsT0FBTzdkLEtBQUt3eEMsTUFDYixFQUVEejlCLElBQUEsU0FBVWlVLEdBQ1Job0IsS0FBS3d4QyxPQUFTeHBCLEVBQ1ZvcEIsRUFBb0Izd0IsU0FBU3pnQixLQUFLcXJDLE9BQ3BDcnJDLEtBQUt5eEMsUUFBVXpwQixFQUFTelQsTUFBTSxLQUU5QnZVLEtBQUt5eEMsUUFBVSxDQUFDenBCLEVBRW5CLGtDQUVENW9CLE9BQUEwWCxlQUFJazdCLEVBQU12eUMsVUFBQSxTQUFBLENBQVZvZSxJQUFBLFdBQ0UsT0FBTzdkLEtBQUt5eEMsT0FDYixFQUVEMTlCLElBQUEsU0FBVzI5QixHQUNUMXhDLEtBQUt5eEMsUUFBVUMsRUFDZjF4QyxLQUFLd3hDLE9BQVNFLEVBQVV0bEMsS0FBSyxJQUM5QixrQ0FDRjRsQyxDQUFELENBdENBLENBQStCVCxJQXdDL0JhLEdBQUEsU0FBQVAsR0FDRSxTQUFZTyxFQUFBL0csRUFBZW5xQyxHQUN6QixJQUFBNHdDLEVBQUFELEVBQU1seUMsS0FBQUssS0FBQXFyQyxFQUFPbnFDLElBQU9sQixZQUNwQjh4QyxFQUFLM2QsS0FBTyxtQkFDYixDQWlESCxPQXJEd0N2MEIsRUFBV3d5QyxFQUFBUCxHQUsxQ08sRUFBSXh3QyxLQUFYLFNBQVltd0MsR0FDVixJQUFNMTlCLEVBQVEwOUIsRUFBSTE5QixNQUFNaTlCLElBQ3hCLE9BQUlqOUIsRUFHSyxJQUFJKzlCLEVBRkcvOUIsRUFBTSxHQUNSQSxFQUFNLElBR2IsSUFBSSs5QixFQUFtQixHQUFJLEtBSXBDaHpDLE9BQUEwWCxlQUFJczdCLEVBQUszeUMsVUFBQSxRQUFBLENBQVRvZSxJQUFBLFdBQ0UsT0FBTzdkLEtBQUt3eEMsTUFDYixFQUVEejlCLElBQUEsU0FBVWlVLEdBQ1Job0IsS0FBS3d4QyxPQUFTeHBCLEVBQ1ZvcEIsRUFBb0Izd0IsU0FBU3pnQixLQUFLcXJDLE9BQ3BDcnJDLEtBQUt5eEMsUUFBVXpwQixFQUFTelQsTUFBTSxLQUU5QnZVLEtBQUt5eEMsUUFBVSxDQUFDenBCLEVBRW5CLGtDQUVENW9CLE9BQUEwWCxlQUFJczdCLEVBQU0zeUMsVUFBQSxTQUFBLENBQVZvZSxJQUFBLFdBQ0UsT0FBTzdkLEtBQUt5eEMsT0FDYixFQUVEMTlCLElBQUEsU0FBVzI5QixHQUNUMXhDLEtBQUt5eEMsUUFBVUMsRUFDZjF4QyxLQUFLd3hDLE9BQVNFLEVBQVV0bEMsS0FBSyxJQUM5QixrQ0FNT2dtQyxFQUFXM3lDLFVBQUEyb0MsWUFBbkIsU0FBb0JsbkMsR0FHbEIsT0FBT0EsRUFBTWtSLFFBQVEsYUFBYyxRQUdyQ2dnQyxFQUFBM3lDLFVBQUErVixTQUFBLFdBQUEsSUFJQ3M4QixFQUFBOXhDLEtBSEMsTUFBTyxVQUFHQSxLQUFLcXJDLE9BQVFycEMsT0FBQWhDLEtBQUt5eEMsUUFDekJuK0IsS0FBSSxTQUFBcStCLEdBQUssTUFBQSxJQUFJM3ZDLE9BQUE4dkMsRUFBSzFKLFlBQVl1SixHQUFLLElBQUEsSUFDbkN2bEMsS0FBSyxNQUVYZ21DLENBQUQsQ0FyREEsQ0FBd0NiLElBdUR4Q2MsR0FBQSxTQUFBUixHQUNFLFNBQVlRLEVBQUFoSCxFQUFlbnFDLEdBQ3pCLElBQUE0d0MsRUFBQUQsRUFBTWx5QyxLQUFBSyxLQUFBcXJDLEVBQU9ucUMsSUFBT2xCLFlBQ3BCOHhDLEVBQUszZCxLQUFPLG1CQUNiLENBaUNILE9BckN3Q3YwQixFQUFXeXlDLEVBQUFSLEdBSzFDUSxFQUFJendDLEtBQVgsU0FBWW13QyxHQUNWLElBQU0xOUIsRUFBUTA5QixFQUFJMTlCLE1BQU1pOUIsSUFDeEIsT0FBSWo5QixFQUdLLElBQUlnK0IsRUFGR2grQixFQUFNLEdBQ1JBLEVBQU0sSUFHYixJQUFJZytCLEVBQW1CLEdBQUksS0FJcENqekMsT0FBQTBYLGVBQUl1N0IsRUFBSzV5QyxVQUFBLFFBQUEsQ0FBVG9lLElBQUEsV0FDRSxPQUFPN2QsS0FBS3d4QyxNQUNiLEVBRUR6OUIsSUFBQSxTQUFVaVUsR0FDUmhvQixLQUFLd3hDLE9BQVN4cEIsRUFDVm9wQixFQUFvQjN3QixTQUFTemdCLEtBQUtxckMsT0FDcENyckMsS0FBS3l4QyxRQUFVenBCLEVBQVN6VCxNQUFNLEtBRTlCdlUsS0FBS3l4QyxRQUFVLENBQUN6cEIsRUFFbkIsa0NBRUQ1b0IsT0FBQTBYLGVBQUl1N0IsRUFBTTV5QyxVQUFBLFNBQUEsQ0FBVm9lLElBQUEsV0FDRSxPQUFPN2QsS0FBS3l4QyxPQUNiLEVBRUQxOUIsSUFBQSxTQUFXMjlCLEdBQ1QxeEMsS0FBS3l4QyxRQUFVQyxFQUNmMXhDLEtBQUt3eEMsT0FBU0UsRUFBVXRsQyxLQUFLLElBQzlCLGtDQUNGaW1DLENBQUQsQ0FyQ0EsQ0FBd0NkLElBdUN4Q2UsR0FBQSxTQUFBVCxHQUFBLFNBQUFTLGtEQUFrRCxDQUFELE9BQWIxeUMsRUFBVzB5QyxFQUFBVCxHQUFHUyxDQUFELENBQWpELENBQW9DZixJQUNwQ2dCLEdBQUEsU0FBQVYsR0FDRSxTQUFZVSxFQUFBbEgsRUFBZW5xQyxHQUN6QixJQUFBNHdDLEVBQUFELEVBQU1seUMsS0FBQUssS0FBQXFyQyxFQUFPbnFDLElBQU9sQixZQUNwQjh4QyxFQUFLM2QsS0FBTyxVQUNiLENBaUNILE9BckNnQ3YwQixFQUFXMnlDLEVBQUFWLEdBS2xDVSxFQUFJM3dDLEtBQVgsU0FBWW13QyxHQUNWLElBQU1FLEVBQWFGLEVBQUkxOUIsTUFBTWc5QixHQUd6QmhHLEVBQVEsR0FDTjZHLEVBQU94d0MsRUFBQSxHQUFBTixFQUhNMndDLEVBQUlJLFNBQVMscUJBR0gsR0FBQTcrQixLQUFJLFNBQUF0UyxHQUFLLE9BQUFBLEVBQUUsRUFBRixJQUV0QyxPQURJaXhDLElBQVk1RyxFQUFRNEcsRUFBVyxJQUM1QixJQUFJTSxFQUFXbEgsRUFBTzZHLElBSS9COXlDLE9BQUEwWCxlQUFJeTdCLEVBQUs5eUMsVUFBQSxRQUFBLENBQVRvZSxJQUFBLFdBQ0UsT0FBTzdkLEtBQUt3eEMsTUFDYixFQUVEejlCLElBQUEsU0FBVWlVLEdBQ1Job0IsS0FBS3d4QyxPQUFTeHBCLEVBQ1ZvcEIsRUFBb0Izd0IsU0FBU3pnQixLQUFLcXJDLE9BQ3BDcnJDLEtBQUt5eEMsUUFBVXpwQixFQUFTelQsTUFBTSxLQUU5QnZVLEtBQUt5eEMsUUFBVSxDQUFDenBCLEVBRW5CLGtDQUVENW9CLE9BQUEwWCxlQUFJeTdCLEVBQU05eUMsVUFBQSxTQUFBLENBQVZvZSxJQUFBLFdBQ0UsT0FBTzdkLEtBQUt5eEMsT0FDYixFQUVEMTlCLElBQUEsU0FBVzI5QixHQUNUMXhDLEtBQUt5eEMsUUFBVUMsRUFDZjF4QyxLQUFLd3hDLE9BQVNFLEVBQVV0bEMsS0FBSyxJQUM5QixrQ0FDRm1tQyxDQUFELENBckNBLENBQWdDaEIsSUF1Q2hDaUIsR0FBQSxTQUFBWCxHQUNFLFNBQVlXLEVBQUFuSCxFQUFlbnFDLEdBQ3pCLElBQUE0d0MsRUFBQUQsRUFBTWx5QyxLQUFBSyxLQUFBcXJDLEVBQU9ucUMsSUFBT2xCLFlBQ3BCOHhDLEVBQUszZCxLQUFPLFFBQ2IsQ0FpQ0gsT0FyQzhCdjBCLEVBQVc0eUMsRUFBQVgsR0FLaENXLEVBQUk1d0MsS0FBWCxTQUFZbXdDLEdBQ1YsSUFBTTE5QixFQUFRMDlCLEVBQUkxOUIsTUFBTWk5QixJQUN4QixPQUFJajlCLEVBR0ssSUFBSW0rQixFQUZHbitCLEVBQU0sR0FDUkEsRUFBTSxJQUdiLElBQUltK0IsRUFBUyxHQUFJLEtBSTFCcHpDLE9BQUEwWCxlQUFJMDdCLEVBQUsveUMsVUFBQSxRQUFBLENBQVRvZSxJQUFBLFdBQ0UsT0FBTzdkLEtBQUt3eEMsTUFDYixFQUVEejlCLElBQUEsU0FBVWlVLEdBQ1Job0IsS0FBS3d4QyxPQUFTeHBCLEVBQ1ZvcEIsRUFBb0Izd0IsU0FBU3pnQixLQUFLcXJDLE9BQ3BDcnJDLEtBQUt5eEMsUUFBVXpwQixFQUFTelQsTUFBTSxLQUU5QnZVLEtBQUt5eEMsUUFBVSxDQUFDenBCLEVBRW5CLGtDQUVENW9CLE9BQUEwWCxlQUFJMDdCLEVBQU0veUMsVUFBQSxTQUFBLENBQVZvZSxJQUFBLFdBQ0UsT0FBTzdkLEtBQUt5eEMsT0FDYixFQUVEMTlCLElBQUEsU0FBVzI5QixHQUNUMXhDLEtBQUt5eEMsUUFBVUMsRUFDZjF4QyxLQUFLd3hDLE9BQVNFLEVBQVV0bEMsS0FBSyxJQUM5QixrQ0FDRm9tQyxDQUFELENBckNBLENBQThCakIsSUF1QzlCa0IsR0FBQSxTQUFBWixHQUNFLFNBQVlZLEVBQUFwSCxFQUFlbnFDLEdBQ3pCLElBQUE0d0MsRUFBQUQsRUFBTWx5QyxLQUFBSyxLQUFBcXJDLEVBQU9ucUMsSUFBT2xCLFlBQ3BCOHhDLEVBQUszZCxLQUFPLGFBQ2IsQ0FnQ0gsT0FwQ2tDdjBCLEVBQVc2eUMsRUFBQVosR0FLcENZLEVBQUk3d0MsS0FBWCxTQUFZbXdDLEdBQ1YsSUFBTTE5QixFQUFRMDlCLEVBQUkxOUIsTUFBTWk5QixJQUN4QixPQUFJajlCLEVBR0ssSUFBSW8rQixFQUZHcCtCLEVBQU0sR0FDUkEsRUFBTSxJQUdiLElBQUlvK0IsRUFBYSxHQUFJLEtBRzlCcnpDLE9BQUEwWCxlQUFJMjdCLEVBQUtoekMsVUFBQSxRQUFBLENBQVRvZSxJQUFBLFdBQ0UsT0FBTzdkLEtBQUt3eEMsTUFDYixFQUVEejlCLElBQUEsU0FBVWlVLEdBQ1Job0IsS0FBS3d4QyxPQUFTeHBCLEVBQ1ZvcEIsRUFBb0Izd0IsU0FBU3pnQixLQUFLcXJDLE9BQ3BDcnJDLEtBQUt5eEMsUUFBVXpwQixFQUFTelQsTUFBTSxLQUU5QnZVLEtBQUt5eEMsUUFBVSxDQUFDenBCLEVBRW5CLGtDQUVENW9CLE9BQUEwWCxlQUFJMjdCLEVBQU1oekMsVUFBQSxTQUFBLENBQVZvZSxJQUFBLFdBQ0UsT0FBTzdkLEtBQUt5eEMsT0FDYixFQUVEMTlCLElBQUEsU0FBVzI5QixHQUNUMXhDLEtBQUt5eEMsUUFBVUMsRUFDZjF4QyxLQUFLd3hDLE9BQVNFLEVBQVV0bEMsS0FBSyxJQUM5QixrQ0FDRnFtQyxDQUFELENBcENBLENBQWtDbEIsSUFzQ2xDbUIsR0FBQSxTQUFBYixHQUNFLFNBQVlhLEVBQUFySCxFQUFlbnFDLEdBQ3pCLElBQUE0d0MsRUFBQUQsRUFBTWx5QyxLQUFBSyxLQUFBcXJDLEVBQU9ucUMsSUFBT2xCLFlBQ3BCOHhDLEVBQUszZCxLQUFPLFVBQ2IsQ0FnQ0gsT0FwQ2dDdjBCLEVBQVc4eUMsRUFBQWIsR0FLbENhLEVBQUk5d0MsS0FBWCxTQUFZbXdDLEdBQ1YsSUFBTTE5QixFQUFRMDlCLEVBQUkxOUIsTUFBTWk5QixJQUN4QixPQUFJajlCLEVBR0ssSUFBSXErQixFQUZHcitCLEVBQU0sR0FDUkEsRUFBTSxJQUdiLElBQUlxK0IsRUFBVyxHQUFJLEtBRzVCdHpDLE9BQUEwWCxlQUFJNDdCLEVBQUtqekMsVUFBQSxRQUFBLENBQVRvZSxJQUFBLFdBQ0UsT0FBTzdkLEtBQUt3eEMsTUFDYixFQUVEejlCLElBQUEsU0FBVWlVLEdBQ1Job0IsS0FBS3d4QyxPQUFTeHBCLEVBQ1ZvcEIsRUFBb0Izd0IsU0FBU3pnQixLQUFLcXJDLE9BQ3BDcnJDLEtBQUt5eEMsUUFBVXpwQixFQUFTelQsTUFBTSxLQUU5QnZVLEtBQUt5eEMsUUFBVSxDQUFDenBCLEVBRW5CLGtDQUVENW9CLE9BQUEwWCxlQUFJNDdCLEVBQU1qekMsVUFBQSxTQUFBLENBQVZvZSxJQUFBLFdBQ0UsT0FBTzdkLEtBQUt5eEMsT0FDYixFQUVEMTlCLElBQUEsU0FBVzI5QixHQUNUMXhDLEtBQUt5eEMsUUFBVUMsRUFDZjF4QyxLQUFLd3hDLE9BQVNFLEVBQVV0bEMsS0FBSyxJQUM5QixrQ0FDRnNtQyxDQUFELENBcENBLENBQWdDbkIsSUFzQ2hDb0IsR0FBQSxTQUFBZCxHQUNFLFNBQVljLEVBQUF0SCxFQUFlbnFDLEdBQ3pCLElBQUE0d0MsRUFBQUQsRUFBTWx5QyxLQUFBSyxLQUFBcXJDLEVBQU9ucUMsSUFBT2xCLFlBQ3BCOHhDLEVBQUszZCxLQUFPLFVBQ2IsQ0F1QkgsT0EzQmdDdjBCLEVBQVcreUMsRUFBQWQsR0FNekN6eUMsT0FBQTBYLGVBQUk2N0IsRUFBS2x6QyxVQUFBLFFBQUEsQ0FBVG9lLElBQUEsV0FDRSxPQUFPN2QsS0FBS3d4QyxNQUNiLEVBRUR6OUIsSUFBQSxTQUFVaVUsR0FDUmhvQixLQUFLd3hDLE9BQVN4cEIsRUFDVm9wQixFQUFvQjN3QixTQUFTemdCLEtBQUtxckMsT0FDcENyckMsS0FBS3l4QyxRQUFVenBCLEVBQVN6VCxNQUFNLEtBRTlCdlUsS0FBS3l4QyxRQUFVLENBQUN6cEIsRUFFbkIsa0NBRUQ1b0IsT0FBQTBYLGVBQUk2N0IsRUFBTWx6QyxVQUFBLFNBQUEsQ0FBVm9lLElBQUEsV0FDRSxPQUFPN2QsS0FBS3l4QyxPQUNiLEVBRUQxOUIsSUFBQSxTQUFXMjlCLEdBQ1QxeEMsS0FBS3l4QyxRQUFVQyxFQUNmMXhDLEtBQUt3eEMsT0FBU0UsRUFBVXRsQyxLQUFLLElBQzlCLGtDQUNGdW1DLENBQUQsQ0EzQkEsQ0FBZ0NwQixJQTZCaENxQixHQUFBLFNBQUFmLEdBQUEsU0FBQWUsa0RBQXFELENBQUQsT0FBYmh6QyxFQUFXZ3pDLEVBQUFmLEdBQUdlLENBQUQsQ0FBcEQsQ0FBdUNyQixJQ25kbkNzQixHQUFZLEVBQ1pDLEdBQTBCLEdBT3hCQyxHQUFXLFNBQUNDLEdBR2hCLE1BQU8sQ0FGVUEsRUFBSXR5QyxPQUNEc3lDLEVBQUl0eUMsT0FBUyxFQUFJc3lDLEVBQUksR0FBR3R5QyxPQUFTLEVBRXZELEVBU011eUMsR0FBa0IsU0FBQ0QsRUFBaUJFLEVBQVdDLEVBQVdDLEdBQzlELElBQU03L0IsRUFBT3cvQixHQUFTQyxHQUNsQkUsR0FBSyxHQUFLQSxFQUFJMy9CLEVBQUssSUFBTTQvQixHQUFLLEdBQUtBLEVBQUk1L0IsRUFBSyxLQUMxQ3kvQixFQUFJRSxHQUFHQyxLQUFPQyxHQUFPTixHQUFjcnlCLFNBQVMsR0FBR3plLE9BQUFreEMsY0FBS0MsSUFNL0IsSUFBZEgsRUFBSUUsR0FBR0MsS0FDaEJOLElBQWEsSUFOYkMsR0FBY3R4QyxLQUFLLEdBQUFRLE9BQUdreEMsRUFBSyxLQUFBbHhDLE9BQUFteEMsSUFDM0JGLEdBQWdCRCxFQUFLRSxFQUFJLEVBQUdDLEVBQUdDLEdBQy9CSCxHQUFnQkQsRUFBS0UsRUFBSSxFQUFHQyxFQUFHQyxHQUMvQkgsR0FBZ0JELEVBQUtFLEVBQUdDLEVBQUksRUFBR0MsR0FDL0JILEdBQWdCRCxFQUFLRSxFQUFHQyxFQUFJLEVBQUdDLElBS3JDLEVBRU1DLEdBQWMsU0FBQ0wsRUFBaUJFLEVBQVdDLEVBQVdDLEdBQzFELElBQU03L0IsRUFBT3cvQixHQUFTQyxHQUl0QixPQUhBSCxHQUFZLEVBQ1pDLEdBQWdCLEdBRVpJLEVBQUksR0FBS0MsRUFBSSxHQUFLRCxFQUFJMy9CLEVBQUssR0FBSyxHQUFLNC9CLEVBQUk1L0IsRUFBSyxHQUFLLEdBT3JDLElBQWR5L0IsRUFBSUUsR0FBR0MsR0FORixDQUNMRyxRQUFTLEVBQ1RSLGNBQWUsS0FVbkJHLEdBQWdCRCxFQUFLRSxFQUFHQyxFQUFHQyxHQUNwQixDQUNMRSxRQUFTVCxHQUNUQyxjQUFhQSxJQUVqQixFQUVhUyxHQUFjLFNBQ3pCUCxFQUNBenlDLEVBQ0FpekMsRUFDQUosR0FFQSxJQUFNSyxFQUFXVCxFQUNYcEgsRUFBdUR5SCxHQUMzREwsRUFDQXp5QyxFQUNBaXpDLEVBQUksRUFDSkosR0FKY00sWUFBMEJDLGtCQU1wQzV1QyxFQUEyRHN1QyxHQUMvREwsRUFDQXp5QyxFQUNBaXpDLEVBQUksRUFDSkosR0FKY1EsWUFBNEJDLGtCQU10Qzd1QyxFQUEyRHF1QyxHQUMvREwsRUFDQXp5QyxFQUFJLEVBQ0ppekMsRUFDQUosR0FKY1UsWUFBNEJDLGtCQU10Q0MsRUFDSlgsR0FBWUwsRUFBS3p5QyxFQUFJLEVBQUdpekMsRUFBR0osR0FEYmEsWUFBNkJDLGtCQTBCN0MsT0F4QmtCLElBQWRSLEdBQ0ZDLEVBQWdCbmdDLFNBQVEsU0FBQTJnQyxHQUN0QixJQUFNQyxFQUFRRCxFQUFLNS9CLE1BQU0sS0FDekJrL0IsRUFBU3BtQyxTQUFTK21DLEVBQU0sS0FBSy9tQyxTQUFTK21DLEVBQU0sS0FBTyxDQUNyRCxJQUVrQixJQUFoQlIsR0FDRkMsRUFBa0JyZ0MsU0FBUSxTQUFBMmdDLEdBQ3hCLElBQU1DLEVBQVFELEVBQUs1L0IsTUFBTSxLQUN6QmsvQixFQUFTcG1DLFNBQVMrbUMsRUFBTSxLQUFLL21DLFNBQVMrbUMsRUFBTSxLQUFPLENBQ3JELElBRWtCLElBQWhCTixHQUNGQyxFQUFrQnZnQyxTQUFRLFNBQUEyZ0MsR0FDeEIsSUFBTUMsRUFBUUQsRUFBSzUvQixNQUFNLEtBQ3pCay9CLEVBQVNwbUMsU0FBUyttQyxFQUFNLEtBQUsvbUMsU0FBUyttQyxFQUFNLEtBQU8sQ0FDckQsSUFFbUIsSUFBakJILEdBQ0ZDLEVBQW1CMWdDLFNBQVEsU0FBQTJnQyxHQUN6QixJQUFNQyxFQUFRRCxFQUFLNS9CLE1BQU0sS0FDekJrL0IsRUFBU3BtQyxTQUFTK21DLEVBQU0sS0FBSy9tQyxTQUFTK21DLEVBQU0sS0FBTyxDQUNyRCxJQUVLWCxDQUNULEVBRU1ZLEdBQWEsU0FBQ3JCLEVBQWlCenlDLEVBQVdpekMsRUFBV0osR0FDbkQsSUFBQXhILEVBQXVEeUgsR0FDM0RMLEVBQ0F6eUMsRUFDQWl6QyxFQUFJLEVBQ0pKLEdBSmNNLFlBQTBCQyxrQkFNcEM1dUMsRUFBMkRzdUMsR0FDL0RMLEVBQ0F6eUMsRUFDQWl6QyxFQUFJLEVBQ0pKLEdBSmNRLFlBQTRCQyxrQkFNdEM3dUMsRUFBMkRxdUMsR0FDL0RMLEVBQ0F6eUMsRUFBSSxFQUNKaXpDLEVBQ0FKLEdBSmNVLFlBQTRCQyxrQkFNdENDLEVBQ0pYLEdBQVlMLEVBQUt6eUMsRUFBSSxFQUFHaXpDLEVBQUdKLEdBRGJhLFlBQTZCQyxrQkFFN0MsT0FBa0IsSUFBZFIsR0FBbUJDLEVBQWdCanpDLE9BQVMsSUFHNUIsSUFBaEJrekMsR0FBcUJDLEVBQWtCbnpDLE9BQVMsSUFHaEMsSUFBaEJvekMsR0FBcUJDLEVBQWtCcnpDLE9BQVMsR0FHL0IsSUFBakJ1ekMsR0FBc0JDLEVBQW1CeHpDLE9BQVMsR0FJeEQsRUFxQ2E0ekMsR0FBVSxTQUNyQnRCLEVBQ0F6eUMsRUFDQWl6QyxFQUNBSixFQUNBbUIsV0FFQSxHQUFJaDBDLEVBQUksR0FBS2l6QyxFQUFJLEdBQUtqekMsR0FBS3l5QyxFQUFJdHlDLFFBQVU4eUMsSUFBb0IsUUFBZHp1QyxFQUFNLFFBQU42bUMsRUFBQW9ILEVBQUksVUFBRSxJQUFBcEgsT0FBQSxFQUFBQSxFQUFFbHJDLGNBQU0sSUFBQXFFLEVBQUFBLEVBQUksR0FDL0QsT0FBTyxFQUdULEdBQWtCLElBQWRpdUMsRUFBSXp5QyxHQUFHaXpDLEdBQ1QsT0FBTyxFQUlULElBQU1nQixFQTdCK0IsU0FDckN4QixFQUNBenlDLEVBQ0FpekMsRUFDQUosR0FFQSxJQUFNcUIsRUFBUzlRLFlBQVVxUCxHQUl6QixPQUhBeUIsRUFBT2wwQyxHQUFHaXpDLEdBQUtKLEVBR1JHLEdBQVlrQixFQUFRbDBDLEVBQUdpekMsR0FBSUosRUFDcEMsQ0FrQjhCc0IsQ0FBd0IxQixFQUFLenlDLEVBQUdpekMsRUFBR0osR0FHL0QsR0FDRW1CLEdBcEQ0QixTQUM5QkksRUFDQUMsR0FFQSxHQUFJRCxFQUFPajBDLFNBQVdrMEMsRUFBT2wwQyxPQUFRLE9BQU8sRUFFNUMsSUFBSyxJQUFJSCxFQUFJLEVBQUdBLEVBQUlvMEMsRUFBT2owQyxPQUFRSCxJQUFLLENBQ3RDLEdBQUlvMEMsRUFBT3AwQyxHQUFHRyxTQUFXazBDLEVBQU9yMEMsR0FBR0csT0FBUSxPQUFPLEVBQ2xELElBQUssSUFBSTh5QyxFQUFJLEVBQUdBLEVBQUltQixFQUFPcDBDLEdBQUdHLE9BQVE4eUMsSUFDcEMsR0FBSW1CLEVBQU9wMEMsR0FBR2l6QyxLQUFPb0IsRUFBT3IwQyxHQUFHaXpDLEdBQUksT0FBTyxDQUU3QyxDQUVELE9BQU8sQ0FDVCxDQXVDSXFCLENBQWlCTCxFQUFxQkQsR0FFdEMsT0FBTyxFQUlULElBQU1kLEVBQVc5UCxZQUFVcVAsR0FDM0JTLEVBQVNsekMsR0FBR2l6QyxHQUFLSixFQUNWLElBQUFFLEVBQVdELEdBQVlJLEVBQVVsekMsRUFBR2l6QyxFQUFHSixXQUU5QyxRQUFJaUIsR0FBV1osRUFBVWx6QyxFQUFHaXpDLEdBQUlKLEtBRzVCaUIsR0FBV1osRUFBVWx6QyxFQUFHaXpDLEVBQUdKLElBR2YsSUFBWkUsQ0FJTixFQ2xOQXdCLEdBQUEsV0FxQ0UsU0FDVUEsRUFBQUMsRUFDQUMsUUFBQSxJQUFBQSxJQUFBQSxFQUFBLENBQ05DLGVBQWdCLEdBQ2hCQyxlQUFlLEVBQ2ZDLGVBQWUsSUFKVG4xQyxLQUFPKzBDLFFBQVBBLEVBQ0EvMEMsS0FBWWcxQyxhQUFaQSxFQXRDVmgxQyxLQUFRbzFDLFNBQUcsSUFDWHAxQyxLQUFBcTFDLFVBQVksQ0FBQyxJQUFLLEtBQ2xCcjFDLEtBQUFzMUMsU0FBVyxDQUFDLElBQUssS0FDakJ0MUMsS0FBQXUxQyxnQkFBa0IsQ0FDaEIsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLE1BRUZ2MUMsS0FBQXcxQyxnQkFBa0IsQ0FBQ3gxQyxLQUFLbzFDLFVBQVVwekMsT0FBT2hDLEtBQUtxMUMsV0FFOUNyMUMsS0FBQXkxQyxLQUFrQixJQUFJbHdDLEVBQ3RCdkYsS0FBSTJOLEtBQWlCLEtBQ3JCM04sS0FBSThFLEtBQWlCLEtBQ3JCOUUsS0FBVzAxQyxZQUFpQixLQUM1QjExQyxLQUFVMjFDLFdBQWlCLEtBQzNCMzFDLEtBQUE0MUMsVUFBaUMsSUFBSS84QixJQUNyQzdZLEtBQUE2MUMsUUFBOEIsSUFBSWg5QixJQUNsQzdZLEtBQUE4MUMsUUFBZ0MsSUFBSWo5QixJQWVYLGlCQUFaazhCLEVBQ1QvMEMsS0FBS3dGLE1BQU11dkMsR0FDaUIsaUJBQVpBLEdBQ2hCLzBDLEtBQUsrMUMsUUFBUWhCLEVBRWhCLENBMFBILE9BbFBFRCxFQUFPcjFDLFVBQUFzMkMsUUFBUCxTQUFRcG9DLEdBRU4sT0FEQTNOLEtBQUsyTixLQUFPQSxFQUNMM04sTUFPVDgwQyxFQUFBcjFDLFVBQUF1MkMsTUFBQSxXQUNFLE1BQU8sSUFBQWgwQyxPQUFJaEMsS0FBS2kyQyxhQUFhajJDLEtBQUsyTixNQUFLLE1BUXpDbW5DLEVBQUFyMUMsVUFBQXkyQyxxQkFBQSxXQUNFLElBQU0zSyxFQUFNLElBQUl2cEMsT0FBQWhDLEtBQUtpMkMsYUFBYWoyQyxLQUFLMk4sTUFBSyxLQUM1QyxPQUFPeUUsVUFBUW01QixFQUFLLGVBQWdCLE1BUXRDdUosRUFBS3IxQyxVQUFBK0YsTUFBTCxTQUFNK2xDLFdBQ0osR0FBS0EsRUFBTCxDQUlBLElBQU00SyxFQUNEejBDLEVBQUFBLEVBQUFBLEVBQUFBLEVBQUFBLEVBQUFBLEVBQUFBLEVBQUFBLEVBQUEsR0FBQU4sRUFBQTZ2QyxTQUNBTCxJQUFjLEdBQUF4dkMsRUFDZHl2QyxJQUNBLEdBQUF6dkMsRUFBQTR2QyxJQUNBLEdBQUE1dkMsRUFBQTB2QyxTQUNBQyxJQUF5QixHQUFBM3ZDLEVBQ3pCOHZDLElBQ0EsR0FBQTl2QyxFQUFBK3ZDLE9BR0NpRixFQUFzQjlLLEVBQzFCQyxFQUNBNEssR0FDQXR0QixNQUFLLFNBQUN3dEIsRUFBR2wzQyxHQUFNLE9BQUFrM0MsRUFBRSxHQUFLbDNDLEVBQUUsRUFBVCxJQUdibTNDLEVBQWUsR0FDZnBpQyxFQUFZLE1BRWhCLElBQTJCLElBQUFxaUMsRUFBQTMxQyxFQUFBdzFDLEdBQW1CSSxFQUFBRCxFQUFBdDFDLDBCQUFFLENBQXJDLElBQUE4RCxFQUFBM0QsRUFBWW8xQyxFQUFBdDFDLE1BQUEsR0FBWDJvQixFQUFLOWtCLEVBQUEsR0FBRXlsQixFQUFHemxCLEVBQUEsR0FHcEJ1eEMsR0FEbUIvSyxFQUFJeHBDLE1BQU1tUyxFQUFXMlYsR0FDYnpYLFFBQVEsUUFBUyxJQUk1Q2trQyxHQURrQi9LLEVBQUl4cEMsTUFBTThuQixFQUFPVyxHQUduQ3RXLEVBQVlzVyxDQUNiLG1HQUlEOHJCLEdBRGtCL0ssRUFBSXhwQyxNQUFNbVMsR0FDRjlCLFFBQVEsUUFBUyxJQVkzQyxJQVJBLElBQUlxa0MsRUFBWSxFQUNaQyxFQUFVLEVBQ1J0NEIsRUFBaUIsR0FFakJ1NEIsRUFBZXJMLEVBTHJCQyxFQUFNK0ssR0FLNkN6dEIsTUFDakQsU0FBQ3d0QixFQUFHbDNDLEdBQU0sT0FBQWszQyxFQUFFLEdBQUtsM0MsRUFBRSxFQUFFLGVBR2RvQixHQUNQLElBQU1xMkMsRUFBSXJMLEVBQUlockMsR0FDUnMyQyxFQUFhOUssRUFBYXhyQyxFQUFHbzJDLEdBRW5DLEdBQUlHLEVBQUt0QixnQkFBZ0IvMEIsU0FBU20yQixLQUFPQyxFQUFZLENBQ25ELElBQU05QixFQUFVeEosRUFBSXhwQyxNQUFNMDBDLEVBQVdsMkMsR0FDckMsR0FBZ0IsS0FBWncwQyxFQUFnQixDQUNsQixJQUFNZ0MsRUFBd0IsR0FDeEJDLEVBQTBCLEdBQzFCQyxFQUF3QixHQUN4QkMsRUFBNEIsR0FDNUJDLEVBQWdDLEdBQ2hDQyxFQUE0QyxHQUM1Q0MsRUFBNEMsR0FDNUNDLEVBQTRCLEdBRTVCdlcsRUFBT3IvQixFQUFBLEdBQUFOLEVBQ1IyekMsRUFBUTVDLFNBT1QxcEMsT0FBTyx1Q0FtQ1gsR0EvQkFzNEIsRUFBUXZ0QixTQUFRLFNBQUF4UyxHQUNkLElBQU1peEMsRUFBYWp4QyxFQUFFLEdBQUdxVCxNQUFNLGNBQzlCLEdBQUk0OUIsRUFBWSxDQUNkLElBQU01RyxFQUFRNEcsRUFBVyxHQUNyQnJCLEVBQWVud0IsU0FBUzRxQixJQUMxQjBMLEVBQVV2MUMsS0FBS293QyxHQUFTaHdDLEtBQUtaLEVBQUUsS0FFN0I2dkMsRUFBZ0Jwd0IsU0FBUzRxQixJQUMzQjJMLEVBQVd4MUMsS0FBS3d3QyxHQUFVcHdDLEtBQUtaLEVBQUUsS0FFL0Jpd0MsRUFBZXh3QixTQUFTNHFCLElBQzFCNEwsRUFBVXoxQyxLQUFLZ3hDLEdBQVM1d0MsS0FBS1osRUFBRSxLQUU3Qmd3QyxFQUFpQnZ3QixTQUFTNHFCLElBQzVCNkwsRUFBWTExQyxLQUFLK3dDLEdBQVczd0MsS0FBS1osRUFBRSxLQUVqQ2t3QyxFQUFvQnp3QixTQUFTNHFCLElBQy9COEwsRUFBYzMxQyxLQUFLaXhDLEdBQWE3d0MsS0FBS1osRUFBRSxLQUVyQzh2QyxFQUEwQnJ3QixTQUFTNHFCLElBQ3JDK0wsRUFBb0I1MUMsS0FBSzR3QyxHQUFtQnh3QyxLQUFLWixFQUFFLEtBRWpEK3ZDLEVBQTBCdHdCLFNBQVM0cUIsSUFDckNnTSxFQUFvQjcxQyxLQUFLNndDLEdBQW1CendDLEtBQUtaLEVBQUUsS0FFakRtd0MsRUFBaUIxd0IsU0FBUzRxQixJQUM1QmlNLEVBQVk5MUMsS0FBS2t4QyxHQUFXOXdDLEtBQUtaLEVBQUUsSUFFdEMsQ0FDSCxJQUVJKy9CLEVBQVFyZ0MsT0FBUyxFQUFHLENBQ3RCLElBQU00Z0IsRUFBTzRwQixFQUFTNEwsRUFBS3BCLFlBQWFxQixHQUNsQ2p5QyxFQUFPZ3lDLEVBQUtyQixLQUFLandDLE1BQU0sQ0FDM0J1bkIsR0FBSXpMLEVBQ0p5RCxLQUFNekQsRUFDTjVkLE1BQU9nekMsRUFDUDU0QixPQUFRLEVBQ1JxdEIsVUFBUzRMLEVBQ1QvSixXQUFVZ0ssRUFDVk8sVUFBU04sRUFDVE8sWUFBV04sRUFDWE8sY0FBYU4sRUFDYk8sb0JBQW1CTixFQUNuQk8sb0JBQW1CTixFQUNuQk8sWUFBV04sSUFpQmIsR0FkSVIsRUFBS3BCLGFBQ1BvQixFQUFLcEIsWUFBWW55QyxTQUFTdUIsR0FFMUJBLEVBQUs3QixNQUFNNmEsT0FBU212QixFQUFjbm9DLEtBRWxDZ3lDLEVBQUtucEMsS0FBTzdJLEVBQ1pneUMsRUFBS25CLFdBQWE3d0MsR0FFcEJneUMsRUFBS3BCLFlBQWM1d0MsRUFFZmd5QyxFQUFLOUIsYUFBYUUsZUFDcEI0QixFQUFLakIsUUFBUTloQyxJQUFJalAsRUFBSzdCLE1BQU04cEIsR0FBSWpvQixHQUc5Qmd5QyxFQUFLOUIsYUFBYUcsY0FDcEIsR0FBSXJ3QyxFQUFLekIsT0FBUSxDQUNmLElBQU13MEMsRUFBYWYsRUFBS2hCLFFBQVFqNEIsSUFBSS9ZLEVBQUt6QixPQUFPSixNQUFNOHBCLElBQ2xEOHFCLEdBQ0ZmLEVBQUtoQixRQUFRL2hDLElBQUlqUCxFQUFLN0IsTUFBTThwQixHQUFRcnJCLEVBQUFBLEVBQUEsR0FBQU4sRUFBQXkyQyxJQUFZLEdBQUEsQ0FBQS95QyxPQUVuRCxNQUNDZ3lDLEVBQUtoQixRQUFRL2hDLElBQUlqUCxFQUFLN0IsTUFBTThwQixHQUFJLENBQUNqb0IsSUFJckM0eEMsR0FBVyxDQUNaLENBQ0YsQ0FDRixFQUNTLE1BQU5FLEdBQWFFLEVBQUtwQixjQUFnQm1CLEdBQ3BDejRCLEVBQU01YyxLQUFLczFDLEVBQUtwQixhQUVSLE1BQU5rQixJQUFjQyxHQUFjejRCLEVBQU0xZCxPQUFTLE1BQ3ZDb0UsRUFBT3NaLEVBQU1pRCxTQUVqQnkxQixFQUFLcEIsWUFBYzV3QyxJQUluQmd5QyxFQUFLdEIsZ0JBQWdCLzBCLFNBQVNtMkIsS0FBT0MsSUFDdkNKLEVBQVlsMkMsV0FwSFBBLEVBQUksRUFBR0EsRUFBSWdyQyxFQUFJN3FDLE9BQVFILE1BQXZCQSxFQWxEUSxHQWlMWHUwQyxFQUFZcjFDLFVBQUF3MkMsYUFBcEIsU0FBcUJueEMsR0FBckIsSUFtQ0NndEMsRUFBQTl4QyxLQWxDSyswQyxFQUFVLEdBaUNkLE9BaENBandDLEVBQUtILE1BQUssU0FBQ25FLEdBQ0gsSUFBQW9yQyxFQVNGcHJDLEVBQUV5QyxNQVJKczBDLEVBQVMzTCxFQUFBMkwsVUFDVHBNLEVBQVNTLEVBQUFULFVBQ1R5TSxFQUFXaE0sRUFBQWdNLFlBQ1g1SyxFQUFVcEIsRUFBQW9CLFdBQ1Z3SyxFQUFXNUwsRUFBQTRMLFlBQ1hFLEVBQW1COUwsRUFBQThMLG9CQUNuQkMsRUFBbUIvTCxFQUFBK0wsb0JBQ25CRixFQUFhN0wsRUFBQTZMLGNBRVRLLEVBQVF4WSxFQUFBQSxRQUNUNTlCLEVBQUFBLEVBQUFBLEVBQUFBLEVBQUFBLEVBQUFBLEVBQUFBLEVBQUFBLEVBQUEsR0FBQU4sRUFBQW0yQyxJQUNBLEdBQUFuMkMsRUFBQXcyQyxJQUNBLEdBQUF4MkMsRUFBQStwQyxJQUNBLEdBQUEvcEMsRUFBQXVyQyxFQUFxQkssS0FDckIsR0FBQTVyQyxFQUFBdXJDLEVBQXFCNkssS0FBWSxHQUFBcDJDLEVBQ2pDcTJDLElBQWEsR0FBQXIyQyxFQUNiczJDLElBQW1CLEdBQUF0MkMsRUFDbkJ1MkMsSUFBbUIsSUFXeEIsT0FUQTVDLEdBQVcsSUFDWCtDLEVBQU10a0MsU0FBUSxTQUFDaFQsR0FDYnUwQyxHQUFXdjBDLEVBQUVnVixVQUNmLElBQ0loVixFQUFFMEMsU0FBU3hDLE9BQVMsR0FDdEJGLEVBQUUwQyxTQUFTc1EsU0FBUSxTQUFDaFEsR0FDbEJ1eEMsR0FBVyxXQUFJakQsRUFBS21FLGFBQWF6eUMsR0FBTSxJQUN6QyxJQUVLaEQsRUFBRTBDLFNBQVN4QyxPQUFTLENBQzdCLElBQ09xMEMsR0FFVkQsQ0FBRCxJQy9RaUJ2bUMsUUFBUSxhQUVsQixJQTZGTXdwQyxHQUFTLFNBQUNwRyxFQUFXcUcsRUFBV0MsR0FDM0MsWUFEZ0MsSUFBQUQsSUFBQUEsRUFBUyxRQUFFLElBQUFDLElBQUFBLEVBQVMsSUFDM0MvaUMsS0FBSzZwQixNQUFVLElBQUo0UyxHQUFZLElBQVFxRyxHQUFPRSxRQUFRRCxFQUN6RCxFQU9hRSxHQUFlLFNBQUMzM0MsU0FDckJvMkMsRUFBK0IsUUFBM0JoTCxFQUFBcHJDLEVBQUV5QyxNQUFNeTBDLDJCQUFtQixJQUFBOUwsT0FBQSxFQUFBQSxFQUFFL1QsTUFDckMsU0FBQ3I0QixHQUEwQixNQUFZLE1BQVpBLEVBQUU2ckMsS0FBYSxJQUU1QyxTQUFTdUwsYUFBQSxFQUFBQSxFQUFHMTFDLE1BQU11ZixTQUFTLFVBQzdCLEVBRWEyM0IsR0FBZUQsR0FFZkUsR0FBYyxTQUFDNzNDLFNBQ3BCbzJDLEVBQStCLFFBQTNCaEwsRUFBQXByQyxFQUFFeUMsTUFBTXkwQywyQkFBbUIsSUFBQTlMLE9BQUEsRUFBQUEsRUFBRS9ULE1BQ3JDLFNBQUNyNEIsR0FBMEIsTUFBWSxNQUFaQSxFQUFFNnJDLEtBQWEsSUFFNUMsT0FBT3VMLGFBQUMsRUFBREEsRUFBRzExQyxNQUFNdWYsU0FBUyxRQUMzQixFQUVhNjNCLEdBQW9CLFNBQUM5M0MsU0FDMUJvMkMsRUFBK0IsUUFBM0JoTCxFQUFBcHJDLEVBQUV5QyxNQUFNeTBDLDJCQUFtQixJQUFBOUwsT0FBQSxFQUFBQSxFQUFFL1QsTUFDckMsU0FBQ3I0QixHQUEwQixNQUFZLE1BQVpBLEVBQUU2ckMsS0FBYSxJQUU1QyxPQUFPdUwsYUFBQyxFQUFEQSxFQUFHMTFDLE1BQU11ZixTQUFTLFVBQzNCLEVBTWE4M0IsR0FBYyxTQUFDLzNDLFNBQ3BCbzJDLEVBQStCLFFBQTNCaEwsRUFBQXByQyxFQUFFeUMsTUFBTXkwQywyQkFBbUIsSUFBQTlMLE9BQUEsRUFBQUEsRUFBRS9ULE1BQ3JDLFNBQUNyNEIsR0FBMEIsTUFBWSxNQUFaQSxFQUFFNnJDLEtBQWEsSUFFNUMsU0FBU3VMLGFBQUEsRUFBQUEsRUFBRzExQyxNQUFNdWYsU0FBUyxTQUM3QixFQVVhKzNCLEdBQW1CLFNBQUNoNEMsR0FDL0IsSUFDTWk0QyxFQURPajRDLEVBQUV5RCxVQUFVLEdBQ0dnQixPQUFNLFNBQUF6RSxHQUFLLE9BQUErM0MsR0FBWS8zQyxFQUFaLElBQ3ZDLE9BQU9pNEMsYUFBYyxFQUFkQSxFQUFnQngxQyxNQUFNOHBCLE1BQU92c0IsRUFBRXlDLE1BQU04cEIsRUFDOUMsRUFFYTJyQixHQUFnQixTQUFDbDRDLFNBQ3RCbzJDLEVBQStCLFFBQTNCaEwsRUFBQXByQyxFQUFFeUMsTUFBTXkwQywyQkFBbUIsSUFBQTlMLE9BQUEsRUFBQUEsRUFBRS9ULE1BQ3JDLFNBQUNyNEIsR0FBMEIsTUFBWSxNQUFaQSxFQUFFNnJDLEtBQWEsSUFFNUMsU0FBU3VMLGFBQUEsRUFBQUEsRUFBRzExQyxNQUFNdWYsU0FBUyxXQUM3QixFQU1hazRCLEdBQWMsU0FBQ240QyxTQUNwQm8yQyxFQUErQixRQUEzQmhMLEVBQUFwckMsRUFBRXlDLE1BQU15MEMsMkJBQW1CLElBQUE5TCxPQUFBLEVBQUFBLEVBQUUvVCxNQUNyQyxTQUFDcjRCLEdBQTBCLE1BQVksTUFBWkEsRUFBRTZyQyxLQUFhLElBRTVDLFFBQVN1TCxhQUFBLEVBQUFBLEVBQUcxMUMsTUFBTXVmLFNBQVMsZUFBZW0yQixhQUFDLEVBQURBLEVBQUcxMUMsTUFBTXVmLFNBQVMsWUFBY20yQixDQUM1RSxFQU1hZ0MsR0FBUyxTQUNwQjl6QyxFQUNBK3pDLEVBQ0FDLEVBQ0FDLEVBQ0FDLGNBRkEsSUFBQUYsSUFBQUEsRUFBa0NwTSxFQUFBQSxzQkFBc0J1TSxNQUl4RCxJQUFNLzBDLEVBQU82MEMsUUFBQUEsRUFBWWowQyxFQUFLYixVQUN4QmkxQyxFQUVKLFFBREF0TixFQUFBb04sYUFBQSxFQUFBQSxFQUFXOVksUUFBTyxTQUFDMS9CLEdBQWEsT0FBQXE0QyxFQUFnQnI0QyxFQUFFLFdBQ2xELElBQUFvckMsRUFBQUEsRUFBQTltQyxFQUFLSSxLQUFJLFNBQUMxRSxHQUFhLE9BQUFxNEMsRUFBZ0JyNEMsRUFBRSxJQUNyQzI0QyxFQUFnQmoxQyxFQUFLZzhCLFFBQU8sU0FBQzEvQixHQUFhLE9BQUFxNEMsRUFBZ0JyNEMsRUFBaEIsSUFFaEQsT0FBUXM0QyxHQUNOLEtBQUtwTSxFQUFxQkEsc0JBQUN1TSxLQUN6QixPQUFPQyxFQUFleDRDLE9BQVMsRUFDakMsS0FBS2dzQyxFQUFxQkEsc0JBQUMwTSxJQUN6QixPQUFPRCxFQUFjejRDLE9BQVMsRUFDaEMsS0FBS2dzQyxFQUFxQkEsc0JBQUMyTSxLQUN6QixPQUFPRixFQUFjejRDLE9BQVMsR0FBS3c0QyxFQUFleDRDLE9BQVMsRUFDN0QsUUFDRSxPQUFPLEVBRWIsRUFFYTQ0QyxHQUFjLFNBQ3pCeDBDLEVBQ0FnMEMsRUFDQUMsRUFDQUMsR0FFQSxZQUpBLElBQUFGLElBQUFBLEVBQWtDcE0sRUFBQUEsc0JBQXNCdU0sTUFJakRMLEdBQU85ekMsRUFBTXl6QyxHQUFhTyxFQUFVQyxFQUFVQyxFQUN2RCxFQXNDYU8sR0FBZSxTQUMxQnowQyxFQUNBZzBDLEVBQ0FDLEVBQ0FDLEdBRUEsWUFKQSxJQUFBRixJQUFBQSxFQUFrQ3BNLEVBQUFBLHNCQUFzQnVNLE1BSWpETCxHQUFPOXpDLEVBQU1xekMsR0FBY1csRUFBVUMsRUFBVUMsRUFDeEQsRUFFYVEsR0FBZUQsR0FFZkUsR0FBZ0IsU0FDM0IzMEMsRUFDQWcwQyxFQUNBQyxFQUNBQyxHQUVBLFlBSkEsSUFBQUYsSUFBQUEsRUFBa0NwTSxFQUFBQSxzQkFBc0J1TSxNQUlqREwsR0FBTzl6QyxFQUFNNHpDLEdBQWVJLEVBQVVDLEVBQVVDLEVBQ3pELEVBRWFVLEdBQWMsU0FDekI1MEMsRUFDQWcwQyxFQUNBQyxFQUNBQyxHQUVBLFlBSkEsSUFBQUYsSUFBQUEsRUFBa0NwTSxFQUFBQSxzQkFBc0J1TSxNQUlqREwsR0FBTzl6QyxFQUFNNnpDLEdBQWFHLEVBQVVDLEVBQVVDLEVBQ3ZELEVBRWFXLEdBQWEsU0FBQ0MsRUFBYTNCLFFBQUEsSUFBQUEsSUFBQUEsRUFBUyxHQUMvQyxJQVVNOUQsRUFWUyxDQUNiLENBQUNqekMsTUFBTyxFQUFHNmUsT0FBUSxJQUNuQixDQUFDN2UsTUFBTyxJQUFLNmUsT0FBUSxLQUNyQixDQUFDN2UsTUFBTyxJQUFLNmUsT0FBUSxLQUNyQixDQUFDN2UsTUFBTyxJQUFLNmUsT0FBUSxLQUNyQixDQUFDN2UsTUFBTyxLQUFNNmUsT0FBUSxLQUN0QixDQUFDN2UsTUFBTyxLQUFNNmUsT0FBUSxLQUN0QixDQUFDN2UsTUFBTyxLQUFNNmUsT0FBUSxNQUlyQmhlLFFBQ0E0VyxVQUNBa2YsTUFBSyxTQUFBc2MsR0FDSixPQUFPeUYsR0FBT3pGLEVBQUtqekMsS0FDckIsSUFDRixPQUFPaXpDLEdBQ0Z5RixFQUFNekYsRUFBS2p6QyxPQUFPZzNDLFFBQVFELEdBQU83bEMsUUFSM0IsMkJBUXVDLE1BQVEraEMsRUFBS3AwQixPQUMzRCxHQUNOLEVBaURhODVCLEdBQVcsU0FBQzlILEdBQ3ZCLElBQU1xQixFQUFnQixNQUFYckIsRUFBSSxHQUFhLEdBQUssRUFDM0IrSCxFQUFVLFdBQVdua0MsS0FBS284QixHQUNoQyxHQUFJK0gsRUFBUyxDQUNYLElBQU1DLEVBQU1ELEVBQVEsR0FHcEIsTUFBTyxDQUFDNUcsRUFGRXRFLEVBQVl0cUMsUUFBUXkxQyxFQUFJLElBRXZCNUcsRUFERHZFLEVBQVl0cUMsUUFBUXkxQyxFQUFJLElBQ3BCM0csR0FBRUEsRUFDakIsQ0FDRCxNQUFPLENBQUNGLEdBQUksRUFBR0MsR0FBSSxFQUFHQyxHQUFJLEVBQzVCLEVBT2E0RyxHQUFVLFNBQUNDLEdBR3RCLE1BQU8sQ0FBQy9HLEVBRkV4RSxFQUFXcHFDLFFBQVEyMUMsRUFBSyxJQUV2QjlHLEVBRER4RSxFQUFXcnFDLFFBQVErSSxTQUFTNHNDLEVBQUtDLE9BQU8sR0FBSSxJQUV4RCxFQVFhQyxHQUFZLFNBQUM1TyxFQUFVNzZCLEdBQ2xDLFFBRGtDLElBQUFBLElBQUFBLEVBQVUsR0FDN0IsSUFBWEEsRUFBYyxPQUFPNjZCLEVBQ3pCLElBQU02TyxFQUFNcmtCLFFBQU13VixHQUNaOE8sRUFBWXpMLEVBQVl0cUMsUUFBUWluQyxFQUFJLElBQU03NkIsRUFDaEQsT0FBTzBwQyxFQUFJRixPQUFPLEVBQUcsR0FBS3RMLEVBQVl5TCxHQUFhRCxFQUFJRixPQUFPLEVBQ2hFLEVBc0ZhSSxHQUFlLFNBQUNMLEVBQWNNLEVBQVFDLEdBQ2pELFFBRHlDLElBQUFELElBQUFBLEVBQU0sUUFBRSxJQUFBQyxJQUFBQSxFQUFNLEdBQzFDLFNBQVRQLEVBQWlCLE9BQU9BLEVBRTVCLElBQU1RLEVBQU0vTCxFQUFXcHFDLFFBQVEyMUMsRUFBSyxJQUFNTSxFQUNwQ0csRUFBTS9MLEVBQVdycUMsUUFBUStJLFNBQVM0c0MsRUFBS0MsT0FBTyxHQUFJLElBQU1NLEVBRTlELE9BQ0VDLEVBQU0sR0FDTkMsRUFBTSxHQUNORCxHQUFPL0wsRUFBV2h1QyxRQUNsQmc2QyxHQUFPL0wsRUFBV2p1QyxPQUVYLEtBRUYsR0FBQXNCLE9BQUcwc0MsRUFBVytMLElBQU96NEMsT0FBQTJzQyxFQUFXK0wsR0FDekMsRUF3QmFDLEdBQW9CLFNBQy9CQyxFQUNBQyxFQUNBNUMsRUFDQXQvQixHQUVBLFFBSEEsSUFBQXMvQixJQUFBQSxFQUFTLFFBQ1QsSUFBQXQvQixJQUFBQSxHQUFlLElBRVZpaUMsSUFBYUMsRUFBVSxNQUFPLEdBQ25DLElBQUlDLEVBQVFDLEdBQWNILEVBQVVDLEdBQ2hDbGlDLElBQVNtaUMsR0FBU0EsR0FDdEIsSUFBTUUsRUFBYUYsRUFBTTVDLFFBQVFELEdBRWpDLE9BQU82QyxFQUFRLEVBQUksSUFBQTk0QyxPQUFJZzVDLEdBQWUsR0FBR2g1QyxPQUFBZzVDLEVBQzNDLEVBZ0JhRCxHQUFnQixTQUMzQkgsRUFDQUMsR0FFQSxJQUFNSSxFQUFrQyxNQUEzQkwsRUFBU00sY0FBd0IsR0FBSyxFQUluRCxPQUZFaG1DLEtBQUs2cEIsT0FBTzhiLEVBQVNNLFVBQVlQLEVBQVNPLFdBQWFGLEVBQU8sS0FBUSxHQUcxRSxFQUVhRyxHQUFrQixTQUM3QlIsRUFDQUMsR0FFQSxJQUFNSSxFQUFrQyxNQUEzQkwsRUFBU00sY0FBd0IsR0FBSyxFQUtuRCxPQUhFaG1DLEtBQUs2cEIsT0FBTzhiLEVBQVNRLFFBQVVULEVBQVNTLFNBQVdKLEVBQU8sSUFBTyxLQUNqRSxHQUdKLEVBRWFLLEdBQXlCLFNBQ3BDVixFQUNBVyxHQUVPLElBQUFDLEVBQWdCRCxFQUFRQyxNQUFqQkMsRUFBU0YsRUFBUUUsTUFDekJYLEVBQVFDLEdBQWNILEVBQVVXLEdBZ0J0QyxPQWJFQyxHQUFTLElBQ1JBLEdBQVMsSUFBT0MsRUFBUSxHQUFLWCxHQUFTLElBQzdCLElBQVZXLEdBQ0FYLEdBQVMsRUFFSXRLLEVBQ0hnTCxFQUFRLEtBQVFWLEdBQVMsSUFBU1UsRUFBUSxLQUFRVixHQUFTLEdBQ3hEckssRUFDSitLLEVBQVEsS0FBUVYsR0FBUyxFQUNyQnBLLEVBRUFDLENBR2pCLEVBMkNhK0ssR0FBZSxTQUFDQyxFQUFhNzlCLEdBQ3hDLE1BQU8sQ0FDTGlQLEdBQUk0dUIsRUFDSjUyQixLQUFNNDJCLEVBQ043OUIsT0FBUUEsR0FBVSxFQUNsQnk1QixVQUFXLEdBQ1hwTSxVQUFXLEdBQ1g2QixXQUFZLEdBQ1p3SyxZQUFhLEdBQ2JDLGNBQWUsR0FDZkMsb0JBQXFCLEdBQ3JCQyxvQkFBcUIsR0FDckJDLFlBQWEsR0FFakIsRUFnRGFnRSxHQUFnQixTQUMzQjNCLEVBQ0F0RSxFQUNBcGpDLEdBRUEsSUFBTWtqQyxFQUFPLElBQUlsd0MsRUFDWHMyQyxFQUFXakssR0FBU2h3QyxLQUFLcTRDLEdBQ3pCMzRCLEVBQU80cEIsRUFBU3lLLEVBQVksQ0FBQ2tHLElBQy9CLzlCLEVBQVMsRUFDVDYzQixJQUFZNzNCLEVBQVNtdkIsRUFBYzBJLEdBQWMsR0FDckQsSUFBTW1HLEVBQVdKLEdBQWFwNkIsRUFBTXhELEdBT3BDLE9BTkFnK0IsRUFBUzNRLFVBQVksQ0FBQzBRLEdBRVRwRyxFQUFLandDLGFBQ2JzMkMsR0FDQXZwQyxHQUdQLEVBb0Nhd3BDLEdBQVEsU0FBQ3hvQyxHQUNwQixPQUFBLElBQUloVSxNQUFNZ1UsRUFBSyxJQUFJeXNCLEtBQUssR0FBRzFzQixLQUFJLFdBQU0sT0FBQSxJQUFJL1QsTUFBTWdVLEVBQUssSUFBSXlzQixLQUFLLEVBQUUsR0FBL0QsRUFFV2djLEdBQVEsU0FBQ3pvQyxHQUNwQixPQUFBLElBQUloVSxNQUFNZ1UsRUFBSyxJQUFJeXNCLEtBQUssSUFBSTFzQixLQUFJLFdBQU0sT0FBQSxJQUFJL1QsTUFBTWdVLEVBQUssSUFBSXlzQixLQUFLLEdBQUcsR0FBakUsRUFFV2ljLEdBQVcsU0FBQ2pKLEVBQWlCbEUsUUFBQSxJQUFBQSxJQUFBQSxFQUFjLElBS3RELElBSkEsSUFBSW9OLEVBQW1CcE4sRUFBWSxFQUMvQnFOLEVBQVksRUFDWkMsRUFBa0J0TixFQUFZLEVBQzlCdU4sRUFBYSxFQUNSOTdDLEVBQUksRUFBR0EsRUFBSXl5QyxFQUFJdHlDLE9BQVFILElBQzlCLElBQUssSUFBSWl6QyxFQUFJLEVBQUdBLEVBQUlSLEVBQUl6eUMsR0FBR0csT0FBUTh5QyxJQUFLLENBRXhCLElBREFSLEVBQUl6eUMsR0FBR2l6QyxLQUVmMEksRUFBVzM3QyxJQUFHMjdDLEVBQVczN0MsR0FDekI0N0MsRUFBWTU3QyxJQUFHNDdDLEVBQVk1N0MsR0FDM0I2N0MsRUFBVTVJLElBQUc0SSxFQUFVNUksR0FDdkI2SSxFQUFhN0ksSUFBRzZJLEVBQWE3SSxHQUVwQyxDQUVILE1BQU8sQ0FBQzBJLFNBQVFBLEVBQUVDLFVBQVNBLEVBQUVDLFFBQU9BLEVBQUVDLFdBQVVBLEVBQ2xELEVBRWFDLEdBQWEsU0FBQ3RKLEVBQWlCbEUsUUFBQSxJQUFBQSxJQUFBQSxFQUFjLElBQ2xELElBQUFsRCxFQUE2Q3FRLEdBQVNqSixFQUFLbEUsR0FBMURvTixhQUFVQyxjQUNYSSxZQUFnQnpOLEVBQVksZUFDNUI5QyxFQUFPa1EsRUFBV3BOLEVBQVksRUFBSXFOLEVBQ3hDLE9BQUlJLEdBQU92USxFQUFhTSxFQUFBQSxPQUFPa1EsU0FDMUJELEdBQU92USxFQUFhTSxFQUFBQSxPQUFPbVEsV0FDNUJGLElBQVF2USxFQUFhTSxFQUFBQSxPQUFPb1EsU0FDM0JILEdBQVF2USxFQUNOTSxFQUFBQSxPQUFPQSxPQURZQSxFQUFBQSxPQUFPcVEsV0FFbkMsRUFFYUMsR0FBZ0IsU0FDM0I1SixFQUNBbEUsRUFDQUUsUUFEQSxJQUFBRixJQUFBQSxFQUFjLFNBQ2QsSUFBQUUsSUFBQUEsRUFBVSxHQUVWLElBQU12c0MsRUFBUyxDQUFDLEdBQUksSUFDZG82QyxFQUFTUCxHQUFXdEosR0FDcEJwSCxFQUE2Q3FRLEdBQVNqSixFQUFLbEUsR0FBMURvTixhQUFVQyxjQUFXQyxZQUFTQyxlQW9CckMsT0FuQklRLElBQVd2USxFQUFNQSxPQUFDa1EsVUFDcEIvNUMsRUFBTyxHQUFLMDVDLEVBQVluTixFQUFTLEVBQ2pDdnNDLEVBQU8sR0FBSzQ1QyxFQUFhck4sRUFBUyxHQUVoQzZOLElBQVd2USxFQUFNQSxPQUFDb1EsV0FDcEJqNkMsRUFBTyxHQUFLcXNDLEVBQVlvTixFQUFXbE4sRUFDbkN2c0MsRUFBTyxHQUFLNDVDLEVBQWFyTixFQUFTLEdBRWhDNk4sSUFBV3ZRLEVBQU1BLE9BQUNtUSxhQUNwQmg2QyxFQUFPLEdBQUswNUMsRUFBWW5OLEVBQVMsRUFDakN2c0MsRUFBTyxHQUFLcXNDLEVBQVlzTixFQUFVcE4sR0FFaEM2TixJQUFXdlEsRUFBTUEsT0FBQ3FRLGNBQ3BCbDZDLEVBQU8sR0FBS3FzQyxFQUFZb04sRUFBV2xOLEVBQ25DdnNDLEVBQU8sR0FBS3FzQyxFQUFZc04sRUFBVXBOLEdBRXBDdnNDLEVBQU8sR0FBS3lTLEtBQUttRCxJQUFJNVYsRUFBTyxHQUFJcXNDLEdBQ2hDcnNDLEVBQU8sR0FBS3lTLEtBQUttRCxJQUFJNVYsRUFBTyxHQUFJcXNDLEdBRXpCcnNDLENBQ1QsRUFFYXE2QyxHQUFrQixTQUM3QjlKLEVBQ0FoRSxFQUNBRixRQURBLElBQUFFLElBQUFBLEVBQVUsUUFDVixJQUFBRixJQUFBQSxFQUFjLElBRVIsSUFBQWxELEVBQTZDcVEsR0FBU2pKLEdBQXJEa0osRUFBUXRRLEVBQUFzUSxTQUFFQyxjQUFXQyxZQUFTQyxlQUUvQjlvQyxFQUFPdTdCLEVBQVksRUFNekIsTUFBTyxDQUNMLENBTlNvTixFQUFXbE4sRUFBUyxFQUFJLEVBQUlrTixFQUFXbE4sRUFDdkNvTixFQUFVcE4sRUFBUyxFQUFJLEVBQUlvTixFQUFVcE4sR0FNOUMsQ0FMU21OLEVBQVluTixFQUFTejdCLEVBQU9BLEVBQU80b0MsRUFBWW5OLEVBQy9DcU4sRUFBYXJOLEVBQVN6N0IsRUFBT0EsRUFBTzhvQyxFQUFhck4sR0FNOUQsRUEyTWErTixHQUFnQixTQUMzQi9KLEVBQ0FnSyxFQUNBQyxFQUNBbk8sUUFGQSxJQUFBa08sSUFBQUEsRUFBTyxTQUNQLElBQUFDLElBQUFBLEVBQU8sU0FDUCxJQUFBbk8sSUFBQUEsRUFBYyxJQUVkLElBQU15TCxFQUFLekwsRUFBWWtPLEVBQ2pCeEMsRUFBSzFMLEVBQVltTyxFQUduQkMsRUFBTTNDLEVBQ040QyxFQUFNM0MsRUFDVixPQUplOEIsR0FBV3RKLElBS3hCLEtBQUsxRyxFQUFBQSxPQUFPa1EsUUFDVlUsRUFBTSxFQUNOQyxHQUFPM0MsRUFDUCxNQUVGLEtBQUtsTyxFQUFBQSxPQUFPb1EsU0FDVlEsRUFBTTNDLEVBQ040QyxHQUFPM0MsRUFDUCxNQUVGLEtBQUtsTyxFQUFBQSxPQUFPbVEsV0FDVlMsRUFBTSxFQUNOQyxFQUFNLEVBQ04sTUFFRixLQUFLN1EsRUFBQUEsT0FBT3FRLFlBQ1ZPLEVBQU0zQyxFQUNONEMsRUFBTSxFQUlWLE1BQU8sQ0FBQ2pLLEVBQUdnSyxFQUFLL0osRUFBR2dLLEVBQ3JCLFdBRWdCQyxHQUNkcEssRUFDQWhFLEVBQ0FxTyxRQUZBLElBQUFySyxJQUFBQSxFQUFrQitJLEdBQU0sQ0FBQyxHQUFJLFdBRTdCLElBQUFzQixJQUFBQSxHQUFzQixHQVN0QixJQVBBLElBQUlDLEVBQVN0SyxFQUFJdHlDLE9BQ2I2OEMsRUFBUyxFQUNUQyxFQUFTeEssRUFBSSxHQUFHdHlDLE9BQ2hCKzhDLEVBQVMsRUFFVHpCLEdBQVEsRUFFSHo3QyxFQUFJLEVBQUdBLEVBQUl5eUMsRUFBSXR5QyxPQUFRSCxJQUM5QixJQUFLLElBQUlpekMsRUFBSSxFQUFHQSxFQUFJUixFQUFJLEdBQUd0eUMsT0FBUTh5QyxJQUNmLElBQWRSLEVBQUl6eUMsR0FBR2l6QyxLQUNUd0ksR0FBUSxFQUNSc0IsRUFBU3BvQyxLQUFLbUQsSUFBSWlsQyxFQUFRLzhDLEdBQzFCZzlDLEVBQVNyb0MsS0FBS2lELElBQUlvbEMsRUFBUWg5QyxHQUMxQmk5QyxFQUFTdG9DLEtBQUttRCxJQUFJbWxDLEVBQVFoSyxHQUMxQmlLLEVBQVN2b0MsS0FBS2lELElBQUlzbEMsRUFBUWpLLElBS2hDLEdBQUl3SSxFQUNGLE1BQU8sQ0FDTCxDQUFDLEVBQUdoSixFQUFJdHlDLE9BQVMsR0FDakIsQ0FBQyxFQUFHc3lDLEVBQUksR0FBR3R5QyxPQUFTLElBSXhCLEdBQUsyOEMsRUEwQkhDLEVBQVNwb0MsS0FBS2lELElBQUksRUFBR21sQyxFQUFTdE8sR0FDOUJ1TyxFQUFTcm9DLEtBQUttRCxJQUFJMjZCLEVBQUl0eUMsT0FBUyxFQUFHNjhDLEVBQVN2TyxHQUMzQ3dPLEVBQVN0b0MsS0FBS2lELElBQUksRUFBR3FsQyxFQUFTeE8sR0FDOUJ5TyxFQUFTdm9DLEtBQUttRCxJQUFJMjZCLEVBQUksR0FBR3R5QyxPQUFTLEVBQUcrOEMsRUFBU3pPLE9BN0IzQixDQUNuQixJQUFNME8sRUFBbUJ4b0MsS0FBS2lELElBQUltbEMsRUFBU3RPLEVBQVEsR0FDN0MyTyxFQUFtQnpvQyxLQUFLbUQsSUFBSWtsQyxFQUFTdk8sRUFBUWdFLEVBQUl0eUMsT0FBUyxHQUMxRGs5QyxFQUFtQjFvQyxLQUFLaUQsSUFBSXFsQyxFQUFTeE8sRUFBUSxHQUM3QzZPLEVBQW1CM29DLEtBQUttRCxJQUFJb2xDLEVBQVN6TyxFQUFRZ0UsRUFBSSxHQUFHdHlDLE9BQVMsR0FFN0RvOUMsRUFBVzVvQyxLQUFLaUQsSUFDcEJ3bEMsRUFBbUJELEVBQ25CRyxFQUFtQkQsSUFJckJMLEdBREFELEVBQVNJLEdBQ1NJLElBRUo5SyxFQUFJdHlDLFNBRWhCNDhDLEdBREFDLEVBQVN2SyxFQUFJdHlDLE9BQVMsR0FDSm85QyxJQUlwQkwsR0FEQUQsRUFBU0ksR0FDU0UsSUFDSjlLLEVBQUksR0FBR3R5QyxTQUVuQjg4QyxHQURBQyxFQUFTekssRUFBSSxHQUFHdHlDLE9BQVMsR0FDUG85QyxFQUVyQixDQU9ELE1BQU8sQ0FDTCxDQUFDUixFQUFRQyxHQUNULENBQUNDLEVBQVFDLEdBRWIsQ0FFTSxTQUFVeEQsR0FBS2pILEVBQWlCenlDLEVBQVdpekMsRUFBV0osR0FDMUQsR0FBSTd5QyxFQUFJLEdBQUtpekMsRUFBSSxFQUFHLE9BQU9SLEVBQzNCLElBQU15QixFQUFTOVEsWUFBVXFQLEdBRXpCLE9BREF5QixFQUFPbDBDLEdBQUdpekMsR0FBS0osRUFDUkcsR0FBWWtCLEVBQVFsMEMsRUFBR2l6QyxHQUFJSixFQUNwQyxDQWtDTyxJQW1DTTJLLEdBQTRCLFNBQ3ZDckksRUFDQXgwQyxHQUVhdzBDLEVBQVl6eEMsVUFDcEJ1UCxTQUFRLFNBQUExTyxHQUNKLElBQUFrb0MsRUFBY2xvQyxFQUFLN0IsaUJBQ3RCK3BDLEVBQVc5TSxRQUFPLFNBQUM1L0IsR0FBaUIsT0FBQUEsRUFBRVksUUFBVUEsS0FBT1IsT0FBUyxFQUNsRW9FLEVBQUs3QixNQUFNK3BDLFdBQWFBLEVBQVc5TSxRQUFPLFNBQUM1L0IsR0FBVyxPQUFBQSxFQUFFWSxRQUFVQSxDQUFLLElBRXZFOHJDLEVBQVd4NUIsU0FBUSxTQUFDbFQsR0FDbEJBLEVBQUVtUSxPQUFTblEsRUFBRW1RLE9BQU95dkIsUUFBTyxTQUFBeVIsR0FBSyxPQUFBQSxJQUFNendDLENBQUssSUFDbkIsSUFBcEJaLEVBQUVtUSxPQUFPL1AsU0FDWG9FLEVBQUs3QixNQUFNK3BDLFdBQWFsb0MsRUFBSzdCLE1BQU0rcEMsV0FBVzlNLFFBQzVDLFNBQUMxZ0MsR0FBaUIsT0FBQUEsRUFBRTZyQyxRQUFVL3FDLEVBQUUrcUMsS0FBSyxJQUczQyxHQUVKLEdBQ0YsRUFtUGEyUyxHQUFtQixTQUFDdEksRUFBb0J1SSxRQUFBLElBQUFBLElBQUFBLEVBQXFCLElBQ3hFLElBR0lDLEVBQUlDLEVBSEZqNkMsRUFBT3d4QyxFQUFZenhDLFVBQ25CMEosRUFBT3pKLEVBQUssR0FHZGs2QyxFQUFhLEVBQ1g3cUMsRUFBTzhxQyxHQUFpQjNJLEVBQWF1SSxHQUN2Q2pMLEVBQU0rSSxHQUFNLENBQUN4b0MsRUFBTUEsSUFDakIrcUMsRUFBaUJ2QyxHQUFNLENBQUN4b0MsRUFBTUEsSUFDOUJnckMsRUFBU3ZDLEdBQU0sQ0FBQ3pvQyxFQUFNQSxJQUN0QmlyQyxFQUFZeEMsR0FBTSxDQUFDem9DLEVBQU1BLElBbUovQixPQWpKQXJQLEVBQUtzUCxTQUFRLFNBQUMxTyxFQUFNcEIsR0FDWixJQUFBa29DLEVBQXFDOW1DLEVBQUs3QixNQUF6Q2tvQyxFQUFTUyxFQUFBVCxVQUFFNkIsRUFBVXBCLEVBQUFvQixXQTBDNUIsZUF6Q0lBLEVBQVd0c0MsT0FBUyxJQUFHMDlDLEdBQWMsR0FFekNqVCxFQUFVMzNCLFNBQVEsU0FBQ3hTLEdBQ2pCLElBQU1ULEVBQUlxdUMsRUFBWXRxQyxRQUFRdEQsRUFBRUUsTUFBTSxJQUNoQ3N5QyxFQUFJNUUsRUFBWXRxQyxRQUFRdEQsRUFBRUUsTUFBTSxJQUNsQ1gsRUFBSSxHQUFLaXpDLEVBQUksR0FDYmp6QyxFQUFJZ1QsR0FBUWlnQyxFQUFJamdDLElBQ2xCMnFDLEVBQUszOUMsRUFDTDQ5QyxFQUFLM0ssRUFDTFIsRUFBTWlILEdBQUtqSCxFQUFLenlDLEVBQUdpekMsRUFBZSxNQUFaeHlDLEVBQUVxcUMsTUFBZ0JjLEVBQUFBLEdBQUdzUyxNQUFRdFMsRUFBRUEsR0FBQ3VTLFlBRTNDdDdDLElBQVA4NkMsUUFBMkI5NkMsSUFBUCs2QyxHQUFvQkQsR0FBTSxHQUFLQyxHQUFNLElBQzNESyxFQUFVTixHQUFJQyxJQUNacjVDLEVBQUs3QixNQUFNNmEsUUFBVXBhLEVBQVEwNkMsR0FDN0I1b0MsWUFHQTlSLElBQVVRLEVBQUt4RCxPQUFTLElBQzFCNjlDLEVBQU9MLEdBQUlDLEdBQU1oUixFQUFBQSxPQUFPd1IsU0FHOUIsSUFHQTNSLEVBQVd4NUIsU0FBUSxTQUFDb3JDLEdBQ2xCQSxFQUFNbnVDLE9BQU8rQyxTQUFRLFNBQUN0UyxHQUNwQixJQUFNWCxFQUFJcXVDLEVBQVl0cUMsUUFBUXBELEVBQU0sSUFDOUJzeUMsRUFBSTVFLEVBQVl0cUMsUUFBUXBELEVBQU0sSUFDaENYLEVBQUksR0FBS2l6QyxFQUFJLEdBQ2JqekMsRUFBSWdULEdBQVFpZ0MsRUFBSWpnQyxJQUNsQjJxQyxFQUFLMzlDLEVBQ0w0OUMsRUFBSzNLLEVBQ0xSLEVBQUl6eUMsR0FBR2l6QyxHQUFxQixPQUFoQm9MLEVBQU12VCxNQUFpQixHQUFLLEVBQ3BCLE9BQWhCdVQsRUFBTXZULFFBQWdCMkgsRUFBSXp5QyxHQUFHaXpDLEdBQUssR0FFMUMsR0FDRixJQUswQixJQUF0QnhHLEVBQVd0c0MsUUFBZ0JnMUMsRUFBWXZ5QyxTQUFVLENBQ25ELElBQU0wN0MsRUFBaUJuSixFQUFZeHlDLFNBQVMsR0FDNUMsR0FDRTI3QyxHQUNBOVIsRUFBWThSLEtBQ1gvUixFQUFXK1IsR0FFT0EsRUFBZTU3QyxNQUFNK3BDLFdBQzdCeDVCLFNBQVEsU0FBQ29yQyxHQUNsQkEsRUFBTW51QyxPQUFPK0MsU0FBUSxTQUFDdFMsR0FDcEIsSUFBTVgsRUFBSXF1QyxFQUFZdHFDLFFBQVFwRCxFQUFNLElBQzlCc3lDLEVBQUk1RSxFQUFZdHFDLFFBQVFwRCxFQUFNLElBQ2hDWCxFQUFJLEdBQUtpekMsRUFBSSxHQUNianpDLEVBQUlnVCxHQUFRaWdDLEVBQUlqZ0MsSUFDbEIycUMsRUFBSzM5QyxFQUNMNDlDLEVBQUszSyxFQUNMUixFQUFJenlDLEdBQUdpekMsR0FBcUIsT0FBaEJvTCxFQUFNdlQsTUFBaUIsR0FBSyxFQUNwQixPQUFoQnVULEVBQU12VCxRQUFnQjJILEVBQUl6eUMsR0FBR2l6QyxHQUFLLEdBRTFDLEdBQ0YsR0FFSCxDQUdELElBQUssSUFBSWp6QyxFQUFJLEVBQUdBLEVBQUlnVCxFQUFNaFQsSUFDeEIsSUFBSyxJQUFJaXpDLEVBQUksRUFBR0EsRUFBSWpnQyxFQUFNaWdDLElBQ04sSUFBZFIsRUFBSXp5QyxHQUFHaXpDLEtBQVVnTCxFQUFVaitDLEdBQUdpekMsR0FBSyxHQUc3QyxJQUdJN2xDLEdBQ0ZBLEVBQUt6SSxLQUFJLFNBQUNKLEdBQ0YsSUFBQThtQyxFQUFxQzltQyxFQUFLN0IsTUFBekNrb0MsRUFBU1MsRUFBQVQsVUFBRTZCLEVBQVVwQixFQUFBb0IsV0FxQjVCLG1CQXBCSUEsRUFBV3RzQyxPQUFTLElBQUcwOUMsR0FBYyxHQUN6Q3BSLEVBQVd4NUIsU0FBUSxTQUFDb3JDLEdBQ2xCQSxFQUFNbnVDLE9BQU8rQyxTQUFRLFNBQUN0UyxHQUNwQixJQUFNWCxFQUFJcXVDLEVBQVl0cUMsUUFBUXBELEVBQU0sSUFDOUJzeUMsRUFBSTVFLEVBQVl0cUMsUUFBUXBELEVBQU0sSUFDaENYLEdBQUssR0FBS2l6QyxHQUFLLEdBQUtqekMsRUFBSWdULEdBQVFpZ0MsRUFBSWpnQyxJQUN0QytxQyxFQUFlLzlDLEdBQUdpekMsR0FBS3JILEVBQUFBLEdBQUdzUyxNQUNOLE9BQWhCRyxFQUFNdlQsUUFBZ0JpVCxFQUFlLzlDLEdBQUdpekMsR0FBSyxHQUVyRCxHQUNGLElBRUFySSxFQUFVMzNCLFNBQVEsU0FBQ3hTLEdBQ2pCLElBQU1ULEVBQUlxdUMsRUFBWXRxQyxRQUFRdEQsRUFBRUUsTUFBTSxJQUNoQ3N5QyxFQUFJNUUsRUFBWXRxQyxRQUFRdEQsRUFBRUUsTUFBTSxJQUNsQ1gsR0FBSyxHQUFLaXpDLEdBQUssR0FBS2p6QyxFQUFJZ1QsR0FBUWlnQyxFQUFJamdDLElBQ3RDK3FDLEVBQWUvOUMsR0FBR2l6QyxHQUFLckgsRUFBQUEsR0FBR3NTLE1BRTlCLEtBRU8sQ0FDVCxJQUdrQi9JLEVBQVl6eUMsTUFBTXUwQyxZQUMxQmhrQyxTQUFRLFNBQUN4UyxHQUNuQixJQUFNcXFDLEVBQVFycUMsRUFBRXFxQyxNQUNEcnFDLEVBQUV5UCxPQUNWK0MsU0FBUSxTQUFBdFMsR0FDYixJQUFNWCxFQUFJcXVDLEVBQVl0cUMsUUFBUXBELEVBQU0sSUFDOUJzeUMsRUFBSTVFLEVBQVl0cUMsUUFBUXBELEVBQU0sSUFDcEMsS0FBSVgsRUFBSSxHQUFLaXpDLEVBQUksSUFDYmp6QyxFQUFJZ1QsR0FBUWlnQyxFQUFJamdDLEVBQU0sQ0FDeEIsSUFBSXVyQyxTQUNKLE9BQVF6VCxHQUNOLElBQUssS0FDSHlULEVBQU8zUixFQUFNQSxPQUFDNFIsT0FDZCxNQUNGLElBQUssS0FDSEQsRUFBTzNSLEVBQU1BLE9BQUM2UixPQUNkLE1BQ0YsSUFBSyxLQUNIRixFQUFPM1IsRUFBTUEsT0FBQzhSLFNBQ2QsTUFDRixJQUFLLEtBQ0hILEVBQU8zUixFQUFNQSxPQUFDK1IsTUFDZCxNQUNGLFFBQ0VKLEVBQU81OUMsRUFBTXFULE1BQU0sS0FBSyxHQUc1QmdxQyxFQUFPaCtDLEdBQUdpekMsR0FBS3NMLENBQ2hCLENBQ0gsR0FDRixJQVlPLENBQUM5TCxJQUFHQSxFQUFFc0wsZUFBY0EsRUFBRUMsT0FBTUEsRUFBRUMsVUFBU0EsRUFDaEQsRUFRYVcsR0FBVyxTQUFDcjZDLEVBQWF1bUMsR0FDcEMsR0FBS3ZtQyxFQUNMLE9BQUk4ckMsRUFBZW53QixTQUFTNHFCLEdBQ25Cdm1DLEVBQUs3QixNQUFNa29DLFVBQVV0VCxNQUFLLFNBQUNyNEIsR0FBZ0IsT0FBQUEsRUFBRTZyQyxRQUFVQSxDQUFLLElBRWpFeUYsRUFBMEJyd0IsU0FBUzRxQixHQUM5QnZtQyxFQUFLN0IsTUFBTXkwQyxvQkFBb0I3ZixNQUNwQyxTQUFDcjRCLEdBQTBCLE9BQUFBLEVBQUU2ckMsUUFBVUEsQ0FBSyxJQUc1QzBGLEVBQTBCdHdCLFNBQVM0cUIsR0FDOUJ2bUMsRUFBSzdCLE1BQU0wMEMsb0JBQW9COWYsTUFDcEMsU0FBQ3I0QixHQUEwQixPQUFBQSxFQUFFNnJDLFFBQVVBLENBQUssSUFHNUM0RixFQUFleHdCLFNBQVM0cUIsR0FDbkJ2bUMsRUFBSzdCLE1BQU1zMEMsVUFBVTFmLE1BQUssU0FBQ3I0QixHQUFnQixPQUFBQSxFQUFFNnJDLFFBQVVBLENBQUssSUFFakV3RixFQUFnQnB3QixTQUFTNHFCLEdBQ3BCdm1DLEVBQUs3QixNQUFNK3BDLFdBQVduVixNQUFLLFNBQUNyNEIsR0FBaUIsT0FBQUEsRUFBRTZyQyxRQUFVQSxDQUFLLElBRW5FMkYsRUFBaUJ2d0IsU0FBUzRxQixHQUNyQnZtQyxFQUFLN0IsTUFBTXUwQyxZQUFZM2YsTUFBSyxTQUFDcjRCLEdBQWtCLE9BQUFBLEVBQUU2ckMsUUFBVUEsQ0FBSyxJQUVyRTZGLEVBQW9CendCLFNBQVM0cUIsR0FDeEJ2bUMsRUFBSzdCLE1BQU13MEMsY0FBYzVmLE1BQzlCLFNBQUNyNEIsR0FBb0IsT0FBQUEsRUFBRTZyQyxRQUFVQSxDQUFLLElBR25DLElBQ1QsRUE0RmFnVCxHQUFtQixTQUFDdjVDLEVBQWFtNUMsY0FBQSxJQUFBQSxJQUFBQSxFQUFxQixJQUNqRSxJQUFNdHdDLEVBQU83SSxFQUFLYixVQUFVLEdBSzVCLE9BSmFpUixLQUFLbUQsSUFDaEJoTCxTQUFTdk4sUUFBMkIsUUFBcEI4ckMsRUFBQXVULEdBQVN4eEMsRUFBTSxhQUFLLElBQUFpK0IsT0FBQSxFQUFBQSxFQUFFMXFDLFFBQVMrOEMsSUoxdkRyQixHSTh2RDlCLEVBRWFtQixHQUE4QixTQUN6Q3p4QyxFQUNBMHhDLEdBRUEsUUFGQSxJQUFBQSxJQUFBQSxFQUF1QmxULEVBQUFBLEdBQUdzUyxPQUV0Qjl3QyxFQUFNLENBQ1IsSUFBTTJ4QyxFQUFZM3hDLEVBQUsxSSxPQUFNLFNBQUF6RSxHQUFLLE9BQUF1c0MsRUFBWXZzQyxFQUFaLElBQ2xDLEdBQUk4K0MsRUFBVyxDQUNiLElBQU1DLEVBQWdCRCxFQUFVcjZDLE9BQU0sU0FBQXpFLEdBQUssT0FBQXNzQyxFQUFXdHNDLEVBQVgsSUFDM0MsT0FBSysrQyxFQUNFQyxHQUFhRCxHQURPRixDQUU1QixDQUNGLENBRUQsT0FBT0EsQ0FDVCxFQWFhRyxHQUFlLFNBQUMxNkMsRUFBYXU2QyxnQkFBQSxJQUFBQSxJQUFBQSxFQUF1QmxULEVBQUFBLEdBQUdzUyxPQUNsRSxJQUFNNUMsRUFBZ0MsUUFBckI5MkMsRUFBVSxRQUFWNm1DLEVBQUE5bUMsRUFBSzdCLGFBQUssSUFBQTJvQyxPQUFBLEVBQUFBLEVBQUVULGlCQUFTLElBQUFwbUMsT0FBQSxFQUFBQSxFQUFHLEdBQ3pDLE9BQVE4MkMsYUFBUSxFQUFSQSxFQUFVeFEsT0FDaEIsSUFBSyxJQUNILE9BQU9jLEVBQUFBLEdBQUd1UyxNQUNaLElBQUssSUFDSCxPQUFPdlMsRUFBQUEsR0FBR3NTLE1BQ1osUUFFRSxPQUFPWSxFQUViLEVDbjBEQUksR0FBQSxXQUlFLFNBQUFBLEVBQ1lDLEVBQ0F4TSxFQUNBQyxFQUNBQyxHQUhBcHpDLEtBQUcwL0MsSUFBSEEsRUFDQTEvQyxLQUFDa3pDLEVBQURBLEVBQ0FsekMsS0FBQ216QyxFQUFEQSxFQUNBbnpDLEtBQUVvekMsR0FBRkEsRUFQRnB6QyxLQUFXMi9DLFlBQUcsRUFDZDMvQyxLQUFJdVQsS0FBRyxDQU9iLENBWU4sT0FYRWtzQyxFQUFBaGdELFVBQUFtZ0QsS0FBQSxhQUlBSCxFQUFjaGdELFVBQUFvZ0QsZUFBZCxTQUFlQyxHQUNiOS9DLEtBQUsyL0MsWUFBY0csR0FHckJMLEVBQU9oZ0QsVUFBQXNnRCxRQUFQLFNBQVF4c0MsR0FDTnZULEtBQUt1VCxLQUFPQSxHQUVma3NDLENBQUQsSUNqQkFPLEdBQUEsU0FBQW5PLEdBR0UsU0FDRW1PLEVBQUFOLEVBQ0F4TSxFQUNBQyxFQUNBQyxFQUNBNk0sR0FFQSxJQUFBbk8sRUFBQUQsRUFBTWx5QyxLQUFBSyxLQUFBMC9DLEVBQUt4TSxFQUFHQyxFQUFHQyxJQUFJcHpDLFlBQ3JCOHhDLEVBQUttTyxhQUFlQSxHQUNyQixDQXdDSCxPQXBEK0JyZ0QsRUFBS29nRCxFQUFBbk8sR0FpQnhCbU8sRUFBZ0J2Z0QsVUFBQXlnRCxpQkFBMUIsU0FDRTl1QyxTQUVBLElBQUtwUixLQUFLaWdELGFBQ1IsT0FBTzdTLEVBQWtCaDhCLEdBR3JCLElBQUFyTSxFQUF3Qi9FLEtBQUtpZ0QsYUFBNUI5USxFQUFLcHFDLEVBQUFvcUMsTUFBRWdSLEVBQVlwN0MsRUFBQW83QyxhQUNwQkMsRUFBZ0JELEVBQWFoUixHQUM3QmtSLEVBQWdCRixFQUFhRyxRQUtuQyxPQURFLFVBRGNGLGFBQUEsRUFBQUEsRUFBZ0JodkMsVUFDOUIsSUFBQXc2QixFQUFBQSxFQUFBeVUsRUFBY2p2QyxJQUlsQjR1QyxFQUFBdmdELFVBQUFtZ0QsS0FBQSxXQUNRLElBQUFoVSxFQUFxQzVyQyxLQUFwQzAvQyxRQUFLeE0sTUFBR0MsTUFBRzUvQixTQUFNNi9CLE9BQUl1TSxnQkFDeEJwc0MsR0FBUSxJQUNabXNDLEVBQUlhLE9BQ0piLEVBQUljLFlBQ0pkLEVBQUlDLFlBQWNBLEVBQ2xCRCxFQUFJZSxJQUFJdk4sRUFBR0MsRUFBRzUvQixFQUFPLEVBQUcsRUFBRyxFQUFJMkIsS0FBS3dyQyxJQUFJLEdBQ3hDaEIsRUFBSWlCLFVBQVksRUFDaEJqQixFQUFJa0IsWUFBYzVnRCxLQUFLa2dELGlCQUFpQixrQkFDcEM5TSxJQUFPakgsRUFBRUEsR0FBQ3NTLE1BQ1ppQixFQUFJbUIsVUFBWTdnRCxLQUFLa2dELGlCQUFpQixrQkFDN0I5TSxJQUFPakgsRUFBRUEsR0FBQ3VTLFFBQ25CZ0IsRUFBSW1CLFVBQVk3Z0QsS0FBS2tnRCxpQkFBaUIsbUJBRXhDUixFQUFJMWYsT0FDSjBmLEVBQUlvQixTQUNKcEIsRUFBSXFCLFlBRVBmLENBQUQsQ0FwREEsQ0FBK0JQLElDQS9CdUIsR0FBQSxTQUFBblAsR0FHRSxTQUFBbVAsRUFDRXRCLEVBQ0F4TSxFQUNBQyxFQUNBQyxFQUNRNk4sRUFDQXZSLEVBQ0FDLEVBQ0FzUSxHQUVSLElBQUFuTyxFQUFBRCxFQUFNbHlDLEtBQUFLLEtBQUEwL0MsRUFBS3hNLEVBQUdDLEVBQUdDLElBQUlwekMsWUFMYjh4QyxFQUFHbVAsSUFBSEEsRUFDQW5QLEVBQU1wQyxPQUFOQSxFQUNBb0MsRUFBTW5DLE9BQU5BLEVBQ0FtQyxFQUFZbU8sYUFBWkEsRUFLSkEsSUFDRm5PLEVBQUtvUCxjQUFnQixJQUFJbEIsR0FBVU4sRUFBS3hNLEVBQUdDLEVBQUdDLEVBQUk2TSxLQUVyRCxDQWlDSCxPQXBEZ0NyZ0QsRUFBS29oRCxFQUFBblAsR0FxQm5DbVAsRUFBQXZoRCxVQUFBbWdELEtBQUEsV0FDUSxJQUdGdUIsRUFIRXZWLEVBQTZDNXJDLEtBQTVDMC9DLEVBQUc5VCxFQUFBOFQsSUFBRXhNLEVBQUN0SCxFQUFBc0gsRUFBRUMsRUFBQ3ZILEVBQUF1SCxFQUFFNS9CLFNBQU02L0IsRUFBRXhILEVBQUF3SCxHQUFFMUQsRUFBTTlELEVBQUE4RCxPQUFFQyxFQUFNL0QsRUFBQStELE9BQUVzUixFQUFHclYsRUFBQXFWLElBQzNDMXRDLEdBQVEsS0FJVjR0QyxFQURFL04sSUFBT2pILEVBQUVBLEdBQUNzUyxNQUNOL08sRUFBT3VSLEVBQU12UixFQUFPaHZDLFFBRXBCaXZDLEVBQU9zUixFQUFNdFIsRUFBT2p2QyxVQUlqQnlnRCxFQUFJQyxVQUFrQyxJQUF0QkQsRUFBSUUsY0FFN0IzQixFQUFJNEIsVUFBVUgsRUFBS2pPLEVBQUkzL0IsRUFBTyxFQUFHNC9CLEVBQUk1L0IsRUFBTyxFQUFHQSxFQUFNQSxHQUdqRHZULEtBQUtraEQsZ0JBQ1BsaEQsS0FBS2toRCxjQUFjbkIsUUFBUXhzQyxHQUMzQnZULEtBQUtraEQsY0FBY3RCLFVBS3pCb0IsRUFBT3ZoRCxVQUFBc2dELFFBQVAsU0FBUXhzQyxHQUNOcytCLEVBQUFweUMsVUFBTXNnRCxRQUFRcGdELEtBQUFLLEtBQUF1VCxHQUVWdlQsS0FBS2toRCxlQUNQbGhELEtBQUtraEQsY0FBY25CLFFBQVF4c0MsSUFHaEN5dEMsQ0FBRCxDQXBEQSxDQUFnQ3ZCLElDZ0JoQzhCLEdBQUEsV0FXRSxTQUFBQSxFQUFZOW9CLEdBQVosTUFVQ3FaLEVBQUE5eEMsS0F3Qk9BLEtBQUF3aEQseUJBQTJCLFdBQzNCLElBQUE1VixFQUFtRGtHLEVBQWxENE4sUUFBS3hNLEVBQUN0SCxFQUFBc0gsRUFBRUMsRUFBQ3ZILEVBQUF1SCxFQUFFOXhDLEVBQUN1cUMsRUFBQXZxQyxFQUFFdTVDLEVBQVFoUCxFQUFBZ1AsU0FBRVcsRUFBUTNQLEVBQUEyUCxTQUFFa0csRUFBWTdWLEVBQUE2VixhQUM5Q2hHLEVBQVNGLEVBQVFFLE1BRXBCaUcsRUFBU3BHLEdBQXVCVixFQUFVVyxHQUU5QyxHQUFJRSxFQUFRLEVBQUcsQ0FDYmlFLEVBQUljLFlBQ0pkLEVBQUllLElBQUl2TixFQUFHQyxFQUFHOXhDLEVBQUcsRUFBRyxFQUFJNlQsS0FBS3dyQyxJQUFJLEdBQ2pDaEIsRUFBSWlCLFVBQVksRUFDaEJqQixFQUFJa0IsWUFBYyxzQkFDbEIsSUFBTWUsRUFBV2pDLEVBQUlrQyxxQkFBcUIxTyxFQUFHQyxFQUFPLEdBQUo5eEMsRUFBUzZ4QyxFQUFHQyxFQUFHOXhDLEdBQy9Ec2dELEVBQVNFLGFBQWEsRUFBR0gsR0FDekJDLEVBQVNFLGFBQWEsR0FBSyx5QkFDM0JuQyxFQUFJbUIsVUFBWWMsRUFDaEJqQyxFQUFJMWYsT0FDQXloQixJQUNGL0IsRUFBSWMsWUFDSmQsRUFBSWUsSUFBSXZOLEVBQUdDLEVBQUc5eEMsRUFBRyxFQUFHLEVBQUk2VCxLQUFLd3JDLElBQUksR0FDakNoQixFQUFJaUIsVUFBWSxFQUNoQmpCLEVBQUlrQixZQUFjYSxFQUNsQi9CLEVBQUlvQixVQUdOLElBQU1nQixFQUFXemdELEVBQUksSUFFckJxK0MsRUFBSXFDLEtBQU8sR0FBQS8vQyxPQUFjLEdBQVg4L0MsZUFDZHBDLEVBQUltQixVQUFZLFFBQ2hCbkIsRUFBSXNDLFVBQVksU0FFaEJ0QyxFQUFJcUMsS0FBTyxHQUFHLy9DLE9BQUE4L0MsZUFDZCxJQUFNRyxFQUFZdEgsR0FBa0JDLEVBQVVXLEdBQzlDbUUsRUFBSXdDLFNBQVNELEVBQVcvTyxFQUFHQyxHQUUzQnVNLEVBQUlxQyxLQUFPLEdBQUEvL0MsT0FBYyxHQUFYOC9DLGVBQ2RwQyxFQUFJbUIsVUFBWSxRQUNoQm5CLEVBQUlzQyxVQUFZLFNBQ2hCdEMsRUFBSXdDLFNBQVN2SSxHQUFXNEIsRUFBUzRHLFFBQVNqUCxFQUFHQyxFQUFJOXhDLEVBQUksRUFBSXlnRCxFQUFXLEVBQ3JFLE1BQ0NoUSxFQUFLc1Esb0JBRVQsRUFFUXBpRCxLQUFBcWlELHlCQUEyQixXQUMzQixJQUFBelcsRUFBcUNrRyxFQUFwQzROLFFBQUt4TSxNQUFHQyxNQUFHOXhDLE1BQUd1NUMsYUFBVVcsYUFDeEJFLEVBQVNGLEVBQVFFLE1BRXBCaUcsRUFBU3BHLEdBQXVCVixFQUFVVyxHQUU5QyxHQUFJRSxFQUFRLEVBQUcsQ0FDYmlFLEVBQUljLFlBQ0pkLEVBQUllLElBQUl2TixFQUFHQyxFQUFHOXhDLEVBQUcsRUFBRyxFQUFJNlQsS0FBS3dyQyxJQUFJLEdBQ2pDaEIsRUFBSWlCLFVBQVksRUFDaEJqQixFQUFJa0IsWUFBYyxzQkFDbEIsSUFBTWUsRUFBV2pDLEVBQUlrQyxxQkFBcUIxTyxFQUFHQyxFQUFPLEdBQUo5eEMsRUFBUzZ4QyxFQUFHQyxFQUFHOXhDLEdBQy9Ec2dELEVBQVNFLGFBQWEsRUFBR0gsR0FDekJDLEVBQVNFLGFBQWEsR0FBSyx5QkFDM0JuQyxFQUFJbUIsVUFBWWMsRUFDaEJqQyxFQUFJMWYsT0FFSixJQUFNOGhCLEVBQVd6Z0QsRUFBSSxJQUVyQnErQyxFQUFJcUMsS0FBTyxHQUFBLy9DLE9BQWMsR0FBWDgvQyxlQUNkcEMsRUFBSW1CLFVBQVksUUFDaEJuQixFQUFJc0MsVUFBWSxTQUVoQixJQUFNM0csRUFDdUIsTUFBM0JULEVBQVNNLGNBQ0xLLEVBQVNGLFFBQ1QsRUFBSUUsRUFBU0YsUUFFbkJxRSxFQUFJd0MsU0FBU25LLEdBQU9zRCxFQUFTLElBQUssR0FBSW5JLEVBQUdDLEVBQUk5eEMsRUFBSSxFQUFJeWdELEVBQVcsR0FFaEVwQyxFQUFJcUMsS0FBTyxHQUFHLy9DLE9BQUE4L0MsZUFDZCxJQUFNRyxFQUFZdEgsR0FBa0JDLEVBQVVXLEdBQzlDbUUsRUFBSXdDLFNBQVNELEVBQVcvTyxFQUFHQyxFQUFJMk8sRUFBVyxHQUUxQ3BDLEVBQUlxQyxLQUFPLEdBQUEvL0MsT0FBYyxHQUFYOC9DLGVBQ2RwQyxFQUFJbUIsVUFBWSxRQUNoQm5CLEVBQUlzQyxVQUFZLFNBQ2hCdEMsRUFBSXdDLFNBQVN2SSxHQUFXNEIsRUFBUzRHLFFBQVNqUCxFQUFHQyxFQUFJOXhDLEVBQUksRUFBSXlnRCxFQUFXLEdBRXBFLElBQU1RLEVBQVEvRyxFQUFTRSxNQUN2QmlFLEVBQUl3QyxVQUFVSSxFQUFRLEdBQUc5c0MsV0FBWTA5QixFQUFJN3hDLEVBQUc4eEMsRUFBSTl4QyxFQUFJLEVBQ3JELE1BQ0N5d0MsRUFBS3NRLG9CQUVULEVBRVFwaUQsS0FBQXVpRCwwQkFBNEIsV0FDNUIsSUFBQTNXLEVBQXFDa0csRUFBcEM0TixRQUFLeE0sTUFBR0MsTUFBRzl4QyxNQUFHdTVDLGFBQVVXLGFBQ3hCRSxFQUFTRixFQUFRRSxNQUVwQmlHLEVBQVNwRyxHQUF1QlYsRUFBVVcsR0FFOUMsR0FBSUUsRUFBUSxFQUFHLENBQ2JpRSxFQUFJYyxZQUNKZCxFQUFJZSxJQUFJdk4sRUFBR0MsRUFBRzl4QyxFQUFHLEVBQUcsRUFBSTZULEtBQUt3ckMsSUFBSSxHQUNqQ2hCLEVBQUlpQixVQUFZLEVBQ2hCakIsRUFBSWtCLFlBQWMsc0JBQ2xCLElBQU1lLEVBQVdqQyxFQUFJa0MscUJBQXFCMU8sRUFBR0MsRUFBTyxHQUFKOXhDLEVBQVM2eEMsRUFBR0MsRUFBRzl4QyxHQUMvRHNnRCxFQUFTRSxhQUFhLEVBQUdILEdBQ3pCQyxFQUFTRSxhQUFhLEdBQUsseUJBQzNCbkMsRUFBSW1CLFVBQVljLEVBQ2hCakMsRUFBSTFmLE9BRUosSUFBTThoQixFQUFXemdELEVBQUksSUFFckJxK0MsRUFBSXFDLEtBQU8sR0FBQS8vQyxPQUFjLEdBQVg4L0MsZUFDZHBDLEVBQUltQixVQUFZLFFBQ2hCbkIsRUFBSXNDLFVBQVksU0FJaEIsSUFBTVEsT0FDaUJwL0MsSUFBckIwdUMsRUFBSzJRLGNBQW1ELElBQXRCM1EsRUFBSzJRLFlBQ25DM1EsRUFBSzJRLFlBQ0xsSCxFQUFTQyxNQUVUa0gsRUFBZ0IzSyxHQUFPeUssRUFBUSxJQUFLLEdBQzFDOUMsRUFBSXdDLFNBQVNRLEVBQWV4UCxFQUFHQyxFQUFJOXhDLEVBQUksRUFBSXlnRCxFQUFXLEdBRXREcEMsRUFBSXFDLEtBQU8sR0FBRy8vQyxPQUFBOC9DLGVBQ2QsSUFBTUcsRUFBWXRILEdBQWtCQyxFQUFVVyxHQUM5Q21FLEVBQUl3QyxTQUFTRCxFQUFXL08sRUFBR0MsRUFBSTJPLEVBQVcsR0FFMUNwQyxFQUFJcUMsS0FBTyxHQUFBLy9DLE9BQWMsR0FBWDgvQyxlQUNkcEMsRUFBSW1CLFVBQVksUUFDaEJuQixFQUFJc0MsVUFBWSxTQUNoQnRDLEVBQUl3QyxTQUFTdkksR0FBVzRCLEVBQVM0RyxRQUFTalAsRUFBR0MsRUFBSTl4QyxFQUFJLEVBQUl5Z0QsRUFBVyxHQUVwRSxJQUFNYSxFQUFRcEgsRUFBU0UsTUFDdkJpRSxFQUFJd0MsVUFBVVMsRUFBUSxHQUFHbnRDLFdBQVkwOUIsRUFBSTd4QyxFQUFHOHhDLEVBQUk5eEMsRUFBSSxFQUNyRCxNQUNDeXdDLEVBQUtzUSxvQkFFVCxFQUVRcGlELEtBQUFvaUQsbUJBQXFCLFdBQ3JCLElBQUF4VyxFQUFxQ2tHLEVBQXBDNE4sUUFBS3hNLE1BQUdDLE1BQUc5eEMsTUFBR3U1QyxhQUFVVyxhQUN6Qm1HLEVBQVNwRyxHQUF1QlYsRUFBVVcsR0FDaERtRSxFQUFJYyxZQUNKZCxFQUFJZSxJQUFJdk4sRUFBR0MsRUFBTyxHQUFKOXhDLEVBQVMsRUFBRyxFQUFJNlQsS0FBS3dyQyxJQUFJLEdBQ3ZDaEIsRUFBSWlCLFVBQVksRUFDaEJqQixFQUFJa0IsWUFBYyxzQkFDbEIsSUFBTWUsRUFBV2pDLEVBQUlrQyxxQkFBcUIxTyxFQUFHQyxFQUFPLEdBQUo5eEMsRUFBUzZ4QyxFQUFHQyxFQUFHOXhDLEdBQy9Ec2dELEVBQVNFLGFBQWEsRUFBR0gsR0FDekJDLEVBQVNFLGFBQWEsSUFBTSx5QkFDNUJuQyxFQUFJbUIsVUFBWWMsRUFDaEJqQyxFQUFJMWYsT0FDSjBmLEVBQUlvQixRQUNOLEVBeExFOWdELEtBQUswL0MsSUFBTWpuQixFQUFRaW5CLElBQ25CMS9DLEtBQUtrekMsRUFBSXphLEVBQVF5YSxFQUNqQmx6QyxLQUFLbXpDLEVBQUkxYSxFQUFRMGEsRUFDakJuekMsS0FBS3FCLEVBQUlvM0IsRUFBUXAzQixFQUNqQnJCLEtBQUs0NkMsU0FBV25pQixFQUFRbWlCLFNBQ3hCNTZDLEtBQUt1N0MsU0FBVzlpQixFQUFROGlCLFNBQ3hCdjdDLEtBQUt5aUQsWUFBY2hxQixFQUFRZ3FCLFlBQzNCemlELEtBQUttdkMsTUFBeUIsUUFBakJ2RCxFQUFBblQsRUFBUTBXLGFBQVMsSUFBQXZELEVBQUFBLEVBQUFTLEVBQUFBLG1CQUFtQnVXLFFBQ2pENWlELEtBQUt5aEQsYUFBZWhwQixFQUFRZ3BCLFlBQzdCLENBZ0xILE9BOUtFRixFQUFBOWhELFVBQUFtZ0QsS0FBQSxXQUNRLElBQUFoVSxFQUE0QzVyQyxLQUEzQzAvQyxRQUFNOVQsRUFBQXNILEVBQUd0SCxFQUFBdUgsTUFBRTl4QyxFQUFDdXFDLEVBQUF2cUMsRUFBVXVxQyxFQUFBZ1AsU0FBVWhQLEVBQUEyUCxTQUFBLElBQUVwTSxFQUFLdkQsRUFBQXVELE1BQzFDOXRDLEVBQUksSUFFUnErQyxFQUFJYSxPQUNKYixFQUFJbUQsY0FBZ0IsRUFDcEJuRCxFQUFJb0QsY0FBZ0IsRUFDcEJwRCxFQUFJaFMsWUFBYyxPQUNsQmdTLEVBQUlxRCxXQUFhLEVBR2I1VCxJQUFVOUMsRUFBa0JBLG1CQUFDdVcsUUFDL0I1aUQsS0FBS3FpRCwyQkFDSWxULElBQVU5QyxFQUFrQkEsbUJBQUMyVyxRQUN0Q2hqRCxLQUFLd2hELDJCQUNJclMsSUFBVTlDLEVBQWtCQSxtQkFBQzRXLFVBQ3RDampELEtBQUt1aUQsNEJBR1A3QyxFQUFJcUIsWUEySlBRLENBQUQsSUN0TkFwVSxHQUFBLFdBTUUsU0FBQUEsRUFDWXVTLEVBQ0F4TSxFQUNBQyxFQUNBN3lDLEVBQ0E4eUMsRUFDVjZNLEVBQ1VpRCxRQUFBLElBQUFBLElBQUFBLEVBQXlCLElBTnpCbGpELEtBQUcwL0MsSUFBSEEsRUFDQTEvQyxLQUFDa3pDLEVBQURBLEVBQ0FsekMsS0FBQ216QyxFQUFEQSxFQUNBbnpDLEtBQUNNLEVBQURBLEVBQ0FOLEtBQUVvekMsR0FBRkEsRUFFQXB6QyxLQUFHa2pELElBQUhBLEVBWkZsakQsS0FBVzIvQyxZQUFHLEVBQ2QzL0MsS0FBS21qRCxNQUFHLEdBQ1JuakQsS0FBUW9qRCxTQUFhLEdBWTdCcGpELEtBQUtpZ0QsYUFBZUEsQ0FDckIsQ0FxQ0gsT0FuQ0U5UyxFQUFBMXRDLFVBQUFtZ0QsS0FBQSxhQUlBelMsRUFBYzF0QyxVQUFBb2dELGVBQWQsU0FBZUMsR0FDYjkvQyxLQUFLMi9DLFlBQWNHLEdBR3JCM1MsRUFBUTF0QyxVQUFBNGpELFNBQVIsU0FBU0YsR0FDUG5qRCxLQUFLbWpELE1BQVFBLEdBR2ZoVyxFQUFXMXRDLFVBQUE2akQsWUFBWCxTQUFZRixHQUNWcGpELEtBQUtvakQsU0FBV0EsR0FNUmpXLEVBQWdCMXRDLFVBQUF5Z0QsaUJBQTFCLFNBQ0U5dUMsU0FFQSxJQUFLcFIsS0FBS2lnRCxhQUNSLE9BQU83UyxFQUFrQmg4QixHQUdyQixJQUFBck0sRUFBd0IvRSxLQUFLaWdELGFBQTVCOVEsRUFBS3BxQyxFQUFBb3FDLE1BQUVnUixFQUFZcDdDLEVBQUFvN0MsYUFDcEJDLEVBQWdCRCxFQUFhaFIsR0FDN0JrUixFQUFnQkYsRUFBYUcsUUFLbkMsT0FERSxVQURjRixhQUFBLEVBQUFBLEVBQWdCaHZDLFVBQzlCLElBQUF3NkIsRUFBQUEsRUFBQXlVLEVBQWNqdkMsSUFHbkIrN0IsQ0FBRCxJQ3JEQW9XLEdBQUEsU0FBQTFSLEdBQUEsU0FBQTBSLGtEQXlCQyxDQUFELE9BekJrQzNqRCxFQUFNMmpELEVBQUExUixHQUN0QzBSLEVBQUE5akQsVUFBQW1nRCxLQUFBLFdBQ1EsSUFBQWhVLEVBQXlDNXJDLEtBQXhDMC9DLFFBQUt4TSxFQUFDdEgsRUFBQXNILEVBQUVDLEVBQUN2SCxFQUFBdUgsRUFBRTd5QyxFQUFDc3JDLEVBQUF0ckMsRUFBRTh5QyxFQUFFeEgsRUFBQXdILEdBQUV1TSxFQUFXL1QsRUFBQStULFlBQUV3RCxFQUFLdlgsRUFBQXVYLE1BRXZDNXZDLEVBQWdCLEtBREQsR0FBSmpULEdBRWZvL0MsRUFBSWEsT0FDSmIsRUFBSWMsWUFDSmQsRUFBSUMsWUFBY0EsRUFDbEJELEVBQUlpQixVQUFZM2dELEtBQUtrZ0QsaUJBQWlCLG1CQUN0Q1IsRUFBSTRELFlBQVl0akQsS0FBS29qRCxVQUNqQmhRLElBQU9qSCxFQUFFQSxHQUFDdVMsTUFDWmdCLEVBQUlrQixZQUFjNWdELEtBQUtrZ0QsaUJBQWlCLGtCQUMvQjlNLElBQU9qSCxFQUFFQSxHQUFDc1MsTUFDbkJpQixFQUFJa0IsWUFBYzVnRCxLQUFLa2dELGlCQUFpQixtQkFFeENSLEVBQUlrQixZQUFjNWdELEtBQUtrZ0QsaUJBQWlCLGtCQUN4Q1IsRUFBSWlCLFVBQVksR0FFZHdDLElBQU96RCxFQUFJa0IsWUFBY3VDLEdBQ3pCNXZDLEVBQU8sSUFDVG1zQyxFQUFJZSxJQUFJdk4sRUFBR0MsRUFBRzUvQixFQUFNLEVBQUcsRUFBSTJCLEtBQUt3ckMsSUFBSSxHQUNwQ2hCLEVBQUlvQixVQUVOcEIsRUFBSXFCLFdBRVB3QyxDQUFELENBekJBLENBQWtDcFcsSUNBbENxVyxHQUFBLFNBQUEzUixHQUFBLFNBQUEyUixrREEwQkMsQ0FBRCxPQTFCaUM1akQsRUFBTTRqRCxFQUFBM1IsR0FDckMyUixFQUFBL2pELFVBQUFtZ0QsS0FBQSxXQUNRLElBQUFoVSxFQUFrQzVyQyxLQUFqQzAvQyxRQUFLeE0sTUFBR0MsTUFBRzd5QyxNQUFHOHlDLE9BQUl1TSxnQkFDbkI4RCxFQUFhLEdBQUpuakQsRUFDWGlULEVBQWdCLEdBQVRrd0MsRUFDWC9ELEVBQUlhLE9BQ0piLEVBQUljLFlBQ0pkLEVBQUlpQixVQUFZLEVBQ2hCakIsRUFBSUMsWUFBY0EsRUFDZHZNLElBQU9qSCxFQUFFQSxHQUFDdVMsTUFDWmdCLEVBQUlrQixZQUFjNWdELEtBQUtrZ0QsaUJBQWlCLGtCQUMvQjlNLElBQU9qSCxFQUFFQSxHQUFDc1MsTUFDbkJpQixFQUFJa0IsWUFBYzVnRCxLQUFLa2dELGlCQUFpQixtQkFFeENSLEVBQUlrQixZQUFjNWdELEtBQUtrZ0QsaUJBQWlCLGtCQUN4QzNzQyxFQUFnQixJQUFUa3dDLEdBRVQvRCxFQUFJZ0UsT0FBT3hRLEVBQUkzL0IsRUFBTTQvQixFQUFJNS9CLEdBQ3pCbXNDLEVBQUlpRSxPQUFPelEsRUFBSTMvQixFQUFNNC9CLEVBQUk1L0IsR0FDekJtc0MsRUFBSWdFLE9BQU94USxFQUFJMy9CLEVBQU00L0IsRUFBSTUvQixHQUN6Qm1zQyxFQUFJaUUsT0FBT3pRLEVBQUkzL0IsRUFBTTQvQixFQUFJNS9CLEdBRXpCbXNDLEVBQUlrRSxZQUNKbEUsRUFBSW9CLFNBQ0pwQixFQUFJcUIsV0FFUHlDLENBQUQsQ0ExQkEsQ0FBaUNyVyxJQ0FqQzBXLEdBQUEsU0FBQWhTLEdBQUEsU0FBQWdTLGtEQStCQyxDQUFELE9BL0JnQ2prRCxFQUFNaWtELEVBQUFoUyxHQUNwQ2dTLEVBQUFwa0QsVUFBQW1nRCxLQUFBLFdBQ1EsSUFBQWhVLEVBQXVDNXJDLEtBQXRDMC9DLFFBQUt4TSxFQUFDdEgsRUFBQXNILEVBQUVDLEVBQUN2SCxFQUFBdUgsRUFBRTd5QyxFQUFDc3JDLEVBQUF0ckMsRUFBRTh5QyxFQUFFeEgsRUFBQXdILEdBQUU4UCxFQUFHdFgsRUFBQXNYLElBQUV2RCxFQUFXL1QsRUFBQStULFlBQ25DcHNDLEVBQVcsR0FBSmpULEVBQ1R3aEQsRUFBV3Z1QyxFQUFPLElBQ3RCbXNDLEVBQUlhLE9BQ0piLEVBQUlDLFlBQWNBLEVBRWR2TSxJQUFPakgsRUFBRUEsR0FBQ3VTLE1BQ1pnQixFQUFJbUIsVUFBWTdnRCxLQUFLa2dELGlCQUFpQixrQkFDN0I5TSxJQUFPakgsRUFBRUEsR0FBQ3NTLE1BQ25CaUIsRUFBSW1CLFVBQVk3Z0QsS0FBS2tnRCxpQkFBaUIsa0JBRXRDUixFQUFJbUIsVUFBWTdnRCxLQUFLa2dELGlCQUFpQixrQkFNdEM0QixFQUQ0QixJQUExQm9CLEVBQUkxdEMsV0FBVzlVLE9BQ042UyxFQUFPLElBQ2lCLElBQTFCMnZDLEVBQUkxdEMsV0FBVzlVLE9BQ2I2UyxFQUFPLElBRVBBLEVBQU8sRUFFcEJtc0MsRUFBSXFDLEtBQU8sUUFBUS8vQyxPQUFBOC9DLGVBQ25CcEMsRUFBSXNDLFVBQVksU0FDaEJ0QyxFQUFJb0UsYUFBZSxTQUNuQnBFLEVBQUl3QyxTQUFTZ0IsRUFBSTF0QyxXQUFZMDlCLEVBQUdDLEVBQUksR0FDcEN1TSxFQUFJcUIsV0FFUDhDLENBQUQsQ0EvQkEsQ0FBZ0MxVyxJQ0FoQzRXLEdBQUEsU0FBQWxTLEdBQUEsU0FBQWtTLGtEQW9CQyxDQUFELE9BcEJrQ25rRCxFQUFNbWtELEVBQUFsUyxHQUN0Q2tTLEVBQUF0a0QsVUFBQW1nRCxLQUFBLFdBQ1EsSUFBQWhVLEVBQWtDNXJDLEtBQWpDMC9DLFFBQUt4TSxNQUFHQyxNQUFHN3lDLE1BQUc4eUMsT0FBSXVNLGdCQUN6QkQsRUFBSWEsT0FDSmIsRUFBSWMsWUFDSmQsRUFBSWlCLFVBQVkzZ0QsS0FBS2tnRCxpQkFBaUIsbUJBQ3RDUixFQUFJQyxZQUFjQSxFQUNsQixJQUFJcHNDLEVBQVcsSUFBSmpULEVBQ1A4eUMsSUFBT2pILEVBQUVBLEdBQUN1UyxNQUNaZ0IsRUFBSWtCLFlBQWM1Z0QsS0FBS2tnRCxpQkFBaUIsa0JBQy9COU0sSUFBT2pILEVBQUVBLEdBQUNzUyxNQUNuQmlCLEVBQUlrQixZQUFjNWdELEtBQUtrZ0QsaUJBQWlCLG1CQUV4Q1IsRUFBSWtCLFlBQWM1Z0QsS0FBS2tnRCxpQkFBaUIsa0JBQ3hDUixFQUFJaUIsVUFBWSxHQUVsQmpCLEVBQUlzRSxLQUFLOVEsRUFBSTMvQixFQUFPLEVBQUc0L0IsRUFBSTUvQixFQUFPLEVBQUdBLEVBQU1BLEdBQzNDbXNDLEVBQUlvQixTQUNKcEIsRUFBSXFCLFdBRVBnRCxDQUFELENBcEJBLENBQWtDNVcsSUNBbEM4VyxHQUFBLFNBQUFwUyxHQUFBLFNBQUFvUyxrREEwQkMsQ0FBRCxPQTFCb0Nya0QsRUFBTXFrRCxFQUFBcFMsR0FDeENvUyxFQUFBeGtELFVBQUFtZ0QsS0FBQSxXQUNRLElBQUFoVSxFQUFrQzVyQyxLQUFqQzAvQyxRQUFLeE0sTUFBR0MsTUFBRzd5QyxNQUFHOHlDLE9BQUl1TSxnQkFDbkI4RCxFQUFhLEdBQUpuakQsRUFDWGlULEVBQWdCLElBQVRrd0MsRUFDWC9ELEVBQUlhLE9BQ0piLEVBQUljLFlBQ0pkLEVBQUlDLFlBQWNBLEVBQ2xCRCxFQUFJZ0UsT0FBT3hRLEVBQUdDLEVBQUk1L0IsR0FDbEJtc0MsRUFBSWlFLE9BQU96USxFQUFJMy9CLEVBQU8yQixLQUFLZ3ZDLElBQUksTUFBUS9RLEVBQUk1L0IsRUFBTzJCLEtBQUtpdkMsSUFBSSxPQUMzRHpFLEVBQUlpRSxPQUFPelEsRUFBSTMvQixFQUFPMkIsS0FBS2d2QyxJQUFJLE1BQVEvUSxFQUFJNS9CLEVBQU8yQixLQUFLaXZDLElBQUksT0FFM0R6RSxFQUFJaUIsVUFBWTNnRCxLQUFLa2dELGlCQUFpQixtQkFDbEM5TSxJQUFPakgsRUFBRUEsR0FBQ3VTLE1BQ1pnQixFQUFJa0IsWUFBYzVnRCxLQUFLa2dELGlCQUFpQixrQkFDL0I5TSxJQUFPakgsRUFBRUEsR0FBQ3NTLE1BQ25CaUIsRUFBSWtCLFlBQWM1Z0QsS0FBS2tnRCxpQkFBaUIsbUJBRXhDUixFQUFJa0IsWUFBYzVnRCxLQUFLa2dELGlCQUFpQixrQkFDeENSLEVBQUlpQixVQUFZLEVBQ2hCcHRDLEVBQWdCLEdBQVRrd0MsR0FFVC9ELEVBQUlrRSxZQUNKbEUsRUFBSW9CLFNBQ0pwQixFQUFJcUIsV0FFUGtELENBQUQsQ0ExQkEsQ0FBb0M5VyxJQ0RwQ2lYLEdBQUEsU0FBQXZTLEdBQUEsU0FBQXVTLGtEQXFCQyxDQUFELE9BckJxQ3hrRCxFQUFNd2tELEVBQUF2UyxHQUN6Q3VTLEVBQUEza0QsVUFBQW1nRCxLQUFBLFdBQ1EsSUFBQWhVLEVBQThCNXJDLEtBQTdCMC9DLEVBQUc5VCxFQUFBOFQsSUFBRXhNLEVBQUN0SCxFQUFBc0gsRUFBRUMsTUFBRzd5QyxNQUFHcS9DLGdCQUVmcHNDLEVBQWdCLEtBREgsR0FBSmpULEdBRWZvL0MsRUFBSWEsT0FDSmIsRUFBSWMsWUFDSmQsRUFBSUMsWUFBY0EsRUFDbEJELEVBQUlpQixVQUF1RCxFQUEzQzNnRCxLQUFLa2dELGlCQUFpQixtQkFDdENSLEVBQUlrQixZQUFjLFVBQ2xCbEIsRUFBSTRELFlBQVl0akQsS0FBS29qRCxVQUVyQjFELEVBQUlnRSxPQUFPeFEsRUFBSTMvQixFQUFNNC9CLEdBQ3JCdU0sRUFBSWlFLE9BQU96USxFQUFJMy9CLEVBQU00L0IsR0FDckJ1TSxFQUFJZ0UsT0FBT3hRLEVBQUdDLEVBQUk1L0IsR0FDbEJtc0MsRUFBSWlFLE9BQU96USxFQUFHQyxFQUFJNS9CLEdBRWxCbXNDLEVBQUlrRSxZQUNKbEUsRUFBSW9CLFNBQ0pwQixFQUFJcUIsV0FFUHFELENBQUQsQ0FyQkEsQ0FBcUNqWCxJQ0FyQ2tYLEdBQUEsU0FBQXhTLEdBQUEsU0FBQXdTLGtEQXFCQyxDQUFELE9BckJvQ3prRCxFQUFNeWtELEVBQUF4UyxHQUN4Q3dTLEVBQUE1a0QsVUFBQW1nRCxLQUFBLFdBQ1EsSUFBQWhVLEVBQThCNXJDLEtBQTdCMC9DLEVBQUc5VCxFQUFBOFQsSUFBRXhNLEVBQUN0SCxFQUFBc0gsRUFBRUMsTUFBRzd5QyxNQUFHcS9DLGdCQUVmcHNDLEVBQWdCLEtBREgsR0FBSmpULEdBRWZvL0MsRUFBSWEsT0FDSmIsRUFBSWMsWUFDSmQsRUFBSWlCLFVBQXVELEVBQTNDM2dELEtBQUtrZ0QsaUJBQWlCLG1CQUN0Q1IsRUFBSUMsWUFBY0EsRUFDbEJELEVBQUlrQixZQUFjLFVBQ2xCbEIsRUFBSTRELFlBQVl0akQsS0FBS29qRCxVQUVyQjFELEVBQUlnRSxPQUFPeFEsRUFBSTMvQixFQUFNNC9CLEVBQUk1L0IsR0FDekJtc0MsRUFBSWlFLE9BQU96USxFQUFJMy9CLEVBQU00L0IsRUFBSTUvQixHQUN6Qm1zQyxFQUFJZ0UsT0FBT3hRLEVBQUkzL0IsRUFBTTQvQixFQUFJNS9CLEdBQ3pCbXNDLEVBQUlpRSxPQUFPelEsRUFBSTMvQixFQUFNNC9CLEVBQUk1L0IsR0FFekJtc0MsRUFBSWtFLFlBQ0psRSxFQUFJb0IsU0FDSnBCLEVBQUlxQixXQUVQc0QsQ0FBRCxDQXJCQSxDQUFvQ2xYLElDQXBDbVgsR0FBQSxTQUFBelMsR0FBQSxTQUFBeVMsa0RBcUJDLENBQUQsT0FyQjBDMWtELEVBQU0wa0QsRUFBQXpTLEdBQzlDeVMsRUFBQTdrRCxVQUFBbWdELEtBQUEsV0FDUSxJQUFBaFUsRUFBOEI1ckMsS0FBN0IwL0MsRUFBRzlULEVBQUE4VCxJQUFFeE0sRUFBQ3RILEVBQUFzSCxFQUFFQyxNQUFHN3lDLE1BQUdxL0MsZ0JBRWZwc0MsRUFBZ0IsSUFESCxHQUFKalQsR0FFZm8vQyxFQUFJYSxPQUNKYixFQUFJYyxZQUNKZCxFQUFJQyxZQUFjQSxFQUVsQkQsRUFBSWdFLE9BQU94USxFQUFHQyxFQUFJNS9CLEdBQ2xCbXNDLEVBQUlpRSxPQUFPelEsRUFBSTMvQixFQUFPMkIsS0FBS2d2QyxJQUFJLE1BQVEvUSxFQUFJNS9CLEVBQU8yQixLQUFLaXZDLElBQUksT0FDM0R6RSxFQUFJaUUsT0FBT3pRLEVBQUkzL0IsRUFBTzJCLEtBQUtndkMsSUFBSSxNQUFRL1EsRUFBSTUvQixFQUFPMkIsS0FBS2l2QyxJQUFJLE9BRTNEekUsRUFBSWlCLFVBQXVELEVBQTNDM2dELEtBQUtrZ0QsaUJBQWlCLG1CQUN0Q1IsRUFBSWtCLFlBQWMsVUFDbEJsQixFQUFJNEQsWUFBWXRqRCxLQUFLb2pELFVBRXJCMUQsRUFBSWtFLFlBQ0psRSxFQUFJb0IsU0FDSnBCLEVBQUlxQixXQUVQdUQsQ0FBRCxDQXJCQSxDQUEwQ25YLElDQTFDb1gsR0FBQSxTQUFBMVMsR0FBQSxTQUFBMFMsa0RBaUJDLENBQUQsT0FqQmdDM2tELEVBQU0ya0QsRUFBQTFTLEdBQ3BDMFMsRUFBQTlrRCxVQUFBbWdELEtBQUEsV0FDUSxJQUFBaFUsRUFBeUM1ckMsS0FBeEMwL0MsUUFBS3hNLEVBQUN0SCxFQUFBc0gsRUFBRUMsRUFBQ3ZILEVBQUF1SCxFQUFFN3lDLEVBQUNzckMsRUFBQXRyQyxFQUFJc3JDLEVBQUF3SCxPQUFFK1AsRUFBS3ZYLEVBQUF1WCxNQUFFeEQsRUFBVy9ULEVBQUErVCxZQUV2Q3BzQyxFQUFnQixJQURELEdBQUpqVCxHQUVmby9DLEVBQUlhLE9BQ0piLEVBQUljLFlBQ0pkLEVBQUlDLFlBQWNBLEVBQ2xCRCxFQUFJaUIsVUFBWSxFQUNoQmpCLEVBQUlrQixZQUFjdUMsRUFDbEJ6RCxFQUFJNEQsWUFBWXRqRCxLQUFLb2pELFVBQ2pCN3ZDLEVBQU8sSUFDVG1zQyxFQUFJZSxJQUFJdk4sRUFBR0MsRUFBRzUvQixFQUFNLEVBQUcsRUFBSTJCLEtBQUt3ckMsSUFBSSxHQUNwQ2hCLEVBQUlvQixVQUVOcEIsRUFBSXFCLFdBRVB3RCxDQUFELENBakJBLENBQWdDcFgsSUNBaENxWCxHQUFBLFNBQUEzUyxHQUFBLFNBQUEyUyxrREEyQkMsQ0FBRCxPQTNCc0M1a0QsRUFBTTRrRCxFQUFBM1MsR0FDMUMyUyxFQUFBL2tELFVBQUFtZ0QsS0FBQSxXQUNRLElBQUFoVSxFQUF5QzVyQyxLQUF4QzAvQyxRQUFLeE0sRUFBQ3RILEVBQUFzSCxFQUFFQyxFQUFDdkgsRUFBQXVILEVBQUU3eUMsRUFBQ3NyQyxFQUFBdHJDLEVBQUlzckMsRUFBQXdILE9BQUUrUCxFQUFLdlgsRUFBQXVYLE1BQUV4RCxFQUFXL1QsRUFBQStULFlBRXZDcHNDLEVBQWdCLElBREQsR0FBSmpULEdBRWZvL0MsRUFBSWEsT0FDSmIsRUFBSWMsWUFDSmQsRUFBSUMsWUFBY0EsRUFDbEJELEVBQUlpQixVQUFZLEVBQ2hCakIsRUFBSWtCLFlBQWN1QyxFQUNsQnpELEVBQUltQixVQUFZc0MsRUFDaEJ6RCxFQUFJNEQsWUFBWXRqRCxLQUFLb2pELFVBQ2pCN3ZDLEVBQU8sSUFDVG1zQyxFQUFJZSxJQUFJdk4sRUFBR0MsRUFBRzUvQixFQUFNLEVBQUcsRUFBSTJCLEtBQUt3ckMsSUFBSSxHQUNwQ2hCLEVBQUlvQixVQUVOcEIsRUFBSXFCLFVBRUpyQixFQUFJYSxPQUNKYixFQUFJYyxZQUNKZCxFQUFJbUIsVUFBWXNDLEVBQ1o1dkMsRUFBTyxJQUNUbXNDLEVBQUllLElBQUl2TixFQUFHQyxFQUFVLEdBQVA1L0IsRUFBWSxFQUFHLEVBQUkyQixLQUFLd3JDLElBQUksR0FDMUNoQixFQUFJMWYsUUFFTjBmLEVBQUlxQixXQUVQeUQsQ0FBRCxDQTNCQSxDQUFzQ3JYLElDQ3RDc1gsR0FBQSxTQUFBNVMsR0FBQSxTQUFBNFMsa0RBeUJDLENBQUQsT0F6QnVDN2tELEVBQU02a0QsRUFBQTVTLEdBQzNDNFMsRUFBQWhsRCxVQUFBbWdELEtBQUEsV0FDUSxJQUFBaFUsRUFBeUM1ckMsS0FBeEMwL0MsUUFBS3hNLEVBQUN0SCxFQUFBc0gsRUFBRUMsRUFBQ3ZILEVBQUF1SCxFQUFFN3lDLEVBQUNzckMsRUFBQXRyQyxFQUFFOHlDLEVBQUV4SCxFQUFBd0gsR0FBRXVNLEVBQVcvVCxFQUFBK1QsWUFBRXdELEVBQUt2WCxFQUFBdVgsTUFFdkM1dkMsRUFBZ0IsS0FERCxJQUFKalQsR0FFZm8vQyxFQUFJYSxPQUNKYixFQUFJYyxZQUNKZCxFQUFJQyxZQUFjQSxFQUNsQkQsRUFBSWlCLFVBQVkzZ0QsS0FBS2tnRCxpQkFBaUIsbUJBQ3RDUixFQUFJNEQsWUFBWXRqRCxLQUFLb2pELFVBQ2pCaFEsSUFBT2pILEVBQUVBLEdBQUNzUyxNQUNaaUIsRUFBSW1CLFVBQVk3Z0QsS0FBS2tnRCxpQkFBaUIsa0JBQzdCOU0sSUFBT2pILEVBQUVBLEdBQUN1UyxNQUNuQmdCLEVBQUltQixVQUFZN2dELEtBQUtrZ0QsaUJBQWlCLG1CQUV0Q1IsRUFBSW1CLFVBQVk3Z0QsS0FBS2tnRCxpQkFBaUIsa0JBQ3RDUixFQUFJaUIsVUFBWSxHQUVkd0MsSUFBT3pELEVBQUltQixVQUFZc0MsR0FDdkI1dkMsRUFBTyxJQUNUbXNDLEVBQUllLElBQUl2TixFQUFHQyxFQUFHNS9CLEVBQU0sRUFBRyxFQUFJMkIsS0FBS3dyQyxJQUFJLEdBQ3BDaEIsRUFBSTFmLFFBRU4wZixFQUFJcUIsV0FFUDBELENBQUQsQ0F6QkEsQ0FBdUN0WCxJQ0F2Q3VYLEdBQUEsU0FBQTdTLEdBQUEsU0FBQTZTLGtEQWdCQyxDQUFELE9BaEJxQzlrRCxFQUFNOGtELEVBQUE3UyxHQUN6QzZTLEVBQUFqbEQsVUFBQW1nRCxLQUFBLFdBQ1EsSUFBQWhVLEVBQWtDNXJDLEtBQWpDMC9DLFFBQUt4TSxNQUFHQyxNQUFHN3lDLE1BQUc4eUMscUJBQ3JCc00sRUFBSWEsT0FDSmIsRUFBSWMsWUFDSmQsRUFBSWlCLFVBQVkzZ0QsS0FBS2tnRCxpQkFBaUIsbUJBQ3RDUixFQUFJQyxZQUFjLEdBQ2xCLElBQUlwc0MsRUFBVyxHQUFKalQsRUFDWG8vQyxFQUFJbUIsVUFBWTdnRCxLQUFLa2dELGlCQUFpQixrQkFDbEM5TSxJQUFPakgsRUFBQUEsR0FBR3VTLE9BQVN0TCxJQUFPakgsRUFBQUEsR0FBR3NTLFFBQy9CbHJDLEVBQVcsSUFBSmpULEdBRVRvL0MsRUFBSWUsSUFBSXZOLEVBQUdDLEVBQUc1L0IsRUFBTSxFQUFHLEVBQUkyQixLQUFLd3JDLElBQUksR0FDcENoQixFQUFJMWYsT0FDSjBmLEVBQUlxQixXQUVQMkQsQ0FBRCxDQWhCQSxDQUFxQ3ZYLElDSHJDd1gsR0FBQSxXQUlFLFNBQ1lBLEVBQUFqRixFQUNBeE0sRUFDQUMsRUFDQTUvQixFQUNBNi9CLEdBSkFwekMsS0FBRzAvQyxJQUFIQSxFQUNBMS9DLEtBQUNrekMsRUFBREEsRUFDQWx6QyxLQUFDbXpDLEVBQURBLEVBQ0FuekMsS0FBSXVULEtBQUpBLEVBQ0F2VCxLQUFFb3pDLEdBQUZBLEVBUkZwekMsS0FBVzIvQyxZQUFHLEVBQ2QzL0MsS0FBS21qRCxNQUFHLEVBUWQsQ0FLTixPQUhFd0IsRUFBQWxsRCxVQUFBbWxELEtBQUEsYUFHREQsQ0FBRCxJQ0NNRSxHQUErQixtQkFBWDN1QyxPQUNTLG1CQUFoQjR1QyxhQUE2QixJQUFJQSxZQUNwRCxJQUlRQyxHQUpGQyxHQUE2QixtQkFBaEJDLFlBQTZCLElBQUlBLGlCQUFnQjdoRCxFQUU5RDhoRCxHQUFTM2xELE1BQU1FLFVBQVVzQyxNQUFNcEMsS0FEdkIscUVBR05vbEQsR0FBTSxDQUFBLEVBR1hHLEdBRkcxeEMsU0FBUSxTQUFDb2pDLEVBQUdyMkMsR0FBQyxPQUFLd2tELEdBQUluTyxHQUFLcjJDLEtBSWpDLElBQU00a0QsR0FBVXJsRCxPQUFPc2xELGFBQWE5c0IsS0FBS3g0QixRQUNHLG1CQUFwQnFXLFdBQVd2VSxNQUM3QnVVLFdBQVd2VSxLQUFLMDJCLEtBQUtuaUIsWUFFM0IsT0E0Qk1rdkMsR0FBd0IsbUJBQVRDLEtBQXNCLFNBQUNDLEdBQUcsT0FBS0QsS0FBS0MsRUFBSSxFQUN2RFYsR0FBYSxTQUFDVSxHQUFHLE9BQUtydkMsT0FBT3RVLEtBQUsyakQsRUFBSyxVQUFVL3ZDLFNBQVMsU0FBUyxFQXZCcEQsU0FBQyt2QyxHQUlsQixJQUZBLElBQUlDLEVBQUtDLEVBQUlDLEVBQUlDLEVBQUlDLEVBQU0sR0FDckJyZixFQUFNZ2YsRUFBSTdrRCxPQUFTLEVBQ2hCSCxFQUFJLEVBQUdBLEVBQUlnbEQsRUFBSTdrRCxRQUFTLENBQzdCLElBQUsra0QsRUFBS0YsRUFBSTN2QixXQUFXcjFCLE1BQVEsTUFDNUJtbEQsRUFBS0gsRUFBSTN2QixXQUFXcjFCLE1BQVEsTUFDNUJvbEQsRUFBS0osRUFBSTN2QixXQUFXcjFCLE1BQVEsSUFDN0IsTUFBTSxJQUFJVixVQUFVLDJCQUV4QitsRCxHQUFPVixJQURQTSxFQUFPQyxHQUFNLEdBQU9DLEdBQU0sRUFBS0MsSUFDVixHQUFLLElBQ3BCVCxHQUFPTSxHQUFPLEdBQUssSUFDbkJOLEdBQU9NLEdBQU8sRUFBSSxJQUNsQk4sR0FBYSxHQUFOTSxFQUNqQixDQUNBLE9BQU9qZixFQUFNcWYsRUFBSTdqRCxNQUFNLEVBQUd3a0MsRUFBTSxHQUFLLE1BQU0yQyxVQUFVM0MsR0FBT3FmLENBQ2hFLEVBU01DLEdBQWtCaEIsR0FDbEIsU0FBQ2lCLEdBQUcsT0FBSzV2QyxPQUFPdFUsS0FBS2trRCxHQUFLdHdDLFNBQVMsU0FBUyxFQUM1QyxTQUFDc3dDLEdBSUMsSUFGQSxJQUNJQyxFQUFPLEdBQ0Z4bEQsRUFBSSxFQUFHdUIsRUFBSWdrRCxFQUFJcGxELE9BQVFILEVBQUl1QixFQUFHdkIsR0FGdkIsS0FHWndsRCxFQUFLdmtELEtBQUsyakQsR0FBUXhrRCxNQUFNLEtBQU1tbEQsRUFBSUUsU0FBU3psRCxFQUFHQSxFQUhsQyxRQUtoQixPQUFPOGtELEdBQU1VLEVBQUszNUMsS0FBSyxJQUMzQixFQVVFNjVDLEdBQVUsU0FBQ3JQLEdBQ2IsR0FBSUEsRUFBRWwyQyxPQUFTLEVBRVgsT0FESXdsRCxFQUFLdFAsRUFBRWhoQixXQUFXLElBQ1YsSUFBT2doQixFQUNic1AsRUFBSyxLQUFTZixHQUFRLElBQVFlLElBQU8sR0FDakNmLEdBQVEsSUFBYSxHQUFMZSxHQUNmZixHQUFRLElBQVNlLElBQU8sR0FBTSxJQUMzQmYsR0FBUSxJQUFTZSxJQUFPLEVBQUssSUFDN0JmLEdBQVEsSUFBYSxHQUFMZSxHQUc5QixJQUFJQSxFQUFLLE1BQzBCLE1BQTVCdFAsRUFBRWhoQixXQUFXLEdBQUssUUFDbEJnaEIsRUFBRWhoQixXQUFXLEdBQUssT0FDekIsT0FBUXV2QixHQUFRLElBQVNlLElBQU8sR0FBTSxHQUNoQ2YsR0FBUSxJQUFTZSxJQUFPLEdBQU0sSUFDOUJmLEdBQVEsSUFBU2UsSUFBTyxFQUFLLElBQzdCZixHQUFRLElBQWEsR0FBTGUsRUFFOUIsRUFDTUMsR0FBVSxnREFRVkMsR0FBVXZCLEdBQ1YsU0FBQ3ZrRCxHQUFDLE9BQUs0VixPQUFPdFUsS0FBS3RCLEVBQUcsUUFBUWtWLFNBQVMsU0FBUyxFQUNoRHd2QyxHQUNJLFNBQUMxa0QsR0FBQyxPQUFLdWxELEdBQWdCYixHQUFJcUIsT0FBTy9sRCxHQUFHLEVBQ3JDLFNBQUNBLEdBQUMsT0FBSytrRCxHQUFXL2tELEVBTk44UixRQUFRK3pDLEdBQVNGLElBTVIsRUMvR3pCSyxHQUFTLGlTQUlmQyxHQUFBLFNBQUExVSxHQVVFLFNBQ1kwVSxFQUFBN0csRUFDQXhNLEVBQ0FDLEVBQ0E1L0IsRUFDQTYvQixHQUVWLElBQUF0QixFQUFBRCxFQUFLbHlDLEtBQUFLLEtBQUMwL0MsRUFBS3hNLEVBQUdDLEVBQUc1L0IsRUFBTTYvQixJQUFJcHpDLEtBTmpCOHhDLEVBQUc0TixJQUFIQSxFQUNBNU4sRUFBQ29CLEVBQURBLEVBQ0FwQixFQUFDcUIsRUFBREEsRUFDQXJCLEVBQUl2K0IsS0FBSkEsRUFDQXUrQixFQUFFc0IsR0FBRkEsRUFkSnRCLEVBQUFxUCxJQUFNLElBQUlxRixNQUNWMVUsRUFBS2dPLE1BQUcsRUFDUmhPLEVBQWMyVSxlQUFHLElBQ2pCM1UsRUFBZTRVLGdCQUFHLElBQ2xCNVUsRUFBWTZVLGFBQUcsSUFDZjdVLEVBQUE4VSxVQUFZQyxZQUFZMXZDLE1BRXhCMjZCLEVBQVdnVixhQUFHLEVBb0J0QmhWLEVBQUE4UyxLQUFPLFdBQ0wsR0FBSzlTLEVBQUtxUCxJQUFJQyxTQUFkLENBSU0sSUFBQXhWLEVBQTBEa0csRUFBekQ0TixRQUFLeE0sRUFBQ3RILEVBQUFzSCxFQUFFQyxFQUFDdkgsRUFBQXVILEVBQUU1L0IsRUFBSXE0QixFQUFBcjRCLEtBQUU0dEMsRUFBR3ZWLEVBQUF1VixJQUFFc0YsRUFBYzdhLEVBQUE2YSxlQUFFQyxFQUFlOWEsRUFBQThhLGdCQUV0RHZ2QyxFQUFNMHZDLFlBQVkxdkMsTUFFbkIyNkIsRUFBSzhVLFlBQ1I5VSxFQUFLOFUsVUFBWXp2QyxHQUduQnVvQyxFQUFJcUgsVUFBVTdULEVBQUkzL0IsRUFBTyxFQUFHNC9CLEVBQUk1L0IsRUFBTyxFQUFHQSxFQUFNQSxHQUNoRG1zQyxFQUFJQyxZQUFjN04sRUFBS2dPLE1BQ3ZCSixFQUFJNEIsVUFBVUgsRUFBS2pPLEVBQUkzL0IsRUFBTyxFQUFHNC9CLEVBQUk1L0IsRUFBTyxFQUFHQSxFQUFNQSxHQUNyRG1zQyxFQUFJQyxZQUFjLEVBRWxCLElBQU1xSCxFQUFVN3ZDLEVBQU0yNkIsRUFBSzhVLFVBRTNCLEdBQUs5VSxFQUFLZ1YsWUFTSCxDQUNMLElBQU1HLEVBQWM5dkMsRUFBTTI2QixFQUFLOFUsVUFFL0IsR0FEQTlVLEVBQUtnTyxNQUFRNXFDLEtBQUtpRCxJQUFJLEVBQUk4dUMsRUFBY1AsRUFBaUIsR0FDckRPLEdBQWVQLEVBR2pCLE9BRkE1VSxFQUFLZ08sTUFBUSxPQUNiSixFQUFJcUgsVUFBVTdULEVBQUkzL0IsRUFBTyxFQUFHNC9CLEVBQUk1L0IsRUFBTyxFQUFHQSxFQUFNQSxFQUduRCxNQWhCQ3UrQixFQUFLZ08sTUFBUTVxQyxLQUFLbUQsSUFBSTJ1QyxFQUFVUCxFQUFnQixHQUM1Q08sR0FBV1AsSUFDYjNVLEVBQUtnTyxNQUFRLEVBQ2J6b0MsWUFBVyxXQUNUeTZCLEVBQUtnVixhQUFjLEVBQ25CaFYsRUFBSzhVLFVBQVlDLFlBQVkxdkMsS0FDL0IsR0FBRzI2QixFQUFLNlUsZUFZWk8sc0JBQXNCcFYsRUFBSzhTLEtBcEMxQixDQXFDSCxFQWhEa0IsSUFBSXVDLEtBQUssQ0FBQ2IsSUFBUyxDQUFDbnlCLEtBQU0sa0JBRTFDLElBQU1pekIsRUFBYSw2QkFBNkJwbEQsT0QyRnJDLFNBQUNxbEQsR0FBb0IsT0FBUjVtRCxVQUFBQyxPQUFBLFFBQUEwQyxJQUFBM0MsVUFBQSxJQUFBQSxVQUFBLEdBekZULFNBQUM0bUQsR0FBRyxPQUFLQSxFQUN2QmoxQyxRQUFRLEtBQU0sSUFBSUEsUUFBUSxVQUFVLFNBQUNrMUMsR0FBRSxNQUFXLEtBQU5BLEVBQVksSUFBTSxNQUFJLENBeUZqRUMsQ0FBV25CLEdBQVFpQixJQUNuQmpCLEdBQVFpQixFQUFJLENDN0ZrQ2hCLENBQU9DLFlBRXZEeFUsRUFBS3FQLElBQU0sSUFBSXFGLE1BQ2YxVSxFQUFLcVAsSUFBSWtHLElBQU1ELEdBQ2hCLENBMkNILE9BckUrQnhuRCxFQUFVMm1ELEVBQUExVSxHQXFFeEMwVSxDQUFELENBckVBLENBQStCNUIsSUNpRHpCNkMsR0FBb0IsU0FDeEJyWSxFQUNBc1ksRUFDQTNZLG9CQUFBLElBQUFBLElBQUFBLEVBQXVCLEtBRXZCLElBQU00WSxFQUFZRCxFQUFldFksR0FDakMsT0FBS3VZLEVBR0Q1WSxFQUFZLEtBQU80WSxFQUFVcFgsU0FDeEIsQ0FDTFQsTUFBTzZYLEVBQVVwWCxTQUFTVCxPQUFTNlgsRUFBVTdYLE1BQzdDSCxRQUMyQixRQUF6QjlELEVBQUE4YixFQUFVcFgsU0FBU1osY0FBTSxJQUFBOUQsT0FBQSxFQUFBQSxFQUFFbHJDLFFBQVMsRUFDaENnbkQsRUFBVXBYLFNBQVNaLE9BQ25CZ1ksRUFBVWhZLE9BQ2hCQyxRQUMyQixRQUF6QjVxQyxFQUFBMmlELEVBQVVwWCxTQUFTWCxjQUFNLElBQUE1cUMsT0FBQSxFQUFBQSxFQUFFckUsUUFBUyxFQUNoQ2duRCxFQUFVcFgsU0FBU1gsT0FDbkIrWCxFQUFVL1gsUUFLaEJiLEVBQVksS0FBTzRZLEVBQVVyWCxPQUN4QixDQUNMUixNQUFPNlgsRUFBVXJYLE9BQU9SLE9BQVM2WCxFQUFVN1gsTUFDM0NILFFBQ3lCLFFBQXZCMXFDLEVBQUEwaUQsRUFBVXJYLE9BQU9YLGNBQU0sSUFBQTFxQyxPQUFBLEVBQUFBLEVBQUV0RSxRQUFTLEVBQzlCZ25ELEVBQVVyWCxPQUFPWCxPQUNqQmdZLEVBQVVoWSxPQUNoQkMsUUFDeUIsUUFBdkJxRSxFQUFBMFQsRUFBVXJYLE9BQU9WLGNBQU0sSUFBQXFFLE9BQUEsRUFBQUEsRUFBRXR6QyxRQUFTLEVBQzlCZ25ELEVBQVVyWCxPQUFPVixPQUNqQitYLEVBQVUvWCxRQUtiLENBQ0xFLE1BQU82WCxFQUFVN1gsTUFDakJILE9BQVFnWSxFQUFVaFksT0FDbEJDLE9BQVErWCxFQUFVL1gsUUFwQ0csSUFzQ3pCLEVBZ0NNZ1ksR0FFRixDQUFBLEVBR0VDLEdBQTJCLFNBQy9CbEksR0FFSUEsSUFDRkEsRUFBSW1JLHVCQUF3QixFQUM1Qm5JLEVBQUlvSSxzQkFBd0IsT0FFaEMsRUFFQSxTQUFTQyxLQUNQLE1BQU8sZ0VBQWdFMzBDLEtBQ3JFNDBDLFVBQVVDLFVBRWQsQ0FtQ0EsSUFBSUMsR0FBTSxFQUNZLG9CQUFYQyxTQUNURCxHQUFNQyxPQUFPQyxrQkFBb0IsR0FHbkMsSUFBTUMsS0FBcUJ6YyxHQUFBLENBQ3pCMFUsUUFBU2xULElBQ1JoQixFQUFBQSxNQUFNZ0QsTUFBTyxDQUNadEIscUJBQXNCLFdBRXhCbEMsR0FBQ1EsRUFBQUEsTUFBTThELE1BQU8sQ0FDWnBDLHFCQUFzQixXQUV4QmxDLEdBQUNRLEVBQUFBLE1BQU0rRCxNQUFPLENBQ1p2QyxZQUFhLFVBQ2JDLGNBQWUsVUFDZkYsZUFBZ0IsVUFDaEJHLHFCQUFzQixXQUV4QmxDLEdBQUNRLEVBQUFBLE1BQU1nRSxpQkFBa0IsQ0FDdkJ4QyxZQUFhLFVBQ2JDLGNBQWUsVUFDZkYsZUFBZ0IsVUFDaEJJLGVBQWdCLFVBQ2hCQyxrQkFBbUIsVUFDbkJDLGVBQWdCLFVBQ2hCQyxrQkFBbUIsVUFDbkJSLFlBQWEscUJBQ2JlLFdBQVksT0FFZDdDLEdBQUNRLEVBQUFBLE1BQU1tRSxjQUFlLENBRXBCekMscUJBQXNCLFVBQ3RCSCxlQUFnQixVQUNoQkMsWUFBYSxVQUNiQyxjQUFlLFVBR2ZFLGVBQWdCLFVBQ2hCQyxrQkFBbUIsVUFDbkJDLGVBQWdCLFVBQ2hCQyxrQkFBbUIsVUFHbkJiLGtCQUFtQixVQUNuQkMsa0JBQW1CLFVBQ25CQyxpQkFBa0IsVUFDbEJDLGlCQUFrQixVQUNsQkMsaUJBQWtCLFVBR2xCZSxlQUFnQixVQUNoQmQsWUFBYSxlQUlqQjRhLEdBQUEsV0F5REUsU0FBQUEsRUFBWTd2QixRQUFBLElBQUFBLElBQUFBLEVBQW1DLENBQUEsR0FBL0MsSUE4QkNxWixFQUFBOXhDLEtBdEZEQSxLQUFBdW9ELGVBQWtDLENBQ2hDelosVUFBVyxHQUNYMFosZ0JBQWdCLEVBQ2hCelosUUFBUyxHQUNUQyxPQUFRLEVBQ1JDLGFBQWEsRUFDYkMsWUFBWSxFQUNaQyxNQUFPL0MsRUFBS0EsTUFBQ3FELGNBQ2JnWixtQkFBb0JwYyxFQUFrQkEsbUJBQUN1VyxRQUN2Q3ZULFlBQVksRUFDWkUsY0FBYyxFQUNkbVosZUFBZSxFQUNmQyxtQkFBbUIsRUFDbkJ4SSxhQUFja0ksR0FDZFosZUFBZ0JqWSxFQUNoQm9aLFdBQVcsRUFDWEMsa0JBQWtCLEVBQ2xCQyxzQkFBdUIsR0FhakI5b0QsS0FBQStvRCxPQUFpQnZjLEVBQU1BLE9BQUN3YyxLQUN4QmhwRCxLQUFXaXBELFlBQVcsR0FDdEJqcEQsS0FBV2twRCxhQUFHLEVBQ2RscEQsS0FBQW1wRCxnQkFBNEIsSUFBSUMsU0FHakNwcEQsS0FBQXFwRCxZQUF3QixJQUFJRCxTQUM1QnBwRCxLQUFBc3BELGtCQUE4QixJQUFJRixTQU1qQ3BwRCxLQUFrQnUwQyxtQkFBc0IsS0FLaER2MEMsS0FBZ0J1cEQsaUJBS1osR0FDSXZwRCxLQUFxQndwRCxzQkFBeUMsR0F5WXRFeHBELEtBQUF5cEQsb0JBQXNCLFNBQUNDLEVBQW9CQyxnQkFBQSxJQUFBQSxJQUFBQSxFQUFXLEdBQzdDLElBQUE1YSxFQUFXK0MsRUFBS3JaLGdCQUNoQm14QixFQUFTOVgsRUFBSytYLDRCQUNmQyxFQUFRaFksRUFBS2lZLFNBQVNDLFVBQVVDLGVBQWVQLEdBQy9DdGtELEVBQU04UCxLQUFLNnBCLE9BQU8rcUIsRUFBTTVXLEVBQUluRSxFQUFVNmEsRUFBUSxHQUFLQSxHQUNuRE0sRUFBTWgxQyxLQUFLNnBCLE9BQU8rcUIsRUFBTTNXLEVBQUlwRSxFQUFVNmEsRUFBUSxHQUFLQSxHQUFTRCxFQUc1RFEsRUFBZ0IsSUFBSWYsU0FGZmhrRCxFQUFNd2tELEVBQ05NLEVBQU1OLEdBRVhwcUQsRUFBSXN5QyxFQUFLaVksU0FBU0UsZUFBZUUsR0FJdkMsR0FIQXJZLEVBQUt3WCxrQkFBb0I5cEQsRUFDekJzeUMsRUFBS3NZLHFCQUF1QixDQUFDaGxELEVBQU0sRUFBRzhrRCxFQUFNLEdBRU0sS0FBaEIsUUFBOUJubEQsVUFBQTZtQyxFQUFBa0csRUFBS3VZLHFDQUFpQmpsRCxFQUFNLFVBQUUsSUFBQUwsT0FBQSxFQUFBQSxFQUFHbWxELEVBQU0sSUFJekMsT0FIQXBZLEVBQUt3WSxlQUFpQixFQUFFLEdBQUksR0FDNUJ4WSxFQUFLdVgsWUFBYyxJQUFJRCxjQUN2QnRYLEVBQUt5WSxhQUlQelksRUFBS3VYLFlBQWM3cEQsRUFDbkJzeUMsRUFBS3dZLGVBQWlCLENBQUNsbEQsRUFBTSxFQUFHOGtELEVBQU0sR0FDdENwWSxFQUFLeVksYUFFRHhDLE1BQWtCalcsRUFBSzBZLFdBQzdCLEVBRVF4cUQsS0FBV3lxRCxZQUFHLFNBQUNucEQsR0FFckIsR0FEZXd3QyxFQUFLNFksYUFDcEIsQ0FFQXBwRCxFQUFFcXBELGlCQUNGLElBQU1iLEVBQVEsSUFBSVYsU0FBUzluRCxFQUFFc3BELFFBQVUxQyxHQUFLNW1ELEVBQUVxb0QsUUFBVXpCLElBQ3hEcFcsRUFBSzJYLG9CQUFvQkssRUFKTCxDQUt0QixFQUVROXBELEtBQWM2cUQsZUFBRyxTQUFDdnBELEdBQ3hCLElBQUl3b0QsRUFBUSxJQUFJVixTQUNWMEIsRUFBU2haLEVBQUs0WSxhQUNwQixJQUFLSSxFQUFRLE9BQU9oQixFQUNwQixJQUFNOUYsRUFBTzhHLEVBQU9DLHdCQUNkQyxFQUFVMXBELEVBQUUycEQsZUFLbEIsT0FKQW5CLEVBQVEsSUFBSVYsVUFDVDRCLEVBQVEsR0FBR0UsUUFBVWxILEVBQUtoWSxNQUFRa2MsSUFDbEM4QyxFQUFRLEdBQUdHLFFBQVVuSCxFQUFLekgsS0FBTzJMLEdBR3RDLEVBRVFsb0QsS0FBWW9yRCxhQUFHLFNBQUM5cEQsR0FFdEIsR0FEZXd3QyxFQUFLNFksYUFDcEIsQ0FFQXBwRCxFQUFFcXBELGlCQUNGN1ksRUFBS29YLGFBQWMsRUFDbkIsSUFBTVksRUFBUWhZLEVBQUsrWSxlQUFldnBELEdBQ2xDd3dDLEVBQUtxWCxnQkFBa0JXLEVBQ3ZCaFksRUFBSzJYLG9CQUFvQkssRUFOTCxDQU90QixFQUVROXBELEtBQVdxckQsWUFBRyxTQUFDL3BELEdBRXJCLEdBRGV3d0MsRUFBSzRZLGFBQ3BCLENBRUFwcEQsRUFBRXFwRCxpQkFDRjdZLEVBQUtvWCxhQUFjLEVBQ25CLElBQU1ZLEVBQVFoWSxFQUFLK1ksZUFBZXZwRCxHQUM5Qm9QLEVBQVMsR0FHWHdFLEtBQUtvMkMsSUFBSXhCLEVBQU01VyxFQUFJcEIsRUFBS3FYLGdCQUFnQmpXLEdBRjNCLElBR2JoK0IsS0FBS28yQyxJQUFJeEIsRUFBTTNXLEVBQUlyQixFQUFLcVgsZ0JBQWdCaFcsR0FIM0IsTUFLYnppQyxFQUFTb2hDLEVBQUtyWixRQUFRcXdCLHVCQUV4QmhYLEVBQUsyWCxvQkFBb0JLLEVBQU9wNUMsRUFiWixDQWN0QixFQUVRMVEsS0FBQXVyRCxXQUFhLFdBQ25CelosRUFBS29YLGFBQWMsQ0FDckIsRUF1RUFscEQsS0FBQXM4QyxXQUFhLFdBQ0osSUFBQWtQLEVBQWUxWixFQUFJMFosWUFDbkIxYyxFQUFhZ0QsRUFBS3JaLGtCQUV6QixPQUN5QixJQUF0Qit5QixFQUFZLEdBQUcsSUFBWUEsRUFBWSxHQUFHLEtBQU8xYyxFQUFZLEdBQ3ZDLElBQXRCMGMsRUFBWSxHQUFHLElBQVlBLEVBQVksR0FBRyxLQUFPMWMsRUFBWSxFQUV2RHhDLEVBQUFBLE9BQU9BLE9BR1UsSUFBdEJrZixFQUFZLEdBQUcsR0FDUyxJQUF0QkEsRUFBWSxHQUFHLEdBQWlCbGYsRUFBQUEsT0FBT2tRLFFBQ2xDZ1AsRUFBWSxHQUFHLEtBQU8xYyxFQUFZLEVBQVV4QyxFQUFBQSxPQUFPbVEsV0FDaERuUSxFQUFBQSxPQUFPbWYsS0FDVkQsRUFBWSxHQUFHLEtBQU8xYyxFQUFZLEVBQ2pCLElBQXRCMGMsRUFBWSxHQUFHLEdBQWlCbGYsRUFBQUEsT0FBT29RLFNBQ2xDOE8sRUFBWSxHQUFHLEtBQU8xYyxFQUFZLEVBQVV4QyxFQUFBQSxPQUFPcVEsWUFDaERyUSxFQUFBQSxPQUFPb2YsTUFFTyxJQUF0QkYsRUFBWSxHQUFHLEdBQWlCbGYsRUFBQUEsT0FBT3FmLElBQ2xDSCxFQUFZLEdBQUcsS0FBTzFjLEVBQVksRUFBVXhDLEVBQUFBLE9BQU9zZixPQUNoRHRmLEVBQUFBLE9BQU9BLE1BRXZCLEVBbUtBdHNDLEtBQUE2ckQsZUFBaUIsV0FDZi9aLEVBQUtnYSxZQUFZaGEsRUFBS2pDLE9BQ3RCaUMsRUFBS2dhLGNBQ0xoYSxFQUFLZ2EsWUFBWWhhLEVBQUtpYSxjQUN0QmphLEVBQUtrYSx1QkFDTGxhLEVBQUtnYSxZQUFZaGEsRUFBS21hLGNBQ3RCbmEsRUFBS29hLG9CQUNMcGEsRUFBS3FhLHFCQUNQLEVBRUFuc0QsS0FBQW9zRCxXQUFhLFdBQ1gsR0FBS3RhLEVBQUtqQyxNQUFWLENBQ0EsSUFBTTZQLEVBQU01TixFQUFLakMsTUFBTXdjLFdBQVcsTUFDOUIzTSxJQUNGQSxFQUFJYSxPQUNKYixFQUFJNE0sYUFBYSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FDaEM1TSxFQUFJcUgsVUFBVSxFQUFHLEVBQUdySCxFQUFJb0wsT0FBT3lCLE1BQU83TSxFQUFJb0wsT0FBTzBCLFFBQ2pEOU0sRUFBSXFCLFVBTmtCLENBUTFCLEVBRUEvZ0QsS0FBVzhyRCxZQUFHLFNBQUNoQixHQUNiLFFBRGEsSUFBQUEsSUFBQUEsRUFBU2haLEVBQUtnWixRQUN0QkEsRUFBTCxDQUNBLElBQU1wTCxFQUFNb0wsRUFBT3VCLFdBQVcsTUFDMUIzTSxJQUNGQSxFQUFJYSxPQUNKYixFQUFJNE0sYUFBYSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FDaEM1TSxFQUFJcUgsVUFBVSxFQUFHLEVBQUcrRCxFQUFPeUIsTUFBT3pCLEVBQU8wQixRQUN6QzlNLEVBQUlxQixVQU5jLENBUXRCLEVBRUEvZ0QsS0FBQXlzRCxrQkFBb0IsV0FDbEIsR0FBSzNhLEVBQUtpYSxhQUFWLENBQ0EsSUFBTXJNLEVBQU01TixFQUFLaWEsYUFBYU0sV0FBVyxNQUNyQzNNLElBQ0ZBLEVBQUlhLE9BQ0piLEVBQUk0TSxhQUFhLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUNoQzVNLEVBQUlxSCxVQUFVLEVBQUcsRUFBR2pWLEVBQUtpYSxhQUFhUSxNQUFPemEsRUFBS2lhLGFBQWFTLFFBQy9EOU0sRUFBSXFCLFVBTnlCLENBUWpDLEVBRUEvZ0QsS0FBQWtzRCxrQkFBb0IsV0FDbEIsR0FBS3BhLEVBQUs0WSxhQUFWLENBQ2E1WSxFQUFLclosUUFBUXFXLFVBQzFCLElBQU00USxFQUFNNU4sRUFBSzRZLGFBQWEyQixXQUFXLE1BQ3JDM00sSUFDRkEsRUFBSWEsT0FDSmIsRUFBSTRNLGFBQWEsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQ2hDNU0sRUFBSXFILFVBQVUsRUFBRyxFQUFHalYsRUFBSzRZLGFBQWE2QixNQUFPemEsRUFBSzRZLGFBQWE4QixRQUMvRDlNLEVBQUlxQixVQVB5QixDQVNqQyxFQUVBL2dELEtBQUFtc0Qsb0JBQXNCLFdBQ3BCLEdBQUtyYSxFQUFLNGEsZUFBVixDQUNBLElBQU1oTixFQUFNNU4sRUFBSzRhLGVBQWVMLFdBQVcsTUFDdkMzTSxJQUNGQSxFQUFJYSxPQUNKYixFQUFJNE0sYUFBYSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FDaEM1TSxFQUFJcUgsVUFDRixFQUNBLEVBQ0FqVixFQUFLNGEsZUFBZUgsTUFDcEJ6YSxFQUFLNGEsZUFBZUYsUUFFdEI5TSxFQUFJcUIsVUFYMkIsQ0FhbkMsRUFFQS9nRCxLQUFZMnNELGFBQUcsU0FBQ0MsUUFBQSxJQUFBQSxJQUFBQSxFQUFXOWEsRUFBSzhhLFVBQzlCLElBQU05QixFQUFTaFosRUFBSzRhLGVBQ2Q5Z0IsRUFLRmtHLEVBQUtyWixRQUpQMXpCLEVBQTJCNm1DLEVBQUF1RCxNQUEzQkEsT0FBSyxJQUFBcHFDLEVBQUdxbkMsUUFBTXFELGNBQWExcUMsRUFDM0IwakQsRUFBa0I3YyxFQUFBNmMsbUJBQ2xCM1osRUFBU2xELEVBQUFrRCxVQUNhbEQsRUFBQWloQix1QkFFbEIsSUFBQTduRCxFQUFnQjhzQyxFQUFma0IsUUFBS3VMLFdBQ1osR0FBS3VNLEdBQVc4QixFQUFoQixDQUNBLElBQU1sTixFQUFNb0wsRUFBT3VCLFdBQVcsTUFDOUIsR0FBSzNNLEVBQUwsQ0FDQTVOLEVBQUtxYSxzQkFDRSxJQUFBdlIsRUFBWWdTLEVBQVFoUyxTQUMzQmdTLEVBQVNFLFVBQVV0NUMsU0FBUSxTQUFBeFMsR0FDekIsR0FBS0EsRUFBRWk1QyxNQUFtQixTQUFYajVDLEVBQUVpNUMsS0FBakIsQ0FDQSxJQUFNOFMsRUFBUUMsS0FBS3huRCxNQUFNb25ELEVBQVM3L0IsSUFDOUJrZ0MsRUFBb0JuZSxFQUNsQm9lLEVBQWU1UyxHQUNuQnQ1QyxFQUFFaTVDLEtBQ0YsRUFDQWdULEVBQW9CRixFQUFNOVAsSUFFNUIsR0FBS2lRLEVBQUwsQ0FDSSxJQUFBdGhCLEVBQWVvTyxHQUFRa1QsR0FBbkIzc0QsRUFBQ3FyQyxFQUFBc0gsRUFBS00sRUFBQzVILEVBQUF1SCxFQUNmLEtBQUk1eUMsRUFBSSxHQUFLaXpDLEVBQUksR0FBS2p6QyxHQUFLeXlDLEVBQUl0eUMsUUFBVTh5QyxHQUFLUixFQUFJLEdBQUd0eUMsU0FDbkMsSUFBZHN5QyxFQUFJenlDLEdBQUdpekMsR0FBWCxDQUNNLElBdUJGaU8sRUFpQkFnQixFQXhDRTE5QyxFQUF5QitzQyxFQUFLK1gsc0JBQTdCRCxFQUFLN2tELEVBQUE2a0QsTUFBRXVELEVBQWFwb0QsRUFBQW9vRCxjQUNyQmphLEVBQUlpYSxFQUFnQjVzRCxFQUFJcXBELEVBQ3hCelcsRUFBSWdhLEVBQWdCM1osRUFBSW9XLEVBRTlCbEssRUFBSWEsT0FFRnBSLElBQVUvQyxFQUFBQSxNQUFNd0QsU0FDaEJULElBQVUvQyxFQUFLQSxNQUFDcUQsZUFDaEJOLElBQVUvQyxFQUFLQSxNQUFDZ0QsTUFDaEJELElBQVUvQyxFQUFLQSxNQUFDOEQsTUFDaEJmLElBQVUvQyxFQUFLQSxNQUFDK0QsTUFFaEJ1UCxFQUFJbUQsY0FBZ0IsR0FDcEJuRCxFQUFJb0QsY0FBZ0IsR0FDcEJwRCxFQUFJaFMsWUFBY29FLEVBQUtvTyxpQkFBaUJoVSxFQUFnQkEsaUJBQUNraEIsYUFDekQxTixFQUFJcUQsV0FBYSxJQUVqQnJELEVBQUltRCxjQUFnQixFQUNwQm5ELEVBQUlvRCxjQUFnQixFQUNwQnBELEVBQUloUyxZQUFjLE9BQ2xCZ1MsRUFBSXFELFdBQWEsR0FJZnhFLEVBQU9oK0MsR0FBR2l6QyxHQUFHL3lCLFNBQVMwc0IsRUFBQUEsT0FBT2tnQixnQkFDL0I1TCxFQUFlM1AsRUFBS29PLGlCQUNsQmhVLEVBQWdCQSxpQkFBQ29oQixvQkFJakIvTyxFQUFPaCtDLEdBQUdpekMsR0FBRy95QixTQUFTMHNCLEVBQUFBLE9BQU9vZ0IsZ0JBQy9COUwsRUFBZTNQLEVBQUtvTyxpQkFDbEJoVSxFQUFnQkEsaUJBQUNzaEIsb0JBSWpCalAsRUFBT2grQyxHQUFHaXpDLEdBQUcveUIsU0FBUzBzQixFQUFBQSxPQUFPc2dCLGVBQy9CaE0sRUFBZTNQLEVBQUtvTyxpQkFBaUJoVSxFQUFnQkEsaUJBQUN3aEIsbUJBTWxELElBQUExb0QsRUFBbUJnMUMsR0FBUWg1QyxFQUFFaTVDLE1BQXpCMFQsRUFBRzNvRCxFQUFBa3VDLEVBQ1AwYSxNQUFvQlgsRUFBb0JVLEVBRTFDbEYsSUFBdUJwYyxFQUFrQkEsbUJBQUM0VyxVQUN4QzJKLEVBQVNpQixhQUFlakIsRUFBU2lCLFlBQVludEQsT0FBUyxJQUN4RCtoRCxFQUFjbUssRUFBU2lCLFlBQVlELElBSXpCLElBQUlyTSxHQUFjLENBQzlCN0IsSUFBR0EsRUFDSHhNLEVBQUNBLEVBQ0RDLEVBQUNBLEVBQ0Q5eEMsRUFyRFksSUFxRFR1b0QsRUFDSGhQLFNBQVFBLEVBQ1JXLFNBQVV2NkMsRUFDVnloRCxZQUFXQSxFQUNYdFQsTUFBT3NaLEVBQ1BoSCxhQUFZQSxJQUVSN0IsT0FDTkYsRUFBSXFCLFNBakV3QixDQUhGLENBUmUsQ0E2RTNDLEdBakZpQixDQUZnQixDQW9GbkMsRUFFQS9nRCxLQUFBZ3NELHFCQUF1QixXQUNyQixHQUFLbGEsRUFBS2djLGdCQUFWLENBQ0EsSUFBTXBPLEVBQU01TixFQUFLZ2MsZ0JBQWdCekIsV0FBVyxNQUN4QzNNLElBQ0ZBLEVBQUlhLE9BQ0piLEVBQUk0TSxhQUFhLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUNoQzVNLEVBQUlxSCxVQUNGLEVBQ0EsRUFDQWpWLEVBQUtnYyxnQkFBZ0J2QixNQUNyQnphLEVBQUtnYyxnQkFBZ0J0QixRQUV2QjlNLEVBQUlxQixVQVg0QixDQWFwQyxFQUVBL2dELEtBQUErdEQsY0FBZ0IsU0FDZEMsRUFDQUYsRUFDQTF5QyxrQkFGQSxJQUFBNHlDLElBQUFBLEVBQXFELFVBQVgsUUFBYnBpQixFQUFBa0csRUFBSzhhLGdCQUFRLElBQUFoaEIsT0FBQSxFQUFBQSxFQUFFb2lCLGlCQUFTLElBQUFqcEQsRUFBQUEsRUFBSSxXQUN6RCxJQUFBK29ELElBQUFBLEVBQWtCaGMsRUFBS2djLHNCQUN2QixJQUFBMXlDLElBQUFBLEdBQVksR0FHWixHQURlMHlDLEdBQ0NFLEVBQWhCLENBQ0EsSUFBTXRPLEVBRlNvTyxFQUVJekIsV0FBVyxNQUM5QixHQUFLM00sRUFBTCxDQUVJdGtDLEdBQU8wMkIsRUFBS2thLHVCQUtoQixJQUhNLElBQUFoWSxFQUF5QmxDLEVBQUsrWCxzQkFBN0JELEVBQUs1VixFQUFBNFYsTUFBRXVELEVBQWFuWixFQUFBbVosY0FDcEJyZSxFQUFhZ0QsRUFBS3JaLGtCQUVoQmw0QixFQUFJLEVBQUdBLEVBQUl1dUMsRUFBV3Z1QyxJQUM3QixJQUFLLElBQUlpekMsRUFBSSxFQUFHQSxFQUFJMUUsRUFBVzBFLElBQUssQ0FFbEMsSUFDTXlhLEVBQWlCRCxFQURUeGEsRUFBSTFFLEVBQVl2dUMsR0FHOUIsS0FBSTJVLEtBQUtvMkMsSUFBSTJDLEdBQWtCLElBQS9CLENBRUEsSUFBTUMsR0FBMkIsUUFBZGxwRCxFQUFBOHNDLEVBQUtrQixJQUFJenlDLFVBQUssSUFBQXlFLE9BQUEsRUFBQUEsRUFBQXd1QyxLQUFNLEVBT3ZDLEdBSmlCLElBQWYwYSxHQUNDQSxJQUFlL2hCLEVBQUVBLEdBQUNzUyxPQUFTd1AsRUFBaUIsR0FDNUNDLElBQWUvaEIsRUFBQUEsR0FBR3VTLE9BQVN1UCxFQUFpQixFQUUvQyxDQUVBLElBQU0vYSxFQUFJaWEsRUFBZ0I1c0QsRUFBSXFwRCxFQUN4QnpXLEVBQUlnYSxFQUFnQjNaLEVBQUlvVyxFQUN4QnVFLEVBQXFCLEdBQVJ2RSxFQUVuQmxLLEVBQUlhLE9BQ0osSUFFTTZOLEVBRmEsSUFFb0IsSUFEcEJsNUMsS0FBS21ELElBQUluRCxLQUFLbzJDLElBQUkyQyxHQUFpQixHQUdwRHZPLEVBQUltQixVQURGb04sRUFBaUIsRUFDSCxpQkFBaUJqc0QsT0FBQW9zRCxPQUVqQix1QkFBdUJwc0QsT0FBQW9zRCxPQUV6QzFPLEVBQUkyTyxTQUNGbmIsRUFBSWliLEVBQWEsRUFDakJoYixFQUFJZ2IsRUFBYSxFQUNqQkEsRUFDQUEsR0FHRnpPLEVBQUlxQixTQXRCc0IsQ0FUbUIsQ0FnQzlDLENBN0NjLENBRmlCLENBaURwQyxFQUVBL2dELEtBQVVzdUQsV0FBRyxTQUNYdGIsRUFDQXVMLEVBQ0F3TixFQUNBM3dDLFFBSEEsSUFBQTQzQixJQUFBQSxFQUFNbEIsRUFBS2tCLFVBQ1gsSUFBQXVMLElBQUFBLEVBQVN6TSxFQUFLeU0sYUFDZCxJQUFBd04sSUFBQUEsRUFBZWphLEVBQUtpYSxtQkFDcEIsSUFBQTN3QyxJQUFBQSxHQUFZLEdBRVosSUFBTTB2QyxFQUFTaUIsRUFFZixHQURnQmphLEVBQUtyWixjQUNqQnF5QixFQUFRLENBQ04xdkMsR0FBTzAyQixFQUFLZ2EsWUFBWWhCLEdBQzVCLG1CQUFTdnFELEdBQ1AsbUJBQVNpekMsR0FDUCxJQUFNL2lDLEVBQVM4dEMsRUFBT2grQyxHQUFHaXpDLEdBQ3pCL2lDLFNBQUFBLEVBQVE4RCxNQUFNLEtBQUtmLFNBQVEsU0FBQXRTLEdBQ3pCLEdBQWMsT0FBVkEsR0FBNEIsS0FBVkEsRUFBYyxDQUM1QixJQUlGcXRELEVBSkUzaUIsRUFBeUJrRyxFQUFLK1gsc0JBQTdCRCxFQUFLaGUsRUFBQWdlLE1BQUV1RCxFQUFhdmhCLEVBQUF1aEIsY0FDckJqYSxFQUFJaWEsRUFBZ0I1c0QsRUFBSXFwRCxFQUN4QnpXLEVBQUlnYSxFQUFnQjNaLEVBQUlvVyxFQUN4QnhXLEVBQUtKLEVBQUl6eUMsR0FBR2l6QyxHQUVaa00sRUFBTW9MLEVBQU91QixXQUFXLE1BRTlCLEdBQUkzTSxFQUFLLENBQ1AsT0FBUXgrQyxHQUNOLEtBQUtpc0MsRUFBQUEsT0FBTzRSLE9BQ1Z3UCxFQUFTLElBQUloTCxHQUNYN0QsRUFDQXhNLEVBQ0FDLEVBQ0F5VyxFQUNBeFcsRUFDQXRCLEVBQUswYyxzQkFFUCxNQUVGLEtBQUtyaEIsRUFBQUEsT0FBT3dSLFFBQ1Y0UCxFQUFTLElBQUk5SixHQUNYL0UsRUFDQXhNLEVBQ0FDLEVBQ0F5VyxFQUNBeFcsRUFDQXRCLEVBQUswYyxzQkFFUCxNQUVGLEtBQUtyaEIsRUFBQUEsT0FBT3NoQixtQkFDWixLQUFLdGhCLEVBQUFBLE9BQU91aEIseUJBQ1osS0FBS3ZoQixFQUFBQSxPQUFPd2hCLHlCQUNaLEtBQUt4aEIsRUFBQUEsT0FBT3loQixtQkFDWixLQUFLemhCLEVBQUFBLE9BQU8waEIseUJBQ1osS0FBSzFoQixFQUFBQSxPQUFPMmhCLHlCQUNaLEtBQUszaEIsRUFBQUEsT0FBTzRoQixrQkFDWixLQUFLNWhCLEVBQUFBLE9BQU82aEIsd0JBQ1osS0FBSzdoQixFQUFBQSxPQUFPOGhCLHdCQUNaLEtBQUs5aEIsRUFBQUEsT0FBTytoQixrQkFDWixLQUFLL2hCLEVBQUFBLE9BQU9naUIsd0JBQ1osS0FBS2hpQixFQUFBQSxPQUFPaWlCLHdCQUNaLEtBQUtqaUIsRUFBQUEsT0FBT2tpQixrQkFDWixLQUFLbGlCLEVBQUFBLE9BQU9taUIsd0JBQ1osS0FBS25pQixFQUFBQSxPQUFPb2lCLHdCQUNOLElBQUF4cUQsRUFBb0Irc0MsRUFBS3lYLGlCQUFpQnJvRCxHQUF6Q2lpRCxFQUFLcCtDLEVBQUFvK0MsTUFBRUMsY0FFWm1MLEVBQVMsSUFBSS9KLEdBQ1g5RSxFQUNBeE0sRUFDQUMsRUFDQXlXLEVBQ0F4VyxFQUNBdEIsRUFBSzBjLHFCQUNMcmhCLEVBQU1BLE9BQUM0UixTQUVGc0UsU0FBU0YsR0FDaEJvTCxFQUFPakwsWUFBWUYsR0FDbkIsTUFFRixLQUFLalcsRUFBQUEsT0FBT2tnQixhQUNaLEtBQUtsZ0IsRUFBQUEsT0FBT3FpQixtQkFDWixLQUFLcmlCLEVBQUFBLE9BQU9zaUIsbUJBQ1osS0FBS3RpQixFQUFBQSxPQUFPb2dCLGFBQ1osS0FBS3BnQixFQUFBQSxPQUFPdWlCLG1CQUNaLEtBQUt2aUIsRUFBQUEsT0FBT3dpQixtQkFDWixLQUFLeGlCLEVBQUFBLE9BQU9zZ0IsWUFDWixLQUFLdGdCLEVBQUFBLE9BQU95aUIsa0JBQ1osS0FBS3ppQixFQUFBQSxPQUFPMGlCLGtCQUNaLEtBQUsxaUIsRUFBQUEsT0FBTzJpQixZQUNaLEtBQUszaUIsRUFBQUEsT0FBTzRpQixrQkFDWixLQUFLNWlCLEVBQUFBLE9BQU82aUIsa0JBQ1osS0FBSzdpQixFQUFBQSxPQUFPOGlCLFlBQ1osS0FBSzlpQixFQUFBQSxPQUFPK2lCLGtCQUNaLEtBQUsvaUIsRUFBQUEsT0FBT2dqQixrQkFDWixLQUFLaGpCLEVBQUFBLE9BQU9pakIsS0FDTixJQUFBcHJELEVBQW9COHNDLEVBQUt5WCxpQkFBaUJyb0QsR0FBekNpaUQsRUFBS24rQyxFQUFBbStDLE1BQUVDLGNBQ1ptTCxFQUFTLElBQUloSyxHQUNYN0UsRUFDQXhNLEVBQ0FDLEVBQ0F5VyxFQUNBeFcsRUFDQXRCLEVBQUswYyxxQkFDTHJoQixFQUFNQSxPQUFDNFIsU0FFRnNFLFNBQVNGLEdBQ2hCb0wsRUFBT2pMLFlBQVlGLEdBQ25CLE1BRUYsS0FBS2pXLEVBQUFBLE9BQU82UixPQUNWdVAsRUFBUyxJQUFJeEssR0FDWHJFLEVBQ0F4TSxFQUNBQyxFQUNBeVcsRUFDQXhXLEVBQ0F0QixFQUFLMGMsc0JBRVAsTUFFRixLQUFLcmhCLEVBQUFBLE9BQU84UixTQUNWc1AsRUFBUyxJQUFJdEssR0FDWHZFLEVBQ0F4TSxFQUNBQyxFQUNBeVcsRUFDQXhXLEVBQ0F0QixFQUFLMGMsc0JBRVAsTUFFRixLQUFLcmhCLEVBQUFBLE9BQU8rUixNQUNWcVAsRUFBUyxJQUFJL0ssR0FDWDlELEVBQ0F4TSxFQUNBQyxFQUNBeVcsRUFDQXhXLEVBQ0F0QixFQUFLMGMsc0JBRVAsTUFFRixLQUFLcmhCLEVBQUFBLE9BQU9rakIsVUFDVjlCLEVBQVMsSUFBSTdKLEdBQ1hoRixFQUNBeE0sRUFDQUMsRUFDQXlXLEVBQ0F4VyxFQUNBdEIsRUFBSzBjLHNCQUVQLE1BRUYsUUFDRSxJQUFNOEIsRUFBaUJ4ZSxFQUFLMFgsc0JBQXNCdG9ELEdBQzlDb3ZELEVBQ0ZBLEVBQWUsQ0FDYjVRLElBQUdBLEVBQ0h4TSxFQUFDQSxFQUNEQyxFQUFDQSxFQUNEN3lDLEVBQUdzcEQsRUFDSHhXLEdBQUVBLEVBQ0Y2TSxhQUFjbk8sRUFBSzBjLHFCQUNuQnR0RCxNQUFLQSxJQUVZLEtBQVZBLElBQ1RxdEQsRUFBUyxJQUFJMUssR0FDWG5FLEVBQ0F4TSxFQUNBQyxFQUNBeVcsRUFDQXhXLEVBQ0F0QixFQUFLMGMscUJBQ0x0dEQsSUFNUnF0RCxTQUFBQSxFQUFRM08sTUFDVCxDQUNGLENBQ0gsS0F4S09wTSxFQUFJLEVBQUdBLEVBQUkrSyxFQUFPaCtDLEdBQUdHLE9BQVE4eUMsTUFBN0JBLElBREZqekMsRUFBSSxFQUFHQSxFQUFJZytDLEVBQU83OUMsT0FBUUgsTUFBMUJBLEVBNEtWLENBQ0gsRUFFQVAsS0FBQXdxRCxVQUFZLFNBQUMzYSxFQUFvQnowQixRQUFwQixJQUFBeTBCLElBQUFBLEVBQVFpQyxFQUFLakMsWUFBTyxJQUFBejBCLElBQUFBLEdBQVksR0FDdkNBLEdBQU8wMkIsRUFBS2dhLFlBQVlqYyxHQUM1QmlDLEVBQUt5ZSxRQUFRMWdCLEdBQ2JpQyxFQUFLMGUsY0FBYzNnQixHQUNuQmlDLEVBQUsyZSxVQUFVNWdCLEdBQ1hpQyxFQUFLclosUUFBUXlXLFlBQ2Y0QyxFQUFLNGUsZ0JBRVQsRUFFQTF3RCxLQUFPdXdELFFBQUcsU0FBQzFnQixRQUFBLElBQUFBLElBQUFBLEVBQVFpQyxFQUFLakMsT0FDaEIsSUFBQWpFLEVBQW1Da0csRUFBS3JaLFFBQXZDMFcsRUFBS3ZELEVBQUF1RCxNQUFFc1ksRUFBYzdiLEVBQUE2YixlQUM1QixhQUFJNVgsRUFBTyxDQUNUQSxFQUFNOGdCLE1BQU1DLGFBQWUsTUFDM0IsSUFBTWxSLEVBQU03UCxFQUFNd2MsV0FBVyxNQUM3QixHQUFJM00sRUFFRixHQURBa0ksR0FBeUJsSSxHQUV2QnZRLElBQVUvQyxFQUFBQSxNQUFNcUQsZUFDaEJOLElBQVUvQyxFQUFLQSxNQUFDZ0QsTUFDaEJELElBQVUvQyxFQUFLQSxNQUFDOEQsTUFDaEJmLElBQVUvQyxFQUFLQSxNQUFDK0QsTUFDaEJoQixJQUFVL0MsRUFBS0EsTUFBQ21FLGFBRWhCVixFQUFNOGdCLE1BQU1FLFVBQ1YxaEIsSUFBVS9DLEVBQUtBLE1BQUNxRCxjQUFnQixzQkFBd0IsR0FFMURpUSxFQUFJbUIsVUFBWS9PLEVBQUtvTyxpQkFDbkJoVSxFQUFnQkEsaUJBQUM0a0Isc0JBUW5CcFIsRUFBSTJPLFNBQVMsRUFBRyxFQUFHeGUsRUFBTTBjLE1BQU8xYyxFQUFNMmMsWUFDakMsQ0FDTCxJQUFNdUUsRUFBaUJsaEIsRUFBTTBjLE1BQ3ZCN0UsRUFBWUYsR0FDaEJyWSxFQUNBc1ksRUFDQXNKLEdBRUYsR0FBSXJKLEdBQWFBLEVBQVU3WCxNQUFPLENBQ2hDLElBQU1taEIsRUFBV3RKLEVBQVU3WCxNQUNyQm9oQixFQUFXdEosR0FBT3FKLEdBQ3hCLEdBQUlDLEVBQ0YsR0FBSTloQixJQUFVL0MsRUFBQUEsTUFBTTRELFFBQVViLElBQVUvQyxFQUFBQSxNQUFNZ0UsZ0JBQzVDc1AsRUFBSTRCLFVBQVUyUCxFQUFVLEVBQUcsRUFBR3BoQixFQUFNMGMsTUFBTzFjLEVBQU0yYyxZQUM1QyxDQUNMLElBQU1udkIsRUFBVXFpQixFQUFJd1IsY0FBY0QsRUFBVSxVQUN4QzV6QixJQUNGcWlCLEVBQUltQixVQUFZeGpCLEVBQ2hCcWlCLEVBQUkyTyxTQUFTLEVBQUcsRUFBR3hlLEVBQU0wYyxNQUFPMWMsRUFBTTJjLFFBRXpDLENBRUosQ0FDRixDQUVKLENBQ0gsRUFFQXhzRCxLQUFhd3dELGNBQUcsU0FBQzNnQixHQUNmLFFBRGUsSUFBQUEsSUFBQUEsRUFBUWlDLEVBQUtqQyxPQUN2QkEsRUFBTCxDQUNNLElBQUFqRSxFQUE4RGtHLEVBQTdEMFosRUFBVzVmLEVBQUE0ZixZQUFFL3lCLEVBQU9tVCxFQUFBblQsUUFBRXVhLFFBQUtxWCxtQkFBZ0JDLG1CQUMzQ2hiLEVBQTZDN1csT0FBdkNxVyxFQUF1Q3JXLEVBQU9xVyxVQUFuQzZaLEVBQTRCbHdCLEVBQVhrd0Isa0JBQVdsd0IsUUFDcEQsSUFBTTJWLEVBQWlCMEQsRUFBS29PLGlCQUMxQmhVLEVBQWdCQSxpQkFBQ2lsQixnQkFFYmhqQixFQUFxQjJELEVBQUtvTyxpQkFDOUJoVSxFQUFnQkEsaUJBQUNrbEIsb0JBRWIvaUIsRUFBa0J5RCxFQUFLb08saUJBQzNCaFUsRUFBZ0JBLGlCQUFDbWxCLGlCQUViM1IsRUFBTTdQLEVBQU13YyxXQUFXLE1BQzdCLEdBQUkzTSxFQUFLLENBQ0QsSUFBQTM2QyxFQUF5QitzQyxFQUFLK1gsc0JBQTdCRCxFQUFLN2tELEVBQUE2a0QsTUFBRXVELEVBQWFwb0QsRUFBQW9vRCxjQUVyQm1FLEVBQWNoaUIsRUFBT2pCLEVBQWtCdWIsRUFBUSxFQUNqRGhjLEVBQWNrRSxFQUFLb08saUJBQWlCaFUsRUFBZ0JBLGlCQUFDcWxCLGFBQ3JEMWpCLEVBQWdCaUUsRUFBS29PLGlCQUFpQmhVLEVBQWdCQSxpQkFBQ3NsQixlQUUzRDlSLEVBQUltQixVQUFZL08sRUFBS29PLGlCQUFpQmhVLEVBQWdCQSxpQkFBQ3VsQixnQkE2QnZELElBM0JBLElBRUlDLEVBQWdCL0ksRUFGRyxLQUduQjlZLEVBQU0wYyxNQUF5QixFQUMvQnBlLEVBRUF3UyxFQUFZZ0ksRUFOTyxLQU9uQjlZLEVBQU0wYyxNQUNObmUsRUFFRXBwQyxFQUFBNUQsRUFBcUJrcEQsRUFBYyxHQUFsQ3FILEVBQU8zc0QsRUFBQSxHQUFFNHNELEVBQU81c0QsRUFBQSxHQU1qQjZzRCxFQUpKRixHQUFXLEdBQ1hDLEdBQVcsR0FDWEQsRUFBVTdpQixHQUNWOGlCLEVBQVU5aUIsR0FFOEMsSUFBckN1YixFQUFlc0gsR0FBU0MsR0FRdkNFLEVBUGdCeGQsR0FDcEJ0QixFQUNBMmUsRUFDQUMsRUFDQTlmLEVBQUtpZ0IsS0FDTGpnQixFQUFLeUMscUJBRTRCc2QsRUFFMUJ0eEQsRUFBSWlyRCxFQUFZLEdBQUcsR0FBSWpyRCxHQUFLaXJELEVBQVksR0FBRyxHQUFJanJELElBQUssQ0FDM0RtL0MsRUFBSWMsWUFFcUIsSUFBdEJnTCxFQUFZLEdBQUcsSUFBa0IsSUFBTmpyRCxHQUMzQmlyRCxFQUFZLEdBQUcsS0FBTzFjLEVBQVksR0FBS3Z1QyxJQUFNdXVDLEVBQVksRUFFMUQ0USxFQUFJaUIsVUFBWStRLEVBRWhCaFMsRUFBSWlCLFVBQVlBLEVBR2hCb0gsTUFDQXhuRCxJQUFNdXhDLEVBQUt3WSxlQUFlLElBQzFCeFksRUFBS29YLGFBRUx4SixFQUFJaUIsVUF6Q2UsSUF5Q0hqQixFQUFJaUIsVUFDcEJqQixFQUFJa0IsWUFBY2tSLEVBQVlsa0IsRUFBY0MsR0FFNUM2UixFQUFJa0IsWUFBY2hULEVBRXBCLElBQUlva0IsRUFDSSxJQUFOenhELEdBQVdBLElBQU11dUMsRUFBWSxFQUN6QnFlLEVBQWdCM0IsRUFBWSxHQUFHLEdBQUs1QixFQUFROEgsRUFBZ0IsRUFDNUR2RSxFQUFnQjNCLEVBQVksR0FBRyxHQUFLNUIsRUFDdEM3QixPQUNGaUssR0FBZTlKLEdBQU0sR0FFdkIsSUFBSStKLEVBQ0ksSUFBTjF4RCxHQUFXQSxJQUFNdXVDLEVBQVksRUFDekI4YSxFQUFRNEIsRUFBWSxHQUFHLEdBQUsyQixFQUFnQnVFLEVBQWdCLEVBQzVEOUgsRUFBUTRCLEVBQVksR0FBRyxHQUFLMkIsRUFDOUJwRixPQUNGa0ssR0FBYS9KLEdBQU0sR0FFakJzRCxFQUFZLEdBQUcsR0FBSyxJQUFHd0csR0FBZVYsR0FDdEM5RixFQUFZLEdBQUcsR0FBSzFjLEVBQVksSUFBR21qQixHQUFhWCxHQUNwRDVSLEVBQUlnRSxPQUFPbmpELEVBQUlxcEQsRUFBUXVELEVBQWU2RSxHQUN0Q3RTLEVBQUlpRSxPQUFPcGpELEVBQUlxcEQsRUFBUXVELEVBQWU4RSxHQUN0Q3ZTLEVBQUlvQixRQUNMLENBRUQsSUFBU3ZnRCxFQUFJaXJELEVBQVksR0FBRyxHQUFJanJELEdBQUtpckQsRUFBWSxHQUFHLEdBQUlqckQsSUFBSyxDQUMzRG0vQyxFQUFJYyxZQUVxQixJQUF0QmdMLEVBQVksR0FBRyxJQUFrQixJQUFOanJELEdBQzNCaXJELEVBQVksR0FBRyxLQUFPMWMsRUFBWSxHQUFLdnVDLElBQU11dUMsRUFBWSxFQUUxRDRRLEVBQUlpQixVQUFZK1EsRUFFaEJoUyxFQUFJaUIsVUFBWUEsRUFHaEJvSCxNQUNBeG5ELElBQU11eEMsRUFBS3dZLGVBQWUsSUFDMUJ4WSxFQUFLb1gsYUFFTHhKLEVBQUlpQixVQWxGZSxJQWtGSGpCLEVBQUlpQixVQUNwQmpCLEVBQUlrQixZQUFja1IsRUFBWWxrQixFQUFjQyxHQUU1QzZSLEVBQUlrQixZQUFjaFQsRUFFcEIsSUFBSXNrQixFQUNJLElBQU4zeEQsR0FBV0EsSUFBTXV1QyxFQUFZLEVBQ3pCcWUsRUFBZ0IzQixFQUFZLEdBQUcsR0FBSzVCLEVBQVE4SCxFQUFnQixFQUM1RHZFLEVBQWdCM0IsRUFBWSxHQUFHLEdBQUs1QixFQUN0Q3VJLEVBQ0ksSUFBTjV4RCxHQUFXQSxJQUFNdXVDLEVBQVksRUFDekI4YSxFQUFRNEIsRUFBWSxHQUFHLEdBQUsyQixFQUFnQnVFLEVBQWdCLEVBQzVEOUgsRUFBUTRCLEVBQVksR0FBRyxHQUFLMkIsRUFDOUJwRixPQUNGbUssR0FBZWhLLEdBQU0sR0FFbkJILE9BQ0ZvSyxHQUFhakssR0FBTSxHQUdqQnNELEVBQVksR0FBRyxHQUFLLElBQUcwRyxHQUFlWixHQUN0QzlGLEVBQVksR0FBRyxHQUFLMWMsRUFBWSxJQUFHcWpCLEdBQWFiLEdBQ3BENVIsRUFBSWdFLE9BQU93TyxFQUFhM3hELEVBQUlxcEQsRUFBUXVELEdBQ3BDek4sRUFBSWlFLE9BQU93TyxFQUFXNXhELEVBQUlxcEQsRUFBUXVELEdBQ2xDek4sRUFBSW9CLFFBQ0wsQ0FDRixDQW5Ja0IsQ0FvSXJCLEVBRUE5Z0QsS0FBU3l3RCxVQUFHLFNBQUM1Z0IsR0FDWCxRQURXLElBQUFBLElBQUFBLEVBQVFpQyxFQUFLakMsT0FDbkJBLEdBQzBCLEtBQTNCaUMsRUFBS3JaLFFBQVFxVyxVQUFqQixDQUVLLElBQUErWixFQUFvQi9XLEVBQUtyWix5QkFDeEIyNUIsRUFBa0J0Z0IsRUFBS29PLGlCQUFpQmhVLEVBQWdCQSxpQkFBQ21tQixVQUV6RDdHLEVBQWMxWixFQUFLMFosWUFDbkI5TCxFQUFNN1AsRUFBTXdjLFdBQVcsTUFDekIvZCxFQUFXdWEsRUFBaUMsTUFBZGhaLEVBQU0wYyxNQUFpQjZGLEVBQ3pELEdBQUkxUyxFQUFLLENBQ0QsSUFBQTlULEVBQXlCa0csRUFBSytYLHNCQUE3QnlJLEVBQUsxbUIsRUFBQWdlLE1BQUUySSxFQUFhM21CLEVBQUF1aEIsY0FDM0J6TixFQUFJb0IsU0FDSixDQUFDLEVBQUcsRUFBRyxJQUFJdHRDLFNBQVEsU0FBQWpULEdBQ2pCLENBQUMsRUFBRyxFQUFHLElBQUlpVCxTQUFRLFNBQUFnZ0MsR0FFZmp6QyxHQUFLaXJELEVBQVksR0FBRyxJQUNwQmpyRCxHQUFLaXJELEVBQVksR0FBRyxJQUNwQmhZLEdBQUtnWSxFQUFZLEdBQUcsSUFDcEJoWSxHQUFLZ1ksRUFBWSxHQUFHLEtBRXBCOUwsRUFBSWMsWUFDSmQsRUFBSWUsSUFDRmxnRCxFQUFJK3hELEVBQVFDLEVBQ1ovZSxFQUFJOGUsRUFBUUMsRUFDWmprQixFQUNBLEVBQ0EsRUFBSXA1QixLQUFLd3JDLElBQ1QsR0FFRmhCLEVBQUltQixVQUFZL08sRUFBS29PLGlCQUFpQixrQkFDdENSLEVBQUkxZixPQUVSLEdBQ0YsR0FDRCxDQWpDeUMsQ0FrQzVDLEVBRUFoZ0MsS0FBQTB3RCxlQUFpQixXQUNULElBQUE5a0IsRUFBZ0NrRyxFQUEvQmpDLEVBQUtqRSxFQUFBaUUsTUFBRXBYLEVBQU9tVCxFQUFBblQsUUFBRSt5QixFQUFXNWYsRUFBQTRmLFlBQ2xDLEdBQUszYixFQUFMLENBQ08sSUFBQWYsRUFBbUNyVyxZQUFBQSxFQUFPNlcsS0FBekIsSUFBQVAsRUFBa0J0VyxFQUFYc1csUUFBV3RXLFFBQzFDLElBQU00VixFQUFrQnlELEVBQUtvTyxpQkFBaUIsbUJBQzFDc1MsRUFBa0JoSCxFQUFZLEdBQUcsR0FBS0EsRUFBWSxHQUFHLEdBQUssRUFDeEQ5TCxFQUFNN1AsRUFBTXdjLFdBQVcsTUFDdkJ0bkQsRUFBeUIrc0MsRUFBSytYLHNCQUE3QkQsRUFBSzdrRCxFQUFBNmtELE1BQUV1RCxFQUFhcG9ELEVBQUFvb0QsY0FDM0IsR0FBSXpOLEVBQUssQ0FDUEEsRUFBSW9FLGFBQWUsU0FDbkJwRSxFQUFJc0MsVUFBWSxTQUNoQnRDLEVBQUltQixVQUFZL08sRUFBS29PLGlCQUFpQixrQkFFdENSLEVBQUlxQyxLQUFPLFFBQUEvL0MsT0FBUTRuRCxFQUFRLGtCQUUzQixJQUFNNkksRUFBUzNnQixFQUFLd0ssYUFDaEJvVyxFQUFTOUksRUFBUSxJQUduQjZJLElBQVdubUIsRUFBQUEsT0FBT0EsUUFDSSxJQUF0QmtmLEVBQVksR0FBRyxJQUNmQSxFQUFZLEdBQUcsS0FBTzFjLEVBQVksSUFFbEM0akIsR0FBVXZGLEVBQWdCLEdBRzVCemUsRUFBV2w3QixTQUFRLFNBQUMxUixFQUFHNEIsR0FDckIsSUFBTXd2QyxFQUFJMFcsRUFBUWxtRCxFQUFReXBELEVBQ3RCd0YsRUFBWUQsRUFDWkUsRUFBZUYsRUFFakJELElBQVdubUIsRUFBQUEsT0FBT2tRLFNBQ2xCaVcsSUFBV25tQixFQUFNQSxPQUFDb1EsVUFDbEIrVixJQUFXbm1CLEVBQU1BLE9BQUNxZixNQUVsQmdILEdBQWEvSSxFQUFRdmIsR0FHckJva0IsSUFBV25tQixFQUFBQSxPQUFPbVEsWUFDbEJnVyxJQUFXbm1CLEVBQU1BLE9BQUNxUSxhQUNsQjhWLElBQVdubUIsRUFBTUEsT0FBQ3NmLFNBRWxCZ0gsR0FBaUJoSixFQUFRdmIsRUFBbUIsR0FFOUMsSUFBSXdrQixFQUFLckgsRUFBWSxHQUFHLEdBQUs1QixFQUFRN2EsRUFBVTRqQixFQUMzQ0csRUFBS0QsRUFBS0wsRUFBa0I1SSxFQUF1QixFQUFmZ0osRUFDcENsdkQsR0FBUzhuRCxFQUFZLEdBQUcsSUFBTTluRCxHQUFTOG5ELEVBQVksR0FBRyxLQUV0RGlILElBQVdubUIsRUFBQUEsT0FBT21RLFlBQ2xCZ1csSUFBV25tQixFQUFNQSxPQUFDcVEsYUFDbEI4VixJQUFXbm1CLEVBQU1BLE9BQUNzZixRQUVsQmxNLEVBQUl3QyxTQUFTcGdELEVBQUdveEMsRUFBRzJmLEdBSW5CSixJQUFXbm1CLEVBQUFBLE9BQU9rUSxTQUNsQmlXLElBQVdubUIsRUFBTUEsT0FBQ29RLFVBQ2xCK1YsSUFBV25tQixFQUFNQSxPQUFDcWYsS0FFbEJqTSxFQUFJd0MsU0FBU3BnRCxFQUFHb3hDLEVBQUc0ZixHQUd6QixJQUVBbmtCLEVBQVc1c0MsT0FBTyt2QyxFQUFLclosUUFBUXFXLFdBQVd0N0IsU0FBUSxTQUFDMVIsRUFBVzRCLEdBQzVELElBQU15dkMsRUFBSXlXLEVBQVFsbUQsRUFBUXlwRCxFQUN0QjRGLEVBQWFMLEVBQ2JNLEVBQWNOLEVBRWhCRCxJQUFXbm1CLEVBQUFBLE9BQU9rUSxTQUNsQmlXLElBQVdubUIsRUFBTUEsT0FBQ21RLFlBQ2xCZ1csSUFBV25tQixFQUFNQSxPQUFDbWYsT0FFbEJzSCxHQUFjbkosRUFBUXZiLEdBR3RCb2tCLElBQVdubUIsRUFBQUEsT0FBT29RLFVBQ2xCK1YsSUFBV25tQixFQUFNQSxPQUFDcVEsYUFDbEI4VixJQUFXbm1CLEVBQU1BLE9BQUNvZixRQUVsQnNILEdBQWdCcEosRUFBUXZiLEVBQW1CLEdBRTdDLElBQUk0a0IsRUFBS3pILEVBQVksR0FBRyxHQUFLNUIsRUFBUTdhLEVBQVVna0IsRUFDM0NHLEVBQUtELEVBQUtULEVBQWtCNUksRUFBUSxFQUFJb0osRUFDeEN0dkQsR0FBUzhuRCxFQUFZLEdBQUcsSUFBTTluRCxHQUFTOG5ELEVBQVksR0FBRyxLQUV0RGlILElBQVdubUIsRUFBQUEsT0FBT29RLFVBQ2xCK1YsSUFBV25tQixFQUFNQSxPQUFDcVEsYUFDbEI4VixJQUFXbm1CLEVBQU1BLE9BQUNvZixPQUVsQmhNLEVBQUl3QyxTQUFTcGdELEVBQUUwVCxXQUFZeTlDLEVBQUk5ZixHQUcvQnNmLElBQVdubUIsRUFBQUEsT0FBT2tRLFNBQ2xCaVcsSUFBV25tQixFQUFNQSxPQUFDbVEsWUFDbEJnVyxJQUFXbm1CLEVBQU1BLE9BQUNtZixNQUVsQi9MLEVBQUl3QyxTQUFTcGdELEVBQUUwVCxXQUFZMDlDLEVBQUkvZixHQUdyQyxHQUNELENBcEdrQixDQXFHckIsRUFFQW56QyxLQUFtQjZwRCxvQkFBRyxTQUFDaUIsUUFBQSxJQUFBQSxJQUFBQSxFQUFTaFosRUFBS2daLFFBQ25DLElBQUlsQixFQUFRLEVBQ1J1RCxFQUFnQixFQUNoQmdHLEVBQW9CLEVBQ3hCLEdBQUlySSxFQUFRLENBQ0osSUFBQWxmLEVBQTZCa0csRUFBS3JaLFFBQWpDc1csRUFBT25ELEVBQUFtRCxRQUFFRCxFQUFTbEQsRUFBQWtELFVBQUVRLFNBQ3JCakIsRUFBa0J5RCxFQUFLb08saUJBQWlCLG1CQUN2Q3NMLEVBQWUxWixFQUFJMFosYUFHRCxJQUF0QkEsRUFBWSxHQUFHLElBQVlBLEVBQVksR0FBRyxLQUFPMWMsRUFBWSxHQUN2QyxJQUF0QjBjLEVBQVksR0FBRyxJQUFZQSxFQUFZLEdBQUcsS0FBTzFjLEVBQVksS0FFOURxa0IsRUFBb0I5a0IsSUFHRyxJQUF0Qm1kLEVBQVksR0FBRyxJQUFZQSxFQUFZLEdBQUcsS0FBTzFjLEVBQVksR0FDdkMsSUFBdEIwYyxFQUFZLEdBQUcsSUFBWUEsRUFBWSxHQUFHLEtBQU8xYyxFQUFZLEtBRTlEcWtCLEVBQXNDLEVBQWxCOWtCLEdBR3RCLElBQU0xUCxFQUFVMlEsRUFBT1IsRUFBWXFrQixFQUFvQnJrQixFQUV2RHFlLEVBQWdCcGUsR0FEaEI2YSxHQUFTa0IsRUFBT3lCLE1BQWtCLEVBQVZ4ZCxHQUFlNzVCLEtBQUtxQyxLQUFLb25CLElBQ2YsQ0FDbkMsQ0FDRCxNQUFPLENBQUNpckIsTUFBS0EsRUFBRXVELGdCQUFlZ0csa0JBQWlCQSxFQUNqRCxFQUVBbnpELEtBQUFvekQsV0FBYSxTQUFDcGdCLEVBQWdCcWdCLEVBQTRCajRDLFFBQTVDLElBQUE0M0IsSUFBQUEsRUFBTWxCLEVBQUtrQixVQUFLLElBQUFxZ0IsSUFBQUEsRUFBWXZoQixFQUFLdWhCLGdCQUFXLElBQUFqNEMsSUFBQUEsR0FBWSxHQUNwRSxJQUFNMHZDLEVBQVNoWixFQUFLbWEsYUFFcEIsR0FBSW5CLEVBQVEsQ0FDTjF2QyxHQUFPMDJCLEVBQUtnYSxZQUFZaEIsR0FDNUIsSUFBSyxJQUFJdnFELEVBQUksRUFBR0EsRUFBSTh5RCxFQUFVM3lELE9BQVFILElBQ3BDLElBQUssSUFBSWl6QyxFQUFJLEVBQUdBLEVBQUk2ZixFQUFVOXlELEdBQUdHLE9BQVE4eUMsSUFBSyxDQUM1QyxJQUFNdHlDLEVBQVFteUQsRUFBVTl5RCxHQUFHaXpDLEdBQ3JCNUgsRUFBeUJrRyxFQUFLK1gsc0JBQTdCRCxFQUFLaGUsRUFBQWdlLE1BQUV1RCxFQUFhdmhCLEVBQUF1aEIsY0FDckJqYSxFQUFJaWEsRUFBZ0I1c0QsRUFBSXFwRCxFQUN4QnpXLEVBQUlnYSxFQUFnQjNaLEVBQUlvVyxFQUN4QnhXLEVBQUtKLEVBQUl6eUMsR0FBR2l6QyxHQUVaa00sRUFBTW9MLEVBQU91QixXQUFXLE1BRTlCLEdBQUkzTSxFQUFLLENBQ1AsR0FBUXgrQyxJQUNEcXJDLEVBQUFBLE9BQU8rbUIsSUFDRCxJQUFJL00sR0FBVTdHLEVBQUt4TSxFQUFHQyxFQUFHeVcsRUFBT3hXLEdBQ2xDd1IsT0FJWHlPLEVBQVU5eUQsR0FBR2l6QyxHQUFLakgsRUFBQUEsT0FBT3ljLElBQzFCLENBQ0YsQ0FFSSxJQUFBbGEsRUFBYWdELEVBQUtyWixrQkFDekJxWixFQUFLeWhCLGFBQWF2WCxHQUFNLENBQUNsTixFQUFXQSxJQUNyQyxDQUNILEVBRUE5dUMsS0FBQXVxRCxXQUFhLG1CQUNMTyxFQUFTaFosRUFBSzRZLGFBQ3BCLEdBQUlJLEVBQVEsQ0FFVixHQURBaFosRUFBS29hLG9CQUNEcGEsRUFBS2lYLFNBQVd2YyxFQUFBQSxPQUFPd2MsS0FBTSxPQUNqQyxHQUFJakIsT0FBcUJqVyxFQUFLb1gsWUFBYSxPQUVyQyxJQUFBbGtELEVBQW1COHNDLEVBQUtyWixRQUF2QnNXLEVBQU8vcEMsRUFBQStwQyxRQUFPL3BDLEVBQUFtcUMsTUFDckIsSUFBTXVRLEVBQU1vTCxFQUFPdUIsV0FBVyxNQUN2QnpDLEVBQVM5WCxFQUFLK1gsNEJBQ2Y3VixFQUFxQ2xDLEVBQXBDMFosRUFBV3hYLEVBQUF3WCxZQUFFekMsRUFBTS9VLEVBQUErVSxPQUFFRSxFQUFXalYsRUFBQWlWLFlBRWpDdUssRUFBQXB5RCxFQUFhMHdDLEVBQUt3WSxlQUFjLEdBQS9CbGxELEVBQUdvdUQsRUFBQSxHQUFFdEosRUFBR3NKLEVBQUEsR0FDZixHQUFJcHVELEVBQU1vbUQsRUFBWSxHQUFHLElBQU1wbUQsRUFBTW9tRCxFQUFZLEdBQUcsR0FBSSxPQUN4RCxHQUFJdEIsRUFBTXNCLEVBQVksR0FBRyxJQUFNdEIsRUFBTXNCLEVBQVksR0FBRyxHQUFJLE9BQ3hELElBQU10WSxFQUFJOXRDLEVBQU13a0QsRUFBUUEsRUFBUSxFQUFJN2EsRUFDOUJvRSxFQUFJK1csRUFBTU4sRUFBUUEsRUFBUSxFQUFJN2EsRUFDOUJxRSxhQUFhLFFBQVJ4SCxFQUFBa0csRUFBS2tCLFdBQUcsSUFBQXBILE9BQUEsRUFBQUEsRUFBR3htQyx5QkFBTzhrRCxLQUFRL2QsRUFBQUEsR0FBR3NuQixNQUV4QyxHQUFJL1QsRUFBSyxDQUNQLElBQUlnVSxTQUNFbmdELEVBQWUsR0FBUnEyQyxFQUNUYixJQUFXdmMsRUFBTUEsT0FBQ3VTLFFBQ3BCMlUsRUFBTSxJQUFJblEsR0FDUjdELEVBQ0F4TSxFQUNBQyxFQUNBeVcsRUFDQXhXLEVBQ0F0QixFQUFLMGMsdUJBRUgzTyxlQUFlLElBQ1ZrSixJQUFXdmMsRUFBTUEsT0FBQ3dTLFFBQzNCMFUsRUFBTSxJQUFJM1AsR0FDUnJFLEVBQ0F4TSxFQUNBQyxFQUNBeVcsRUFDQXhXLEVBQ0F0QixFQUFLMGMsdUJBRUgzTyxlQUFlLElBQ1ZrSixJQUFXdmMsRUFBTUEsT0FBQ3lTLFVBQzNCeVUsRUFBTSxJQUFJelAsR0FDUnZFLEVBQ0F4TSxFQUNBQyxFQUNBeVcsRUFDQXhXLEVBQ0F0QixFQUFLMGMsdUJBRUgzTyxlQUFlLElBQ1ZrSixJQUFXdmMsRUFBTUEsT0FBQzBTLE9BQzNCd1UsRUFBTSxJQUFJbFEsR0FDUjlELEVBQ0F4TSxFQUNBQyxFQUNBeVcsRUFDQXhXLEVBQ0F0QixFQUFLMGMsdUJBRUgzTyxlQUFlLElBQ1ZrSixJQUFXdmMsRUFBTUEsT0FBQ21uQixNQUMzQkQsRUFBTSxJQUFJN1AsR0FDUm5FLEVBQ0F4TSxFQUNBQyxFQUNBeVcsRUFDQXhXLEVBQ0F0QixFQUFLMGMscUJBQ0x2RixJQUVFcEosZUFBZSxJQUNWek0sSUFBT2pILEVBQUFBLEdBQUdzbkIsT0FBUzFLLElBQVd2YyxFQUFBQSxPQUFPb25CLGFBQzlDRixFQUFNLElBQUkxVCxHQUFVTixFQUFLeE0sRUFBR0MsRUFBR2hILEVBQUVBLEdBQUNzUyxNQUFPM00sRUFBSzBjLHVCQUMxQ3pPLFFBQVF4c0MsR0FDWm1nRCxFQUFJN1QsZUFBZSxLQUNWek0sSUFBT2pILEVBQUFBLEdBQUdzbkIsT0FBUzFLLElBQVd2YyxFQUFBQSxPQUFPcW5CLGFBQzlDSCxFQUFNLElBQUkxVCxHQUFVTixFQUFLeE0sRUFBR0MsRUFBR2hILEVBQUVBLEdBQUN1UyxNQUFPNU0sRUFBSzBjLHVCQUMxQ3pPLFFBQVF4c0MsR0FDWm1nRCxFQUFJN1QsZUFBZSxLQUNWa0osSUFBV3ZjLEVBQU1BLE9BQUNzbkIsUUFDM0JKLEVBQU0sSUFBSTFULEdBQVVOLEVBQUt4TSxFQUFHQyxFQUFHaEgsRUFBRUEsR0FBQ3NuQixNQUFPM2hCLEVBQUswYyx1QkFDMUN6TyxRQUFReHNDLEdBRWRtZ0QsU0FBQUEsRUFBSzlULE1BQ04sQ0FDRixDQUNILEVBRUE1L0MsS0FBQSt6RCxXQUFhLFNBQ1gvZ0IsRUFDQThYLEVBQ0ExdkMsUUFGQSxJQUFBNDNCLElBQUFBLEVBQWtCbEIsRUFBS2tCLFVBQ3ZCLElBQUE4WCxJQUFBQSxFQUFTaFosRUFBS2daLGFBQ2QsSUFBQTF2QyxJQUFBQSxHQUFZLEdBRU4sSUFBQXd3QixFQUFnRGtHLEVBQUtyWixRQUFwRDF6QixVQUFBb3FDLE9BQVEsSUFBQXBxQyxFQUFBcW5DLEVBQUFBLE1BQU1xRCxjQUFhMXFDLEVBQUUwaUQsbUJBRXBDLEdBRElyc0MsR0FBTzAyQixFQUFLZ2EsY0FDWmhCLEVBQ0YsSUFBSyxJQUFJdnFELEVBQUksRUFBR0EsRUFBSXl5QyxFQUFJdHlDLE9BQVFILElBQzlCLElBQUssSUFBSWl6QyxFQUFJLEVBQUdBLEVBQUlSLEVBQUl6eUMsR0FBR0csT0FBUTh5QyxJQUFLLENBQ3RDLElBQU10eUMsRUFBUTh4QyxFQUFJenlDLEdBQUdpekMsR0FDckIsR0FBYyxJQUFWdHlDLEVBQWEsQ0FDZixJQUFNdytDLEVBQU1vTCxFQUFPdUIsV0FBVyxNQUM5QixHQUFJM00sRUFBSyxDQUNQa0ksR0FBeUJsSSxHQUNuQixJQUFBMTZDLEVBQXlCOHNDLEVBQUsrWCxzQkFBN0JELEVBQUs1a0QsRUFBQTRrRCxNQUFFdUQsRUFBYW5vRCxFQUFBbW9ELGNBQ3JCamEsRUFBSWlhLEVBQWdCNXNELEVBQUlxcEQsRUFDeEJ6VyxFQUFJZ2EsRUFBZ0IzWixFQUFJb1csRUFDeEJvSyxFQUFRbGlCLEVBQUtvTyxpQkFBaUIsY0FDcENSLEVBQUlhLE9BRUZwUixJQUFVL0MsRUFBQUEsTUFBTXdELFNBQ2hCVCxJQUFVL0MsRUFBS0EsTUFBQ3FELGVBQ2hCTixJQUFVL0MsRUFBS0EsTUFBQ2dELE1BQ2hCRCxJQUFVL0MsRUFBS0EsTUFBQzhELE1BQ2hCZixJQUFVL0MsRUFBS0EsTUFBQytELE1BQ2hCaEIsSUFBVS9DLEVBQUtBLE1BQUNtRSxjQUVoQm1QLEVBQUltRCxjQUFnQixFQUNwQm5ELEVBQUlvRCxjQUFnQixFQUNwQnBELEVBQUloUyxZQUFjb0UsRUFBS29PLGlCQUFpQixlQUN4Q1IsRUFBSXFELFdBQWEsSUFFakJyRCxFQUFJbUQsY0FBZ0IsRUFDcEJuRCxFQUFJb0QsY0FBZ0IsRUFDcEJwRCxFQUFJcUQsV0FBYSxHQUVuQixJQUFJa1IsU0FFSixPQUFROWtCLEdBQ04sS0FBSy9DLEVBQUFBLE1BQU1xRCxjQUNYLEtBQUtyRCxFQUFBQSxNQUFNZ0QsS0FDWCxLQUFLaEQsRUFBQUEsTUFBTThELEtBQ1gsS0FBSzlELEVBQUFBLE1BQU1tRSxhQVdYLEtBQUtuRSxFQUFBQSxNQUFNK0QsTUFDVDhqQixFQUFRLElBQUlqVSxHQUNWTixFQUNBeE0sRUFDQUMsRUFDQWp5QyxFQUNBNHdDLEVBQUswYyx1QkFFRHpPLFFBQVE2SixFQUFRb0ssRUFBUSxHQUM5QixNQUVGLFFBQ0UsSUFBTWpELEdBQWlCakcsYUFBQSxFQUFBQSxFQUFReUIsUUFBUyxJQUNsQzdFLEVBQVlGLEdBQ2hCclksRUFDQXNZLEVBQ0FzSixHQUVGLEdBQUlySixFQUFXLENBQ2IsSUFBTWhZLEVBQVNnWSxFQUFVaFksT0FBT3A4QixLQUM5QixTQUFDL1MsR0FBYyxPQUFBb25ELEdBQU9wbkQsRUFBRSxJQUVwQm92QyxFQUFTK1gsRUFBVS9YLE9BQU9yOEIsS0FDOUIsU0FBQy9TLEdBQWMsT0FBQW9uRCxHQUFPcG5ELEVBQUUsS0FHMUIwekQsRUFBUSxJQUFJalQsR0FDVnRCLEVBQ0F4TSxFQUNBQyxFQUNBanlDLEVBTFVYLEVBQUksR0FBS2l6QyxFQU9uQjlELEVBQ0FDLEVBQ0FtQyxFQUFLMGMsdUJBRUR6TyxRQUFRNkosRUFBUW9LLEVBQVEsRUFDL0IsRUFHTEMsU0FBQUEsRUFBT3JVLE9BQ1BGLEVBQUlxQixTQUNMLENBQ0YsQ0FDRixDQUdQLEVBbHRERS9nRCxLQUFLeTRCLFFBQU90NEIsRUFBQUEsRUFBQUEsRUFBQSxHQUNQSCxLQUFLdW9ELGdCQUNMOXZCLEdBQ0gsQ0FBQTBuQixhQUNLaGdELEVBQUFBLEVBQUEsQ0FBQSxFQUFBSCxLQUFLdW9ELGVBQWVwSSxjQUNuQjFuQixFQUFRMG5CLGNBQWdCLE1BR2hDbmdELEtBQUt3cEQsc0JBQXFCcnBELEVBQUFBLEVBQUEsQ0FBQSxFQUNyQkgsS0FBS2swRCxtQ0FDSno3QixFQUFRK3dCLHVCQUF5QixDQUFFLEdBRXpDLElBQU1qMkMsRUFBT3ZULEtBQUt5NEIsUUFBUXFXLFVBQzFCOXVDLEtBQUtnekMsSUFBTStJLEdBQU0sQ0FBQ3hvQyxFQUFNQSxJQUN4QnZULEtBQUtxcUQsZUFBaUJ0TyxHQUFNLENBQUN4b0MsRUFBTUEsSUFDbkN2VCxLQUFLdStDLE9BQVN2QyxHQUFNLENBQUN6b0MsRUFBTUEsSUFDM0J2VCxLQUFLcXpELFVBQVlyWCxHQUFNLENBQUN6b0MsRUFBTUEsSUFDOUJ2VCxLQUFLK3hELEtBQU81bEIsRUFBRUEsR0FBQ3NTLE1BQ2Z6K0MsS0FBS3NxRCxlQUFpQixFQUFFLEdBQUksR0FDNUJ0cUQsS0FBS29xRCxxQkFBdUIsRUFBRSxHQUFJLEdBQ2xDcHFELEtBQUttMEQsTUFBUTVnRCxFQUNidlQsS0FBSytwRCxTQUFXLElBQUlxSyxVQUNwQnAwRCxLQUFLNHNELFNBQVcsS0FDaEI1c0QsS0FBS3dyRCxZQUFjLENBQ2pCLENBQUMsRUFBR2o0QyxFQUFPLEdBQ1gsQ0FBQyxFQUFHQSxFQUFPLElBR2J2VCxLQUFLcTBELHdCQUNOLENBc3JESCxPQWhyRFUvTCxFQUFnQjdvRCxVQUFBeWdELGlCQUF4QixTQUNFb1UsR0FFQSxJQUFNbGpELEVBQzhCa2pELEVBQzlCQyxFQUFldjBELEtBQUt5NEIsUUFBUTBXLE1BQzVCcWxCLEVBQWN4MEQsS0FBS3k0QixRQUFRMG5CLGFBQWFvVSxJQUFpQixHQUN6RGxVLEVBQWdCcmdELEtBQUt5NEIsUUFBUTBuQixhQUFhRyxTQUFXLENBQUEsRUFLM0QsT0FIZ0JrVSxFQUFZcGpELElBQzFCaXZDLEVBQWNqdkMsSUFRVmszQyxFQUFBN29ELFVBQUErdUQsbUJBQVIsV0FDRSxNQUFPLENBQ0xyZixNQUFPbnZDLEtBQUt5NEIsUUFBUTBXLE1BQ3BCZ1IsYUFBY25nRCxLQUFLeTRCLFFBQVEwbkIsZUFJdkJtSSxFQUFBN29ELFVBQUF5MEQsZ0NBQVIsaUJBSUUsT0FBQXRvQixFQUFBLENBQUEsR0FDR3VCLEVBQU1BLE9BQUNzbkIsV0FBWSxTQUFDN29CLEdBQUMsSUFBQThULEVBQUc5VCxFQUFBOFQsSUFBRXhNLEVBQUN0SCxFQUFBc0gsRUFBRUMsRUFBQ3ZILEVBQUF1SCxFQUFFN3lDLE1BQUc4eUMsRUFBRXhILEVBQUF3SCxHQUFFNk0sRUFBWXJVLEVBQUFxVSxhQUNuQyxJQUFJbUUsR0FBZ0IxRSxFQUFLeE0sRUFBR0MsRUFBRzd5QyxFQUFHOHlDLEVBQUk2TSxHQUM5Q0wsTUFDUixFQUNEaFUsRUFBQ3VCLEVBQU1BLE9BQUN1bkIsVUFBVyxTQUFDOW9CLEdBQUMsSUFBQThULEVBQUc5VCxFQUFBOFQsSUFBRXhNLEVBQUN0SCxFQUFBc0gsRUFBRUMsRUFBQ3ZILEVBQUF1SCxFQUFFN3lDLE1BQUc4eUMsRUFBRXhILEVBQUF3SCxHQUFFNk0sRUFBWXJVLEVBQUFxVSxhQUNsQyxJQUFJb0UsR0FBZTNFLEVBQUt4TSxFQUFHQyxFQUFHN3lDLEVBQUc4eUMsRUFBSTZNLEdBQzdDTCxNQUNSLEVBQ0RoVSxFQUFDdUIsRUFBTUEsT0FBQ3duQixnQkFBaUIsU0FBQy9vQixHQUFDLElBQUE4VCxFQUFHOVQsRUFBQThULElBQUV4TSxFQUFDdEgsRUFBQXNILEVBQUVDLEVBQUN2SCxFQUFBdUgsRUFBRTd5QyxNQUFHOHlDLEVBQUV4SCxFQUFBd0gsR0FBRTZNLEVBQVlyVSxFQUFBcVUsYUFDeEMsSUFBSXFFLEdBQXFCNUUsRUFBS3hNLEVBQUdDLEVBQUc3eUMsRUFBRzh5QyxFQUFJNk0sR0FDbkRMLE1BQ1IsRUFDRGhVLEdBR0owYyxFQUFBN29ELFVBQUFtMUQscUJBQUEsU0FBcUI3dkMsRUFBYzh2QyxHQUNqQzcwRCxLQUFLd3BELHNCQUFzQnprQyxHQUFROHZDLEdBR3JDdk0sRUFBc0I3b0QsVUFBQXExRCx1QkFBdEIsU0FBdUIvdkMsVUFDZC9rQixLQUFLd3BELHNCQUFzQnprQyxJQUdwQ3VqQyxFQUFnQjdvRCxVQUFBczFELGlCQUFoQixTQUFpQkMsR0FDZmgxRCxLQUFLd3BELHNCQUNBcnBELEVBQUEsQ0FBQSxFQUFBNjBELElBSUMxTSxFQUFBN29ELFVBQUE0MEQsdUJBQVIsaUJBQ1FZLEVBQXdCLENBQUMsRUFBRyxHQUM1QkMsRUFBd0IsQ0FBQyxFQUFHLEdBRWxDbDFELEtBQUt1cEQsbUJBQWdCM2QsRUFBQSxDQUFBLEdBQ2xCdUIsRUFBQUEsT0FBT2tnQixjQUFlLENBQ3JCbEssTUFBT25qRCxLQUFLa2dELGlCQUFpQmhVLEVBQUFBLGlCQUFpQm9oQixtQkFDOUNsSyxTQUFVLElBRVp4WCxFQUFDdUIsRUFBQUEsT0FBT29nQixjQUFlLENBQ3JCcEssTUFBT25qRCxLQUFLa2dELGlCQUFpQmhVLEVBQUFBLGlCQUFpQnNoQixtQkFDOUNwSyxTQUFVLElBRVp4WCxFQUFDdUIsRUFBQUEsT0FBT3NnQixhQUFjLENBQ3BCdEssTUFBT25qRCxLQUFLa2dELGlCQUFpQmhVLEVBQUFBLGlCQUFpQndoQixrQkFDOUN0SyxTQUFVLElBRVp4WCxFQUFDdUIsRUFBQUEsT0FBTzhpQixhQUFjLENBQ3BCOU0sTUFBT25qRCxLQUFLa2dELGlCQUFpQmhVLEVBQUFBLGlCQUFpQmlwQixrQkFDOUMvUixTQUFVLElBRVp4WCxFQUFDdUIsRUFBQUEsT0FBTzJpQixhQUFjLENBQ3BCM00sTUFBT25qRCxLQUFLa2dELGlCQUFpQmhVLEVBQUFBLGlCQUFpQmtwQixrQkFDOUNoUyxTQUFVLElBRVp4WCxFQUFDdUIsRUFBQUEsT0FBT3FpQixvQkFBcUIsQ0FDM0JyTSxNQUFPbmpELEtBQUtrZ0QsaUJBQWlCaFUsRUFBQUEsaUJBQWlCb2hCLG1CQUM5Q2xLLFNBQVU2UixHQUVacnBCLEVBQUN1QixFQUFBQSxPQUFPdWlCLG9CQUFxQixDQUMzQnZNLE1BQU9uakQsS0FBS2tnRCxpQkFBaUJoVSxFQUFBQSxpQkFBaUJzaEIsbUJBQzlDcEssU0FBVTZSLEdBRVpycEIsRUFBQ3VCLEVBQUFBLE9BQU95aUIsbUJBQW9CLENBQzFCek0sTUFBT25qRCxLQUFLa2dELGlCQUFpQmhVLEVBQUFBLGlCQUFpQndoQixrQkFDOUN0SyxTQUFVNlIsR0FFWnJwQixFQUFDdUIsRUFBQUEsT0FBTytpQixtQkFBb0IsQ0FDMUIvTSxNQUFPbmpELEtBQUtrZ0QsaUJBQWlCaFUsRUFBQUEsaUJBQWlCaXBCLGtCQUM5Qy9SLFNBQVU2UixHQUVacnBCLEVBQUN1QixFQUFBQSxPQUFPNGlCLG1CQUFvQixDQUMxQjVNLE1BQU9uakQsS0FBS2tnRCxpQkFBaUJoVSxFQUFBQSxpQkFBaUJrcEIsa0JBQzlDaFMsU0FBVTZSLEdBRVpycEIsRUFBQ3VCLEVBQUFBLE9BQU9zaUIsb0JBQXFCLENBQzNCdE0sTUFBT25qRCxLQUFLa2dELGlCQUFpQmhVLEVBQUFBLGlCQUFpQm9oQixtQkFDOUNsSyxTQUFVOFIsR0FFWnRwQixFQUFDdUIsRUFBQUEsT0FBT3dpQixvQkFBcUIsQ0FDM0J4TSxNQUFPbmpELEtBQUtrZ0QsaUJBQWlCaFUsRUFBQUEsaUJBQWlCc2hCLG1CQUM5Q3BLLFNBQVU4UixHQUVadHBCLEVBQUN1QixFQUFBQSxPQUFPMGlCLG1CQUFvQixDQUMxQjFNLE1BQU9uakQsS0FBS2tnRCxpQkFBaUJoVSxFQUFBQSxpQkFBaUJ3aEIsa0JBQzlDdEssU0FBVThSLEdBRVp0cEIsRUFBQ3VCLEVBQUFBLE9BQU9nakIsbUJBQW9CLENBQzFCaE4sTUFBT25qRCxLQUFLa2dELGlCQUFpQmhVLEVBQUFBLGlCQUFpQmlwQixrQkFDOUMvUixTQUFVOFIsR0FFWnRwQixFQUFDdUIsRUFBQUEsT0FBTzZpQixtQkFBb0IsQ0FDMUI3TSxNQUFPbmpELEtBQUtrZ0QsaUJBQWlCaFUsRUFBQUEsaUJBQWlCa3BCLGtCQUM5Q2hTLFNBQVU4UixHQUVadHBCLEVBQUN1QixFQUFBQSxPQUFPc2hCLG9CQUFxQixDQUMzQnRMLE1BQU9uakQsS0FBS2tnRCxpQkFBaUJoVSxFQUFBQSxpQkFBaUJvaEIsbUJBQzlDbEssU0FBVSxJQUVaeFgsRUFBQ3VCLEVBQUFBLE9BQU95aEIsb0JBQXFCLENBQzNCekwsTUFBT25qRCxLQUFLa2dELGlCQUFpQmhVLEVBQUFBLGlCQUFpQnNoQixtQkFDOUNwSyxTQUFVLElBRVp4WCxFQUFDdUIsRUFBQUEsT0FBTzRoQixtQkFBb0IsQ0FDMUI1TCxNQUFPbmpELEtBQUtrZ0QsaUJBQWlCaFUsRUFBQUEsaUJBQWlCd2hCLGtCQUM5Q3RLLFNBQVUsSUFFWnhYLEVBQUN1QixFQUFBQSxPQUFPa2lCLG1CQUFvQixDQUMxQmxNLE1BQU9uakQsS0FBS2tnRCxpQkFBaUJoVSxFQUFBQSxpQkFBaUJpcEIsa0JBQzlDL1IsU0FBVSxJQUVaeFgsRUFBQ3VCLEVBQUFBLE9BQU8raEIsbUJBQW9CLENBQzFCL0wsTUFBT25qRCxLQUFLa2dELGlCQUFpQmhVLEVBQUFBLGlCQUFpQmtwQixrQkFDOUNoUyxTQUFVLElBRVp4WCxFQUFDdUIsRUFBQUEsT0FBT3VoQiwwQkFBMkIsQ0FDakN2TCxNQUFPbmpELEtBQUtrZ0QsaUJBQWlCaFUsRUFBQUEsaUJBQWlCb2hCLG1CQUM5Q2xLLFNBQVU2UixHQUVacnBCLEVBQUN1QixFQUFBQSxPQUFPMGhCLDBCQUEyQixDQUNqQzFMLE1BQU9uakQsS0FBS2tnRCxpQkFBaUJoVSxFQUFBQSxpQkFBaUJzaEIsbUJBQzlDcEssU0FBVTZSLEdBRVpycEIsRUFBQ3VCLEVBQUFBLE9BQU82aEIseUJBQTBCLENBQ2hDN0wsTUFBT25qRCxLQUFLa2dELGlCQUFpQmhVLEVBQUFBLGlCQUFpQndoQixrQkFDOUN0SyxTQUFVNlIsR0FFWnJwQixFQUFDdUIsRUFBQUEsT0FBT21pQix5QkFBMEIsQ0FDaENuTSxNQUFPbmpELEtBQUtrZ0QsaUJBQWlCaFUsRUFBQUEsaUJBQWlCaXBCLGtCQUM5Qy9SLFNBQVU2UixHQUVacnBCLEVBQUN1QixFQUFBQSxPQUFPZ2lCLHlCQUEwQixDQUNoQ2hNLE1BQU9uakQsS0FBS2tnRCxpQkFBaUJoVSxFQUFBQSxpQkFBaUJrcEIsa0JBQzlDaFMsU0FBVTZSLEdBRVpycEIsRUFBQ3VCLEVBQUFBLE9BQU93aEIsMEJBQTJCLENBQ2pDeEwsTUFBT25qRCxLQUFLa2dELGlCQUFpQmhVLEVBQUFBLGlCQUFpQm9oQixtQkFDOUNsSyxTQUFVOFIsR0FFWnRwQixFQUFDdUIsRUFBQUEsT0FBTzJoQiwwQkFBMkIsQ0FDakMzTCxNQUFPbmpELEtBQUtrZ0QsaUJBQWlCaFUsRUFBQUEsaUJBQWlCc2hCLG1CQUM5Q3BLLFNBQVU4UixHQUVadHBCLEVBQUN1QixFQUFBQSxPQUFPOGhCLHlCQUEwQixDQUNoQzlMLE1BQU9uakQsS0FBS2tnRCxpQkFBaUJoVSxFQUFBQSxpQkFBaUJ3aEIsa0JBQzlDdEssU0FBVThSLEdBRVp0cEIsRUFBQ3VCLEVBQUFBLE9BQU9vaUIseUJBQTBCLENBQ2hDcE0sTUFBT25qRCxLQUFLa2dELGlCQUFpQmhVLEVBQUFBLGlCQUFpQmlwQixrQkFDOUMvUixTQUFVOFIsR0FFWnRwQixFQUFDdUIsRUFBQUEsT0FBT2lpQix5QkFBMEIsQ0FDaENqTSxNQUFPbmpELEtBQUtrZ0QsaUJBQWlCaFUsRUFBQUEsaUJBQWlCa3BCLGtCQUM5Q2hTLFNBQVU4UixPQUtoQjVNLEVBQU83b0QsVUFBQTQxRCxRQUFQLFNBQVF0RCxHQUNOL3hELEtBQUsreEQsS0FBT0EsR0FHZHpKLEVBQXFCN29ELFVBQUE2MUQsc0JBQXJCLFNBQXNCQyxHQUNwQnYxRCxLQUFLdTBDLG1CQUFxQmdoQixHQUc1QmpOLEVBQUE3b0QsVUFBQSsxRCxzQkFBQSxXQUNFLE9BQU94MUQsS0FBS3UwQyxvQkFNZCtULEVBQUE3b0QsVUFBQWcyRCx3QkFBQSxXQUNFejFELEtBQUt1MEMsbUJBQXFCdjBDLEtBQUtnekMsSUFBSTEvQixLQUFJLFNBQUFvaUQsR0FBTyxPQUFBaDBELEVBQUEsR0FBQU4sRUFBSXMwRCxJQUFKLEVBQUEsS0FHaERwTixFQUFZN29ELFVBQUFrMkQsYUFBWixTQUFhcGlELEdBQ1h2VCxLQUFLeTRCLFFBQVFxVyxVQUFZNTVCLEtBQUttRCxJQUFJOUUsRXpCaGdCUixLeUJtZ0I1QiswQyxFQUFBN29ELFVBQUFtMkQsT0FBQSxXQUNFLEdBQ0c1MUQsS0FBSzhxRCxRQUNMOXFELEtBQUswcUQsY0FDTDFxRCxLQUFLNjFELEtBQ0w3MUQsS0FBSzZ2QyxPQUNMN3ZDLEtBQUsrckQsY0FDTC9yRCxLQUFLOHRELGlCQUNMOXRELEtBQUswc0QsZ0JBQ0wxc0QsS0FBS2lzRCxhQVJSLENBWUEsSUFBTTZKLEVBQVcsQ0FDZjkxRCxLQUFLNnZDLE1BQ0w3dkMsS0FBSzhxRCxPQUNMOXFELEtBQUsrckQsYUFDTC9yRCxLQUFLOHRELGdCQUNMOXRELEtBQUswcUQsYUFDTDFxRCxLQUFLMHNELGVBQ0wxc0QsS0FBS2lzRCxjQUdBMTRDLEVBQVF2VCxLQUFLeTRCLGFBQ2JzOUIsRUFBZS8xRCxLQUFLNjFELGdCQUUzQkMsRUFBU3RpRCxTQUFRLFNBQUFzM0MsR0FDWHYzQyxHQUNGdTNDLEVBQU95QixNQUFRaDVDLEVBQU8yMEMsR0FDdEI0QyxFQUFPMEIsT0FBU2o1QyxFQUFPMjBDLEtBRXZCNEMsRUFBTzZGLE1BQU1wRSxNQUFRd0osRUFBYyxLQUNuQ2pMLEVBQU82RixNQUFNbkUsT0FBU3VKLEVBQWMsS0FDcENqTCxFQUFPeUIsTUFBUXIzQyxLQUFLdUMsTUFBTXMrQyxFQUFjN04sSUFDeEM0QyxFQUFPMEIsT0FBU3QzQyxLQUFLdUMsTUFBTXMrQyxFQUFjN04sSUFFN0MsSUFFQWxvRCxLQUFLZzJELFFBM0JJLEdBOEJIMU4sRUFBQTdvRCxVQUFBdzJELGFBQVIsU0FBcUJscEMsRUFBWW1wQyxRQUFBLElBQUFBLElBQUFBLEdBQW9CLEdBQ25ELElBQU1wTCxFQUFTcUwsU0FBU0MsY0FBYyxVQU10QyxPQUxBdEwsRUFBTzZGLE1BQU16c0IsU0FBVyxXQUN4QjRtQixFQUFPLzlCLEdBQUtBLEVBQ1BtcEMsSUFDSHBMLEVBQU82RixNQUFNdUYsY0FBZ0IsUUFFeEJwTCxHQUdUeEMsRUFBSTdvRCxVQUFBNDJELEtBQUosU0FBS1IsR0FBTCxJQWdDQy9qQixFQUFBOXhDLEtBL0JPdVQsRUFBT3ZULEtBQUt5NEIsUUFBUXFXLFVBQzFCOXVDLEtBQUtnekMsSUFBTStJLEdBQU0sQ0FBQ3hvQyxFQUFNQSxJQUN4QnZULEtBQUt1K0MsT0FBU3ZDLEdBQU0sQ0FBQ3pvQyxFQUFNQSxJQUMzQnZULEtBQUsrcEQsU0FBVyxJQUFJcUssVUFFcEJwMEQsS0FBSzZ2QyxNQUFRN3ZDLEtBQUtpMkQsYUFBYSxrQkFDL0JqMkQsS0FBSzhxRCxPQUFTOXFELEtBQUtpMkQsYUFBYSxtQkFDaENqMkQsS0FBSzh0RCxnQkFBa0I5dEQsS0FBS2kyRCxhQUFhLHNCQUFzQixHQUMvRGoyRCxLQUFLK3JELGFBQWUvckQsS0FBS2kyRCxhQUFhLG1CQUFtQixHQUN6RGoyRCxLQUFLMHNELGVBQWlCMXNELEtBQUtpMkQsYUFBYSxxQkFBcUIsR0FDN0RqMkQsS0FBSzBxRCxhQUFlMXFELEtBQUtpMkQsYUFBYSxtQkFDdENqMkQsS0FBS2lzRCxhQUFlanNELEtBQUtpMkQsYUFBYSxtQkFBbUIsR0FFekRqMkQsS0FBSzYxRCxJQUFNQSxFQUNYQSxFQUFJUyxVQUFZLEdBQ2hCVCxFQUFJVSxZQUFZdjJELEtBQUs2dkMsT0FDckJnbUIsRUFBSVUsWUFBWXYyRCxLQUFLOHFELFFBQ3JCK0ssRUFBSVUsWUFBWXYyRCxLQUFLOHRELGlCQUNyQitILEVBQUlVLFlBQVl2MkQsS0FBSytyRCxjQUNyQjhKLEVBQUlVLFlBQVl2MkQsS0FBSzBzRCxnQkFDckJtSixFQUFJVSxZQUFZdjJELEtBQUswcUQsY0FDckJtTCxFQUFJVSxZQUFZdjJELEtBQUtpc0QsY0FFckJqc0QsS0FBSzQxRCxTQUNMNTFELEtBQUt3MkQsb0JBRWlCLG9CQUFYck8sUUFDVEEsT0FBT3NPLGlCQUFpQixVQUFVLFdBQ2hDM2tCLEVBQUs4akIsUUFDUCxLQUlKdE4sRUFBVTdvRCxVQUFBaTNELFdBQVYsU0FBV2orQixHQUNULElBQU1rK0IsRUFBdUIzMkQsS0FBS3k0QixRQUFROFcsYUFDcENxbkIsRUFBd0I1MkQsS0FBS3k0QixRQUFRaXdCLGNBRTNDMW9ELEtBQUt5NEIsUUFBT3Q0QixFQUFBQSxFQUFBQSxFQUFBLEdBQ1BILEtBQUt5NEIsU0FDTEEsR0FDSCxDQUFBMG5CLGFBQ0toZ0QsRUFBQUEsRUFBQSxDQUFBLEVBQUFILEtBQUt5NEIsUUFBUTBuQixjQUNaMW5CLEVBQVEwbkIsY0FBZ0IsTUFHaENuZ0QsS0FBS3EwRCx5QkFDTHIwRCxLQUFLdzJELG9CQUVERyxJQUF5QjMyRCxLQUFLeTRCLFFBQVE4VyxjQUN4Q3Z2QyxLQUFLbXNELHNCQUdIeUssSUFBMEI1MkQsS0FBS3k0QixRQUFRaXdCLGVBQ3pDMW9ELEtBQUtnc0Qsd0JBR0YySyxHQUF3QjMyRCxLQUFLeTRCLFFBQVE4VyxjQUFnQnZ2QyxLQUFLNHNELFVBQzdENXNELEtBQUsyc0QsZ0JBR0ZpSyxHQUF5QjUyRCxLQUFLeTRCLFFBQVFpd0IsZUFBaUIxb0QsS0FBSzRzRCxVQUMvRDVzRCxLQUFLK3RELGlCQUlUekYsRUFBTTdvRCxVQUFBbzNELE9BQU4sU0FBTzdqQixHQUNMaHpDLEtBQUtnekMsSUFBTUEsRUFDTmh6QyxLQUFLcytDLGlCQUNSdCtDLEtBQUtzK0MsZUFBaUJ0TCxJQUkxQnNWLEVBQWlCN29ELFVBQUFxM0Qsa0JBQWpCLFNBQWtCOWpCLEdBQ2hCaHpDLEtBQUtzK0MsZUFBaUJ0TCxHQUd4QnNWLEVBQWlCN29ELFVBQUFzM0Qsa0JBQWpCLFNBQWtCL2pCLEdBQ2hCaHpDLEtBQUtxcUQsZUFBaUJyWCxHQUd4QnNWLEVBQVk3b0QsVUFBQTh6RCxhQUFaLFNBQWF2Z0IsR0FDWGh6QyxLQUFLcXpELFVBQVlyZ0IsR0FHbkJzVixFQUFTN29ELFVBQUF1M0QsVUFBVCxTQUFVelksR0FDUnYrQyxLQUFLdStDLE9BQVNBLEdBR2hCK0osRUFBQTdvRCxVQUFBdzNELFVBQUEsU0FBVWxPLEVBQWdCN25ELFFBQUEsSUFBQUEsSUFBQUEsRUFBVSxJQUNsQ2xCLEtBQUsrb0QsT0FBU0EsRUFDZC9vRCxLQUFLaXBELFlBQWMvbkQsR0FxRnJCb25ELEVBQUE3b0QsVUFBQSsyRCxrQkFBQSxXQUNFLElBQU0xTCxFQUFTOXFELEtBQUswcUQsYUFDZkksSUFFTEEsRUFBT29NLG9CQUFvQixZQUFhbDNELEtBQUt5cUQsYUFDN0NLLEVBQU9vTSxvQkFBb0IsV0FBWWwzRCxLQUFLeXFELGFBQzVDSyxFQUFPb00sb0JBQW9CLGFBQWNsM0QsS0FBS29yRCxjQUM5Q04sRUFBT29NLG9CQUFvQixZQUFhbDNELEtBQUtxckQsYUFDN0NQLEVBQU9vTSxvQkFBb0IsV0FBWWwzRCxLQUFLdXJELFlBRXhDdnJELEtBQUt5NEIsUUFBUXdXLGNBQ2Y2YixFQUFPMkwsaUJBQWlCLFlBQWF6MkQsS0FBS3lxRCxhQUMxQ0ssRUFBTzJMLGlCQUFpQixXQUFZejJELEtBQUt5cUQsYUFDekNLLEVBQU8yTCxpQkFBaUIsYUFBY3oyRCxLQUFLb3JELGNBQzNDTixFQUFPMkwsaUJBQWlCLFlBQWF6MkQsS0FBS3FyRCxhQUMxQ1AsRUFBTzJMLGlCQUFpQixXQUFZejJELEtBQUt1ckQsZUFJN0NqRCxFQUFXN29ELFVBQUEwM0QsWUFBWCxTQUFZdkssR0FFVixHQURBNXNELEtBQUs0c0QsU0FBV0EsR0FDWEEsRUFHSCxPQUZBNXNELEtBQUttc0QsMkJBQ0xuc0QsS0FBS2dzRCx1QkFHSGhzRCxLQUFLeTRCLFFBQVE4VyxjQUFjdnZDLEtBQUsyc0QsYUFBYUMsR0FDN0M1c0QsS0FBS3k0QixRQUFRaXdCLGVBQWUxb0QsS0FBSyt0RCxpQkFHdkN6RixFQUFBN29ELFVBQUEyM0QsU0FBQSxTQUFTam9CLEVBQWMxVyxHQUF2QixJQXFDQ3FaLEVBQUE5eEMsVUFyQ3NCLElBQUF5NEIsSUFBQUEsRUFBNEMsQ0FBQSxHQUMxRCxJQUFBZ3ZCLEVBQWtCem5ELEtBQUt5NEIsdUJBQzlCLEdBQUtndkIsRUFBZXRZLEdBQXBCLENBR0EsSUFBTWtvQixFQS9yQm1CLFNBQUNsb0IsRUFBY3NZLEdBQzFDLElBQU1DLEVBQVlELEVBQWV0WSxHQUNqQyxJQUFLdVksRUFBVyxNQUFPLEdBRXZCLElBQU00UCxFQUFzQixHQXNCNUIsT0FuQkk1UCxFQUFVN1gsT0FBT3luQixFQUFVOTFELEtBQUtrbUQsRUFBVTdYLE9BQzFDNlgsRUFBVWhZLFFBQVE0bkIsRUFBVTkxRCxLQUFWYixNQUFBMjJELFNBQWtCNVAsRUFBVWhZLFNBQVEsSUFDdERnWSxFQUFVL1gsUUFBUTJuQixFQUFVOTFELEtBQVZiLE1BQUEyMkQsU0FBa0I1UCxFQUFVL1gsU0FBUSxJQUd0RCtYLEVBQVVyWCxTQUNScVgsRUFBVXJYLE9BQU9SLE9BQU95bkIsRUFBVTkxRCxLQUFLa21ELEVBQVVyWCxPQUFPUixPQUN4RDZYLEVBQVVyWCxPQUFPWCxRQUFRNG5CLEVBQVU5MUQsS0FBSWIsTUFBZDIyRCxFQUFTNTFELEVBQUEsR0FBQU4sRUFBU3NtRCxFQUFVclgsT0FBT1gsU0FBUSxJQUNwRWdZLEVBQVVyWCxPQUFPVixRQUFRMm5CLEVBQVU5MUQsS0FBSWIsTUFBZDIyRCxFQUFTNTFELEVBQUEsR0FBQU4sRUFBU3NtRCxFQUFVclgsT0FBT1YsU0FBUSxLQUl0RStYLEVBQVVwWCxXQUNSb1gsRUFBVXBYLFNBQVNULE9BQU95bkIsRUFBVTkxRCxLQUFLa21ELEVBQVVwWCxTQUFTVCxPQUM1RDZYLEVBQVVwWCxTQUFTWixRQUFRNG5CLEVBQVU5MUQsS0FBSWIsTUFBZDIyRCxFQUFTNTFELEVBQUEsR0FBQU4sRUFBU3NtRCxFQUFVcFgsU0FBU1osU0FBUSxJQUN4RWdZLEVBQVVwWCxTQUFTWCxRQUFRMm5CLEVBQVU5MUQsS0FBSWIsTUFBZDIyRCxFQUFTNTFELEVBQUEsR0FBQU4sRUFBU3NtRCxFQUFVcFgsU0FBU1gsU0FBUSxLQUl2RXB3QyxNQUFNcUMsS0FBSyxJQUFJbVgsSUFBSXUrQyxHQUM1QixDQW9xQjJCQyxDQUFxQnBvQixFQUFPc1ksR0FFbkR6bkQsS0FBS3k0QixRQUFRMFcsTUFBUUEsRUFDckJudkMsS0FBS3k0QixRQUNBdDRCLEVBQUFBLEVBQUFBLEVBQUFBLEVBQUEsR0FBQUgsS0FBS3k0QixTQUNSLENBQUEwVyxNQUFLQSxJQUNGMVcsR0FBTyxDQUNWMG5CLGFBQVloZ0QsRUFBQUEsRUFBQSxDQUFBLEVBQ1BILEtBQUt5NEIsUUFBUTBuQixjQUNaMW5CLEVBQVEwbkIsY0FBZ0IsQ0FBRSxLQUdsQ25nRCxLQUFLcTBELDBCQTFwQlQsU0FDRW1ELEVBQ0FyMkQsRUFDQXMyRCxHQVNBLElBUEEsSUFBSUMsRUFBUyxFQUNQQyxFQUFjLGFBQ2xCRCxJQUNlRixFQUFLOTJELFFBQ2xCUyxHQUVKLGFBQ1NaLEdBQ0ZvbkQsR0FBTzZQLEVBQUtqM0QsSUFhTm9uRCxHQUFPNlAsRUFBS2ozRCxJQUFJNmdELFVBRXpCdVcsS0FkQWhRLEdBQU82UCxFQUFLajNELElBQU0sSUFBSWltRCxNQUN0Qm1CLEdBQU82UCxFQUFLajNELElBQUk4bUQsSUFBTW1RLEVBQUtqM0QsR0FDM0JvbkQsR0FBTzZQLEVBQUtqM0QsSUFBSXEzRCxPQUFTLFdBQ3ZCRCxJQUVJRixHQUNGQSxFQUFjRCxFQUFLajNELEdBRXZCLEVBQ0FvbkQsR0FBTzZQLEVBQUtqM0QsSUFBSXMzRCxRQUFVLFdBQ3hCRixHQUNGLElBYktwM0QsRUFBSSxFQUFHQSxFQUFJaTNELEVBQUs5MkQsT0FBUUgsTUFBeEJBLEVBbUJYLENBb29CSXUzRCxDQUNFVCxHQUNBLFdBQ0V2bEIsRUFBSzBZLFlBQ0wxWSxFQUFLa2tCLFFBQ04sSUFYbUIsU0FBQytCLEdBQ3JCam1CLEVBQUswWSxZQUNMMVksRUFBS2lpQixZQUNQLElBWUEvekQsS0FBS3dxRCxZQUNMeHFELEtBQUtnMkQsUUFsQzhCLEdBK0RyQzFOLEVBQWtCN29ELFVBQUF1NEQsbUJBQWxCLFNBQW1CQyxHQUNWLElBQUEvb0IsRUFBY2x2QyxLQUFLeTRCLG1CQUVuQnF5QixFQUFVOXFELEtBQUk4cUQsT0FDckIsR0FBS0EsRUFBTCxDQUNBLElBQU0vYixFQUFVK2IsRUFBT3lCLE9BQVMwTCxFQUFrQixHQUFLLEVBQ2pEQyxFQUEyQnBOLEVBQU95QixPQUFTMEwsRUFBa0IsR0FBSyxFQUV4RWo0RCxLQUFLeTRCLFFBQVFzVyxRQUFVRyxFQUFhSCxFQUFVbXBCLENBSjFCLEdBT3RCNVAsRUFBUzdvRCxVQUFBMDRELFVBQVQsU0FBVTdvQixRQUFBLElBQUFBLElBQUFBLEdBQVksR0FDZCxJQUFBMUQsRUFPRjVyQyxLQU5GOHFELFdBQ0E0QixtQkFDQTdjLFVBQ0E2YSxpQkFDQXFCLGlCQUNBRSxpQkFFRixHQUFLbkIsRUFBTCxDQUNNLElBQUEvbEQsRUFBK0MvRSxLQUFLeTRCLFFBQW5EcVcsRUFBUy9wQyxFQUFBK3BDLFVBQUVFLEVBQU1qcUMsRUFBQWlxQyxPQUFFRCxFQUFPaHFDLEVBQUFncUMsUUFBRXlaLG1CQUM3Qm5hLEVBQWtCcnVDLEtBQUtrZ0QsaUJBQzNCaFUsRUFBZ0JBLGlCQUFDbWxCLGlCQUViK0csRUFBb0JoYixHQUN4QnA5QyxLQUFLcytDLGVBQ0x0UCxHQUNBLEdBRUkwUSxFQUFNb0wsYUFBTSxFQUFOQSxFQUFRdUIsV0FBVyxNQUN6QmdNLEVBQVd4b0IsYUFBSyxFQUFMQSxFQUFPd2MsV0FBVyxNQUM3QmlNLEVBQVk1TixhQUFZLEVBQVpBLEVBQWMyQixXQUFXLE1BQ3JDa00sRUFBWXhNLGFBQVksRUFBWkEsRUFBY00sV0FBVyxNQUNyQ21NLEVBQWM5TCxhQUFjLEVBQWRBLEVBQWdCTCxXQUFXLE1BQ3pDb00sRUFBWXhNLGFBQVksRUFBWkEsRUFBY0ksV0FBVyxNQUNyQ2IsRUFBY2xjLEVBQ2hCOG9CLEVBQ0EsQ0FDRSxDQUFDLEVBQUd0cEIsRUFBWSxHQUNoQixDQUFDLEVBQUdBLEVBQVksSUFHdEI5dUMsS0FBS3dyRCxZQUFjQSxFQUNuQixJQUFNeU0sRUFBa0IvaUQsS0FBS2lELElBQzNCcXpDLEVBQVksR0FBRyxHQUFLQSxFQUFZLEdBQUcsR0FDbkNBLEVBQVksR0FBRyxHQUFLQSxFQUFZLEdBQUcsSUFTckMsR0FOSWhELEVBQ0Z4b0QsS0FBS2c0RCxtQkFBbUJDLEdBRXhCajRELEtBQUt5NEIsUUFBUXNXLFFBQVVGLEVBQWdCRSxRQUdyQ08sRUFBTSxDQUNELElBQUFzYSxFQUFTNXBELEtBQUs2cEQsNEJBQ2ZoTixFQUFTNzhDLEtBQUtzOEMsYUFFaEJrTSxFQUNGeG9ELEtBQUtnNEQsbUJBQW1CQyxHQUV4Qmo0RCxLQUFLeTRCLFFBQVFzVyxRQUFVRixFQUFnQkUsUUFHekMsSUFBSTJwQixFQUFxQyxFQUFsQnJxQixFQUFzQixFQUczQ3dPLElBQVd2USxFQUFBQSxPQUFPb1EsVUFDbEJHLElBQVd2USxFQUFNQSxPQUFDa1EsU0FDbEJLLElBQVd2USxFQUFNQSxPQUFDcVEsYUFDbEJFLElBQVd2USxFQUFNQSxPQUFDbVEsYUFFbEJpYyxFQUFtQnJxQixFQUFrQixJQUV2QyxJQUFJbWtCLEVBQWtCeUYsRUFBa0JTLEVBRXhDLEdBQUlsRyxFQUFrQjFqQixFQUFXLENBQy9CLElBQUlrSixHQUFTOFMsRUFBT3lCLE1BQWtCLEVBQVZ4ZCxJQUFnQnlqQixFQUFrQjVJLEdBRTFEZ0IsRUFDRlksRUFBWSxHQUFHLEdBQUs1QixFQUFRNVIsRUFDNUJqSixFQUFVaUosRUFDVmpKLEVBQ0M2YSxFQUFROE8sRUFBbUIxZ0IsRUFBUyxFQUNwQzRSLEVBQVE1UixFQUFTLEVBRWhCMlIsRUFDRjZCLEVBQVksR0FBRyxHQUFLNUIsRUFBUTVSLEVBQzVCakosRUFBVWlKLEVBQ1ZqSixFQUNDNmEsRUFBUThPLEVBQW1CMWdCLEVBQVMsRUFDcEM0UixFQUFRNVIsRUFBUyxFQUVwQmg0QyxLQUFLK3BELFNBQVcsSUFBSXFLLFVBQ3BCcDBELEtBQUsrcEQsU0FBUzRPLGVBQWUvTixHQUFVakIsR0FDdkMzcEQsS0FBSytwRCxTQUFTNk8sVUFBVTVnQixFQUFPQSxHQUMvQjBILFNBQUFBLEVBQUs0TSxhQUFhdHNELEtBQUsrcEQsVUFDdkJzTyxTQUFBQSxFQUFVL0wsYUFBYXRzRCxLQUFLK3BELFVBQzVCeU8sU0FBQUEsRUFBYWxNLGFBQWF0c0QsS0FBSytwRCxVQUMvQnVPLFNBQUFBLEVBQVdoTSxhQUFhdHNELEtBQUsrcEQsVUFDN0J3TyxTQUFBQSxFQUFXak0sYUFBYXRzRCxLQUFLK3BELFVBQzdCME8sU0FBQUEsRUFBV25NLGFBQWF0c0QsS0FBSytwRCxTQUM5QixNQUNDL3BELEtBQUs2NEQsZ0JBRVIsTUFDQzc0RCxLQUFLNjRELGdCQXZGYSxHQTJGdEJ2USxFQUFvQjdvRCxVQUFBcTVELHFCQUFwQixTQUFxQnhwQixHQUNuQnR2QyxLQUFLbTRELFVBQVVuNEQsS0FBS3k0QixRQUFRNlcsT0FHOUJnWixFQUFBN29ELFVBQUFvNUQsZUFBQSxXQUNRLElBQUFqdEIsRUFPRjVyQyxLQU5GOHFELFdBQ0E0QixtQkFDQTdjLFVBQ0E2YSxpQkFDQXFCLGlCQUNBRSxpQkFFSXZNLEVBQU1vTCxhQUFNLEVBQU5BLEVBQVF1QixXQUFXLE1BQ3pCZ00sRUFBV3hvQixhQUFLLEVBQUxBLEVBQU93YyxXQUFXLE1BQzdCaU0sRUFBWTVOLGFBQVksRUFBWkEsRUFBYzJCLFdBQVcsTUFDckNrTSxFQUFZeE0sYUFBWSxFQUFaQSxFQUFjTSxXQUFXLE1BQ3JDbU0sRUFBYzlMLGFBQWMsRUFBZEEsRUFBZ0JMLFdBQVcsTUFDekNvTSxFQUFZeE0sYUFBWSxFQUFaQSxFQUFjSSxXQUFXLE1BQzNDcnNELEtBQUsrcEQsU0FBVyxJQUFJcUssVUFDcEIxVSxTQUFBQSxFQUFLbVosaUJBQ0xSLFNBQUFBLEVBQVVRLGlCQUNWTCxTQUFBQSxFQUFhSyxpQkFDYlAsU0FBQUEsRUFBV08saUJBQ1hOLFNBQUFBLEVBQVdNLGlCQUNYSixTQUFBQSxFQUFXSSxrQkFHYnZRLEVBQUE3b0QsVUFBQXUyRCxPQUFBLFdBQ1MsSUFBQWhqQixFQUFPaHpDLEtBQUlnekMsSUFDZGh6QyxLQUFLZ3pDLEtBQU9BLEVBQUksS0FBSWh6QyxLQUFLeTRCLFFBQVFxVyxVQUFZa0UsRUFBSSxHQUFHdHlDLFFBRXhEVixLQUFLbTRELFVBQVVuNEQsS0FBS3k0QixRQUFRNlcsTUFDNUJ0dkMsS0FBS200RCxVQUFVbjRELEtBQUt5NEIsUUFBUTZXLE1BQzVCdHZDLEtBQUs2ckQsaUJBQ0w3ckQsS0FBS3dxRCxZQUNMeHFELEtBQUsrekQsYUFDTC96RCxLQUFLc3VELGFBQ0R0dUQsS0FBS3k0QixRQUFRaXdCLGVBQWUxb0QsS0FBSyt0RCxnQkFDckMvdEQsS0FBS3VxRCxhQUNEdnFELEtBQUt5NEIsUUFBUThXLGNBQWN2dkMsS0FBSzJzRCxnQkFHdENyRSxFQUFpQjdvRCxVQUFBczVELGtCQUFqQixTQUFrQmpPLFFBQUEsSUFBQUEsSUFBQUEsRUFBUzlxRCxLQUFLOHFELFFBQzlCOXFELEtBQUs2ckQsaUJBQ0w3ckQsS0FBS3dxRCxVQUFVTSxHQUFRLEdBQ3ZCOXFELEtBQUsrekQsV0FBVy96RCxLQUFLZ3pDLElBQUs4WCxHQUFRLEdBQ2xDOXFELEtBQUtzdUQsV0FBV3R1RCxLQUFLZ3pDLElBQUtoekMsS0FBS3UrQyxPQUFRdU0sR0FBUSxJQTgvQmxEeEMsQ0FBRCw4Q3pCMThEaUMsQ0FDL0IsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0Esd0hBekNnQyxrQ0FvRVYsYUFDQSxhQUNBLG1MQXZFTSw2QkMyQ1MsQ0FBQyxLQUFNLEtBQU0sME1ENkJ2Qix5SkM5QkcsQ0FBQyxLQUFNLEtBQU0sS0FBTSx5RUdvVzFCLFNBQUNyTyxFQUFjbkwsR0FHdEMsWUFIc0MsSUFBQUEsSUFBQUEsRUFBYyxJQUMxQ0osRUFBV3BxQyxRQUFRMjFDLEVBQUssSUFFdkJuTCxFQURESCxFQUFXcnFDLFFBQVErSSxTQUFTNHNDLEVBQUtDLE9BQU8sR0FBSSxHQUV4RCx5QkFTdUIsU0FBQ25JLEVBQVU1ZCxFQUFZeTJCLEVBQWFqQixHQUN6RCxRQURnQyxJQUFBeDFCLElBQUFBLEVBQVUsVUFBRSxJQUFBeTJCLElBQUFBLEVBQVcsUUFBRSxJQUFBakIsSUFBQUEsRUFBVyxHQUN4RCxTQUFSNVgsRUFBZ0IsTUFBTyxHQUFBL3ZDLE9BQUdteUIsRUFBSSxNQUNsQyxJQUFNc21CLEVBQU0vTCxFQUFXcHFDLFFBQVF5dEMsRUFBSSxJQUFNNlksRUFDbkNsUSxFQUFNL0wsRUFBV3JxQyxRQUFRK0ksU0FBUzBrQyxFQUFJbUksT0FBTyxHQUFJLElBQU15UCxFQUU3RCxNQURZLEdBQUczbkQsT0FBQW15QixjQUFReWEsRUFBWTZMLFdBQU83TCxFQUFZOEwsT0FFeEQseUJBdTNCb0MsU0FDbENoRixFQUNBMUMsRUFDQXp5QyxFQUNBaXpDLEVBQ0FKLEVBQ0E0bEIsR0FFQSxHQUFJNWxCLElBQU9qSCxFQUFBQSxHQUFHc25CLE1BQWQsQ0FFQSxJQU9JM3VELEVBUEV5dkMsT0FDVW54QyxJQUFkNDFELEVBQ0lBLEVBQ0F0akIsRUFBWXJ5QyxPQUNWMjZDLEdBQWlCdEksRUFBWXJ5QyxRQUFRMnZDLElBQ3JDLEtBR1IsR0FBSXNCLEdBQVF0QixFQUFLenlDLEVBQUdpekMsRUFBR0osRUFBSW1CLEdBQXFCLENBQzlDLElBQU1yekMsRUFBUTB0QyxFQUFZcnVDLEdBQUtxdUMsRUFBWTRFLEdBQ3JDbkksRUFBUStILElBQU9qSCxFQUFBQSxHQUFHc1MsTUFBUSxJQUFNLElBQ2hDd2EsRUFBTy90QixFQUFTd0ssRUFBYSxDQUFDOUQsR0FBU2h3QyxLQUFLLEdBQUFJLE9BQUdxcEMsRUFBUyxLQUFBcnBDLE9BQUFkLFVBQ3hEZzRELEVBQVd4akIsRUFBWXh5QyxTQUFTZzlCLFFBQ3BDLFNBQUMxL0IsR0FBYSxPQUFBQSxFQUFFeUMsTUFBTThwQixLQUFPa3NDLENBQUksSUFFL0JDLEVBQVN4NEQsT0FBUyxFQUNwQm9FLEVBQU9vMEQsRUFBUyxJQUVoQnAwRCxFQUFPODJDLEdBQWMsR0FBRzU1QyxPQUFBcXBDLEVBQVMsS0FBQXJwQyxPQUFBZCxFQUFRLEtBQUV3MEMsR0FDM0NBLEVBQVlueUMsU0FBU3VCLEdBRXhCLENBQ0QsT0FBT0EsQ0F4QnFCLENBeUI5QiwwQkF6RXFDLFNBQ25DNHdDLEVBQ0ExQyxFQUNBenlDLEVBQ0FpekMsRUFDQUosR0FFQSxJQUFNbHlDLEVBQVEwdEMsRUFBWXJ1QyxHQUFLcXVDLEVBQVk0RSxHQUNyQ25JLEVBQVErSCxJQUFPakgsRUFBQUEsR0FBR3VTLE1BQVEsS0FBTyxLQUNqQzc2QyxFQUFPczdDLEdBQVN6SixFQUFhckssR0FDL0I1b0MsR0FBUyxFQWNiLE9BYkl1d0MsRUFBSXp5QyxHQUFHaXpDLEtBQU9ySCxFQUFBQSxHQUFHc25CLE1BQ25CMVYsR0FBMEJySSxFQUFheDBDLElBRW5DMkMsRUFDRkEsRUFBSzRNLE9BQWEvTyxFQUFBQSxFQUFBLEdBQUFOLEVBQUF5QyxFQUFLNE0sU0FBTSxHQUFBLENBQUV2UCxJQUFLLEdBRXBDdzBDLEVBQVl6eUMsTUFBTStwQyxvQkFDYjBJLEVBQVl6eUMsTUFBTStwQyxhQUFVLEdBQUEsQ0FDL0IsSUFBSWdGLEdBQVUzRyxFQUFPbnFDLFFBR3pCdUIsR0FBUyxHQUVKQSxDQUNULGlIQXRiZ0QsU0FDOUMwMkQsRUFDQXJxQixvQkFBQSxJQUFBQSxJQUFBQSxFQUFjLElBRWQsSUFBTXJzQyxFQUFtQixHQUVuQnVDLEVBQUE1RCxFQUF1QiszRCxFQUFXLEdBQWpDbmxCLEVBQUE1eUMsRUFBQTRELEVBQUEsR0FBQSxHQUFDaXVELEVBQUVqZixFQUFBLEdBQUU2ZSxFQUFFN2UsRUFBQSxHQUFHd2YsRUFBQXB5RCxFQUFRNEQsRUFBQSxHQUFBLEdBQVBrdUQsRUFBRU0sRUFBQSxHQUFFVixFQUFFVSxFQUFBLE9BRXhCLElBQWtCLElBQUE0RixFQUFBeDRELEVBQUE4dEMsRUFBVzNzQyxNQUFNLEVBQUcrc0MsSUFBVXVxQixFQUFBRCxFQUFBbjRELDBCQUFFLENBQTdDLElBQU0wc0QsRUFBRzBMLEVBQUFuNEQsVUFDWixJQUFrQixJQUFBbzRELEdBQUFDLE9BQUEsRUFBQTM0RCxFQUFBK3RDLEVBQVc1c0MsT0FBTytzQyxLQUFVMHFCLEVBQUFGLEVBQUFyNEQsMEJBQUUsQ0FBM0MsSUFBTXkwRCxFQUFHOEQsRUFBQXQ0RCxNQUNOZ3lDLEVBQUl4RSxFQUFXcHFDLFFBQVFxcEQsR0FDdkJ4YSxFQUFJeEUsRUFBV3JxQyxRQUFRb3hELElBRXpCeGlCLEVBQUkrZixHQUFNL2YsRUFBSWdnQixHQUFNL2YsRUFBSTBmLEdBQU0xZixFQUFJMmYsSUFDcENyd0QsRUFBT2pCLEtBQUssR0FBQVEsT0FBRzJyRCxHQUFNM3JELE9BQUEwekQsR0FFeEIsbUdBQ0YsbUdBRUQsT0FBT2p6RCxDQUNULHVFQXAwQitDLFNBQUNnM0QsR0FFOUMsT0FBSUEsR0FBYSxHQUNSLENBQ0xDLEtBQU0sQ0FBQ0MsYUFBYyxFQUFFLEdBQUksS0FBT0MsV0FBWSxFQUFFLEtBQU0sSUFDdERDLElBQUssQ0FBQ0YsYUFBYyxFQUFFLEtBQU8sSUFBTUMsV0FBWSxFQUFFLEdBQUksSUFDckRFLEtBQU0sQ0FBQ0gsYUFBYyxFQUFFLElBQU0sS0FBT0MsV0FBWSxFQUFFLEdBQUksSUFDdERHLEdBQUksQ0FBQ0osYUFBYyxFQUFFLEtBQU8sS0FBT0MsV0FBWSxFQUFFLEdBQUksS0FDckRJLEtBQU0sQ0FBQ0wsYUFBYyxFQUFFLElBQU0sR0FBSUMsV0FBWSxDQUFDLEVBQUcsTUFDakRLLE1BQU8sQ0FBQ04sYUFBYyxDQUFDLEVBQUcsR0FBSUMsV0FBWSxDQUFDLEVBQUcsT0FJOUNILEdBQWEsSUFBTUEsRUFBWSxHQUMxQixDQUNMQyxLQUFNLENBQUNDLGFBQWMsRUFBRSxHQUFJLElBQU1DLFdBQVksRUFBRSxLQUFNLElBQ3JEQyxJQUFLLENBQUNGLGFBQWMsRUFBRSxJQUFNLEtBQU9DLFdBQVksRUFBRSxHQUFJLElBQ3JERSxLQUFNLENBQUNILGFBQWMsRUFBRSxLQUFPLEtBQU9DLFdBQVksRUFBRSxHQUFJLElBQ3ZERyxHQUFJLENBQUNKLGFBQWMsRUFBRSxLQUFPLEtBQU9DLFdBQVksRUFBRSxHQUFJLElBQ3JESSxLQUFNLENBQUNMLGFBQWMsRUFBRSxJQUFNLEdBQUlDLFdBQVksQ0FBQyxFQUFHLE1BQ2pESyxNQUFPLENBQUNOLGFBQWMsQ0FBQyxFQUFHLEdBQUlDLFdBQVksQ0FBQyxFQUFHLE9BSzlDSCxHQUFhLElBQU1BLEVBQVksR0FDMUIsQ0FDTEMsS0FBTSxDQUFDQyxhQUFjLEVBQUUsR0FBSSxLQUFPQyxXQUFZLEVBQUUsS0FBTSxLQUN0REMsSUFBSyxDQUFDRixhQUFjLEVBQUUsS0FBTyxJQUFNQyxXQUFZLEVBQUUsSUFBSyxJQUN0REUsS0FBTSxDQUFDSCxhQUFjLEVBQUUsSUFBTSxLQUFPQyxXQUFZLEVBQUUsR0FBSSxJQUN0REcsR0FBSSxDQUFDSixhQUFjLEVBQUUsS0FBTyxLQUFPQyxXQUFZLEVBQUUsR0FBSSxJQUNyREksS0FBTSxDQUFDTCxhQUFjLEVBQUUsSUFBTSxHQUFJQyxXQUFZLENBQUMsRUFBRyxNQUNqREssTUFBTyxDQUFDTixhQUFjLENBQUMsRUFBRyxHQUFJQyxXQUFZLENBQUMsRUFBRyxPQUk5Q0gsR0FBYSxJQUFNQSxFQUFZLEdBQzFCLENBQ0xDLEtBQU0sQ0FBQ0MsYUFBYyxFQUFFLEdBQUksSUFBTUMsV0FBWSxFQUFFLEtBQU0sS0FDckRDLElBQUssQ0FBQ0YsYUFBYyxFQUFFLElBQU0sSUFBTUMsV0FBWSxFQUFFLElBQUssSUFDckRFLEtBQU0sQ0FBQ0gsYUFBYyxFQUFFLElBQU0sS0FBT0MsV0FBWSxFQUFFLEdBQUksSUFDdERHLEdBQUksQ0FBQ0osYUFBYyxFQUFFLEtBQU8sS0FBT0MsV0FBWSxFQUFFLEdBQUksSUFDckRJLEtBQU0sQ0FBQ0wsYUFBYyxFQUFFLElBQU0sR0FBSUMsV0FBWSxDQUFDLEVBQUcsTUFDakRLLE1BQU8sQ0FBQ04sYUFBYyxDQUFDLEVBQUcsR0FBSUMsV0FBWSxDQUFDLEVBQUcsT0FJOUNILEdBQWEsSUFBTUEsRUFBWSxHQUMxQixDQUNMQyxLQUFNLENBQUNDLGFBQWMsRUFBRSxHQUFJLEtBQU9DLFdBQVksRUFBRSxLQUFNLEtBQ3REQyxJQUFLLENBQUNGLGFBQWMsRUFBRSxLQUFPLEtBQU9DLFdBQVksRUFBRSxJQUFLLEtBQ3ZERSxLQUFNLENBQUNILGFBQWMsRUFBRSxLQUFPLEtBQU9DLFdBQVksRUFBRSxJQUFLLElBQ3hERyxHQUFJLENBQUNKLGFBQWMsRUFBRSxLQUFPLEtBQU9DLFdBQVksRUFBRSxHQUFJLElBQ3JESSxLQUFNLENBQUNMLGFBQWMsRUFBRSxJQUFNLEdBQUlDLFdBQVksQ0FBQyxFQUFHLE1BQ2pESyxNQUFPLENBQUNOLGFBQWMsQ0FBQyxFQUFHLEdBQUlDLFdBQVksQ0FBQyxFQUFHLE9BSTlDSCxHQUFhLEdBQUtBLEVBQVksR0FDekIsQ0FDTEMsS0FBTSxDQUFDQyxhQUFjLEVBQUUsR0FBSSxJQUFNQyxXQUFZLEVBQUUsS0FBTSxLQUNyREMsSUFBSyxDQUFDRixhQUFjLEVBQUUsSUFBTSxLQUFPQyxXQUFZLEVBQUUsSUFBSyxLQUN0REUsS0FBTSxDQUFDSCxhQUFjLEVBQUUsS0FBTyxJQUFNQyxXQUFZLEVBQUUsSUFBSyxJQUN2REcsR0FBSSxDQUFDSixhQUFjLEVBQUUsSUFBTSxLQUFPQyxXQUFZLEVBQUUsR0FBSSxJQUNwREksS0FBTSxDQUFDTCxhQUFjLEVBQUUsSUFBTSxHQUFJQyxXQUFZLENBQUMsRUFBRyxNQUNqREssTUFBTyxDQUFDTixhQUFjLENBQUMsRUFBRyxHQUFJQyxXQUFZLENBQUMsRUFBRyxPQUk5Q0gsR0FBYSxHQUFLQSxFQUFZLEVBQ3pCLENBQ0xDLEtBQU0sQ0FBQ0MsYUFBYyxFQUFFLEdBQUksS0FBT0MsV0FBWSxFQUFFLEtBQU0sS0FDdERDLElBQUssQ0FBQ0YsYUFBYyxFQUFFLEtBQU8sSUFBTUMsV0FBWSxFQUFFLElBQUssS0FDdERFLEtBQU0sQ0FBQ0gsYUFBYyxFQUFFLElBQU0sSUFBTUMsV0FBWSxFQUFFLElBQUssS0FDdERHLEdBQUksQ0FBQ0osYUFBYyxFQUFFLElBQU0sS0FBT0MsV0FBWSxFQUFFLElBQUssSUFDckRJLEtBQU0sQ0FBQ0wsYUFBYyxFQUFFLElBQU0sR0FBSUMsV0FBWSxDQUFDLEVBQUcsTUFDakRLLE1BQU8sQ0FBQ04sYUFBYyxDQUFDLEVBQUcsR0FBSUMsV0FBWSxDQUFDLEVBQUcsT0FHM0MsQ0FDTEYsS0FBTSxDQUFDQyxhQUFjLEVBQUUsR0FBSSxJQUFNQyxXQUFZLEVBQUUsS0FBTSxLQUNyREMsSUFBSyxDQUFDRixhQUFjLEVBQUUsSUFBTSxJQUFNQyxXQUFZLEVBQUUsSUFBSyxLQUNyREUsS0FBTSxDQUFDSCxhQUFjLEVBQUUsSUFBTSxJQUFNQyxXQUFZLEVBQUUsSUFBSyxLQUN0REcsR0FBSSxDQUFDSixhQUFjLEVBQUUsSUFBTSxLQUFPQyxXQUFZLEVBQUUsSUFBSyxJQUNyREksS0FBTSxDQUFDTCxhQUFjLEVBQUUsSUFBTSxHQUFJQyxXQUFZLENBQUMsRUFBRyxNQUNqREssTUFBTyxDQUFDTixhQUFjLENBQUMsRUFBRyxHQUFJQyxXQUFZLENBQUMsRUFBRyxNQUVsRCxnRUFpNEIwQixTQUFDNW1CLEdBQ3pCLElBQU1sRSxFQUFZOE4sR0FBYzVKLEdBQzFCdUgsRUFBSyxHQUFLekwsRUFBVSxHQUNwQjBMLEVBQUssR0FBSzFMLEVBQVUsR0FHdEJvTyxFQUFNM0MsRUFDTjRDLEVBQU0zQyxFQUNWLE9BSmU4QixHQUFXdEosSUFLeEIsS0FBSzFHLEVBQUFBLE9BQU9rUSxRQUNWVSxFQUFNLEVBQ05DLEVBQU0zQyxFQUNOLE1BRUYsS0FBS2xPLEVBQUFBLE9BQU9vUSxTQUNWUSxHQUFPM0MsRUFDUDRDLEVBQU0zQyxFQUNOLE1BRUYsS0FBS2xPLEVBQUFBLE9BQU9tUSxXQUNWUyxFQUFNLEVBQ05DLEVBQU0sRUFDTixNQUVGLEtBQUs3USxFQUFBQSxPQUFPcVEsWUFDVk8sR0FBTzNDLEVBQ1A0QyxFQUFNLEVBSVYsTUFBTyxDQUFDakssRUFBR2dLLEVBQUsvSixFQUFHZ0ssRUFDckIsNENBd1RrQyxTQUFDcjRDLEVBQWFtNUMsR0FDOUMsUUFEOEMsSUFBQUEsSUFBQUEsRUFBcUIsS0FDOURuNUMsRUFBTSxPQUFPaTNDLEdBQU0sQ0FBQ2tDLEVBQWtCQSxJQUMzQyxJQUFNMXFDLEVBQU84cUMsR0FBaUJ2NUMsRUFBTW01QyxHQUM5Qm9NLEVBQWlCdE8sR0FBTSxDQUFDeG9DLEVBQU1BLElBRWhDMm1ELEVBQTRCLEdBOEJoQyxPQTdCSXAxRCxFQUFLeEIsZ0JBQ1A0MkQsRUFBbUJwMUQsRUFBSzVCLFNBQVNnOUIsUUFBTyxTQUFDMS9CLEdBQWEsT0FBQTgzQyxHQUFrQjkzQyxFQUFsQixLQUdwRDYzQyxHQUFZdnpDLEtBQ2R1bEQsRUFBZTcyQyxTQUFRLFNBQUFraUQsR0FBTyxPQUFBQSxFQUFJMTFCLEtBQUssRUFBVCxJQUMxQmw3QixFQUFLeEIsZUFDUHdCLEVBQUs1QixTQUFTc1EsU0FBUSxTQUFDaFQsR0FDckJBLEVBQUV5QyxNQUFNa29DLFVBQVUzM0IsU0FBUSxTQUFDeFMsR0FDekIsSUFBTVQsRUFBSXF1QyxFQUFZdHFDLFFBQVF0RCxFQUFFRSxNQUFNLElBQ2hDc3lDLEVBQUk1RSxFQUFZdHFDLFFBQVF0RCxFQUFFRSxNQUFNLElBQ2xDWCxHQUFLLEdBQUtpekMsR0FBSyxHQUFLanpDLEVBQUlnVCxHQUFRaWdDLEVBQUlqZ0MsSUFDdEM4MkMsRUFBZTlwRCxHQUFHaXpDLEdBQUssRUFFM0IsR0FDRixLQUlKMG1CLEVBQWlCMW1ELFNBQVEsU0FBQ2hULEdBQ3hCQSxFQUFFeUMsTUFBTWtvQyxVQUFVMzNCLFNBQVEsU0FBQ3hTLEdBQ3pCLElBQU1ULEVBQUlxdUMsRUFBWXRxQyxRQUFRdEQsRUFBRUUsTUFBTSxJQUNoQ3N5QyxFQUFJNUUsRUFBWXRxQyxRQUFRdEQsRUFBRUUsTUFBTSxJQUNsQ1gsR0FBSyxHQUFLaXpDLEdBQUssR0FBS2p6QyxFQUFJZ1QsR0FBUWlnQyxFQUFJamdDLElBQ3RDODJDLEVBQWU5cEQsR0FBR2l6QyxHQUFLLEVBRTNCLEdBQ0YsSUFFTzZXLENBQ1QscUNBM0RnRCxTQUM5Q3ZsRCxFQUNBbTVDLEdBRUEsUUFGQSxJQUFBQSxJQUFBQSxFQUFxQixLQUVoQm41QyxFQUFNLE9BQU9pM0MsR0FBTSxDQUFDa0MsRUFBa0JBLElBQzNDLElBQU0xcUMsRUFBTzhxQyxHQUFpQnY1QyxFQUFNbTVDLEdBQzlCb00sRUFBaUJ0TyxHQUFNLENBQUN4b0MsRUFBTUEsSUFjcEMsT0FaQTgyQyxFQUFlNzJDLFNBQVEsU0FBQWtpRCxHQUFPLE9BQUFBLEVBQUkxMUIsS0FBSyxFQUFULElBQzFCbDdCLEVBQUt4QixlQUNQd0IsRUFBSzVCLFNBQVNzUSxTQUFRLFNBQUNoVCxHQUNyQkEsRUFBRXlDLE1BQU1rb0MsVUFBVTMzQixTQUFRLFNBQUN4UyxHQUN6QixJQUFNVCxFQUFJcXVDLEVBQVl0cUMsUUFBUXRELEVBQUVFLE1BQU0sSUFDaENzeUMsRUFBSTVFLEVBQVl0cUMsUUFBUXRELEVBQUVFLE1BQU0sSUFDbENYLEdBQUssR0FBS2l6QyxHQUFLLEdBQUtqekMsRUFBSWdULEdBQVFpZ0MsRUFBSWpnQyxJQUN0QzgyQyxFQUFlOXBELEdBQUdpekMsR0FBSyxFQUUzQixHQUNGLElBRUs2VyxDQUNULCtEQXZlZ0MsU0FDOUJyWCxFQUNBaEUsRUFDQUYsRUFDQXFyQixFQUNBcEksRUFDQXFJLFFBSEEsSUFBQXRyQixJQUFBQSxFQUFjLFNBQ2QsSUFBQXFyQixJQUFBQSxFQUFVLFVBQ1YsSUFBQXBJLElBQUFBLEVBQVc1bEIsRUFBQUEsR0FBR3NTLE9BR2QsSUFBTWg4QyxFQUFTa2hDLFlBQVVxUCxHQUNuQm1tQixFQUFjcmMsR0FBZ0I5SixFQUFLaEUsRUFBUUYsR0FDM0MrTixFQUFTUCxHQUFXdEosR0FxSTFCLE9BcElrQixTQUFDQSxHQUdqQixJQUZNLElBQUFwSCxFQUFBeHFDLEVBQVcrM0QsRUFBWSxHQUFFLEdBQXhCbEcsRUFBRXJuQixFQUFBLEdBQUVpbkIsT0FDTDl0RCxFQUFBM0QsRUFBVyszRCxFQUFZLEdBQUUsR0FBeEJqRyxFQUFFbnVELEVBQUEsR0FBRSt0RCxPQUNGdnlELEVBQUkweUQsRUFBSTF5RCxHQUFLMnlELEVBQUkzeUQsSUFDeEIsSUFBSyxJQUFJaXpDLEVBQUlxZixFQUFJcmYsR0FBS3NmLEVBQUl0ZixLQUV0QnFKLElBQVd2USxFQUFBQSxPQUFPa1EsVUFDaEJqOEMsSUFBTTJ5RCxHQUFNM3lELEVBQUl1dUMsRUFBWSxHQUMzQjBFLElBQU1zZixHQUFNdGYsRUFBSTFFLEVBQVksR0FDNUJ2dUMsSUFBTTB5RCxHQUFNMXlELEVBQUksR0FDaEJpekMsSUFBTXFmLEdBQU1yZixFQUFJLElBSW5CcUosSUFBV3ZRLEVBQUFBLE9BQU9vUSxXQUNoQm44QyxJQUFNMHlELEdBQU0xeUQsRUFBSSxHQUNmaXpDLElBQU1zZixHQUFNdGYsRUFBSTFFLEVBQVksR0FDNUJ2dUMsSUFBTTJ5RCxHQUFNM3lELEVBQUl1dUMsRUFBWSxHQUM1QjBFLElBQU1xZixHQUFNcmYsRUFBSSxJQUluQnFKLElBQVd2USxFQUFBQSxPQUFPbVEsYUFDaEJsOEMsSUFBTTJ5RCxHQUFNM3lELEVBQUl1dUMsRUFBWSxHQUMzQjBFLElBQU1xZixHQUFNcmYsRUFBSSxHQUNoQmp6QyxJQUFNMHlELEdBQU0xeUQsRUFBSSxHQUNoQml6QyxJQUFNc2YsR0FBTXRmLEVBQUkxRSxFQUFZLElBSS9CK04sSUFBV3ZRLEVBQUFBLE9BQU9xUSxjQUNoQnA4QyxJQUFNMHlELEdBQU0xeUQsRUFBSSxHQUNmaXpDLElBQU1xZixHQUFNcmYsRUFBSSxHQUNoQmp6QyxJQUFNMnlELEdBQU0zeUQsRUFBSXV1QyxFQUFZLEdBQzVCMEUsSUFBTXNmLEdBQU10ZixFQUFJMUUsRUFBWSxJQUd0QitOLElBQVd2USxFQUFNQSxPQUFDQSxVQXpCM0IwRyxFQUFJenlDLEdBQUdpekMsR0FBS3VlLEVBOEJwQixDQStDQXNJLENBQVU1M0QsR0E5Q1MsU0FBQ3V3QyxHQXFCbEIsSUFwQkEsSUFDTXNuQixFQUFjdkksRUFBT29JLEVBQ3JCdnVCLEVBQUF4cUMsRUFBVyszRCxFQUFZLEdBQUUsR0FBeEJsRyxFQUFFcm5CLEVBQUEsR0FBRWluQixPQUNMOXRELEVBQUEzRCxFQUFXKzNELEVBQVksR0FBRSxHQUF4QmpHLEVBQUVudUQsRUFBQSxHQUFFK3RELE9BR0x5SCxFQUFnQnhJLElBQVM1bEIsRUFBRUEsR0FBQ3NTLE1BQzVCK2IsRUFBUXRILEVBQUtELEVBQ2J3SCxFQUFRM0gsRUFBS0QsRUFLYjZILEVBQ0p4bEQsS0FBS3VDLE9BQU8sSUFBTStpRCxFQUFRQyxHQUFTLEdBQUtILEVBZHJCLEdBbUJqQmpsQyxFQUFRLEVBQ0g5MEIsRUFBSSxFQUFHQSxFQUFJdXVDLEVBQVd2dUMsSUFDN0IsSUFBSyxJQUFJaXpDLEVBQUksRUFBR0EsRUFBSTFFLEVBQVcwRSxJQUM3QixHQUFJanpDLEVBQUkweUQsR0FBTTF5RCxFQUFJMnlELEdBQU0xZixFQUFJcWYsR0FBTXJmLEVBQUlzZixFQUFJLENBQ3hDejlCLElBQ0EsSUFBSStkLEVBQUtqSCxFQUFFQSxHQUFDc25CLE1BQ1I1VyxJQUFXdlEsRUFBQUEsT0FBT2tRLFNBQVdLLElBQVd2USxFQUFBQSxPQUFPbVEsV0FDakRySixFQUFLbW5CLElBQWtCbGxDLEdBQVNxbEMsRUFBY3Z1QixFQUFBQSxHQUFHdVMsTUFBUXZTLEVBQUVBLEdBQUNzUyxNQUU1RDVCLElBQVd2USxFQUFBQSxPQUFPb1EsVUFDbEJHLElBQVd2USxFQUFNQSxPQUFDcVEsY0FFbEJ2SixFQUFLbW5CLElBQWtCbGxDLEdBQVNxbEMsRUFBY3Z1QixFQUFBQSxHQUFHc1MsTUFBUXRTLEVBQUVBLEdBQUN1UyxRQUV6RG4rQyxFQUFJaXpDLEdBQUssR0FBTSxHQUFLdCtCLEtBQUtvMkMsSUFBSWoyQixFQUFRcWxDLEdBQWU1ckIsSUFDdkRzRSxFQUFLakgsRUFBRUEsR0FBQ3NuQixPQUdWemdCLEVBQUl6eUMsR0FBR2l6QyxHQUFLSixDQUNiLENBR1AsQ0FLQXVuQixDQUFXbDRELEdBMENKQSxDQUNULHlCQXNZb0MsU0FDbENxQyxFQUNBMDlDLEVBQ0FvWSxFQUNBM2MsUUFGQSxJQUFBdUUsSUFBQUEsRUFBbUQsZUFDbkQsSUFBQW9ZLElBQUFBLEVBQXVCLFFBQ3ZCLElBQUEzYyxJQUFBQSxFQUFxQixJQUVyQixJQUFNN0QsRUFBTTRELEdBQWlCbDVDLEdBQ3RCa3VDLEVBQWVvSCxFQUFHcEgsSUFBYnVMLEVBQVVuRSxFQUFHbUUsT0FDbkJockMsRUFBTzhxQyxHQUFpQnY1QyxFQUFNbTVDLEdBd0NwQyxPQXRDSW41QyxFQUFLeEIsZUFDUHdCLEVBQUs1QixTQUFTc1EsU0FBUSxTQUFDaFQsR0FDckJBLEVBQUV5QyxNQUFNa29DLFVBQVUzM0IsU0FBUSxTQUFDeFMsR0FDekIsSUFBTVQsRUFBSXF1QyxFQUFZdHFDLFFBQVF0RCxFQUFFRSxNQUFNLElBQ2hDc3lDLEVBQUk1RSxFQUFZdHFDLFFBQVF0RCxFQUFFRSxNQUFNLElBQ3RDLEtBQUlYLEVBQUksR0FBS2l6QyxFQUFJLElBQ2JqekMsRUFBSWdULEdBQVFpZ0MsRUFBSWpnQyxFQUFNLENBQ3hCLElBQUl1ckMsRUFBTzNSLEVBQU1BLE9BQUNzZ0IsWUFhbEIsR0FaSS9ULEdBQVlsNUMsS0FDZHMrQyxFQUNFdCtDLEVBQUU2RCxhQUFldTJELEVBQ2J6dEIsRUFBQUEsT0FBT3loQixtQkFDUHpoQixFQUFBQSxPQUFPb2dCLGNBRVhqVSxHQUFZOTRDLEtBQ2RzK0MsRUFDRXQrQyxFQUFFNkQsYUFBZXUyRCxFQUNienRCLEVBQUFBLE9BQU9zaEIsbUJBQ1B0aEIsRUFBQUEsT0FBT2tnQixjQUVYcmEsRUFBSXp5QyxHQUFHaXpDLEtBQU9ySCxFQUFBQSxHQUFHc25CLE1BQ25CLE9BQVFqUixHQUNOLElBQUssVUFDSGpFLEVBQU9oK0MsR0FBR2l6QyxHQUFLc0wsRUFBTyxJQUFNUCxFQUFPaCtDLEdBQUdpekMsR0FDdEMsTUFDRixJQUFLLFVBQ0grSyxFQUFPaCtDLEdBQUdpekMsR0FBS3NMLEVBQ2YsTUFFRixRQUNFUCxFQUFPaCtDLEdBQUdpekMsSUFBTSxJQUFNc0wsRUFHN0IsQ0FDSCxHQUNGLElBR0tQLENBQ1Qsa0VBNTRCbUMsU0FDakMzRCxFQUNBQyxFQUNBNUMsRUFDQXQvQixHQUVBLFFBSEEsSUFBQXMvQixJQUFBQSxFQUFTLFFBQ1QsSUFBQXQvQixJQUFBQSxHQUFlLElBRVZpaUMsSUFBYUMsRUFBVSxNQUFPLEdBQ25DLElBQUlRLEVBQVVELEdBQWdCUixFQUFVQyxHQUNwQ2xpQyxJQUFTMGlDLEdBQVdBLEdBQ3hCLElBQU13ZixFQUFleGYsRUFBUW5ELFFBQVFELEdBRXJDLE9BQU9vRCxHQUFXLEVBQUksSUFBQXI1QyxPQUFJNjRELEVBQVksS0FBTSxHQUFHNzRELE9BQUE2NEQsTUFDakQsa0VBeEZpQyxTQUFDQyxFQUFZcHFELFFBQUEsSUFBQUEsSUFBQUEsRUFBVSxHQUN0RCxJQUFJMHBDLEVBQU1ya0IsUUFBTStrQyxHQUNoQjFnQixFQUFNQSxFQUFJOW1DLEtBQUksU0FBQ2hULEdBQVcsT0FBQTY1QyxHQUFVNzVDLEVBQUdvUSxFQUFiLElBQzFCLElBQU1xcUQsRUFBUyxrQkFBQS80RCxPQUNiLEdBQUswTyxpSUFFSDJrQixFQUFRLEVBQ1IybEMsRUFBTyxHQWFYLE9BWkFGLEVBQU10bkQsU0FBUSxTQUFDMGUsRUFBV3h1QixHQUNwQnd1QixFQUFLLEtBQU84b0MsRUFBSyxLQUNILE1BQVo5b0MsRUFBSyxJQUNQa29CLEVBQUlwMkMsT0FBT04sRUFBUTJ4QixFQUFPLEVBQUcsU0FDN0JBLEdBQVMsSUFFVCtrQixFQUFJcDJDLE9BQU9OLEVBQVEyeEIsRUFBTyxFQUFHLFNBQzdCQSxHQUFTLElBR2IybEMsRUFBTzlvQyxDQUNULElBQ08sR0FBQWx3QixPQUFHKzRELEdBQU0vNEQsT0FBR280QyxFQUFJaHVDLEtBQUssS0FBSSxJQUNsQyw2QkF2QndDLFNBQUMrbkIsR0FBYyxPQUFVLElBQVRBLEVBQWEsSUFBTSxHQUFLLGlCQWdScEQsU0FBQ3htQixFQUFhc3RELEdBRXhDLElBREEsSUFBSW4yRCxFQUFPNitCLFlBQVVoMkIsR0FDZDdJLEdBQVFBLEVBQUt4QixlQUFpRCxJQUFoQ3dCLEVBQUs3QixNQUFNa29DLFVBQVV6cUMsU0FDeERvRSxFQUFPQSxFQUFLNUIsU0FBUyxJQUNoQkEsU0FBVyxHQUdsQixHQUFJKzNELEVBQ0YsS0FBT24yRCxHQUFRQSxFQUFLekIsU0FBV3lCLEVBQUszQixVQUNsQzJCLEVBQU9BLEVBQUt6QixPQUloQixPQUFPeUIsQ0FDVCxhQThyQndCLFNBQUNBLEdBRXZCLElBQ01vMkQsRUFET3AyRCxFQUFLYixVQUFVLEdBQ1JoQixNQUFNczBDLFVBQVUxZixNQUFLLFNBQUNyNEIsR0FBZ0IsTUFBWSxPQUFaQSxFQUFFNnJDLEtBQWMsSUFDdEU4dkIsR0FBdUIsRUFDdkJDLEdBQXFCLEVBQ3JCQyxHQUFxQixFQUVuQkMsR0FBS0osYUFBQSxFQUFBQSxFQUFRaDZELFFBQVMsSUFvQjVCLE9BbkJJbzZELElBQ1MsTUFBUEEsR0FDRkQsR0FBcUIsRUFDckJELEdBQXFCLEVBQ3JCRCxHQUF1QixHQUNQLE1BQVBHLEdBQ1RELEdBQXFCLEVBQ3JCRCxHQUFxQixFQUNyQkQsR0FBdUIsR0FDUCxNQUFQRyxHQUNURCxHQUFxQixFQUNyQkQsR0FBcUIsRUFDckJELEdBQXVCLEdBQ1AsTUFBUEcsSUFDVEQsR0FBcUIsRUFDckJELEdBQXFCLEVBQ3JCRCxHQUF1QixJQUdwQixDQUFDQSxxQkFBb0JBLEVBQUVDLHFCQUFvQkMsbUJBQWtCQSxFQUN0RSxrREFsMUJpQyxTQUFDNzZELEdBQ2hDLElBQU0rNkQsRUFBTS82RCxFQUFFeUMsTUFBTTIwQyxZQUFZL2YsTUFBSyxTQUFDcjRCLEdBQWtCLE1BQVksUUFBWkEsRUFBRTZyQyxLQUFlLElBQ3pFLE9BQU9rd0IsZUFBQUEsRUFBS3I2RCxLQUNkLHFDQVgwQixTQUFDVixHQUN6QixJQUFNZzdELEVBQU1oN0QsRUFBRXlDLE1BQU0yMEMsWUFBWS9mLE1BQUssU0FBQ3I0QixHQUFrQixNQUFZLFFBQVpBLEVBQUU2ckMsS0FBZSxJQUN6RSxHQUFLbXdCLEVBR0wsT0FGYXhPLEtBQUt4bkQsTUFBTWcyRCxFQUFJdDZELE1BRzlCLGNBT3lCLFNBQUNWLEdBQ3hCLElBQU1pN0QsRUFBS2o3RCxFQUFFeUMsTUFBTTIwQyxZQUFZL2YsTUFBSyxTQUFDcjRCLEdBQWtCLE1BQVksT0FBWkEsRUFBRTZyQyxLQUFjLElBQ3ZFLEdBQUtvd0IsRUFHTCxPQUZhek8sS0FBS3huRCxNQUFNaTJELEVBQUd2NkQsTUFHN0IsNEJBMmhDeUIsU0FBQzRELEVBQWF1bUMsR0FDckMsT0FBSXVGLEVBQWVud0IsU0FBUzRxQixHQUNuQnZtQyxFQUFLN0IsTUFBTWtvQyxVQUFVakwsUUFBTyxTQUFDMWdDLEdBQWdCLE9BQUFBLEVBQUU2ckMsUUFBVUEsQ0FBSyxJQUVuRXlGLEVBQTBCcndCLFNBQVM0cUIsR0FDOUJ2bUMsRUFBSzdCLE1BQU15MEMsb0JBQW9CeFgsUUFDcEMsU0FBQzFnQyxHQUEwQixPQUFBQSxFQUFFNnJDLFFBQVVBLENBQUssSUFHNUMwRixFQUEwQnR3QixTQUFTNHFCLEdBQzlCdm1DLEVBQUs3QixNQUFNMDBDLG9CQUFvQnpYLFFBQ3BDLFNBQUMxZ0MsR0FBMEIsT0FBQUEsRUFBRTZyQyxRQUFVQSxDQUFLLElBRzVDNEYsRUFBZXh3QixTQUFTNHFCLEdBQ25Cdm1DLEVBQUs3QixNQUFNczBDLFVBQVVyWCxRQUFPLFNBQUMxZ0MsR0FBZ0IsT0FBQUEsRUFBRTZyQyxRQUFVQSxDQUFLLElBRW5Fd0YsRUFBZ0Jwd0IsU0FBUzRxQixHQUNwQnZtQyxFQUFLN0IsTUFBTStwQyxXQUFXOU0sUUFBTyxTQUFDMWdDLEdBQWlCLE9BQUFBLEVBQUU2ckMsUUFBVUEsQ0FBSyxJQUVyRTJGLEVBQWlCdndCLFNBQVM0cUIsR0FDckJ2bUMsRUFBSzdCLE1BQU11MEMsWUFBWXRYLFFBQU8sU0FBQzFnQyxHQUFrQixPQUFBQSxFQUFFNnJDLFFBQVVBLENBQUssSUFFdkU2RixFQUFvQnp3QixTQUFTNHFCLEdBQ3hCdm1DLEVBQUs3QixNQUFNdzBDLGNBQWN2WCxRQUM5QixTQUFDMWdDLEdBQW9CLE9BQUFBLEVBQUU2ckMsUUFBVUEsQ0FBSyxJQUduQyxFQUNULFlBRXVCLFNBQ3JCdm1DLEVBQ0E0MkQsRUFDQUMsRUFDQUMsRUFDQUMsR0FFQSxJQUFJQyxFQUNFNzNELEVBQVUsU0FBQ2EsR0FDZixJQUFNaTNELEVBQVV6OEIsRUFBT0EsUUFDckJ4NkIsRUFBS2IsVUFBVXFQLEtBQUksU0FBQTlTLEdBQUssSUFBQW9yQyxFQUFBLE9BQW9CLFVBQXBCcHJDLEVBQUV5QyxNQUFNa29DLFVBQVUsVUFBRSxJQUFBUyxPQUFBLEVBQUFBLEVBQUVwMkIsVUFBVSxLQUN4RHBKLEtBQUssS0FDUCxPQUFPMnZELENBQ1QsRUFFTUMsRUFBYyxTQUFDbDNELEdBQ25CLElBQUlBLEVBQUt4QixjQUFULENBRUEsSUFBTVksRUFBT0QsRUFBUWEsR0FDakJ5ekMsR0FBWXp6QyxHQUNWNDJELEdBQVNBLEVBQVF4M0QsR0FDWncwQyxHQUFjNXpDLEdBQ25CODJELEdBQVdBLEVBQVUxM0QsR0FFckJ5M0QsR0FBU0EsRUFBUXozRCxFQVJRLENBVWpDLEVBRUEsR0FBSVksRUFBS3hCLGNBQWUsQ0FDdEIsSUFBTTI0RCxFQUFhbjNELEVBQUs1QixTQUFTZzlCLFFBQU8sU0FBQzEvQixHQUFhLE9BQUE4NEMsR0FBWTk0QyxFQUFFLElBQzlEMDdELEVBQWFwM0QsRUFBSzVCLFNBQVNnOUIsUUFBTyxTQUFDMS9CLEdBQWEsT0FBQWs1QyxHQUFZbDVDLEVBQUUsSUFDOUQyN0QsRUFBZXIzRCxFQUFLNUIsU0FBU2c5QixRQUFPLFNBQUMxL0IsR0FBYSxPQUFBaTVDLEdBQWNqNUMsRUFBRSxJQUV4RXM3RCxFQUFXaDNELEVBRVB3MEMsR0FBWXgwQyxJQUFTbTNELEVBQVd2N0QsT0FBUyxFQUMzQ283RCxFQUFXNzBCLEVBQUFBLE9BQU9nMUIsR0FDVHZpQixHQUFZNTBDLElBQVNvM0QsRUFBV3g3RCxPQUFTLEVBQ2xEbzdELEVBQVc3MEIsRUFBQUEsT0FBT2kxQixHQUNUemlCLEdBQWMzMEMsSUFBU3EzRCxFQUFhejdELE9BQVMsRUFDdERvN0QsRUFBVzcwQixFQUFBQSxPQUFPazFCLEdBQ1Q1akIsR0FBWXp6QyxHQUNyQjQyRCxFQUFRejNELEVBQVE2M0QsSUFFaEJILEVBQVExM0QsRUFBUTYzRCxJQUVkQSxHQUFVRSxFQUFZRixFQUMzQixNQUNDRSxFQUFZbDNELEdBRWQsT0FBT2czRCxDQUNULHlGQTJCMEMsU0FDeEN2d0IsRUFDQThULFFBQUEsSUFBQUEsSUFBQUEsRUFBdUJsVCxFQUFBQSxHQUFHc1MsT0FFMUIsSUFBTTJkLEVBQVksSUFBSXRuQixHQUFJdkosR0FJMUIsT0FISTZ3QixFQUFVenVELE1BQ1p5eEMsR0FBNEJnZCxFQUFVenVELEtBQU0weEMsR0FFdkNBLENBQ1QseUJBNzZDb0MsU0FBQ2hKLEdBQ25DLE1BQUksVUFBVWpqQyxLQUFLaWpDLEVBQUV0cEIsSUFDWmlnQyxLQUFLeG5ELE1BQU02d0MsRUFBRXRwQixJQUFJdkQsUUFBUSxHQUUzQixFQUNULGlCQTJXNEIsU0FBQzdiLEdBQzNCLElBQUkwdUQsRUFBVzF1RCxFQU1mLE9BTEFBLEVBQUtoSixNQUFLLFNBQUFHLEdBR1IsT0FEQXUzRCxFQUFXdjNELEdBQ0osQ0FDVCxJQUNPdTNELEVBQVNwNUQsTUFBTVMsS0FDeEIsZ0RBa0J1QixTQUFDb0IsR0FFdEIsSUFEQSxJQUFJNkksRUFBTzdJLEVBQ0o2SSxHQUFRQSxFQUFLdEssU0FBV3NLLEVBQUt4SyxVQUNsQ3dLLEVBQU9BLEVBQUt0SyxPQUVkLE9BQU9zSyxDQUNULGVBaWIwQixTQUN4QnFsQyxFQUNBenlDLEVBQ0FpekMsRUFDQXVlLEVBQ0FyYyxFQUNBNG1CLEdBRUEsR0FBSXZLLElBQVM1bEIsRUFBQUEsR0FBR3NuQixNQUNoQixHQUFJbmYsR0FBUXRCLEVBQUt6eUMsRUFBR2l6QyxFQUFHdWUsR0FBTyxDQUU1QixJQUFNN3dELEVBQVEwdEMsRUFBWXJ1QyxHQUFLcXVDLEVBQVk0RSxHQUNyQ25JLEVBQVEwbUIsSUFBUzVsQixFQUFBQSxHQUFHc1MsTUFBUSxJQUFNLElBQ2xDOGQsRUFBT3J4QixFQUFTd0ssRUFBYSxDQUFDOUQsR0FBU2h3QyxLQUFLLEdBQUFJLE9BQUdxcEMsRUFBUyxLQUFBcnBDLE9BQUFkLFVBQ3hEZzRELEVBQVd4akIsRUFBWXh5QyxTQUFTZzlCLFFBQ3BDLFNBQUMxL0IsR0FBYSxPQUFBQSxFQUFFeUMsTUFBTThwQixLQUFPd3ZDLENBQUksSUFFL0J6M0QsU0FDQW8wRCxFQUFTeDRELE9BQVMsRUFDcEJvRSxFQUFPbzBELEVBQVMsSUFFaEJwMEQsRUFBTzgyQyxHQUFjLEdBQUc1NUMsT0FBQXFwQyxFQUFTLEtBQUFycEMsT0FBQWQsRUFBUSxLQUFFdzBDLEdBQzNDQSxFQUFZbnlDLFNBQVN1QixJQUVuQnczRCxHQUFhQSxFQUFZeDNELEdBQU0sRUFDcEMsTUFDS3czRCxHQUFhQSxFQUFZNW1CLEdBQWEsRUFFOUMsNkNBLzhCc0MsU0FDcEM1d0MsRUFDQWcwQyxFQUNBQyxFQUNBQyxHQUVBLFFBSkEsSUFBQUYsSUFBQUEsRUFBa0NwTSxFQUFBQSxzQkFBc0IwTSxNQUluREUsR0FBWXgwQyxHQUFPLE9BQU8sRUFFL0IsSUFBTVosRUFBTzYwQyxRQUFBQSxFQUFZajBDLEVBQUtiLFVBQ3hCaTFDLEVBQWlCRixRQUFBQSxFQUFhbDBDLEVBQUtJLEtBQUksV0FBTSxPQUFBLENBQUksSUFFbkR6QyxFQUFTLEdBQ2IsT0FBUXEyQyxHQUNOLEtBQUtwTSxFQUFxQkEsc0JBQUN1TSxLQUN6QngyQyxFQUFTeTJDLEVBQWVoWixRQUFPLFNBQUExL0IsR0FBSyxPQUFBQSxFQUFFNkQsV0FBYSxDQUFmLElBQ3BDLE1BQ0YsS0FBS3FvQyxFQUFxQkEsc0JBQUMwTSxJQUN6QjMyQyxFQUFTeUIsRUFBS2c4QixRQUFPLFNBQUExL0IsR0FBSyxPQUFBQSxFQUFFNkQsV0FBYSxDQUFmLElBQzFCLE1BQ0YsS0FBS3FvQyxFQUFxQkEsc0JBQUMyTSxLQUN6QjUyQyxFQUFTeUIsRUFBS2xDLE9BQU9rM0MsR0FBZ0JoWixRQUFPLFNBQUExL0IsR0FBSyxPQUFBQSxFQUFFNkQsV0FBYSxDQUFDLElBSXJFLE9BQXlCLElBQWxCNUIsRUFBTy9CLE1BQ2hCLHFCQWxDZ0MsU0FDOUJvRSxFQUNBZzBDLEVBQ0FDLEVBQ0FDLEdBRUEsWUFKQSxJQUFBRixJQUFBQSxFQUFrQ3BNLEVBQUFBLHNCQUFzQnVNLE1BSWpETCxHQUFPOXpDLEVBQU0wekMsR0FBa0JNLEVBQVVDLEVBQVVDLEVBQzVELHlIQXdhK0IsU0FDN0J6QixRQUFBLElBQUFBLElBQUFBLEVBQUEsQ0FDRSxRQUNBLFFBQ0EsWUFDQSxvQkFDQSxTQUNBLFVBR0YsSUFDTTVwQyxHQURPLElBQUlwSSxHQUNDQyxNQUFNLENBRXRCdW5CLEdBQUksR0FDSmhJLEtBQU0sR0FDTnJoQixNQUFPLEVBQ1BvYSxPQUFRLEVBQ1J5NUIsVUFBV0EsRUFBVWprQyxLQUFJLFNBQUE5VCxHQUFLLE9BQUFnekMsR0FBUzV3QyxLQUFLcEMsTUFDNUMyckMsVUFBVyxHQUNYNkIsV0FBWSxHQUNad0ssWUFBYSxHQUNiQyxjQUFlLEdBQ2ZDLG9CQUFxQixHQUNyQkMsb0JBQXFCLEdBQ3JCQyxZQUFhLEtBRVR0MkIsRUFBTzRwQixFQUFTdjlCLEdBR3RCLE9BRkFBLEVBQUsxSyxNQUFNOHBCLEdBQUt6TCxFQUVUM1QsQ0FDVCxpQkExakI0QixTQUFDbk4sRUFBVWc4RCxTQUMvQmpCLEVBQXlCLFFBQW5CM3ZCLEVBQUFwckMsRUFBRXlDLE1BQU0yMEMsbUJBQVcsSUFBQWhNLE9BQUEsRUFBQUEsRUFBRS9ULE1BQUssU0FBQ3I0QixHQUFrQixNQUFZLFFBQVpBLEVBQUU2ckMsS0FBZSxJQUMxRSxPQUFPa3dCLGFBQUcsRUFBSEEsRUFBS3I2RCxTQUFVczdELENBQ3hCLCtCTjNJRWp4QixFQUNBL3FDLEVBQ0FzM0MsUUFBQSxJQUFBQSxJQUFBQSxHQUFTLElBQUssS0FBTSxLQUFNLE9BSzFCLElBSEEsSUFDSXpqQyxFQURFZ3BCLEVBQVUsSUFBSTUwQixPQUFPLFdBQUlxdkMsRUFBTTFyQyxLQUFLLEtBQUksb0JBQW9CLEtBRzNCLFFBQS9CaUksRUFBUWdwQixFQUFRMW5CLEtBQUs0MUIsS0FBZ0IsQ0FDM0MsSUFBTWt4QixFQUFlcG9ELEVBQU0zUSxNQUFRMlEsRUFBTSxHQUFHM1QsT0FBUyxFQUMvQ2c4RCxFQUFhRCxFQUFlcG9ELEVBQU0sR0FBRzNULE9BQzNDLEdBQUlGLEdBQUtpOEQsR0FBZ0JqOEQsR0FBS2s4RCxFQUM1QixPQUFPLENBRVYsQ0FFRCxPQUFPLENBQ1QseUZNdVcwQixTQUFDNTNELEdBQ3pCLE9BQXNELElBQS9DNGlDLEVBQUdBLElBQUM1aUMsRUFBS2IsVUFBVXFQLEtBQUksU0FBQTlTLEdBQUssT0FBQUEsRUFBRTZELFVBQVUsSUFDakQsc0VOL1EwQixTQUFDN0QsR0FDekIsT0FBT0EsRUFBRXlDLE1BQU1zMEMsVUFBVTcyQyxPQUFTLEdBQUtGLEVBQUUyQyxRQUMzQyw0Rk0wVmlDLFNBQy9CNnZDLEVBQ0EycEIsRUFDQUMsUUFEQSxJQUFBRCxJQUFBQSxFQUFXLFFBQ1gsSUFBQUMsSUFBQUEsRUFBVyxHQUdYLElBREEsSUFBTUMsRUFBVSxHQUNQdDhELEVBQUksRUFBR0EsRUFBSXl5QyxFQUFJdHlDLE9BQVFILElBQzlCLElBQUssSUFBSWl6QyxFQUFJLEVBQUdBLEVBQUlSLEVBQUl6eUMsR0FBR0csT0FBUTh5QyxJQUFLLENBQ3RDLElBQU10eUMsRUFBUTh4QyxFQUFJenlDLEdBQUdpekMsR0FDckIsR0FBYyxJQUFWdHlDLEVBQWEsQ0FDZixJQUFNZ3lDLEVBQUl4RSxFQUFXbnVDLEVBQUlvOEQsR0FDbkJ4cEIsRUFBSXhFLEVBQVc2RSxFQUFJb3BCLEdBQ25CelosRUFBa0IsSUFBVmppRCxFQUFjLElBQU0sSUFDbEMyN0QsRUFBUXI3RCxLQUFLLENBQUMyaEQsRUFBT2pRLEVBQUlDLEdBQzFCLENBQ0YsQ0FFSCxPQUFPMHBCLENBQ1Qsa0JBeEM2QixTQUMzQjdwQixFQUNBMnBCLEVBQ0FDLEdBRUEsSUFBSW42RCxFQUFTLEdBQ2JrNkQsRUFBVUEsUUFBQUEsRUFBVyxFQUNyQkMsRUFBVUEsUUFBQUEsRUpsYnNCLEdJa2JVNXBCLEVBQUl0eUMsT0FDOUMsSUFBSyxJQUFJSCxFQUFJLEVBQUdBLEVBQUl5eUMsRUFBSXR5QyxPQUFRSCxJQUM5QixJQUFLLElBQUlpekMsRUFBSSxFQUFHQSxFQUFJUixFQUFJenlDLEdBQUdHLE9BQVE4eUMsSUFBSyxDQUN0QyxJQUFNdHlDLEVBQVE4eEMsRUFBSXp5QyxHQUFHaXpDLEdBQ3JCLEdBQWMsSUFBVnR5QyxFQUFhLENBQ2YsSUFBTWd5QyxFQUFJeEUsRUFBV251QyxFQUFJbzhELEdBQ25CeHBCLEVBQUl4RSxFQUFXNkUsRUFBSW9wQixHQUV6Qm42RCxHQUFVLFVBRGMsSUFBVnZCLEVBQWMsSUFBTSxJQUNoQixLQUFBYyxPQUFJa3hDLEdBQUlseEMsT0FBQW14QyxNQUMzQixDQUNGLENBRUgsT0FBTzF3QyxDQUNULDhEQWhHNkIsU0FBQ3lCLEVBQWV5NEQsRUFBYUMsR0FTeEQsWUFUMkMsSUFBQUQsSUFBQUEsRUFBVyxRQUFFLElBQUFDLElBQUFBLEVBQVcsR0FDckQxNEQsRUFDWGc4QixRQUFPLFNBQUExL0IsR0FBSyxPQUFBQSxFQUFFeUMsTUFBTWtvQyxVQUFVenFDLE9BQVMsS0FDdkM0UyxLQUFJLFNBQUE5UyxHQUNILElBQU1xRCxFQUFPckQsRUFBRXlDLE1BQU1rb0MsVUFBVSxHQUN6QmtMLEVBQUkzSCxFQUFXRSxFQUFZdHFDLFFBQVFULEVBQUszQyxNQUFNLElBQU15N0QsR0FDcER4OUQsRUFBSXd2QyxFQUFXQyxFQUFZdHFDLFFBQVFULEVBQUszQyxNQUFNLElBQU0wN0QsR0FDMUQsTUFBTyxDQUFDLzRELEVBQUt3bkMsTUFBT2dMLEVBQUlsM0MsRUFDMUIsR0FFSixrQkFsQzZCLFNBQUMrRSxHQUM1QixPQUFPQSxFQUFLb1AsS0FBSSxTQUFBOVMsR0FBSyxPQUFBQSxFQUFFeUMsTUFBTThwQixFQUFSLEdBQ3ZCLHdCQUVtQyxTQUNqQzdvQixFQUNBeTRELEVBQ0FDLFFBREEsSUFBQUQsSUFBQUEsRUFBVyxRQUNYLElBQUFDLElBQUFBLEVBQVcsR0FFWCxJQUFNRSxFQUFRNTRELEVBQ1hnOEIsUUFBTyxTQUFBMS9CLEdBQUssT0FBQUEsRUFBRXlDLE1BQU0rcEMsV0FBV3RzQyxPQUFTLEtBQ3hDNFMsS0FBSSxTQUFBOVMsR0FDSCxPQUFPQSxFQUFFeUMsTUFBTStwQyxXQUFXMTVCLEtBQUksU0FBQ3NyQyxHQUM3QixPQUFPQSxFQUFNbnVDLE9BQU82QyxLQUFJLFNBQUNxK0IsR0FDdkIsSUFBTTBFLEVBQUkzSCxFQUFXRSxFQUFZdHFDLFFBQVFxdEMsRUFBRSxJQUFNZ3JCLEdBQzNDeDlELEVBQUl3dkMsRUFBV0MsRUFBWXRxQyxRQUFRcXRDLEVBQUUsSUFBTWlyQixHQUVqRCxNQUFPLENBRHVCLE9BQWhCaGUsRUFBTXZULE1BQWlCLElBQU0sSUFDNUJnTCxFQUFJbDNDLEVBQ3JCLEdBQ0YsR0FDRixJQUNGLE9BQU9vaEMsRUFBWUEsYUFBQ3U4QixFQUFNLEdBQUksRUFDaEMsYUFxRXdCLFNBQUM1cEIsRUFBV0MsRUFBV0MsR0FDN0MsSUFBTTJwQixFQUFLbnVCLEVBQVlzRSxHQUNqQjhwQixFQUFLcHVCLEVBQVl1RSxHQUN2QixPQUFJQyxJQUFPakgsRUFBQUEsR0FBR3NuQixNQUFjLEdBQ3hCcmdCLElBQU9qSCxFQUFBQSxHQUFHdVMsTUFBYyxLQUFLMThDLE9BQUErNkQsR0FBSy82RCxPQUFBZzdELE9BQ2xDNXBCLElBQU9qSCxFQUFBQSxHQUFHc1MsTUFBYyxLQUFLejhDLE9BQUErNkQsR0FBSy82RCxPQUFBZzdELE9BQy9CLEVBQ1QsMkNBc0ZtQyxTQUNqQy9pQixFQUNBakgsRUFDQTRaLEVBQ0E5ZCxHQUVBLFFBRkEsSUFBQUEsSUFBQUEsRUFBYyxJQUVELFNBQVRtTCxFQUFpQixPQUFPQSxFQUM1QixJQUFNOFMsRUFBUUMsS0FBS3huRCxNQUFNb25ELEVBQVM3L0IsSUFDNUI2ZSxFQUFTbVIsR0FBYy9KLEVBQUsrWixFQUFNL1AsR0FBSStQLEVBQU05UCxHQUFJbk8sR0FBL0NvRSxFQUFDdEgsRUFBQXNILEVBQUVDLEVBQUN2SCxFQUFBdUgsRUFDTHNILEVBQU0vTCxFQUFXcHFDLFFBQVEyMUMsRUFBSyxJQUFNL0csRUFDcEN3SCxFQUFNL0wsRUFBV3JxQyxRQUFRK0ksU0FBUzRzQyxFQUFLQyxPQUFPLEdBQUksSUFBTS9HLEVBQzlELE9BQ0VzSCxFQUFNLEdBQ05DLEVBQU0sR0FDTkQsR0FBTy9MLEVBQVdodUMsUUFDbEJnNkMsR0FBTy9MLEVBQVdqdUMsT0FFWCxLQUVGLEdBQUFzQixPQUFHMHNDLEVBQVcrTCxJQUFPejRDLE9BQUEyc0MsRUFBVytMLEdBQ3pDLFdBeFpzQixTQUFDL0ksRUFBV3FHLEVBQVdDLEdBQzNDLFlBRGdDLElBQUFELElBQUFBLEVBQVMsUUFBRSxJQUFBQyxJQUFBQSxFQUFTLElBQzNDL2lDLEtBQUs2cEIsTUFBVSxJQUFKNFMsR0FBVyxJQUFPcUcsR0FBT0UsUUFBUUQsRUFDdkQsdUNBcVF1QixTQUFDbEcsR0FDaEIsSUFBQW5HLEVBQVNpTyxHQUFTOUgsR0FBakJtQixFQUFDdEgsRUFBQXNILEVBQUVDLEVBQUN2SCxFQUFBdUgsRUFDWCxPQUFPekUsRUFBV3dFLEdBQUt2RSxFQUFXd0UsRUFDcEMsa0NBdXdCdUJILEVBQWlCOG5CLEVBQWlCbUMsUUFBQSxJQUFBQSxJQUFBQSxHQUFpQixHQUN4RSxJQUFJeG9CLEVBQVM5USxZQUFVcVAsR0FDbkJrcUIsR0FBVyxFQXVCZixPQXRCQXBDLEVBQU10bkQsU0FBUSxTQUFBdStCLEdBQ04sSUFBQW5HLEVBUUZpTyxHQUFTOUgsR0FQWG1CLEVBQUN0SCxFQUFBc0gsRUFDREMsRUFBQ3ZILEVBQUF1SCxFQUNEQyxPQU1FNnBCLEVBQ0Uzb0IsR0FBUUcsRUFBUXZCLEVBQUdDLEVBQUdDLEtBQ3hCcUIsRUFBT3ZCLEdBQUdDLEdBQUtDLEVBQ2ZxQixFQUFTbEIsR0FBWWtCLEVBQVF2QixFQUFHQyxHQUFJQyxHQUNwQzhwQixHQUFXLElBR2J6b0IsRUFBT3ZCLEdBQUdDLEdBQUtDLEVBQ2Y4cEIsR0FBVyxFQUVmLElBRU8sQ0FDTEMsWUFBYTFvQixFQUNieW9CLFNBQVFBLEVBRVoiLCJ4X2dvb2dsZV9pZ25vcmVMaXN0IjpbMCwzLDI5XX0=
